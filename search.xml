<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Linux htop è¯¦è§£</title>
    <url>/2021/01/25/Linux_htop/</url>
    <content><![CDATA[<p>ä¹‹å‰åœ¨å­¦æ ¡å®éªŒå®¤å·¥ä½œçš„æ—¶å€™ï¼Œæ¥è§¦çš„ç¬¬ä¸€ä¸ªå‘½ä»¤å°±æ˜¯htopã€‚ä¹‹å‰å°±æ˜¯è§‰å¾—è¿™ä¸ªèŠ±èŠ±ç»¿ç»¿çš„ç•Œé¢å¾ˆæœ‰è¶£ï¼ˆç‰›é€¼ï¼‰ï¼Œå¦‚ä¸‹å›¾ï¼Œå¸¸å¸¸åœ¨å¥³æœ‹å‹é¢å‰æ•…ä½œç‰›é€¼çš„æ‰“å¼€ï¼ˆ<em>å®é™…å°±çœ‹çœ‹æˆ‘çš„ç¨‹åºåœ¨ä¸åœ¨è·‘ï¼Œè™šä¼ªçš„ä¸è¡ŒğŸ¤ª</em>ï¼‰</p>
<p><img src="https://pic1.zhimg.com/v2-317c74bdfc0734f88813c5fe532d3220_b.png" alt="img"></p>
<p>ä¸ºäº†ä»¥åè£…é€¼æ›´æœ‰èµ„æœ¬ï¼Œæˆ‘è§‰å¾—å¾—ä»”ç»†å¼„æ¸…æ¥šè¿™äº›å€¼åˆ°åº•æ˜¯å¹²ä»€ä¹ˆçš„</p>
<p>æœ¬ç¯‡æ–‡ç« å‚è€ƒ</p>
<p>Understanding Output of htop Command - Linux Togetherlinuxtogether.org</p>
<h3 id="htopæ˜¯topçš„å‡çº§ç‰ˆ-å…è®¸ç”¨æˆ·ç›‘è§†ç³»ç»Ÿä¸Šè¿è¡Œçš„è¿›ç¨‹åŠå…¶å®Œæ•´çš„å‘½ä»¤è¡Œ"><a href="#htopæ˜¯topçš„å‡çº§ç‰ˆ-å…è®¸ç”¨æˆ·ç›‘è§†ç³»ç»Ÿä¸Šè¿è¡Œçš„è¿›ç¨‹åŠå…¶å®Œæ•´çš„å‘½ä»¤è¡Œ" class="headerlink" title="htopæ˜¯topçš„å‡çº§ç‰ˆ,å…è®¸ç”¨æˆ·ç›‘è§†ç³»ç»Ÿä¸Šè¿è¡Œçš„è¿›ç¨‹åŠå…¶å®Œæ•´çš„å‘½ä»¤è¡Œ"></a>htopæ˜¯topçš„å‡çº§ç‰ˆ,å…è®¸ç”¨æˆ·ç›‘è§†ç³»ç»Ÿä¸Šè¿è¡Œçš„è¿›ç¨‹åŠå…¶å®Œæ•´çš„å‘½ä»¤è¡Œ</h3><ol>
<li>ç³»ç»Ÿä¸ä¼šè‡ªå¸¦ï¼Œè‹¥æ˜¯Ubuntuï¼Œsudo apt, è‹¥æ˜¯Centosï¼Œ yum å¯ä»¥å®‰è£…ã€‚æ ¹æ®ä¸è¿‡ç³»ç»Ÿæ¥è¿›è¡Œå®‰è£…</li>
<li>æ”¯æŒç”¨æˆ·äº¤äº’ï¼Œå¯ä»¥é€šè¿‡é¼ æ ‡æ¥killè¿›ç¨‹è€Œä¸ç”¨é€šè¿‡è¾“å…¥å…¶PIDï¼Œæ”¯æŒç”¨é¼ æ ‡ä¸Šä¸‹æ‹–åŠ¨ï¼Œä¸”ä¸åŒçš„é¢œè‰²ä»£è¡¨ä¸åŒçš„æ„æ€ã€‚</li>
<li>å…è®¸ç”¨æˆ·æ ¹æ®CPUï¼Œå†…å­˜å’Œæ—¶é—´é—´éš”å¯¹è¿›ç¨‹è¿›è¡Œæ’åº</li>
</ol>
<h3 id="htop-çš„å®‰è£…"><a href="#htop-çš„å®‰è£…" class="headerlink" title="htop çš„å®‰è£…"></a>htop çš„å®‰è£…</h3><p>Ubuntu å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt install htop</span><br></pre></td></tr></table></figure>
<p>CentOS å®‰è£…</p>
<p><a class="link"   href="http://www.vue5.com/centos/23046.htmlwww.vue5.com" >http://www.vue5.com/centos/23046.htmlwww.vue5.com<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>åŸºæœ¬çš„æ¦‚å¿µ</strong></p>
<p>tasks/process è¿›ç¨‹ï¼Œ thread çº¿ç¨‹ç›¸å…³çš„çŸ¥è¯†å¯ä»¥ä»ä¸‹é¢çš„é“¾æ¥å­¦ä¹ </p>
<p><a class="link"   href="https://www.zhihu.com/question/307100151/answer/894486042" >å¦‚ä½•ç†è§£ï¼šç¨‹åºã€è¿›ç¨‹ã€çº¿ç¨‹ã€å¹¶å‘ã€å¹¶è¡Œã€é«˜å¹¶å‘ï¼Ÿ<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/125716637" >å®‡å®™ä¹‹ä¸€ç²Ÿï¼šä¸ºä»€ä¹ˆæ ¡æ‹›é¢è¯•ä¸­â€œçº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«â€è€æ˜¯è¢«é—®åˆ°?æˆ‘è¯¥å¦‚ä½•å›ç­”ï¼Ÿ<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://www.geeksforgeeks.org/difference-between-process-and-thread/" >Difference between Process and Thread - GeeksforGeeks<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/82746153" >ä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜(Virtual Memory)?<i class="fas fa-external-link-alt"></i></a></p>
<p><img src="https://pic2.zhimg.com/v2-f876d2e42e8d5e1110f22f7198fcc591_b.png" alt="img"></p>
<h3 id="çº¢è‰²è¾¹æ¡†"><a href="#çº¢è‰²è¾¹æ¡†" class="headerlink" title="çº¢è‰²è¾¹æ¡†"></a>çº¢è‰²è¾¹æ¡†</h3><p><em>æ•°å­—1ï¼Œ2ï¼Œ3ï¼Œ4åˆ†åˆ«ä»£è¡¨CPUå¤„ç†å™¨/æ ¸ï¼Œä¸Šå›¾æ˜¯ä¸€ä¸ªå››æ ¸çš„å¤„ç†å™¨</em></p>
<h3 id="ç°è‰²è¾¹æ¡†ï¼ˆprogress-barï¼‰"><a href="#ç°è‰²è¾¹æ¡†ï¼ˆprogress-barï¼‰" class="headerlink" title="ç°è‰²è¾¹æ¡†ï¼ˆprogress barï¼‰"></a>ç°è‰²è¾¹æ¡†ï¼ˆprogress barï¼‰</h3><p><em>æ¯ä¸€ä¸ªCPUçš„æ€»ç”¨é‡æƒ…å†µï¼Œæ³¨æ„è¿™æ¡ä¸Šé¢ä¼šæœ‰ä¸åŒçš„é¢œè‰²ï¼š</em></p>
<ol>
<li>è“è‰²ï¼šæ˜¾ç¤ºä½ä¼˜å…ˆçº§(low priority)è¿›ç¨‹ä½¿ç”¨çš„CPUç™¾åˆ†æ¯”ã€‚ </li>
<li>ç»¿è‰²ï¼šæ˜¾ç¤ºç”¨äºæ™®é€šç”¨æˆ·(user)æ‹¥æœ‰çš„è¿›ç¨‹çš„CPUç™¾åˆ†æ¯”ã€‚ </li>
<li>çº¢è‰²ï¼šæ˜¾ç¤ºç³»ç»Ÿè¿›ç¨‹(kernel threads)ä½¿ç”¨çš„CPUç™¾åˆ†æ¯”ã€‚</li>
<li>æ©™è‰²ï¼šæ˜¾ç¤ºIRQæ—¶é—´ä½¿ç”¨çš„CPUç™¾åˆ†æ¯”ã€‚</li>
<li>æ´‹çº¢è‰²(Magenta)ï¼šæ˜¾ç¤ºSoft IRQæ—¶é—´æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”ã€‚</li>
<li>ç°è‰²ï¼šæ˜¾ç¤ºIOç­‰å¾…æ—¶é—´æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”ã€‚</li>
<li>é’è‰²ï¼šæ˜¾ç¤ºçªƒå–æ—¶é—´(Steal time)æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”ã€‚</li>
</ol>
<h3 id="é»„è‰²è¾¹æ¡†"><a href="#é»„è‰²è¾¹æ¡†" class="headerlink" title="é»„è‰²è¾¹æ¡†"></a>é»„è‰²è¾¹æ¡†</h3><p><em>æä¾›äº†å†…å­˜ï¼ˆMemoryï¼‰å’Œäº¤æ¢ï¼ˆSwapï¼‰ä½¿ç”¨æƒ…å†µã€‚ ç±»ä¼¼äºCPUä¸­çš„è¿›åº¦æ¡ï¼Œå†…å­˜ç›‘è§†ä¹ŸåŒ…å«å…·æœ‰å¤šç§é¢œè‰²çš„è¿›åº¦æ¡ï¼š</em></p>
<ol>
<li>ç»¿è‰²ï¼šæ˜¾ç¤ºå†…å­˜é¡µé¢å ç”¨çš„RAMç™¾åˆ†æ¯”</li>
<li>è“è‰²ï¼šæ˜¾ç¤ºç¼“å†²åŒºé¡µé¢å ç”¨çš„RAMç™¾åˆ†æ¯”</li>
<li>æ©™è‰²ï¼šæ˜¾ç¤ºç¼“å­˜é¡µé¢å ç”¨çš„RAMç™¾åˆ†æ¯”</li>
</ol>
<p><img src="https://pic1.zhimg.com/v2-e9a5539a25c37421fc429424aab510b8_b.png" alt="img"></p>
<h3 id="è“è‰²è¾¹æ¡†"><a href="#è“è‰²è¾¹æ¡†" class="headerlink" title="è“è‰²è¾¹æ¡†"></a>è“è‰²è¾¹æ¡†</h3><ul>
<li><p><strong>ç¬¬ä¸€è¡Œ (Tasks, thr, running)</strong></p>
</li>
<li><p>å‚è€ƒä¸Šé¢çš„å±å¹•æˆªå›¾ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—æœºä¸Šè¿è¡Œçš„106ä¸ªä»»åŠ¡(tasks)è¢«åˆ†è§£ä¸º113ä¸ªçº¿ç¨‹(thread)ï¼Œå…¶ä¸­åªæœ‰1ä¸ªè¿›ç¨‹å¤„äºè¿è¡Œ(running)çŠ¶æ€ã€‚</p>
</li>
<li><p>ä»»åŠ¡(tasks)æ˜¯æ‰“å¼€çš„è¿›ç¨‹æ€»æ•°çš„ä»£è¡¨ï¼Œä½†å¹¶ä¸æ˜¯æ¯ä¸ªæ‰“å¼€çš„è¿›ç¨‹éƒ½åœ¨ä¸æ–­æ¶ˆè€—CPUã€‚ æ¯ä¸ªè¿›ç¨‹éƒ½å¤„äºå‡ ç§çŠ¶æ€</p>
</li>
<li><p>R: Runningï¼šè¡¨ç¤ºè¿›ç¨‹(process)æ­£åœ¨ä½¿ç”¨CPU</p>
</li>
<li><p>S: Sleeping: é€šå¸¸è¿›ç¨‹åœ¨å¤§å¤šæ•°æ—¶é—´éƒ½å¤„äºç¡çœ çŠ¶æ€ï¼Œå¹¶ä»¥å›ºå®šçš„æ—¶é—´é—´éš”æ‰§è¡Œå°æ£€æŸ¥ï¼Œæˆ–è€…ç­‰å¾…ç”¨æˆ·è¾“å…¥åå†è¿”å›è¿è¡ŒçŠ¶æ€ã€‚</p>
</li>
<li><p>T/S: Traced/Stoped: è¡¨ç¤ºè¿›ç¨‹æ­£åœ¨å¤„äºæš‚åœçš„çŠ¶æ€</p>
</li>
<li><p>Z:Zombie or defunct:å·²å®Œæˆæ‰§è¡Œä½†åœ¨è¿›ç¨‹è¡¨ä¸­ä»å…·æœ‰æ¡ç›®çš„è¿›ç¨‹ã€‚</p>
</li>
<li><p><strong>ç¬¬äºŒè¡Œ  Load Average</strong></p>
</li>
<li><p>ä¸‰ä¸ªå€¼æ˜¯æŒ‡ç³»ç»Ÿåœ¨æœ€å1åˆ†é’Ÿï¼Œæœ€è¿‘5åˆ†é’Ÿå’Œæœ€å15åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½ (0.21,0.19,0.15)</p>
</li>
<li><p><strong>ç¬¬ä¸‰è¡Œ Uptime</strong></p>
</li>
<li><p>è¡¨ç¤ºè¿™ä¸ªç³»ç»Ÿä¸€å…±è¿è¡Œäº†å¤šé•¿çš„æ—¶é—´ï¼Œè¿™é‡Œä¸€å…±è¿è¡Œäº†78å¤©</p>
</li>
</ul>
<h3 id="ä¸‹åŠéƒ¨åˆ†"><a href="#ä¸‹åŠéƒ¨åˆ†" class="headerlink" title="ä¸‹åŠéƒ¨åˆ†"></a>ä¸‹åŠéƒ¨åˆ†</h3><p><img src="https://pic2.zhimg.com/v2-dd7ca8f231cfa317243987fd4bf02189_b.png" alt="img"></p>
<ul>
<li>PID â€“ æè¿°è¿›ç¨‹çš„IDå·</li>
<li>USER â€“ æè¿°è¿›ç¨‹çš„æ‰€æœ‰è€…ï¼ˆè°è·‘çš„ï¼‰</li>
<li>PRI â€“ æè¿°Linuxå†…æ ¸æŸ¥çœ‹çš„è¿›ç¨‹ä¼˜å…ˆçº§</li>
<li>NI â€“ æè¿°ç”±ç”¨æˆ·æˆ–rooté‡ç½®çš„è¿›ç¨‹ä¼˜å…ˆçº§</li>
<li>VIR â€“ å®ƒæè¿°è¿›ç¨‹æ­£åœ¨ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜ ï¼ˆvirtual memoryï¼‰</li>
<li>RES â€“ æè¿°è¿›ç¨‹æ­£åœ¨æ¶ˆè€—çš„ç‰©ç†å†…å­˜ï¼ˆphysical memoryï¼‰</li>
<li>SHR â€“ æè¿°è¿›ç¨‹æ­£åœ¨ä½¿ç”¨çš„å…±äº«å†…å­˜ï¼ˆshared memoryï¼‰</li>
<li>S â€“ æè¿°æµç¨‹çš„å½“å‰çŠ¶æ€ (state)</li>
<li>CPUï¼… â€“ æè¿°æ¯ä¸ªè¿›ç¨‹æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”</li>
<li>MEMï¼… â€“ æè¿°æ¯ä¸ªè¿›ç¨‹æ¶ˆè€—çš„å†…å­˜ç™¾åˆ†æ¯”</li>
<li>TIME+ â€“ æ˜¾ç¤ºè‡ªæµç¨‹å¼€å§‹æ‰§è¡Œä»¥æ¥çš„æ—¶é—´</li>
<li>Command â€“å®ƒä¸æ¯ä¸ªè¿›ç¨‹å¹¶è¡Œæ˜¾ç¤ºå®Œæ•´çš„å‘½ä»¤æ‰§è¡Œ (æ¯”å¦‚/usr/lib/R)</li>
</ul>
<hr>
<h3 id="ä¸€äº›å¿«æ·é”®"><a href="#ä¸€äº›å¿«æ·é”®" class="headerlink" title="ä¸€äº›å¿«æ·é”®"></a>ä¸€äº›å¿«æ·é”®</h3><p>u â€“ ç”¨äºæ˜¾ç¤ºç‰¹å®šç”¨æˆ·æ‹¥æœ‰çš„æ‰€æœ‰è¿›ç¨‹ã€‚</p>
<p>P â€“ç”¨äºåŸºäºé«˜CPUæ¶ˆè€—å¯¹è¿›ç¨‹è¿›è¡Œæ’åºã€‚</p>
<p>M â€“ç”¨äºåŸºäºé«˜å†…å­˜æ¶ˆè€—å¯¹è¿›ç¨‹è¿›è¡Œæ’åºã€‚</p>
<p>T â€“ç”¨äºæ ¹æ®æ—¶é—´æ®µå¯¹è¿‡ç¨‹è¿›è¡Œæ’åºã€‚</p>
<p>h â€“ç”¨äºæ‰“å¼€å¸®åŠ©çª—å£å¹¶æŸ¥çœ‹æ­¤å¤„æœªæåŠçš„æ›´å¤šå¿«æ·æ–¹å¼ã€‚</p>
<p><strong>å¸®åŠ©ï¼š htop -h</strong></p>
<p><strong>æ›´ç»†è‡´çš„è§£é‡Šï¼šman htop</strong></p>
<p><img src="https://pic1.zhimg.com/v2-3aece676cc1a36e4ea439e75ce81b238_b.png" alt="img"></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºMATLABçš„å›¾ç‰‡æå–å’Œåˆ†æ</title>
    <url>/2021/01/25/MATLAB%E5%9B%BE%E7%89%87%E6%8F%90%E5%8F%96%E4%B8%8E%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<p>å®Œæˆå­¦æ ¡Matlabä½œä¸šåçš„ä¸€äº›æ€»ç»“ï¼Œæ•°æ®å¯ä»¥ä»æˆ‘çš„GitHubè´¦æˆ·ä¸‹è½½ã€‚ä½œä¸ºä¸€åMatlabçš„åˆå­¦è€…ï¼Œè¯·å¤šå¤šæµ·æ¶µ</p>
<p><a class="link" href="https://github.com/yuxuanwu17/INT301/blob/main/ass2data.zip">æ•°æ®åœ¨æ­¤<i class="fas fa-external-link-alt"></i></a></p>
<p>æ•°æ®æ˜¯æ¥è‡ªè½¦ç‰Œå·å›¾ç‰‡ï¼ˆå†·çŸ¥è¯†ï¼šI,Oå¤©ç”Ÿæ˜¯åœ¨è½¦ç‰Œé‡Œä¸å‡ºç°çš„ï¼‰ã€‚ä¸€å…±24ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹é‡Œæœ‰100å¼ å›¾ç‰‡ï¼Œæ‰€ä»¥ä¸€å…±æœ‰2400å¼ å›¾ç‰‡ã€‚è¿™æ¬¡çš„é¡¹ç›®æ˜¯æ„å»ºé¢„æµ‹æ¨¡å‹æ¥è¿›è¡Œå›¾åƒè¯†åˆ«ã€‚</p>
<p><img src="https://pic1.zhimg.com/v2-442cbdaf16d424739603ef3c267914dc_b.png" alt="img"></p>
<p>æˆ‘ä»¬æ‰“å¼€è¿™äº›æ–‡ä»¶ï¼ŒæŸ¥çœ‹å›¾ç‰‡çš„è¯¦ç»†ä¿¡æ¯</p>
<p><img src="https://pic1.zhimg.com/v2-37aefc51ea4c68ec2b8dddee4939a708_b.png" alt="img"></p>
<p>æˆ‘ä»¬å‘ç°è¿™é‡Œé¢çš„å›¾ç‰‡æ ¼å¼ä¸ä¸€è‡´ï¼Œä¸”å‘½åæ²¡æœ‰ç»Ÿä¸€è§„å¾‹ã€‚</p>
<p>ä¸‹æ–‡å¼€å§‹å¤„ç†å›¾ç‰‡æ•°æ®ï¼Œå¹¶å°†æ¯ä¸€å¼ ç…§ç‰‡æå–å‡ºæ¥ï¼Œç”¨Matlabåˆ†æ</p>
<h3 id="æ–¹æ³•ä¸€ï¼šæš´åŠ›ä¿®æ”¹æ–‡æ¡£æ³•"><a href="#æ–¹æ³•ä¸€ï¼šæš´åŠ›ä¿®æ”¹æ–‡æ¡£æ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæš´åŠ›ä¿®æ”¹æ–‡æ¡£æ³•"></a>æ–¹æ³•ä¸€ï¼šæš´åŠ›ä¿®æ”¹æ–‡æ¡£æ³•</h3><p>æ ¸å¿ƒæ€è·¯ï¼šå°†å›¾ç‰‡å…¨éƒ¨æå–å‡ºæ¥ï¼Œç„¶åç»Ÿä¸€æ ¼å¼ï¼Œç»Ÿä¸€åç§°ï¼Œä¿å­˜åœ¨ä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹é‡Œ</p>
<p>å‚è€ƒ <a class="link" href="https://blog.csdn.net/FX677588/article/details/53126961">matlabéå†æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰å›¾ç‰‡å’Œéå†æ‰€æœ‰å­æ–‡ä»¶å¤¹ä¸‹å›¾ç‰‡_æ— é‹ç«¥é‹çš„åšå®¢-CSDNåšå®¢_matlabéå†æ–‡ä»¶å¤¹ä¸‹å­æ–‡ä»¶å¤¹æ‰€æœ‰æ–‡ä»¶<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">imgDataPath = <span class="string">'../INT301_Assessment2/ass2data/'</span>;</span><br><span class="line">imgDataDir  = dir(imgDataPath);             <span class="comment">% éå†è¯¥è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">savepath =  <span class="string">'../INT301_Assessment2/ass2_processed_data/'</span>; <span class="comment">% è¦æ”¹å†™çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="built_in">length</span>(imgDataDir)</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">isequal</span>(imgDataDir(<span class="built_in">i</span>).name,<span class="string">'.'</span>)||... <span class="comment">% å»é™¤ç³»ç»Ÿè‡ªå¸¦çš„ä¸¤ä¸ªéšæ–‡ä»¶å¤¹</span></span><br><span class="line">       <span class="built_in">isequal</span>(imgDataDir(<span class="built_in">i</span>).name,<span class="string">'..'</span>)||...</span><br><span class="line">       <span class="built_in">isequal</span>(imgDataDir(<span class="built_in">i</span>).name,<span class="string">'.DS_Store'</span>)||...</span><br><span class="line">       ~imgDataDir(<span class="built_in">i</span>).isdir)                <span class="comment">% å»é™¤éå†ä¸­ä¸æ˜¯æ–‡ä»¶å¤¹çš„</span></span><br><span class="line">           <span class="keyword">continue</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    imgDir_jpeg = dir([imgDataPath imgDataDir(<span class="built_in">i</span>).name <span class="string">'/*.jpeg'</span>]); <span class="comment">%è¯»å–jpegæ ¼å¼çš„å›¾ç‰‡</span></span><br><span class="line">    imgDir_jpg = dir([imgDataPath imgDataDir(<span class="built_in">i</span>).name <span class="string">'/*.jpg'</span>]); <span class="comment">%è¯»å–jpgæ ¼å¼çš„å›¾ç‰‡</span></span><br><span class="line">    imgDir = [imgDir_jpeg',imgDir_jpg']'; <span class="comment">% åˆå¹¶æˆå­æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å›¾ç‰‡åœ°å€</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> =<span class="number">1</span>:<span class="built_in">length</span>(imgDir)                 <span class="comment">% éå†æ‰€æœ‰æ–‡ä»¶çš„åœ°å€</span></span><br><span class="line">        img = imread([imgDataPath imgDataDir(<span class="built_in">i</span>).name <span class="string">'/'</span> imgDir(<span class="built_in">j</span>).name]); <span class="comment">%è¯»å–å•ä¸ªæ–‡ä»¶</span></span><br><span class="line">        imwrite(img, [savepath,imgDataDir(<span class="built_in">i</span>).name,num2str(<span class="built_in">j</span>),<span class="string">'.jpeg'</span>]) <span class="comment">%ä»¥å­—ç¬¦+ç¼–å·ä¸ºå‘½å</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>æ–°å»ºç«‹çš„æ–‡ä»¶å¤¹ï¼Œæ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰æ¼ï¼Œå¯ä»¥ç›´æ¥çœ‹æ¯ä¸ªå­—æ¯çš„æœ€åä¸€ä¸ªæ˜¯ä¸æ˜¯â€å­—æ¯100.jpegâ€</p>
<p><img src="https://pic4.zhimg.com/v2-98d05aac73ddf39e77aa168050c19a97_b.png" alt="img"></p>
<h3 id="å¤„ç†å•ä¸ªå›¾ç‰‡ï¼Œä»¥çŸ©é˜µå½¢å¼ä¿å­˜å€’å…¥çš„å›¾ç‰‡"><a href="#å¤„ç†å•ä¸ªå›¾ç‰‡ï¼Œä»¥çŸ©é˜µå½¢å¼ä¿å­˜å€’å…¥çš„å›¾ç‰‡" class="headerlink" title="å¤„ç†å•ä¸ªå›¾ç‰‡ï¼Œä»¥çŸ©é˜µå½¢å¼ä¿å­˜å€’å…¥çš„å›¾ç‰‡"></a>å¤„ç†å•ä¸ªå›¾ç‰‡ï¼Œä»¥çŸ©é˜µå½¢å¼ä¿å­˜å€’å…¥çš„å›¾ç‰‡</h3><p>ä¸‹å›¾getimdata2è¿™ä¸ªå‡½æ•°è¾“å…¥çš„æ˜¯é‡å†™åçš„æ–°æ–‡ä»¶å¤¹åœ°å€ï¼Œè¾“å‡ºçš„æ˜¯è®­ç»ƒé›†Xå’Œæ ‡ç­¾y ï¼ˆè¿™é‡Œç”¨æ•°å­—ä»£æŒ‡æ ‡ç­¾ï¼‰</p>
<p>ä¸å¥½æ„æ€æœ‰ç‚¹æ‡’å¾—åŠ¨è„‘å­äº†ï¼Œå°±ç›´æ¥å†™äº†24ä¸ªifï¼Œå¤§å®¶å¯ä»¥éšæ„ä¼˜åŒ–</p>
<p>å¦‚æœç»§ç»­å¤„ç†ä¾‹å¦‚è½¬æ¢ä¸ºonehotä¹‹ç±»çš„å¯ä»¥ç›´æ¥ç”¨ind2vecæ¥è½¬æ¢</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[ data,target ]</span> = <span class="title">getimdata2</span><span class="params">(path)</span></span></span><br><span class="line"><span class="comment">%GETIMDATA Summary of this function goes here</span></span><br><span class="line"><span class="comment">%   Detailed explanation goes here</span></span><br><span class="line">    files = dir([path <span class="string">'*.jpeg'</span>]);</span><br><span class="line">    data=[];</span><br><span class="line">    target=[];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> file = files'</span><br><span class="line">        im = imread([path file.name]);</span><br><span class="line">        <span class="comment">% Normalize the data </span></span><br><span class="line">        im = double(im);</span><br><span class="line">        im = im/<span class="number">255</span>;</span><br><span class="line">        </span><br><span class="line">        data = [data im(:)];</span><br><span class="line">        <span class="keyword">if</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'A'</span>) <span class="comment">% å¦‚æœæ–‡ä»¶ç¬¬ä¸€ä¸ªå­—ç¬¦ç­‰äºâ€˜Aâ€˜ï¼Œé‚£å°±ç”¨1ä»£æ›¿a</span></span><br><span class="line">            target=[target [<span class="number">1</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'B'</span>)</span><br><span class="line">            target=[target [<span class="number">2</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'C'</span>)</span><br><span class="line">            target=[target [<span class="number">3</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'D'</span>)</span><br><span class="line">            target=[target [<span class="number">4</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'E'</span>)</span><br><span class="line">            target=[target [<span class="number">5</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'F'</span>)</span><br><span class="line">            target=[target [<span class="number">6</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'G'</span>)</span><br><span class="line">            target=[target [<span class="number">7</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'H'</span>)</span><br><span class="line">            target=[target [<span class="number">8</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'J'</span>)</span><br><span class="line">            target=[target [<span class="number">9</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'K'</span>)</span><br><span class="line">            target=[target [<span class="number">10</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'L'</span>)</span><br><span class="line">            target=[target [<span class="number">11</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'M'</span>)</span><br><span class="line">            target=[target [<span class="number">12</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'N'</span>)</span><br><span class="line">            target=[target [<span class="number">13</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'P'</span>)</span><br><span class="line">            target=[target [<span class="number">14</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Q'</span>)</span><br><span class="line">            target=[target [<span class="number">15</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'R'</span>)</span><br><span class="line">            target=[target [<span class="number">16</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'S'</span>)</span><br><span class="line">            target=[target [<span class="number">17</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'T'</span>)</span><br><span class="line">            target=[target [<span class="number">18</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'U'</span>)</span><br><span class="line">            target=[target [<span class="number">19</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'V'</span>)</span><br><span class="line">            target=[target [<span class="number">20</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'W'</span>)</span><br><span class="line">            target=[target [<span class="number">21</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'X'</span>)</span><br><span class="line">            target=[target [<span class="number">22</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Y'</span>)</span><br><span class="line">            target=[target [<span class="number">23</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Z'</span>)</span><br><span class="line">            target=[target [<span class="number">24</span>]];</span><br><span class="line">        <span class="keyword">end</span>    </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>å¦å¤–ä¸€ä¸ªgetimdata å‡½æ•°å’Œä¸Šé¢å¤§ä½“å·®ä¸å¤šï¼Œä½†æ˜¯è¾“å‡ºçš„æ˜¯å·²ç»onehot encodingåçš„ç»“æœï¼ˆe.g. A-&gt; (1,0,0,â€¦0)ï¼‰æ ‡ç­¾ç”¨ä¸€ä¸ª1*24çš„å‘é‡æ¥è¡¨ç¤º</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[ data,target ]</span> = <span class="title">getimdata</span><span class="params">(path)</span></span></span><br><span class="line"><span class="comment">%GETIMDATA Summary of this function goes here</span></span><br><span class="line"><span class="comment">%   Detailed explanation goes here</span></span><br><span class="line">    files = dir([path <span class="string">'*.jpeg'</span>]);</span><br><span class="line">    data=[];</span><br><span class="line">    target=[];</span><br><span class="line">    </span><br><span class="line"><span class="comment">%   Generated the cell and zero matrix to store</span></span><br><span class="line">    store = cell(<span class="number">1</span>,<span class="number">24</span>);</span><br><span class="line">    tst_zero = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">24</span>);</span><br><span class="line">    </span><br><span class="line"><span class="comment">%   Fill the zeros matrix </span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="number">24</span></span><br><span class="line">        copy = tst_zero;</span><br><span class="line">        copy(<span class="number">1</span>,<span class="built_in">i</span>) = <span class="number">1</span>;</span><br><span class="line">        store{<span class="built_in">i</span>} = copy;</span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> file = files'</span><br><span class="line">        im = imread([path file.name]);</span><br><span class="line">        <span class="comment">% Normalize the data </span></span><br><span class="line">        im = double(im);</span><br><span class="line">        im = im/<span class="number">255</span>;</span><br><span class="line">        data = [data im(:)];</span><br><span class="line">        test_zero = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">24</span>);</span><br><span class="line">        <span class="keyword">if</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'A'</span>)</span><br><span class="line">            target=[target [store{<span class="number">1</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'B'</span>)</span><br><span class="line">            target=[target [store{<span class="number">2</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'C'</span>)</span><br><span class="line">            target=[target [store{<span class="number">3</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'D'</span>)</span><br><span class="line">            target=[target [store{<span class="number">4</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'E'</span>)</span><br><span class="line">            target=[target [store{<span class="number">5</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'F'</span>)</span><br><span class="line">            target=[target [store{<span class="number">6</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'G'</span>)</span><br><span class="line">            target=[target [store{<span class="number">7</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'H'</span>)</span><br><span class="line">            target=[target [store{<span class="number">8</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'J'</span>)</span><br><span class="line">            target=[target [store{<span class="number">9</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'K'</span>)</span><br><span class="line">            target=[target [store{<span class="number">10</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'L'</span>)</span><br><span class="line">            target=[target [store{<span class="number">11</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'M'</span>)</span><br><span class="line">            target=[target [store{<span class="number">12</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'N'</span>)</span><br><span class="line">            target=[target [store{<span class="number">13</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'P'</span>)</span><br><span class="line">            target=[target [store{<span class="number">14</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Q'</span>)</span><br><span class="line">            target=[target [store{<span class="number">15</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'R'</span>)</span><br><span class="line">            target=[target [store{<span class="number">16</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'S'</span>)</span><br><span class="line">            target=[target [store{<span class="number">17</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'T'</span>)</span><br><span class="line">            target=[target [store{<span class="number">18</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'U'</span>)</span><br><span class="line">            target=[target [store{<span class="number">19</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'V'</span>)</span><br><span class="line">            target=[target [store{<span class="number">20</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'W'</span>)</span><br><span class="line">            target=[target [store{<span class="number">21</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'X'</span>)</span><br><span class="line">            target=[target [store{<span class="number">22</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Y'</span>)</span><br><span class="line">            target=[target [store{<span class="number">23</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Z'</span>)</span><br><span class="line">            target=[target [store{<span class="number">24</span>}]'];</span><br><span class="line">        <span class="keyword">end</span>    </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•äºŒï¼šåˆ©ç”¨imageDatastore"><a href="#æ–¹æ³•äºŒï¼šåˆ©ç”¨imageDatastore" class="headerlink" title="æ–¹æ³•äºŒï¼šåˆ©ç”¨imageDatastore"></a>æ–¹æ³•äºŒï¼šåˆ©ç”¨imageDatastore</h3><p>ç®€ä¾¿çš„æ–¹æ³•æ°¸è¿œæ˜¯åœ¨ä½ å†™å®Œåšå®Œåå‘ç°çš„ğŸ™„</p>
<p>imageDatastore å¯ä»¥ç›´æ¥è¯»å–ä½ è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶åŠå…¶å›¾ç‰‡</p>
<p>ä¸‹é¢çš„ä»£ç æ˜¯ç›´æ¥å°†æ•°æ®é›†å’Œæ ‡ç­¾éƒ½å·²ç»åˆ†å¥½å¤„ç†å¥½äº†ï¼Œå¯ä»¥ç›´æ¥å–‚åˆ°æ¨¡å‹é‡Œé¢å»çš„</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%%</span></span><br><span class="line">clc;</span><br><span class="line">clear;</span><br><span class="line"></span><br><span class="line"><span class="comment">%% </span></span><br><span class="line">F = <span class="string">'../INT301_Assessment2/ass2data'</span>;</span><br><span class="line">imds = imageDatastore(F,<span class="string">'IncludeSubfolders'</span>,<span class="built_in">true</span>,<span class="string">'LabelSource'</span>,<span class="string">'foldernames'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">labelCount = countEachLabel(imds);   <span class="comment">%ç»Ÿè®¡imdsä¸­å„æ ‡ç­¾å€¼çš„å›¾ç‰‡æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% 2ï¼Œ8åˆ†å‰²ï¼Œ8ä¸ºtrainingï¼Œ2ä¸ºtesting</span></span><br><span class="line">numTrainFiles = <span class="number">80</span>;</span><br><span class="line">[imdsTrain, imdsTest] = splitEachLabel(imds, numTrainFiles,<span class="string">'randomize'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">data = [];</span><br><span class="line">files = imdsTrain.Files;</span><br><span class="line">x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> file = files'</span><br><span class="line">    im = imread(file{<span class="number">1</span>});</span><br><span class="line">    im = double(im);</span><br><span class="line">    im = im/<span class="number">255</span>;</span><br><span class="line">    data = [data im(:)];</span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">X_train = data';</span><br><span class="line">y_train = imdsTrain.Labels;</span><br><span class="line">y_train = label_preprocess(y_train);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">data = []</span><br><span class="line">files = imdsTest.Files;</span><br><span class="line">x = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> file = files'</span><br><span class="line">    im = imread(file{<span class="number">1</span>});</span><br><span class="line">    im = double(im);</span><br><span class="line">    im = im/<span class="number">255</span>;</span><br><span class="line">    data = [data im(:)];</span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">X_test = data';</span><br><span class="line">y_test = imdsTest.Labels;</span><br><span class="line">y_test = label_preprocess(y_test);</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘å°†é‚£24ä¸ª if æ‰“åŒ…å†™æˆäº†ä¸€ä¸ªæ–°çš„å‡½æ•°å«label_preprocessï¼Œè¾“å…¥çš„æ˜¯æ ‡ç­¾ï¼Œè¾“å‡ºçš„æ˜¯onehot encodingåçš„ç»“æœ</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[target]</span> = <span class="title">label_preprocess</span><span class="params">(y_train)</span></span></span><br><span class="line">target = [];</span><br><span class="line"><span class="keyword">for</span> y = y_train'</span><br><span class="line">    <span class="keyword">if</span> y == <span class="string">'A'</span></span><br><span class="line">        target=[target [<span class="number">1</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'B'</span></span><br><span class="line">        target=[target [<span class="number">2</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'C'</span></span><br><span class="line">        target=[target [<span class="number">3</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'D'</span></span><br><span class="line">        target=[target [<span class="number">4</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'E'</span></span><br><span class="line">        target=[target [<span class="number">5</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'F'</span></span><br><span class="line">        target=[target [<span class="number">6</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'G'</span></span><br><span class="line">        target=[target [<span class="number">7</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'H'</span></span><br><span class="line">        target=[target [<span class="number">8</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'J'</span></span><br><span class="line">        target=[target [<span class="number">9</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'K'</span></span><br><span class="line">        target=[target [<span class="number">10</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'L'</span></span><br><span class="line">        target=[target [<span class="number">11</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'M'</span></span><br><span class="line">        target=[target [<span class="number">12</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'N'</span></span><br><span class="line">        target=[target [<span class="number">13</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'P'</span></span><br><span class="line">        target=[target [<span class="number">14</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'Q'</span></span><br><span class="line">        target=[target [<span class="number">15</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'R'</span></span><br><span class="line">        target=[target [<span class="number">16</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'S'</span></span><br><span class="line">        target=[target [<span class="number">17</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'T'</span></span><br><span class="line">        target=[target [<span class="number">18</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'U'</span></span><br><span class="line">        target=[target [<span class="number">19</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'V'</span></span><br><span class="line">        target=[target [<span class="number">20</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'W'</span></span><br><span class="line">        target=[target [<span class="number">21</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'X'</span></span><br><span class="line">        target=[target [<span class="number">22</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'Y'</span></span><br><span class="line">        target=[target [<span class="number">23</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'Z'</span></span><br><span class="line">        target=[target [<span class="number">24</span>]];</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"></span><br><span class="line">target =ind2vec(target);</span><br><span class="line">target = target';</span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•ä¸‰ï¼šç›´æ¥è¯»å–-gæ ¼å¼ï¼ˆä»…é™æœ¬é¢˜ä½¿ç”¨ï¼‰"><a href="#æ–¹æ³•ä¸‰ï¼šç›´æ¥è¯»å–-gæ ¼å¼ï¼ˆä»…é™æœ¬é¢˜ä½¿ç”¨ï¼‰" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šç›´æ¥è¯»å–.gæ ¼å¼ï¼ˆä»…é™æœ¬é¢˜ä½¿ç”¨ï¼‰"></a>æ–¹æ³•ä¸‰ï¼šç›´æ¥è¯»å–.gæ ¼å¼ï¼ˆä»…é™æœ¬é¢˜ä½¿ç”¨ï¼‰</h3><p>å› ä¸ºjpegå’Œjpgéƒ½æ˜¯ä»¥gç»“å°¾ï¼Œæ‰€ä»¥å¯ä»¥æœ¬é¢˜å¯ä»¥ç›´è¯»å–gã€‚ä»£ç å°±ç•¥äº†</p>
]]></content>
      <categories>
        <category>Matlab</category>
      </categories>
      <tags>
        <tag>Matlab</tag>
        <tag>tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>sklearné‡ŒLinearSVCä¸SVCåŒºåˆ«</title>
    <url>/2021/01/26/sklearn%E9%87%8CLinearSVC%E4%B8%8ESVC%E5%8C%BA%E5%88%AB/</url>
    <content><![CDATA[<p>è¿™é‡Œç»¼åˆäº†stackoverflowä¸Šçš„ä¸€ä½å‘è¨€å’Œå¦ä¸€ä½çŸ¥ä¹ç”¨æˆ·çš„æ–‡ç« ï¼Œé“¾æ¥åœ¨ä¸‹æ–¹ï¼š</p>
<p><a class="link"   href="https://stackoverflow.com/questions/45384185/what-is-the-difference-between-linearsvc-and-svckernel-linear" >What is the difference between LinearSVC and SVC(kernel=â€linearâ€)?<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/57162092" >baiziyuï¼šsklearn.svm.LinearSVCä¸sklearn.svm.SVCåŒºåˆ«<i class="fas fa-external-link-alt"></i></a></p>
<p>LinearSVC å’Œ SVC(kernel=â€™linearâ€™) ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœï¼Œä¾‹å¦‚ ä¸åŒçš„åˆ†æ•°ä»¥åŠä¸åŒçš„decision boundaryï¼Œ åŸå› æ˜¯ä»–ä»¬é‡‡ç”¨äº†ä¸åŒçš„è®¡ç®—æ–¹å¼ã€‚ä¸‹é¢çš„ä»£ç å¯ä»¥è‡ªå·±è¿è¡Œä¸€ä¸‹ï¼Œæ„Ÿå—ä¸€ä¸‹ä¸åŒçš„åœ°æ–¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from sklearn.datasets import load_iris</span><br><span class="line">from sklearn.svm import LinearSVC, SVC</span><br><span class="line"></span><br><span class="line">X, y &#x3D; load_iris(return_X_y&#x3D;True)</span><br><span class="line"></span><br><span class="line">clf_1 &#x3D; LinearSVC(loss&#x3D;&#39;hinge&#39;).fit(X, y)  # possible to state loss&#x3D;&#39;hinge&#39;</span><br><span class="line">clf_2 &#x3D; LinearSVC().fit(X, y)  # possible to state loss&#x3D;&#39;hinge&#39;</span><br><span class="line">clf_3 &#x3D; SVC(kernel&#x3D;&#39;linear&#39;).fit(X, y)</span><br><span class="line"></span><br><span class="line">score_1 &#x3D; clf_1.score(X, y)</span><br><span class="line">score_2 &#x3D; clf_2.score(X, y)</span><br><span class="line">score_3 &#x3D; clf_2.score(X, y)</span><br><span class="line"></span><br><span class="line">print(&#39;LinearSVC score %s&#39; % score_1)</span><br><span class="line">print(&#39;LinearSVC score with hinge loss %s&#39; % score_2)</span><br><span class="line">print(&#39;SVC score %s&#39; % score_3)</span><br><span class="line"></span><br><span class="line">------------------------</span><br><span class="line">LinearSVC score 0.94</span><br><span class="line">LinearSVC score with hinge loss 0.9666666666666667</span><br><span class="line">SVC score 0.9666666666666667</span><br></pre></td></tr></table></figure>
<h3 id="æœ€ä¸»è¦çš„ä¸åŒç‚¹ï¼š"><a href="#æœ€ä¸»è¦çš„ä¸åŒç‚¹ï¼š" class="headerlink" title="æœ€ä¸»è¦çš„ä¸åŒç‚¹ï¼š"></a>æœ€ä¸»è¦çš„ä¸åŒç‚¹ï¼š</h3><ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒLinearSVCæœ€å°åŒ–squared hinge lossï¼Œè€ŒSVCæœ€å°åŒ–hinge lossã€‚ï¼ˆä¸Šå›¾ä»£ç å—ï¼‰</li>
<li>LinearSVCæ˜¯åŸºäºliblinearå®ç°çš„ï¼Œäº‹å®ä¸Šä¼šæƒ©ç½šæˆªè·(penalize the intercept), ç„¶è€Œï¼ŒSVCæ˜¯åŸºäºlibsvmå®ç°çš„ï¼Œå¹¶ä¸ä¼šæƒ©ç½šæˆªè·</li>
<li>liblinearåº“é’ˆå¯¹çº¿æ€§çš„æ¨¡å‹è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå› æ­¤åœ¨å¤§é‡çš„æ•°æ®ä¸Šæ”¶æ•›é€Ÿåº¦ä¼šé«˜äºlibsvmã€‚æ‰€ä»¥LinearSVCåœ¨å¤§æ•°æ®ä¸Šä¹Ÿèƒ½å¾ˆå¥½çš„å½’ä¸€åŒ–ï¼Œä½†æ˜¯SVCåœ¨å¤§é‡æ•°æ®ä¸Šå¾ˆéš¾æ”¶æ•›</li>
<li>LinearSVCä½¿ç”¨ ï¼ˆOne-vs-Allï¼‰æ–¹å¼æ¥å®ç°å¤šåˆ†ç±»é—®é¢˜ï¼Œä½†SVCä½¿ç”¨çš„æ˜¯One-vs-Oneçš„æ–¹å¼æ¥å¤„ç†å¤šåˆ†ç±»çš„é—®é¢˜</li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>ML</tag>
        <tag>sklearn</tag>
      </tags>
  </entry>
  <entry>
    <title>macOS:ä½¿ç”¨IntelliJ IDEAè¿æ¥æœ¬åœ°Hadoop</title>
    <url>/2021/01/26/macOS%E4%BD%BF%E7%94%A8IntelliJ-IDEA%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0Hadoop/</url>
    <content><![CDATA[<p>æœ¬æ–‡çš„æ‰€æœ‰æ“ä½œæ˜¯å»ºç«‹åœ¨æœ¬åœ°å·²ç»é…ç½®å¥½Hadoopå’Œjavaç¯å¢ƒçš„åŸºç¡€ä¸Šï¼Œè‹¥æœªå®Œæˆï¼Œè¯·å»è¿™ä¸ªé“¾æ¥å…ˆå­¦ä¹ å¥½</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/277611350" >lonerï¼šHadoop åœ¨macæœ¬åœ°çš„é…ç½®<i class="fas fa-external-link-alt"></i></a></p>
<p>æœ¬æ–‡å‚è€ƒåšå®¢</p>
<p><a class="link"   href="https://blog.csdn.net/weixin_45774600/article/details/105289999" >macOSï¼šä½¿ç”¨IntelliJ IDEAè¿œç¨‹è¿æ¥Hadoop<i class="fas fa-external-link-alt"></i></a></p>
<p>é¦–å…ˆä½¿ç”¨intelliJ IDEA é…ç½®æŒ‡å®šçš„jdk</p>
<p>è¿™é‡Œæ“ä½œå…¶å®åªéœ€è¦åœ¨java class é‡Œé¢è¿è¡Œå°±å¯ä»¥äº†ï¼Œå‘½åè¿›å…¥</p>
<p><img src="https://pic2.zhimg.com/v2-bbb99e7ef2a3a2ab4a2057d38c54e3cd_b.png" alt="img"></p>
<p>è€æ ·å­è¿›å…¥project structure ï¼ˆFile-Project Structure: å¿«æ·é”®command+;ï¼‰</p>
<p><img src="https://pic1.zhimg.com/v2-5087d33ec42e95648bb8e19367110d50_b.png" alt="img"></p>
<p>å…ˆæ£€æŸ¥SDKçš„æƒ…å†µï¼Œå¦‚æœé»˜è®¤æ˜¾ç¤ºå°±æ˜¯è¿™æ ·çš„ï¼Œåˆ™å°±è¿™æ ·ï¼Œå¦‚æœä¸æ˜¯æ·»åŠ ï¼ˆé‚£ä¸ª+å·ï¼‰ï¼Œè·¯å¾„åŸºæœ¬ä¸Šåœ¨macä¸Šéƒ½å·®ä¸å¤šæ˜¯è¿™æ ·çš„/Library/Java/JavaVirtualMachine/å‰åº”è¯¥éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p><img src="https://pic3.zhimg.com/v2-0db76d6a8e59222eb80f24dc52269f0a_b.png" alt="img"></p>
<p>ç„¶åè¿›å…¥åˆ°Projectçš„æƒ…å†µ</p>
<p><img src="https://pic1.zhimg.com/v2-9142a0b3ff0d0ffd5ccf34512c6f0280_b.png" alt="img"></p>
<p>ç„¶åè¿›å…¥åˆ°moduleï¼Œå¯¼å…¥ä¾èµ–ï¼ˆdependenciesï¼‰</p>
<p><img src="https://pic3.zhimg.com/v2-b90f33443a8e6bfd9fae39f1812e8e2a_b.png" alt="img"></p>
<p><img src="https://pic3.zhimg.com/v2-18890b2899813acc7496601932de2c0e_b.png" alt="img"></p>
<p>é€‰æ‹©JARs or directories,æŒ‰ç…§ä¸‹é¢æ“ä½œå¤šæ‰¹æ¬¡çš„å¯¼å…¥è§£å‹åHadoopçš„ä½ç½®</p>
<p>æ³¨æ„è¿™å„¿Hadoopçš„ä½ç½®æ˜¯è§£å‹åçš„å®‰è£…åŒ…åœ¨share-&gt;hadoop</p>
<p><img src="https://pic2.zhimg.com/v2-b5434323d331ae6c36db581641366819_b.png" alt="img"></p>
<p>ä¾æ¬¡å¯¼å…¥8ä¸ªä¾èµ–ï¼Œä¸€ä¸ªä¸€ä¸ªæ‰‹åŠ¨åŠ ï¼Œç„¶åApplyï¼ŒOK</p>
<p><img src="https://pic4.zhimg.com/v2-ad8a2f1ec4a6669a4b833145bda45c2f_b.png" alt="img"></p>
<p>ç¼–è¯‘å’Œè¿è¡Œ</p>
<p>è¿è¡Œå¦‚ä¸‹WordCount.java</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.StringTokenizer;</span><br><span class="line"></span><br><span class="line">import org.apache.hadoop.conf.Configuration;</span><br><span class="line">import org.apache.hadoop.fs.Path;</span><br><span class="line">import org.apache.hadoop.io.IntWritable;</span><br><span class="line">import org.apache.hadoop.io.Text;</span><br><span class="line">import org.apache.hadoop.mapreduce.Job;</span><br><span class="line">import org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line">import org.apache.hadoop.mapreduce.Reducer;</span><br><span class="line">import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;</span><br><span class="line">import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</span><br><span class="line"></span><br><span class="line">public class WordCount &#123;</span><br><span class="line"></span><br><span class="line">    public static class TokenizerMapper</span><br><span class="line">            extends Mapper&lt;Object, Text, Text, IntWritable&gt;&#123;</span><br><span class="line"></span><br><span class="line">        private final static IntWritable one &#x3D; new IntWritable(1);</span><br><span class="line">        private Text word &#x3D; new Text();</span><br><span class="line"></span><br><span class="line">        public void map(Object key, Text value, Context context</span><br><span class="line">        ) throws IOException, InterruptedException &#123;</span><br><span class="line">            StringTokenizer itr &#x3D; new StringTokenizer(value.toString());</span><br><span class="line">            while (itr.hasMoreTokens()) &#123;</span><br><span class="line">                word.set(itr.nextToken());</span><br><span class="line">                context.write(word, one);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static class IntSumReducer</span><br><span class="line">            extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; &#123;</span><br><span class="line">        private IntWritable result &#x3D; new IntWritable();</span><br><span class="line"></span><br><span class="line">        public void reduce(Text key, Iterable&lt;IntWritable&gt; values,</span><br><span class="line">                           Context context</span><br><span class="line">        ) throws IOException, InterruptedException &#123;</span><br><span class="line">            int sum &#x3D; 0;</span><br><span class="line">            for (IntWritable val : values) &#123;</span><br><span class="line">                sum +&#x3D; val.get();</span><br><span class="line">            &#125;</span><br><span class="line">            result.set(sum);</span><br><span class="line">            context.write(key, result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws Exception &#123;</span><br><span class="line">        Configuration conf &#x3D; new Configuration();</span><br><span class="line">        Job job &#x3D; Job.getInstance(conf, &quot;word count&quot;);</span><br><span class="line">        job.setJarByClass(WordCount.class);</span><br><span class="line">        job.setMapperClass(TokenizerMapper.class);</span><br><span class="line">        job.setCombinerClass(IntSumReducer.class);</span><br><span class="line">        job.setReducerClass(IntSumReducer.class);</span><br><span class="line">        job.setOutputKeyClass(Text.class);</span><br><span class="line">        job.setOutputValueClass(IntWritable.class);</span><br><span class="line">        FileInputFormat.addInputPath(job, new Path(args[0]));</span><br><span class="line">        FileOutputFormat.setOutputPath(job, new Path(args[1]));</span><br><span class="line">        System.exit(job.waitForCompletion(true) ? 0 : 1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-b972bff0438429263be2842c94e319b2_b.png" alt="img"></p>
<p><img src="https://pic2.zhimg.com/v2-c83dbde658707eb3ef7955ba02e34a61_b.png" alt="img"></p>
<p>é€‰æ‹©applicationåéœ€è¦é…ç½®å¦‚ä¸‹ï¼Œnameéšæ„ï¼Œæœ€é‡è¦çš„æ˜¯Main class: ä¿è¯åå­—å’Œä½ newçš„javaæ–‡ä»¶åå­—ä¸€è‡´ï¼Œinputå’Œoutputæ˜¯ç­‰ä¼šè¦æ”¾å…¥çš„æ–‡ä»¶ï¼Œè¾“å…¥å’Œè¾“å‡º</p>
<p><img src="https://pic3.zhimg.com/v2-87d680b6ed9ae34a669c898ba636be22_b.png" alt="img"></p>
<p>é…ç½®è¾“å…¥æ–‡ä»¶</p>
<p>è¿™é‡Œæˆ‘åˆšåˆšåœ¨configurationé‡Œé¢å†™äº†æˆ‘çš„è¾“å…¥æ–‡ä»¶å«inputï¼Œéœ€è¦é…ç½®è¾“å…¥è·¯å¾„ï¼Œè¿™é‡Œåœ¨ï¼ˆsrcåŒçº§ç›®å½•ä¸‹ï¼‰æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹inputï¼Œå¹¶ä¸”æŠŠä½ éœ€è¦è¾“å…¥çš„æ–‡ä»¶æ”¾è¿›å»ï¼Œè¿™å„¿è¿˜æ˜¯ä¹‹å‰çš„pg100.txt</p>
<p><img src="https://pic4.zhimg.com/v2-c43f3e376a689e401c3585bd9625cf8f_b.png" alt="img"></p>
<p>è¿è¡Œ</p>
<p><img src="https://pic4.zhimg.com/v2-f43cf63ac94ae2df051221c0b49a001f_b.png" alt="img"></p>
<p>å‡ºç°å¦‚ä¸‹æƒ…å†µ</p>
<p><img src="https://pic1.zhimg.com/v2-1171ebce5dad8f3a92d14cd4d10a6274_b.png" alt="img"></p>
<p><img src="https://pic2.zhimg.com/v2-9079be8c4a11d97d40154dc51cc080f1_b.png" alt="img"></p>
<p>å’Œä¹‹å‰åœ¨terminalé‡Œè¿è¡ŒæˆåŠŸçš„ä¸€æ¨¡ä¸€æ ·ï¼ŒæˆåŠŸåä¼šå‡ºç°ä¸€ä¸ª outputçš„æ–‡ä»¶å¤¹ï¼Œç”±äºoutputçš„å…ˆå¤©ç‰¹æ€§ï¼Œå®ƒæ— æ³•è¦†ç›–ï¼Œæ‰€ä»¥ä¸‹æ¬¡è¿è¡Œçš„æ—¶å€™è¯·åˆ é™¤ä¹‹å‰çš„é‚£ä¸ªï¼Œæˆ–è€…ä½ æ”¹ä¸ªåå­—ï¼ˆæˆ‘åæ¥å¥½åƒçœ‹è§è¿™ä¸ªå¯ä»¥ç”¨å…¶ä»–æ–¹æ³•è¦†ç›–çš„ï¼Œè¿™é‡Œå°±ä¸åšæ¶‰åŠï¼‰</p>
<p><img src="https://pic3.zhimg.com/v2-df5dda07bd75d6324ba25680e367e6c6_b.png" alt="img"></p>
<p>åˆ°ç°åœ¨ä½ç½®ï¼ŒHadoopçš„æ•™ç¨‹éƒ½å·²ç»ç»“æŸï¼Œæ— è®ºæ˜¯é˜¿é‡Œäº‘Hadoopçš„é…ç½®ï¼Œè¿è¡ŒWordCount.javaè¿˜æ˜¯macæœ¬åœ°çš„Hadoopè¿è¡Œè°ƒè¯•ï¼Œè¿˜æ˜¯å€ŸåŠ©IDEAç›´æ¥å•æœºæ¨¡å¼è¿è¡Œï¼Œéƒ½å·²ç»å®Œæˆäº†ã€‚å¦‚æœæœ‰ä¸æ˜ç™½çš„ï¼Œè¯·å…³æ³¨æˆ‘çš„ä¸“æ ï¼Œé‡Œé¢æœ‰è¯¦ç»†çš„æ­¥éª¤ã€‚</p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>macOS</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨é…ç½®jupyter notebookåŠè¿œç¨‹ç½‘é¡µæ‰“å¼€</title>
    <url>/2021/01/26/%E9%98%BF%E9%87%8C%E4%BA%91%E8%BD%BB%E9%87%8F%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AEjupyter-notebook%E5%8F%8A%E8%BF%9C%E7%A8%8B%E7%BD%91%E9%A1%B5%E6%89%93%E5%BC%80/</url>
    <content><![CDATA[<p>å…·ä½“é˜¿é‡Œäº‘æœåŠ¡å™¨çš„å‚æ•°å’Œè´­ä¹°å¯ä»¥å‚è€ƒæˆ‘ä¸Šä¸€ç¯‡ä¸“æ </p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/269047002" >lonerï¼šä»é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨å®‰è£…HadoopåŠç¯å¢ƒé…ç½®<i class="fas fa-external-link-alt"></i></a></p>
<p>é¦–å…ˆä¿è¯ä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£…æˆåŠŸ Anacondaï¼Œå…·ä½“æ•™ç¨‹å¯ä»¥å‚è€ƒå¦‚ä¸‹é“¾æ¥</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/64930395" >å¯è¯­ï¼šLinux-Centos7ä¸‹å®‰è£…Anacondaï¼ˆ2019å¹´æ–°ç‰ˆï¼‰<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="å®‰è£…jupyter-notebook"><a href="#å®‰è£…jupyter-notebook" class="headerlink" title="å®‰è£…jupyter notebook"></a>å®‰è£…jupyter notebook</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda install jupyter notebook </span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-fded09bc06bc572a1b1fa4b37908bba0_b.png" alt="img"></p>
<p>å®‰è£…å®Œæˆåå¯¼å‡ºjupyterçš„configæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jupyter notebook --generate-config</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-03a1115c5cc9e61e1c5f792c40411c8f_b.png" alt="img"></p>
<p>å¯ä»¥çœ‹è§ä¸€èˆ¬é»˜è®¤åœ°å€æ˜¯åœ¨ /root/.jupyter/jupyter_notebook_config.py</p>
<p>å‘½ä»¤è¡Œè¾“å…¥python3ï¼Œè¿›å…¥python3ç¯å¢ƒ</p>
<p><img src="https://pic2.zhimg.com/v2-5d85b851016dd6c381f8e703d7031b1d_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from IPython.lib import passwd</span><br><span class="line">passwd()</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„passwordæ˜¯å¯ä»¥éšä¾¿å†™çš„ï¼Œåªè¦ä¿è¯ä¸¤æ¬¡è¾“å…¥çš„ç›¸åŒå°±è¡Œï¼Œé‡ç‚¹æ˜¯è¿”å›çš„å“ˆå¸Œå€¼ï¼ˆe.g. â€˜sha1:d208466595c9:91e23f1a*<strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong>â€˜ï¼‰</p>
<h3 id="å¼€å§‹ç¼–è¯‘jupyter-çš„configæ–‡ä»¶"><a href="#å¼€å§‹ç¼–è¯‘jupyter-çš„configæ–‡ä»¶" class="headerlink" title="å¼€å§‹ç¼–è¯‘jupyter çš„configæ–‡ä»¶"></a>å¼€å§‹ç¼–è¯‘jupyter çš„configæ–‡ä»¶</h3><p>vim æ‰“å¼€é…ç½®æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi ~&#x2F;.jupyter&#x2F;jupyter_notebook_config.py</span><br></pre></td></tr></table></figure>
<p>æœç´¢passwordå…³é”®å­—(å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥/password)ï¼Œæ‰¾åˆ°å…¶ä¸­ä»£ç å—ï¼š</p>
<p><img src="https://pic2.zhimg.com/v2-02ea1c6c29a091ccae81ba8f67b6a129_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># c.NotebookApp.password&#x3D;&#39;&#39;</span><br><span class="line"></span><br><span class="line">#å°†å…¶æ›¿æ¢æˆï¼š</span><br><span class="line"></span><br><span class="line">c.NotebookApp.password &#x3D; u&#39;sha1:d208466595c9:91e23f1a***********************************â€™</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­å¼•å·ä¸­çš„å†…å®¹å³ä¸ºä¹‹å‰å¤åˆ¶ä¸‹æ¥çš„å“ˆå¸Œå¯†ç ï¼Œä¸»ä¹‰å¼•å·ä¹‹å‰è¿˜æœ‰ä¸€ä¸ªu</p>
<p>ç„¶åæ‹–åˆ°æœ€ä¸‹é¢è¾“å…¥ä¸€ä¸‹é…ç½®ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">c.NotebookApp.ip &#x3D; &#39;*&#39; #æ‰€æœ‰ç»‘å®šæœåŠ¡å™¨çš„IPéƒ½èƒ½è®¿é—®ï¼Œè‹¥æƒ³åªåœ¨ç‰¹å®šipè®¿é—®ï¼Œè¾“å…¥ipåœ°å€å³å¯</span><br><span class="line">c.NotebookApp.port &#x3D; 8889 #ç«¯å£è®¾ç½®ï¼Œæ³¨æ„è¯¥ç«¯å£å¯ä»¥è®¾ç½®çš„èŒƒå›´å¯ä»¥åœ¨æœåŠ¡å™¨æ§åˆ¶å°çš„é˜²ç«å¢™é€‰é¡¹ä¸­æ‰¾åˆ°</span><br><span class="line">c.NotebookApp.open_browser &#x3D; False #æˆ‘ä»¬å¹¶ä¸æƒ³åœ¨æœåŠ¡å™¨ä¸Šç›´æ¥æ‰“å¼€Jupyter Notebookï¼Œæ‰€ä»¥è®¾ç½®æˆFalse</span><br><span class="line">c.NotebookApp.notebook_dir &#x3D; &#39;&#x2F;root&#39; #è¿™é‡Œæ˜¯è®¾ç½®Jupyterçš„æ ¹ç›®å½•ï¼Œè‹¥ä¸è®¾ç½®å°†é»˜è®¤rootçš„æ ¹ç›®å½•ï¼Œä¸å®‰å…¨</span><br><span class="line">c.NotebookApp.allow_root &#x3D; True # ä¸ºäº†å®‰å…¨ï¼ŒJupyteré»˜è®¤ä¸å…è®¸ä»¥rootæƒé™å¯åŠ¨jupyter</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-de707fe4b5de8205b72cdc1123628c3b_b.png" alt="img"></p>
<p>æ³¨æ„ï¼šè¿™é‡Œçš„ç«¯å£ä¸€å®šè¦åœ¨é˜¿é‡Œäº‘çš„é˜²ç«å¢™ä¸Šæ‰“å¼€ï¼Œå¦åˆ™ä¼šæ— æ³•é“¾æ¥ï¼Œå…·ä½“å¯ä»¥çœ‹æœ¬æ–‡æœ€é¡¶ä¸Šä¹‹å‰æˆ‘é…ç½®Hadoopçš„æ–‡ç« </p>
<h3 id="å¯åŠ¨jupyter-notebook"><a href="#å¯åŠ¨jupyter-notebook" class="headerlink" title="å¯åŠ¨jupyter notebook"></a>å¯åŠ¨jupyter notebook</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jupyter notebook ## ç¬¬ä¸€æ¬¡æ‰“å¼€ç”¨ï¼Œè¿™ç§æ‰“å¼€ä¼šéšç€ç½‘é¡µçš„å…³é—­è€Œåœæ­¢è¿è¡Œ</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-011eeae6a7935e1d46ea3dbf4fb2c03b_b.png" alt="img"></p>
<p>æ³¨æ„çº¢æ¡†é‡Œé¢çš„tokenï¼Œæ¥ä¸‹æ¥ä¼šç”¨åˆ°ï¼Œè¿™é‡Œçš„ç«¯å£æ˜¯8888ï¼Œæ˜¯æˆ‘ç¬¬ä¸€æ¬¡é…ç½®çš„ç«¯å£ï¼Œå¿˜è®°æ”¹äº†ï¼ˆä½ åœ¨configæ–‡ä»¶é‡Œæ€ä¹ˆè®¾ç½®çš„ç«¯å£ï¼Œè¿™é‡Œæ˜¾ç¤ºçš„å°±ä¼šæ˜¯ä»€ä¹ˆæ ·ï¼‰</p>
<h3 id="è¿æ¥æµè§ˆå™¨"><a href="#è¿æ¥æµè§ˆå™¨" class="headerlink" title="è¿æ¥æµè§ˆå™¨"></a>è¿æ¥æµè§ˆå™¨</h3><p>æ‰“å¼€ä½ çš„æµè§ˆå™¨è¾“å…¥ä½ çš„å…¬ç½‘ipå’Œåœ¨é…ç½®æ–‡ä»¶é‡Œç¡®å®šçš„ç«¯å£å·ã€‚ä¾‹å¦‚ 12*.*<em>.2</em>:8889æ¥é“¾æ¥ ï¼ˆip+å¼€æ”¾çš„ç«¯å£ï¼‰</p>
<p><img src="https://pic1.zhimg.com/v2-4452ed380dc7f4c2410b8729fd055028_b.png" alt="img"></p>
<p>åœ¨çº¢æ¡†é‡Œè¾“å…¥ä½ çš„tokenï¼Œç›´æ¥å¤åˆ¶ï¼Œç„¶åå°±å¯ä»¥è¿›å…¥ä½ çš„jupyter notebookäº†</p>
<p><img src="https://pic3.zhimg.com/v2-9dd595bfb3f58dfbfee01649d4c44162_b.png" alt="img"></p>
<p>é€šå¸¸æ¥è¯´æ˜¯ç”¨å¦‚ä¸‹æ¥æ‰“å¼€jupyterï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯åœ¨åå°è¿è¡Œ,ç¨‹åºä¸ä¼šéšç€ä½ å…³é—­ç½‘é¡µè€Œæš‚åœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nohup jupyter-notebook &amp;</span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•äºŒï¼šæ˜ å°„ipåˆ°æœ¬åœ°"><a href="#æ–¹æ³•äºŒï¼šæ˜ å°„ipåˆ°æœ¬åœ°" class="headerlink" title="æ–¹æ³•äºŒï¼šæ˜ å°„ipåˆ°æœ¬åœ°"></a>æ–¹æ³•äºŒï¼šæ˜ å°„ipåˆ°æœ¬åœ°</h3><p>åœ¨ä¿è¯ä¹‹å‰çš„configæ–‡ä»¶é…ç½®å®Œæˆåï¼Œè¿›å…¥æœåŠ¡å™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nohup jupyter-notebook --no-browser --port&#x3D;8889</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-2f8493bad3e754d3f882c06a14030581_b.png" alt="img"></p>
<p>ç„¶åæ–°å»ºä¸€ä¸ªçª—å£ï¼Œ<strong>ä¸è¦è¿›å…¥æœåŠ¡å™¨</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh -N -f -L localhost:8889:localhost:8889 root@123.56.56.215</span><br></pre></td></tr></table></figure>
<p>ä¿è¯ä¸¤ä¸ªlocalhostç›¸åŒï¼Œå› ä¸ºæˆ‘ä¹Ÿæä¸æ¸…å“ªä¸ªä»£è¡¨æœ¬åœ°ï¼Œå“ªä¸ªä»£è¡¨äº‘æœåŠ¡å™¨</p>
<p><img src="https://pic1.zhimg.com/v2-2c7e46d6860948d2c83ac9eddee17668_b.png" alt="img"></p>
<p>ç„¶åæ‰“å¼€æµè§ˆå™¨ è¾“å…¥<a class="link"   href="http://localhost:8889/tree" >localhost:8889<i class="fas fa-external-link-alt"></i></a> ä¹Ÿå¯ä»¥è½»æ¾æ‰“å¼€</p>
<p><img src="https://pic1.zhimg.com/v2-0c1cf7886039bd2eef0dac4ac2563e58_b.png" alt="img"></p>
<p>å› ä¸ºä¹Ÿç”¨åˆ°äº†nohupï¼Œæ‰€ä»¥å¹¶ä¸ä¼šéšç€ä½ å…³é—­ç½‘é¡µè€Œåœæ­¢è¿è¡Œ</p>
<p>å¦‚æœåœ¨æœ¬åœ°æ˜ å°„ç«¯å£çš„æ—¶å€™æé†’ç«¯å£å ç”¨å¦‚ä¸‹ï¼Œéœ€è¦æ¸…ç†ç«¯å£ï¼Œè¿è¡Œä¸‹é¢ä»£ç ï¼Œç«¯å£æ”¹æˆå¯¹åº”çš„å°±è¡Œï¼Œç„¶åå†è¾“å…¥ä¸€ä¸‹ä¸Šé¢çš„æ˜ å°„ï¼Œå°±å¯ä»¥é‡æ–°è¿›å…¥</p>
<p><img src="https://pic4.zhimg.com/v2-baef76a58e509e5c8650a22ac5e539ef_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">lsof -ti:8889 | xargs kill -9</span><br></pre></td></tr></table></figure>
<h3 id="ä¸€äº›åŸºæœ¬æ“ä½œï¼Œå¦‚åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå’Œjupyter-æ²¡æœ‰å¤ªå¤§å…³ç³»"><a href="#ä¸€äº›åŸºæœ¬æ“ä½œï¼Œå¦‚åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå’Œjupyter-æ²¡æœ‰å¤ªå¤§å…³ç³»" class="headerlink" title="ä¸€äº›åŸºæœ¬æ“ä½œï¼Œå¦‚åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå’Œjupyter æ²¡æœ‰å¤ªå¤§å…³ç³»"></a>ä¸€äº›åŸºæœ¬æ“ä½œï¼Œå¦‚åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå’Œjupyter æ²¡æœ‰å¤ªå¤§å…³ç³»</h3><p>è™šæ‹Ÿç¯å¢ƒå¯ä»¥éšä¾¿ä½ æŠ˜è…¾ï¼Œä¸ä¼šå½±å“åˆ°æœåŠ¡å™¨å…¶ä»–çš„é…ç½®ï¼Œæåäº†å¤§ä¸äº†åˆ æ‰é‡æ–°æ¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda info --env</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹å½“å‰anacondaçš„ç¯å¢ƒ</p>
<p><img src="https://pic2.zhimg.com/v2-02d41999d1770a66703f7e0e37fb9171_b.png" alt="img"></p>
<p>åˆ›å»ºconda è™šæ‹Ÿç¯å¢ƒï¼Œè¿™é‡Œæ˜¯æŒ‡å®špython3.7</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda create --name python3.7 python&#x3D;3.7 </span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-b09202c2d15eb5c8c6dc7eff27624f09_b.png" alt="img"></p>
<p>å®‰è£…æˆåŠŸåå¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤æ‰“å¼€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda activate python3.7</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-663c168e06a9f8558f7cb4185ddf91c7_b.png" alt="img"></p>
<p>å½“baseå˜æˆä½ çš„è™šæ‹Ÿç¯å¢ƒçš„åç§°ï¼Œåˆ™è¡¨ç¤ºä½ çš„ç¯å¢ƒå·²ç»åˆ›å»ºæˆåŠŸäº†</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>Jupyter_notebook</tag>
        <tag>cloud server</tag>
      </tags>
  </entry>
  <entry>
    <title>2015-2020 ç¾å›½å¸‚åœºç‰›æ²¹æœä»·æ ¼åˆ†æå’Œé¢„æµ‹</title>
    <url>/2021/01/25/2015-2020-%E7%BE%8E%E5%9B%BD%E5%B8%82%E5%9C%BA%E7%89%9B%E6%B2%B9%E6%9E%9C%E4%BB%B7%E6%A0%BC%E5%88%86%E6%9E%90%E5%92%8C%E9%A2%84%E6%B5%8B/</url>
    <content><![CDATA[<p>ä½œä¸ºä¸€ä½ç‰›æ²¹æœèµ„æ·±çˆ±å¥½è€…ï¼Œè‹¦äºç‰›æ²¹æœä»·æ ¼å®åœ¨å¤ªè´µï¼ŒSam åº—ä¸€ä¸ªå“ç›¸ä¿±ä½³çš„å¤§æœè¦8å—é’±ï¼Œé²œæœä¸€å·ä¹‹ç±»ç­‰å…¶ä»–ç²¾å“æ°´æœåº—å±…ç„¶æœ‰çš„è¦å–åˆ°10+ä¸€ä¸ªï¼Œè¿˜æ˜¯ä¸­æœï¼Œç¡¬é‚¦é‚¦ï¼Œä¸æ€ä¹ˆå¥½åƒçš„é‚£ç§ï¼Œç®€ç›´é»‘å¿ƒã€‚</p>
<p>åŒæ—¶å‘¢ï¼Œä½œä¸ºä¸€ä½ç”³è¯·ç¾å¸ç ”ç©¶ç”Ÿçš„å¤§å››ç‹—ï¼Œæˆ‘ä¸¥è‚ƒè®¤çœŸåœ°è¦æŠŠç‰›æ²¹æœä»·æ ¼å› ç´ çº³å…¥åˆ°æˆ‘é€‰æ‹©çš„èŒƒå›´å†…ã€‚åŒæ—¶ï¼Œæˆ‘çœŸçš„å¾ˆå¥½å¥‡ï¼Œç¾å¸ç‰›æ²¹æœçš„ä»·æ ¼æ˜¯å’‹æ ·çš„ã€‚å½“ç„¶æœ€é‡è¦çš„æ˜¯è¦å®Œæˆå½“å‰303å¤§æ•°æ®ä½œä¸šğŸ§ï¼Œå› ä¸ºreportæœ‰ç‚¹å†™ä¸å‡ºæ¥ï¼Œå°±å…ˆå‘ä¸ªä¸“æ æ•´ç†æ•´ç†æ€è·¯ã€‚</p>
<p><img src="https://pic2.zhimg.com/v2-b214bc800969669ea7e7fb985933cbf9_b.png" alt="img"></p>
<p>ä»¥ä¸‹åˆ†æä»¥åŠå¯è§†åŒ–ï¼Œå€Ÿé‰´äº†ä¹‹å‰å¤§ç¥ä»¬çš„åˆ†æï¼šï¼ˆä»–ä»¬åšçš„å›¾çœŸçš„å¥½å¥½çœ‹å•Šï¼ï¼‰</p>
<p><a class="link"   href="https://www.kaggle.com/janiobachmann/price-of-avocados-pattern-recognition-analysis" >https://www.kaggle.com/janiobachmann/price-of-avocados-pattern-recognition-analysis<i class="fas fa-external-link-alt"></i></a></p>
<p>ä½†æ˜¯ä»–ä»¬çš„æ•°æ®é›†æ˜¯ä»2015-2018ï¼Œå·²ç»æœ‰ä¸€äº›å¹´ä»½äº†ï¼Œä¸èƒ½å¦‚å®ååº”å½“ä»Šå¸‚åœºï¼Œå°¤å…¶æ˜¯æ–°å† åçš„å½±å“ã€‚ç¢°å·§æœ‰å¤§ç¥æ›´æ–°äº†æ•°æ®é›†ï¼Œåœ¨åŸæœ‰çš„åŸºç¡€ä¸Šæ–°å¢åˆ°2020.5æœˆçš„ç‰›æ²¹æœæ•°æ®ã€‚åˆ©ç”¨å‰äººç»éªŒï¼Œåšæœªæ¥é¢„æµ‹åˆ†æ</p>
<p><a class="link"   href="https://www.kaggle.com/timmate/avocado-prices-2020" >https://www.kaggle.com/timmate/avocado-prices-2020<i class="fas fa-external-link-alt"></i></a></p>
<p>æ³¨ï¼šæœ¬ç¯‡æ‰€æœ‰åˆ†æé¢„æµ‹éƒ½åœ¨rä¸Šå®Œæˆï¼Œ95%å€ŸåŠ©ggplot2ï¼Œyysyï¼Œråšå›¾çœŸçš„å¥½çœ‹ã€‚é¢„æµ‹éƒ¨åˆ†ï¼Œå·äº†ç‚¹æ‡’ï¼Œç›´æ¥ç”¨çš„æ˜¯Facebookå¼€å‘çš„prophetåŒ…ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰æ¥è§¦è¿‡æ—¶é—´ç›¸å…³çš„é¢„æµ‹ï¼ŒLSTMç›®å‰è¿˜æ²¡æœ‰å­¦åˆ°å®¶ï¼Œä½†ddlåœ¨å‰ï¼Œç­‰æœ‰ç©ºå†ç”¨pythonè¡¥ä¸Šã€‚</p>
<h3 id="ä¸‹è½½å¹¶è¯»å–"><a href="#ä¸‹è½½å¹¶è¯»å–" class="headerlink" title="ä¸‹è½½å¹¶è¯»å–"></a>ä¸‹è½½å¹¶è¯»å–</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df &lt;- read.csv(<span class="string">&quot;/Users/yuxuan/Desktop/INT301-Avocado-prediction/avocado-updated-2020.csv&quot;</span>)</span><br><span class="line">head(df)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-1a37e1a6cb5b98fb02d285c6124c39b8_b.png" alt="img"></p>
<p>å…¶ä¸­ä»¥ä¸‹æ˜¯æˆ‘ä»¬è¿™æ¬¡çš„å®éªŒå¯¹è±¡ - date - è§‚å¯Ÿçš„æ—¶é—´ - average_price - æ¯ä¸€ä¸ªç‰›æ²¹æœçš„å¹³å‡ä»·æ ¼ - total_volume - å½“æ—¥å”®å‡ºäº†å¤šå°‘ç‰›æ²¹æœ - year - å¹´ä»½ï¼ˆDateæ ¼å¼ï¼‰ - type - ç§ç±»ï¼Œæ˜¯æœ‰æœºçš„è¿˜æ˜¯æ™®é€šçš„ - geography - æ•°æ®æ¥æºçš„åœ°åŒº</p>
<p>è‡³äºX4046,X4225,X4770ä»£è¡¨çš„æ˜¯ç‰›æ²¹æœçš„ç§ç±»(PLU code)éƒ½æ˜¯Hass ç‰›æ²¹æœï¼Œåªæ˜¯å¤§å°æœ‰åŒºåˆ«</p>
<p><img src="https://pic3.zhimg.com/v2-b0e4c1ed052387be6ecd17082cf70452_b.png" alt="img"></p>
<h3 id="æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç¼ºå¤±ï¼ˆmissing-valueï¼‰"><a href="#æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç¼ºå¤±ï¼ˆmissing-valueï¼‰" class="headerlink" title="æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç¼ºå¤±ï¼ˆmissing valueï¼‰"></a>æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç¼ºå¤±ï¼ˆmissing valueï¼‰</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sum</span>(<span class="built_in">is.na</span>(df))</span><br></pre></td></tr></table></figure>
<p>å‘ç°æ•°æ®é›†æ— ç¼ºå¤±å€¼</p>
<h3 id="æ ¹æ®ç§ç±»åšdensity-plot"><a href="#æ ¹æ®ç§ç±»åšdensity-plot" class="headerlink" title="æ ¹æ®ç§ç±»åšdensity plot"></a>æ ¹æ®ç§ç±»åšdensity plot</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library(ggplot2)</span><br><span class="line">options(repr.plot.width = <span class="number">8</span>, repr.plot.height = <span class="number">4</span>)</span><br><span class="line">density_plot &lt;- ggplot(df, aes(x=average_price, fill=type))+</span><br><span class="line">  geom_density()+</span><br><span class="line">  facet_wrap(~type)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),legend.position = <span class="string">&quot;bottom&quot;</span>)+</span><br><span class="line">  labs(title = <span class="string">&quot;Avocado Price by type&quot;</span>)+</span><br><span class="line">  scale_fill_brewer(palette = <span class="string">&quot;Set2&quot;</span>)</span><br><span class="line">density_plot</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-ad250b1df684105fa0ec54b4e433d72a_b.png" alt="img"></p>
<p>å›¾ä¸­å¯ä»¥å‘ç°</p>
<ul>
<li>æ™®é€šçš„ç‰›æ²¹æœï¼ˆç»¿è‰²ï¼‰å¤§éƒ¨åˆ†é›†ä¸­åœ¨1$ é™„è¿‘ï¼Œå½¢çŠ¶ä¹Ÿæ¯”è¾ƒé«˜ç˜¦ï¼Œå€¼åŸŸåŒºé—´ç›¸æ¯”ä¹‹ä¸‹ä¹Ÿæ¯”è¾ƒå°</li>
<li>ä½†æœ‰æœºçš„ç‰›æ²¹æœï¼ˆçº¢è‰²ï¼‰åˆ™æ˜¾å¾—æ›´åŠ æ•¦å®ï¼Œå€¼åŸŸä¹Ÿå®½ï¼Œæœ€è´µçš„å±…ç„¶è¦å–åˆ°3$</li>
</ul>
<h3 id="é‡åŒ–å…·ä½“çš„ä¸€äº›æ¯”ç‡"><a href="#é‡åŒ–å…·ä½“çš„ä¸€äº›æ¯”ç‡" class="headerlink" title="é‡åŒ–å…·ä½“çš„ä¸€äº›æ¯”ç‡"></a>é‡åŒ–å…·ä½“çš„ä¸€äº›æ¯”ç‡</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library(dplyr)</span><br><span class="line">vol_type &lt;- df %&gt;% group_by(type) %&gt;% summarise(average_volume = <span class="built_in">round</span>(mean(total_volume),<span class="number">3</span>),average_price = <span class="built_in">round</span>(mean(average_price),<span class="number">3</span>)) %&gt;% mutate(volume_percent= <span class="built_in">round</span>(prop.table(average_volume)*<span class="number">100</span>,<span class="number">3</span>))</span><br><span class="line">vol_type</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>Type</th>
<th>Average Volume</th>
<th>Average Price</th>
<th>Volume percent</th>
</tr>
</thead>
<tbody><tr>
<td>Conventional</td>
<td>1,818,206 (1.8 M)</td>
<td>1.16 $</td>
<td>96.8%</td>
</tr>
<tr>
<td>Organic</td>
<td>60,127 (0.06 M)</td>
<td>1.62 $</td>
<td>3.2%</td>
</tr>
</tbody></table>
<p>ä»è¡¨æ ¼ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°</p>
<ul>
<li>é”€å”®çš„æ™®é€šç‰›æ²¹æœåœ¨å¸‚åœºä»¥å‡ä»·1.16$ï¼ˆ7.58Â¥ï¼‰å æ¯”å±…ç„¶é«˜è¾¾97%</li>
<li>ç›¸æ¯”ä¹‹ä¸‹æœ‰æœºç‰›æ²¹æœ1.62$ (10.58Â¥) å¸‚åœºå æ¯”å¤§æ¦‚åªæœ‰3%</li>
</ul>
<h3 id="2015-2020é—´æ™®é€šå’Œæœ‰æœºç‰›æ²¹æœçš„ä»·æ ¼æ³¢åŠ¨æ›²çº¿"><a href="#2015-2020é—´æ™®é€šå’Œæœ‰æœºç‰›æ²¹æœçš„ä»·æ ¼æ³¢åŠ¨æ›²çº¿" class="headerlink" title="2015-2020é—´æ™®é€šå’Œæœ‰æœºç‰›æ²¹æœçš„ä»·æ ¼æ³¢åŠ¨æ›²çº¿"></a>2015-2020é—´æ™®é€šå’Œæœ‰æœºç‰›æ²¹æœçš„ä»·æ ¼æ³¢åŠ¨æ›²çº¿</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df$date &lt;- as.Date(df$date, <span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Sort the dates and order the datesets in date</span></span><br><span class="line">df &lt;- df[order(df$date),]</span><br><span class="line"></span><br><span class="line"><span class="comment">## Make the plot</span></span><br><span class="line">comparision_plot &lt;- df %&gt;% select(date, average_price, type) %&gt;%</span><br><span class="line">  ggplot(aes(x=date,y=average_price))+</span><br><span class="line">  geom_area(aes(color=type,fill=type),alpha=<span class="number">0.3</span>,position=position_dodge(<span class="number">0.8</span>))+</span><br><span class="line">  theme_bw()+</span><br><span class="line">  scale_color_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#ED7921&quot;</span>,<span class="string">&quot;#62BE51&quot;</span>))+</span><br><span class="line">  scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#FD833E&quot;</span>,<span class="string">&quot;#B8FC5F&quot;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">comparision_plot</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-5e99acd1ce9d879967cc4eb0060ab982_b.png" alt="img"></p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">ggplot(data=df, aes(x=date, y=average_price,col=type))+</span><br><span class="line">  geom_line()+</span><br><span class="line">  facet_wrap(~ type)+</span><br><span class="line">  theme_bw()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;position&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-8566ef8639d6a840e2050238971d3958_b.png" alt="img"></p>
<ul>
<li>æœ‰æœºçš„ä»·æ ¼æ°¸è¿œè¦é«˜äºæ™®é€šçš„</li>
<li>ä»·æ ¼å‘ˆç°æŸç§å­£èŠ‚æ€§çš„æ³¢åŠ¨ï¼Œç¬¦åˆæ°´æœå­£èŠ‚æ€§æ³¢åŠ¨çš„å¸¸è¯†</li>
<li>æ˜¯å¦å’Œé”€å”®çš„é‡å‘ˆç°å…³è”ï¼Œä¸‹æ–‡æ¢ç´¢</li>
</ul>
<h3 id="2015-2020å¹´é—´çš„ç‰›æ²¹æœæ€»çš„ä»·æ ¼åˆ†å¸ƒ"><a href="#2015-2020å¹´é—´çš„ç‰›æ²¹æœæ€»çš„ä»·æ ¼åˆ†å¸ƒ" class="headerlink" title="2015-2020å¹´é—´çš„ç‰›æ²¹æœæ€»çš„ä»·æ ¼åˆ†å¸ƒ"></a>2015-2020å¹´é—´çš„ç‰›æ²¹æœæ€»çš„ä»·æ ¼åˆ†å¸ƒ</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">ggplot(seasonal_df,aes(x=average_price,fill=as.factor(year)))+</span><br><span class="line">geom_density(alpha=<span class="number">0.5</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">facet_wrap(~year)+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">guides(fill=<span class="literal">FALSE</span>)+</span><br><span class="line">labs(title = <span class="string">&quot;Distribution of Prices by year&quot;</span>,x=<span class="string">&#x27;Average Price&#x27;</span>,y=<span class="string">&#x27;Density&#x27;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#DA4511&quot;</span>, <span class="string">&quot;#FFBD00&quot;</span>, <span class="string">&quot;#6A953F&quot;</span>, <span class="string">&quot;#9A6233&quot;</span>, <span class="string">&quot;#D3AE7C&quot;</span>, <span class="string">&quot;#307CA1&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-8173974e3831c052bfb0ee0bbb1bd384_b.png" alt="img"></p>
<ul>
<li>6å¹´é—´çš„ä»·æ ¼åˆ†å¸ƒï¼Œå…¶ä¸­2017å¹´æœ€æˆæ­£æ€åˆ†å¸ƒçš„å½¢çŠ¶ï¼Œé«˜ç«¯å’Œä½ç«¯ç‰›æ²¹æœéƒ½åœ¨å¸‚åœºåˆ†ä¸€æ¯ç¾¹</li>
</ul>
<h3 id="ä»·æ ¼æ³¢åŠ¨æ›²çº¿å’Œç‰›æ²¹æœå”®å–çš„é‡å…³ç³»"><a href="#ä»·æ ¼æ³¢åŠ¨æ›²çº¿å’Œç‰›æ²¹æœå”®å–çš„é‡å…³ç³»" class="headerlink" title="ä»·æ ¼æ³¢åŠ¨æ›²çº¿å’Œç‰›æ²¹æœå”®å–çš„é‡å…³ç³»"></a>ä»·æ ¼æ³¢åŠ¨æ›²çº¿å’Œç‰›æ²¹æœå”®å–çš„é‡å…³ç³»</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library(ggplot2)</span><br><span class="line">library(ggthemes)</span><br><span class="line">library(cowplot)</span><br><span class="line"></span><br><span class="line">options(repr.plot.width=<span class="number">8</span>, repr.plot.height=<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## average-price with time series</span></span><br><span class="line">conventional_monthly &lt;- conventional %&gt;%</span><br><span class="line">    ggplot(aes(x=date,y=average_price))+</span><br><span class="line">    geom_line(color=<span class="string">&quot;#5C374C&quot;</span>)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill = <span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">    labs(title = <span class="string">&quot;Conventional Avocados&quot;</span>)+</span><br><span class="line">    geom_hline(yintercept = <span class="built_in">max</span>(conventional$average_price),linetype=<span class="string">&quot;dashed&quot;</span>,color = <span class="string">&quot;red&quot;</span>)+</span><br><span class="line">    geom_hline(yintercept = <span class="built_in">min</span>(conventional$average_price),linetype=<span class="string">&quot;dashed&quot;</span>,color = <span class="string">&quot;blue&quot;</span>)</span><br><span class="line"></span><br><span class="line">organic_monthly &lt;- organic %&gt;%</span><br><span class="line">    ggplot(aes(x=date,y=average_price))+</span><br><span class="line">    geom_line(color=<span class="string">&quot;#58D68D&quot;</span>)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill = <span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">    labs(title = <span class="string">&quot;Organic Avocados&quot;</span>)+</span><br><span class="line">    geom_hline(yintercept = <span class="built_in">max</span>(organic$average_price),linetype=<span class="string">&quot;dashed&quot;</span>,color = <span class="string">&quot;red&quot;</span>)+</span><br><span class="line">    geom_hline(yintercept = <span class="built_in">min</span>(organic$average_price),linetype=<span class="string">&quot;dashed&quot;</span>,color = <span class="string">&quot;blue&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## create a volume chart</span></span><br><span class="line">conventional_volume &lt;- conventional %&gt;%</span><br><span class="line">    ggplot(aes(x=date,y=total_volume))+</span><br><span class="line">    geom_bar(stat = <span class="string">&#x27;identity&#x27;</span>,fill=<span class="string">&quot;#7FB3D5&quot;</span>,color=<span class="string">&quot;black&quot;</span>)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill = <span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">    geom_smooth(method = <span class="string">&quot;loess&quot;</span>,color=<span class="string">&quot;red&quot;</span>)</span><br><span class="line"></span><br><span class="line">organic_volume &lt;- organic %&gt;%</span><br><span class="line">    ggplot(aes(x=date,y=total_volume))+</span><br><span class="line">    geom_bar(stat = <span class="string">&#x27;identity&#x27;</span>,fill=<span class="string">&#x27;#58D68D&#x27;</span>,color=<span class="string">&quot;black&quot;</span>)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill = <span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">    geom_smooth(method = <span class="string">&quot;loess&quot;</span>,color =<span class="string">&quot;red&quot;</span>)</span><br><span class="line"></span><br><span class="line">plot_grid(conventional_monthly,organic_monthly,conventional_volume,organic_volume,nrow = <span class="number">2</span>,ncol = <span class="number">2</span>,labels = <span class="built_in">c</span>(<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-98f4720367c6e80038c4819fa35cd94c_b.png" alt="img"></p>
<ul>
<li>ä¸ºäº†æ‰¾åˆ°å­£èŠ‚æ€§è§„å¾‹ï¼ˆseasonal patternsï¼‰æˆ‘å°†å¹³å‡å”®ä»·å’Œé”€å”®é‡ä»¥æœˆä¸ºå•ä½è¿›è¡Œç»Ÿè®¡åˆ†æ</li>
<li>A,Bå›¾ä»£è¡¨çš„éƒ½æ˜¯ä»¥æœˆä¸ºå•ä½çš„å¹³å‡é”€å”®ä»·æ ¼ï¼ˆmonthlyï¼‰ï¼Œè“çº¿ä»£è¡¨æœ€å°å€¼ï¼ˆminï¼‰çº¢çº¿ä»£è¡¨æœ€å¤§å€¼ï¼ˆmaxï¼‰</li>
<li>æ™®é€šç‰›æ²¹æœæœ€è´µçš„ä¸€ä¸ªæœˆä¹Ÿå°±1.8$ï¼Œæœ€ä¾¿å®œçš„ä¸€ä¸ªæœˆ0.82$ï¼›æœ‰æœºçš„æœ€è´µè¦2.1$ï¼Œæœ€ä¾¿å®œçš„ä¹Ÿè¦1.21$</li>
<li>C,Dä»£è¡¨çš„æ˜¯ä»¥æœˆä¸ºå•ä½çš„é”€é‡ï¼Œçº¢çº¿ä»£è¡¨çš„æ˜¯è¶‹åŠ¿</li>
<li>ç¾å¸äººæ°‘å¯¹ç‰›æ²¹æœçš„çˆ±æ˜¯ä¸€è´¯çš„ï¼Œé”€é‡å‘ˆé€å¹´ä¸Šå‡çš„è¶‹åŠ¿ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯æ™®é€šç‰›æ²¹æœ</li>
<li>19-20å¹´ï¼Œå¯èƒ½ç”±äºç»æµå½¢åŠ¿ä¸‹æ»‘ä»¥åŠ20å¹´åçš„æ–°å† ç–«æƒ…ï¼Œå¯¹æœ‰æœºç‰›æ²¹æœçš„éœ€æ±‚å‡å°‘ï¼Œæœªèƒ½åƒæ™®é€šç‰›æ²¹æœä¸€æ ·æŒç»­å¢é•¿</li>
<li>æœˆé”€é‡ä¹Ÿå‘ˆç°æŸç§å­£èŠ‚æ€§è§„å¾‹ï¼Œéœ€è¦æ¥ä¸‹æ¥çš„ä»”ç»†åˆ†æ</li>
</ul>
<h3 id="2015-2020å¹´é—´ä»¥æœˆä¸ºå•ä½æ¯”è¾ƒé”€é‡å’Œä»·æ ¼"><a href="#2015-2020å¹´é—´ä»¥æœˆä¸ºå•ä½æ¯”è¾ƒé”€é‡å’Œä»·æ ¼" class="headerlink" title="2015-2020å¹´é—´ä»¥æœˆä¸ºå•ä½æ¯”è¾ƒé”€é‡å’Œä»·æ ¼"></a>2015-2020å¹´é—´ä»¥æœˆä¸ºå•ä½æ¯”è¾ƒé”€é‡å’Œä»·æ ¼</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="comment">## Process the data into year and month format</span></span><br><span class="line">library(forecast)</span><br><span class="line">seasonal_df &lt;- read.csv(<span class="string">&quot;/Users/yuxuan/Desktop/INT303-Avocado-prediction/avocado-updated-2020.csv&quot;</span>)</span><br><span class="line">seasonal_df$month_year &lt;- format(as.Date(seasonal_df$date),<span class="string">&quot;%Y-%m&quot;</span>)</span><br><span class="line">seasonal_df$month &lt;- format(as.Date(seasonal_df$date),<span class="string">&quot;%m&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Change the month from a Date format into a numerical foramt, then convert to the three letter format</span></span><br><span class="line">seasonal_df$monthabb &lt;- sapply(seasonal_df$month, <span class="keyword">function</span> (x) <span class="built_in">month.abb</span>[<span class="built_in">as.numeric</span>(x)])</span><br><span class="line">seasonal_df$monthabb &lt;- factor(seasonal_df$monthabb,levels=<span class="built_in">month.abb</span>)</span><br><span class="line">seasonal_df$monthabb &lt;- factor(seasonal_df$monthabb)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Set the figure size</span></span><br><span class="line">options(repr.plot.width=<span class="number">10</span>,repr.plot.height=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Analyze the price by month</span></span><br><span class="line"></span><br><span class="line">conv_price &lt;- seasonal_df %&gt;% select(type,year,monthabb,average_price) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(average_price))</span><br><span class="line"></span><br><span class="line">org_price &lt;- seasonal_df %&gt;% select(type,year,monthabb,average_price) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(average_price))</span><br><span class="line"></span><br><span class="line">conv_price &lt;- ts(conv_price$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line">org_price &lt;- ts(org_price$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Analyze the volume by month</span></span><br><span class="line">conv_volume &lt;- seasonal_df %&gt;% select(type,year,monthabb,total_volume) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(total_volume))</span><br><span class="line"></span><br><span class="line">org_volume &lt;- seasonal_df %&gt;% select(type,year,monthabb,total_volume) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(total_volume))</span><br><span class="line"></span><br><span class="line">conv_volume &lt;- ts(conv_volume$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line">org_volume &lt;- ts(org_volume$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">byyearplot_price_conv &lt;- ggseasonplot(conv_price,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average conventional Avocados price \n by year for each month&quot;</span>, y=<span class="string">&quot;Average Price&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_price_org &lt;- ggseasonplot(org_price,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average organic Avocados price \n by year for each month&quot;</span>, y=<span class="string">&quot;Average Price&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_volume_conv &lt;- ggseasonplot(conv_volume,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average conventional Avocados volume \n by year for each month&quot;</span>, y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_volume_org &lt;- ggseasonplot(org_volume,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average organic Avocados volume by year \n for each month&quot;</span>, y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">plot_grid(byyearplot_price_conv,byyearplot_price_org,byyearplot_volume_conv,byyearplot_volume_org,nrow = <span class="number">2</span>,ncol = <span class="number">2</span>,labels = <span class="built_in">c</span>(<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-fed30f65509677d2328dbd5b0a81a78c_b.png" alt="img"></p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">options(repr.plot.width=<span class="number">10</span>,repr.plot.height=<span class="number">8</span>)</span><br><span class="line">conv_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x=monthabb, y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Conventional Avocados&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">organic_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(average_price)) %&gt;%</span><br><span class="line">ggplot(aes(x=monthabb,y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Organic Avocados&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">whole_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x=monthabb,y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;All Avocados&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plot_grid(conv_patterns,organic_patterns,whole_patterns,nrow = <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-f41fce3780e70ee85fb08df929b3b3c9_b.png" alt="img"></p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">conv_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(total_volume)) %&gt;%</span><br><span class="line">  ggplot(aes(x=monthabb, y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Conventional Avocados volume&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">organic_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(total_volume)) %&gt;%</span><br><span class="line">ggplot(aes(x=monthabb,y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Organic Avocados volume&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">whole_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(total_volume)) %&gt;%</span><br><span class="line">  ggplot(aes(x=monthabb,y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;All Avocados volume&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plot_grid(conv_patterns_vol,organic_patterns_vol,whole_patterns_vol,nrow = <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-d48e337b98047f36cd14b43be68879a3_b.png" alt="img"></p>
<ul>
<li>ç»¼åˆæ¥è¯´ï¼Œæ¯å¹´çš„9ï¼Œ10 æœˆä»½ç‰›æ²¹æœçš„å¹³å‡ä»·æ ¼ä¼šè¾¾åˆ°ä¸€å¹´ä¸­çš„æœ€é«˜å€¼ï¼Œ2æœˆè¾¾åˆ°ä¸€å¹´çš„æœ€ä½å€¼</li>
<li>å¯¹äºé”€é‡æ¥è¯´ï¼Œç¾å›½äººå–œæ¬¢åœ¨2æœˆå’Œ5æœˆè´­ä¹°ç‰›æ²¹æœï¼Œ11æœˆä»½ä¹°ç‰›æ²¹æœçš„æ„æ„¿æœ€ä½</li>
<li>æŸ¥èµ„æ–™å¯å¾—ï¼Œç‰›æ²¹æœä¸€èˆ¬åœ¨8ï¼Œ9æœˆä»½æˆç†Ÿæ”¶è·ï¼ŒåŠ ä¸Šé‡‡æ‘˜ï¼ŒåŒ…è£…å’Œè¿è¾“æ—¶é—´æ‰€ä»¥ä¼šæœ‰ä¸€å®šçš„å»¶è¿Ÿï¼Œå¯ä»¥çœ‹è§å›¾ä¸­çš„å…«æœˆéƒ½æ˜¯å‘ˆç°ä¸Šå‡è¶‹åŠ¿ã€‚</li>
<li>å¯ä»¥å‘ç°é”€å”®é‡å’Œä»·æ ¼å‘ˆç°ä¸€å®šçš„è´Ÿç›¸å…³ï¼Œè¿™ç¬¦åˆæˆ‘ä»¬çš„å¸¸è¯†ï¼Œäººä»¬å–œæ¬¢åœ¨ä»·æ ¼ä½çš„æ—¶å€™è´­ä¹°ï¼Œè€Œä¸€æ ·æ°´æœæˆ–è€…è”¬èœåˆ™ä¼šåœ¨åˆšä¸Šå¸‚æ—¶ä»·æ ¼é€æ­¥ä¸Šå‡ï¼Œè¾¾åˆ°æœ€é«˜ï¼Œç„¶åå†ä¸‹é™</li>
<li>ä¸ºä»€ä¹ˆéšç€é‡‡æ‘˜ä¾›åº”å’Œä»·æ ¼ä¼šæˆä¸€å®šçš„æ­£ç›¸å…³ï¼Ÿæˆ‘çš„çŒœæµ‹æ˜¯ï¼Œå°±åƒè‹å·äººè¯´çš„â€œæ—¶é²œè´§â€ï¼Œåˆšåˆšæ‘˜ä¸‹çš„ç‰›æ²¹æœè‚¯å®šæ˜¯åˆå¤§åˆå¥½æœ‰æ–°é²œï¼Œè€Œä¸”å‰ä¸€å¹´çš„é‡å·²ç»æ¶ˆè€—çš„å·®ä¸å¤šäº†ï¼Œæ‰€ä»¥ä»·æ ¼ä¼šæœ‰ä¸€é˜µå­çš„ä¸Šæ¶¨ï¼Œç„¶åä¸‹æ¢ï¼Œç¬¦åˆå›¾ä¸­çš„è¶‹åŠ¿èµ°å‘</li>
<li>ä¹Ÿå¯ä»¥æ¸…æ™°çš„çœ‹è§ï¼Œé”€é‡çš„ç¡®æ˜¯é€å¹´å¢åŠ çš„ï¼Œå¤§æ¦‚ç‡æ˜¯ç½‘çº¢ä¸é—ä½™åŠ›çš„å®£ä¼ ï¼Œå°†ç‰›æ²¹æœä½œä¸ºå¥åº·æ´»åŠ›ï¼Œfashionçš„ä»£åè¯ã€‚è¿™è·¯å­çš„ç¡®æ˜¯æ­£ç¡®çš„ï¼Œå› ä¸ºç¾å›½äººæ°‘æ¶ˆè€—çš„ç‰›æ²¹æœæ€»çš„æ¥è¯´é€å¹´é€’å¢</li>
</ul>
<h3 id="2015-2020-ä»¥å­£èŠ‚ä¸ºå•ä½åˆ†æç‰›æ²¹æœä»·æ ¼å’Œé”€é‡"><a href="#2015-2020-ä»¥å­£èŠ‚ä¸ºå•ä½åˆ†æç‰›æ²¹æœä»·æ ¼å’Œé”€é‡" class="headerlink" title="2015-2020 ä»¥å­£èŠ‚ä¸ºå•ä½åˆ†æç‰›æ²¹æœä»·æ ¼å’Œé”€é‡"></a>2015-2020 ä»¥å­£èŠ‚ä¸ºå•ä½åˆ†æç‰›æ²¹æœä»·æ ¼å’Œé”€é‡</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">options(repr.plot.width=<span class="number">10</span>,repr.plot.height=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## seperate the month into four seasons</span></span><br><span class="line">seasonal_df$season &lt;- ifelse(seasonal_df$month %in% <span class="built_in">c</span>(<span class="string">&quot;03&quot;</span>,<span class="string">&quot;04&quot;</span>,<span class="string">&quot;05&quot;</span>),<span class="string">&quot;Spring&quot;</span>,</span><br><span class="line">ifelse(seasonal_df$month %in% <span class="built_in">c</span>(<span class="string">&quot;06&quot;</span>,<span class="string">&quot;07&quot;</span>,<span class="string">&quot;08&quot;</span>),<span class="string">&quot;Summer&quot;</span>,</span><br><span class="line">ifelse(seasonal_df$month %in% <span class="built_in">c</span>(<span class="string">&quot;09&quot;</span>,<span class="string">&quot;10&quot;</span>,<span class="string">&quot;11&quot;</span>),<span class="string">&quot;Autumn&quot;</span>,<span class="string">&quot;Winter&quot;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment">## Prepare to analyze the results</span></span><br><span class="line">seasonality_plot_conventional_price &lt;- seasonal_df %&gt;% select(season,year,average_price,type) %&gt;% filter(type ==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(season,year) %&gt;% summarise(avg=mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x=season,y=avg,color=season))+</span><br><span class="line">  geom_segment(aes(x=season,xend=season,y=<span class="number">0</span>,yend=avg),show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Conventional Avocados average price by Season&quot;</span>,x=<span class="string">&quot;&quot;</span>,y=<span class="string">&quot;Average price&quot;</span>)+</span><br><span class="line">  geom_text(aes(x=season,y=<span class="number">0.01</span>,label=paste0(<span class="string">&quot;$ &quot;</span>,<span class="built_in">round</span>(avg,<span class="number">2</span>))),hjust=-<span class="number">0.5</span>,vjust=-<span class="number">0.5</span>,size=<span class="number">4</span>,color=<span class="string">&quot;black&quot;</span>,fontface=<span class="string">&#x27;italic&#x27;</span>,angle=<span class="number">360</span>)</span><br><span class="line"></span><br><span class="line">seasonality_plot_conventional_volume &lt;- seasonal_df %&gt;% select(season,year,total_volume,type) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(season,year) %&gt;% summarise(avg=<span class="built_in">round</span>(mean(total_volume/<span class="number">1000000</span>),<span class="number">2</span>)) %&gt;%</span><br><span class="line">  ggplot(aes(x=season,y=avg,color=season))+</span><br><span class="line">  geom_segment(aes(x=season,xend=season,y=<span class="number">0</span>,yend=avg),show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Conventional Avocados total volume by Season&quot;</span>,x=<span class="string">&quot;&quot;</span>,y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">  geom_text(aes(x=season,y=<span class="number">0.01</span>,label=paste0(avg,<span class="string">&quot; m&quot;</span>)),hjust=-<span class="number">0.5</span>,vjust=-<span class="number">0.5</span>,size=<span class="number">4</span>,color=<span class="string">&quot;black&quot;</span>,fontface=<span class="string">&#x27;italic&#x27;</span>,angle=<span class="number">360</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#plot_grid(seasonality_plot_conventional_price,seasonality_plot_conventional_volume,nrow = 2)</span></span><br><span class="line"></span><br><span class="line">seasonality_plot_organic_price &lt;- seasonal_df %&gt;% select(season,year,average_price,type) %&gt;% filter(type ==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(season,year) %&gt;% summarise(avg=mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x=season,y=avg,color=season))+</span><br><span class="line">  geom_segment(aes(x=season,xend=season,y=<span class="number">0</span>,yend=avg),show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Organic Avocados average price by Season&quot;</span>,x=<span class="string">&quot;&quot;</span>,y=<span class="string">&quot;Average price&quot;</span>)+</span><br><span class="line">  geom_text(aes(x=season,y=<span class="number">0.01</span>,label=paste0(<span class="string">&quot;$ &quot;</span>,<span class="built_in">round</span>(avg,<span class="number">2</span>))),hjust=-<span class="number">0.5</span>,vjust=-<span class="number">0.5</span>,size=<span class="number">4</span>,color=<span class="string">&quot;black&quot;</span>,fontface=<span class="string">&#x27;italic&#x27;</span>,angle=<span class="number">360</span>)</span><br><span class="line"></span><br><span class="line">seasonality_plot_organic_volume &lt;- seasonal_df %&gt;% select(season,year,total_volume,type) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(season,year) %&gt;% summarise(avg=<span class="built_in">round</span>(mean(total_volume/<span class="number">1000000</span>),<span class="number">2</span>)) %&gt;%</span><br><span class="line">  ggplot(aes(x=season,y=avg,color=season))+</span><br><span class="line">  geom_segment(aes(x=season,xend=season,y=<span class="number">0</span>,yend=avg),show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Organic Avocados total volume by Season&quot;</span>,x=<span class="string">&quot;&quot;</span>,y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">  geom_text(aes(x=season,y=<span class="number">0.01</span>,label=paste0(avg,<span class="string">&quot; m&quot;</span>)),hjust=-<span class="number">0.5</span>,vjust=-<span class="number">0.5</span>,size=<span class="number">4</span>,color=<span class="string">&quot;black&quot;</span>,fontface=<span class="string">&#x27;italic&#x27;</span>,angle=<span class="number">360</span>)</span><br><span class="line"></span><br><span class="line">plot_grid(seasonality_plot_conventional_price,seasonality_plot_organic_price,seasonality_plot_conventional_volume,seasonality_plot_organic_volume,nrow = <span class="number">2</span>,ncol = <span class="number">2</span>,labels = <span class="built_in">c</span>(<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-f6a063580538fb3100cdad2577de62b7_b.png" alt="img"></p>
<ul>
<li>æ˜¥ï¼ˆ3-5ï¼‰ï¼Œå¤ï¼ˆ6-8ï¼‰ï¼Œç§‹ï¼ˆ9-11ï¼‰ï¼Œå†¬ï¼ˆ12-2ï¼‰</li>
<li>A,B ä»£è¡¨çš„æ˜¯ç‰›æ²¹æœçš„å¹³å‡ä»·æ ¼ï¼Œä»¥æœ‰æœºå’Œéæœ‰æœºåˆ’åˆ†ï¼›C,D ä»£è¡¨çš„åˆ™æ˜¯é”€é‡ï¼ŒåŒæ ·ä»¥æœ‰æœºå’Œéæœ‰æœºåˆ’åˆ†ï¼Œmä»£è¡¨millionç™¾ä¸‡</li>
<li>æ€»çš„æ¥è¯´ï¼Œæ˜¥å†¬å­£ä¹°ç‰›æ²¹æœæ¯”è¾ƒåˆ’ç®—ï¼Œå‡ä»·æœ€ä½ï¼ŒåŒæ ·ä¹Ÿååº”åœ¨äº†é”€é‡ä¸Šï¼Œæ˜¥å¤é”€é‡æœ€é«˜ï¼Œå› ä¸ºç‰›æ²¹æœè‡ªä»8ï¼Œ9æœˆä»½æˆç†Ÿä»¥åå·²ç»å¤§é‡å……æ–¥äº†å¸‚åœºï¼Œæ‰€ä»¥ä»·æ ¼ä¼šæ¯”è¾ƒä½ï¼Œå¸å¼•è¾ƒå¤šçš„ä¹°å®¶ï¼Œç›´åˆ°ä¸‹ä¸€æ‰¹ç‰›æ²¹æœçš„æˆç†Ÿ</li>
</ul>
<h3 id="ç‰›æ²¹æœä»·æ ¼å’ŒåŸå¸‚çš„å…³ç³»"><a href="#ç‰›æ²¹æœä»·æ ¼å’ŒåŸå¸‚çš„å…³ç³»" class="headerlink" title="ç‰›æ²¹æœä»·æ ¼å’ŒåŸå¸‚çš„å…³ç³»"></a>ç‰›æ²¹æœä»·æ ¼å’ŒåŸå¸‚çš„å…³ç³»</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library(forcats)</span><br><span class="line">geo_conv_price &lt;- seasonal_df %&gt;% select(geography,average_price,type) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(geography)%&gt;%  summarise(avg=<span class="built_in">round</span>(mean(average_price),<span class="number">2</span>)) %&gt;% arrange(avg) %&gt;% slice(<span class="number">1</span>:<span class="number">6</span>)  %&gt;% mutate(geography=fct_reorder(geography,desc(avg))) %&gt;%</span><br><span class="line">  ggplot(aes(x=geography,y=avg))+</span><br><span class="line">  geom_bar(stat = <span class="string">&quot;identity&quot;</span>,position = <span class="string">&quot;dodge&quot;</span>,alpha=<span class="number">.6</span>,width =<span class="number">.4</span>,show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  geom_text(aes(label=avg),vjust=<span class="number">1.5</span>,color=<span class="string">&#x27;black&#x27;</span>,size=<span class="number">5</span>)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(title = element_text(hjust = <span class="number">0.6</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Conventional Avocados average price by geography&quot;</span>,x=<span class="string">&quot;Geography place&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">geo_org_price &lt;- seasonal_df %&gt;% select(geography,average_price,type) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(geography)%&gt;%  summarise(avg=<span class="built_in">round</span>(mean(average_price),<span class="number">2</span>)) %&gt;% arrange(avg) %&gt;% slice(<span class="number">1</span>:<span class="number">6</span>) %&gt;% mutate(geography=fct_reorder(geography,desc(avg))) %&gt;%</span><br><span class="line">  ggplot(aes(x=geography,y=avg))+</span><br><span class="line">  geom_bar(stat = <span class="string">&quot;identity&quot;</span>,position = <span class="string">&quot;dodge&quot;</span>,alpha=<span class="number">.6</span>,width =<span class="number">.4</span>,show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  geom_text(aes(label=avg),vjust=<span class="number">1.5</span>,color=<span class="string">&#x27;black&#x27;</span>,size=<span class="number">5</span>)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(title = element_text(hjust = <span class="number">0.6</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Organic Avocados average price by geography&quot;</span>,x=<span class="string">&quot;Geography place&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">plot_grid(geo_conv_price,geo_org_price,nrow = <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-e321eb850172731dfd4954af3186fb90_b.png" alt="img"></p>
<ul>
<li>é€šè¿‡è®¡ç®—è¿”å›å‰å…­ä½çš„åœ°åŒºå’ŒåŸå¸‚</li>
<li>ä»¥éæœ‰æœºä¸ºä¾‹ï¼šè²å°¼å…‹æ–¯ï¼ˆå‡¤å‡°åŸï¼‰ï¼Œä¼‘æ–¯é¡¿ï¼Œè¾¾æ‹‰æ–¯ï¼Œä¸­å—éƒ¨åŸå¸‚ç¾¤ï¼Œæ–°å¢¨è¥¿å“¥æ´²ï¼ŒNashvilleï¼ˆé è¿‘å°ç¬¬å®‰çº³æ´²ï¼‰</li>
<li>é€šè¿‡åœ°å›¾æŸ¥è¯¢ï¼Œå‰äº”ä¸ªéƒ½åœ¨ç¾å›½çš„ä¸­è¥¿éƒ¨ï¼Œé è¿‘å¢¨è¥¿å“¥</li>
<li>é€šè¿‡æŸ¥è¯¢ï¼Œç‰›æ²¹æœåŸäº§åœ°å¢¨è¥¿å“¥ï¼Œç¾å›½ä»·æ ¼æœ€ä½çš„å‰5ä¸ªåŸå¸‚å¾ˆæœ‰å¯èƒ½æ˜¯ç§æ¤ç‰›æ²¹æœçš„åŸºåœ°ï¼Œæ‰€ä»¥ç‰›æ²¹æœä»·æ ¼ä¾¿å®œ</li>
<li>ç»´åŸºç™¾ç§‘ä¸Šè¯´ä¹‹å‰åŠ å·å’Œä½›ç½—é‡Œè¾¾æ˜¯ç‰›æ²¹æœçš„ä¸»äº§åœ°ï¼Œä½†éšç€æ°´èµ„æºçš„ä»·æ ¼ä¸Šæ¶¨ï¼Œç‰›æ²¹æœäº§åœ°å‘ç”Ÿäº†å†™åç§»ï¼Œæˆ‘åˆç†æ€€ç–‘æ˜¯å‘ç€ä¸Šè¿°åœ°ç‚¹å‰ä¸€ï¼Œå‰äº”ä¸ªåŸå¸‚ï¼Œå¤§è‡´éƒ½åˆ†å¸ƒåœ¨åŒä¸€ä¸ªçº¬åº¦ä¸Š</li>
<li>ä¸‹é¢çš„é“¾æ¥è¯´çš„æ˜¯ç¾å›½ç°é˜¶æ®µç‰›æ²¹æœç§æ¤åœ°æ–¹ï¼Œæåˆ°äº†åœ£å®‰ä¸œå°¼å¥¥ï¼Œä¹Ÿæ˜¯ä¸­è¥¿éƒ¨çš„åŸå¸‚ï¼Œæ¯—é‚»ä¼‘æ–¯é¡¿ï¼Œè¾¾æ‹‰æ–¯ï¼Œå› ä¸ºæ°”å€™å¾ˆåƒå¢¨è¥¿å“¥ï¼Œé€‚åˆç‰›æ²¹æœç§æ¤ï¼Œå¹¶ä¸”æ·¡æ°´ç›¸å¯¹ä¾¿å®œ</li>
</ul>
<p><a class="link"   href="https://www.hunker.com/12003820/in-what-areas-of-the-united-states-can-you-grow-an-avocado-treewww.hunker.com" >https://www.hunker.com/12003820/in-what-areas-of-the-united-states-can-you-grow-an-avocado-treewww.hunker.com<i class="fas fa-external-link-alt"></i></a></p>
<ul>
<li>è¿™é‡Œæˆ‘ç”¨Google mapå°†ä¸Šè¿°å…­ä¸ªåŸå¸‚ç»™æ ‡æ³¨å‡ºæ¥äº†ï¼Œçš„ç¡®æ˜¯è¿‘ä¼¼å¤„äºåŒä¸€çº¬åº¦ï¼Œç‰›æ²¹æœå‰äº”ä¾¿å®œçš„åŸå¸‚çš„ç¡®é è¿‘å¢¨è¥¿å“¥</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-47ade01c452baebea532f2cbe6ba6eb6_b.png" alt="img"></p>
<h3 id="ç‰›æ²¹æœä»·æ ¼é¢„æµ‹å’Œèµ°åŠ¿å›¾"><a href="#ç‰›æ²¹æœä»·æ ¼é¢„æµ‹å’Œèµ°åŠ¿å›¾" class="headerlink" title="ç‰›æ²¹æœä»·æ ¼é¢„æµ‹å’Œèµ°åŠ¿å›¾"></a>ç‰›æ²¹æœä»·æ ¼é¢„æµ‹å’Œèµ°åŠ¿å›¾</h3><p><a class="link"   href="https://facebook.github.io/prophet/docs/quick_start.html" >Quick Start<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library(prophet)</span><br><span class="line">library(cowplot)</span><br><span class="line">library(gridExtra)</span><br><span class="line">library(ggplot2)</span><br><span class="line">library(ggpubr)</span><br><span class="line">library(devtools)</span><br><span class="line"><span class="comment">## Select and filter the data and fit the model</span></span><br><span class="line">price_predict &lt;- df %&gt;% select(date,average_price) %&gt;% group_by(date) %&gt;% summarise(avg=mean(average_price))</span><br><span class="line">colnames(price_predict) &lt;- <span class="built_in">c</span>(<span class="string">&#x27;ds&#x27;</span>,<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">model &lt;- prophet(price_predict,daily.seasonality = <span class="literal">TRUE</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## make prediction or forecast the results</span></span><br><span class="line">future &lt;- make_future_dataframe(model,periods = <span class="number">365</span>)</span><br><span class="line">forecast &lt;- predict(model,future)</span><br><span class="line">plot(model,forecast)+</span><br><span class="line">theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Avocados price prediction in next year&quot;</span>,x=<span class="string">&quot;year&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">trend &lt;- prophet_plot_components(model,forecast)</span><br><span class="line"></span><br><span class="line">year_trend &lt;- trend[<span class="number">1</span>]</span><br><span class="line">month_trend &lt;- trend[<span class="number">3</span>]</span><br><span class="line">week_trend &lt;- trend[<span class="number">2</span>]</span><br><span class="line">time_trend &lt;- trend[<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">overall_trend &lt;- <span class="built_in">c</span>(year_trend,month_trend,week_trend,time_trend)</span><br><span class="line">ggarrange(plotlist = overall_trend, labels = <span class="built_in">c</span>(<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-cf7950b7694282962ed49a75959649ca_b.png" alt="img"></p>
<ul>
<li>åˆ©ç”¨Facebookå¼€å‘çš„prophetåŒ…è¿›è¡Œæ—¶é—´åºåˆ—ä¸Šçš„ä»·æ ¼é¢„æµ‹</li>
<li>å¯ä»¥çœ‹è§ä»·æ ¼è¿˜æ˜¯ä¼šå‘ˆç°ä¸€ä¸ªå­£èŠ‚æ€§æ³¢åŠ¨ï¼Œä½†æ˜¯ä»·æ ¼å¯èƒ½ä¼šèµ°ä½</li>
<li>è”ç³»åˆ°å½“å‰æ–°å† ç–«æƒ…åœ¨ç¾å›½çš„ç–¯ç‹‚çˆ†å‘ï¼Œç‰›æ²¹æœé”€é‡ä¸‹æ»‘æ˜¯å¿…ç„¶çš„ï¼Œèµ°åŠ¿å‘ä¸‹ä¹Ÿç¬¦åˆé¢„æœŸ</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-507cf3a3836444e22b9f081ef35f7b3b_b.png" alt="img"></p>
<ul>
<li>prophetåŒ…è‡ªå¸¦çš„åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®æ—¶é—´ï¼Œç»†åŒ–åˆ°æ¯ä¸€å¤©ä»¥å°æ—¶ä¸ºå•ä½çš„æ—¶é—´é¢„æµ‹</li>
<li>Aå›¾æ˜¯ä»¥å¹´ä¸ºå•ä½çš„åˆ†æé¢„æµ‹ï¼šä»15å¹´å¼€å§‹ï¼Œç‰›æ²¹æœçš„ä»·æ ¼ä¸€ç›´ä¿æŒæ­£å¢é•¿ï¼Œ17å¹´æ˜¯ç–¯ç‹‚çš„ä¸€å¹´ï¼Œä»¥é«˜äº1.30çš„å¹…åº¦å¿«é€Ÿå¢é•¿ï¼Œè¿™ä¹Ÿåº”å’Œäº†æˆ‘çš„ä¸ªäººæ„Ÿå—ï¼Œå› ä¸ºæˆ‘å°±æ˜¯17å¹´æ‰çŸ¥é“è¿™ç§æ°´æœï¼Œä¹Ÿå°±æ˜¯è¯´ç½‘çº¢å…¬å¸åœ¨è¿™ä¸€å¹´å¤§å¹…åº¦çš„ç–¯ç‹‚å®£ä¼ è¿™æ¬¾æ°´æœï¼Œç„¶ååœ¨ä»·æ ¼ä¸Šç‚’çš„è¶Šæ¥æ„ˆé«˜ã€‚18å¹´åä»·æ ¼å¢é€Ÿè¶‹äºç¨³å®šï¼Œç¨³å®šåœ¨æ¯å¹´1.28å·¦å³å¢é•¿ï¼›è‡³äºæœªæ¥çš„ä¸€å¹´ï¼Œprophetä¹Ÿç»™å‡ºäº†è‡ªå·±çš„é¢„æµ‹ï¼ŒåŒºé—´å¤§æ¦‚åœ¨[1.20-1.34]ã€‚è€ƒè™‘åˆ°åŒ—ç¾æ–°å† ç–«æƒ…çš„å½±å“ï¼Œæˆ‘è§‰å¾—å¾ˆæœ‰å¯èƒ½ä¼šä»¥1.20å·¦å³ï¼Œä½†ä»ç„¶æ˜¯æ­£å¢é•¿ï¼Œæ®æˆ‘åœ¨æ¨ç‰¹ä¸Šè§‚å¯Ÿï¼ŒåŒ—ç¾åƒç¦§å¹´ä¸€ä»£å¯¹ç‰›æ²¹æœä»ç„¶æ˜¯éå¸¸éå¸¸å–œæ¬¢ï¼Œå„ç§å¯çˆ±æœ‰è¶£çš„æ¼«ç”»æ˜¯å±‚å‡ºä¸ç©·ã€‚æˆ‘ç›¸ä¿¡2020å¹´ç‰›æ²¹æœçš„ä»·æ ¼ä»ç„¶ä¸Šæ¶¨ï¼Œåªæ˜¯å¢é€Ÿæ”¾ç¼“</li>
<li>Bå›¾æ˜¯ä»¥æœˆä¸ºå•ä½çš„åˆ†æï¼Œå¯ä»¥çœ‹è§åœ¨5æœˆä»½ï¼Œä»·æ ¼è½¬ä¸ºæ­£å¢é•¿ï¼ŒæŒç»­åˆ°10æœˆä»½ï¼Œä»·æ ¼è¾¾åˆ°å³°å€¼ï¼Œéšåä»·æ ¼å¼€å§‹ä¸‹è·Œï¼Œåˆ°æ¥å¹´çš„2æœˆä»½è¾¾åˆ°ä½ç‚¹ï¼Œç¬¦åˆä¹‹å‰çš„åˆ†æ</li>
<li>Cå›¾æ˜¯ä»¥æ¯å‘¨ä¸ºå•ä½åˆ†æï¼Œç‰›æ²¹æœåœ¨å‘¨æœ«ä»·æ ¼æœ€é«˜ï¼Œç¬¦åˆç¾å›½å®¶åº­å‘¨æœ«åœ¨å‘¨æœ«è¿›è¡Œå¤§é‡‡è´­çš„ä¹ æƒ¯ï¼Œæ‰€ä»¥é‚£ä¸¤å¤©ï¼Œä»·æ ¼ä¹Ÿæœ€é«˜</li>
<li>Då›¾æ˜¯ä»¥æ¯å¤©æ¥åˆ†æï¼Œæ²¡æœ‰å‚è€ƒæ„ä¹‰ï¼Œå› ä¸ºæˆ‘çš„æ•°æ®é›†å°±æ²¡æœ‰è¿™ä¸ªå¸¦å°æ—¶ä¸ºå•ä½çš„æ—¶é—´</li>
</ul>
<p>å®Œæ•´ç‰ˆçš„ä»£ç è¯·åœ¨GitHubä¸‹è½½</p>
<p><a class="link"   href="https://github.com/yuxuanwu17/INT303-Avocado-prediction" >https://github.com/yuxuanwu17/INT303-Avocado-prediction<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>R</category>
      </categories>
      <tags>
        <tag>kaggle</tag>
        <tag>EDA</tag>
        <tag>R</tag>
      </tags>
  </entry>
  <entry>
    <title>IntelliJ IDEA è°ƒè¯•é…ç½®Hadoop</title>
    <url>/2021/01/26/IntelliJ-IDEA-%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AEHadoop/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ˜¯ç›®å‰ä¸ºæ­¢æœ€ç®€å•ï¼Œä¹Ÿä¸éœ€è¦é…Hadoopç¯å¢ƒä¹‹ç±»çš„æ•™ç¨‹ï¼Œä½†æ˜¯å¦‚æœæ˜¯xjtluçš„å°ä¼™ä¼´ï¼Œå¯èƒ½å°±ä¸å¤ªåˆé€‚ï¼Œå› ä¸ºè€å¸ˆå¥½åƒæ˜¯è¦æ±‚å†™å‡ºhdfsçš„æ“ä½œçš„ä»£ç çš„ï¼Œè¿™å„¿å¯ä»¥å‚è€ƒé˜¿é‡Œäº‘ç¬¬äºŒå¼¹ã€‚</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/269047002" >lonerï¼šä»é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨å®‰è£…HadoopåŠç¯å¢ƒé…ç½®<i class="fas fa-external-link-alt"></i></a></p>
<p>æˆ‘ä»¬ä»Šå¤©è¿™ç¯‡æ–‡ç« æ˜¯ç­‰ä»·äºä»¥ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œæ¥è¿è¡Œwordcount.javaè¿™ä¸ªæ–‡ä»¶çš„</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/271772216" >lonerï¼šé˜¿é‡Œäº‘Hadoopç¬¬äºŒå¼¹ï¼ˆè¿è¡ŒWordCountï¼‰<i class="fas fa-external-link-alt"></i></a></p>
<p>åœ¨ç¬¬äºŒå¼¹é‡Œé¢ï¼Œæ ¸å¿ƒçš„æ€è·¯å°±æ˜¯ï¼Œåœ¨HDFSä¸Šåˆ›å»ºæ–‡ä»¶ï¼Œæœ¬åœ°ä¸Šä¼ æ–‡ä»¶ï¼Œè¿åŒä½ çš„scriptï¼Œç„¶ååœ¨æœåŠ¡å™¨é‡Œç”¨javac compileå‡ºä½ çš„classesï¼Œç„¶åæ‰“åŒ…æˆä¸€ä¸ªjaråŒ…ï¼Œç„¶ååœ¨Hadoopä¸Šè¿è¡ŒjaråŒ…ï¼Œç„¶ååŒæ ·ä¹Ÿæ˜¯ç”¨Hadoopå‘½ä»¤æŸ¥çœ‹ä½ çš„ç»“æœã€‚æ­¥éª¤æ˜¾å¾—éå¸¸ç¹ç</p>
<p>ä½†æ˜¯ï¼Œåœ¨æˆ‘æ³¨å†Œå®Œï¼ˆç™½å«–å®Œï¼‰IntelliJ IDEAçš„ä¸“ä¸šç‰ˆåï¼Œä»–ä¼šæé†’ä½ éœ€ä¸éœ€è¦è£…big data toolsè¿™ä¸ªç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œç„¶åæˆ‘å·¨ç›¯ç€ä¸‹é¢è¿™è¡Œèœå•æ é™·å…¥æ²‰æ€ï¼Œè‚¯å®šå¯ä»¥æœ‰é‚£ç§ä¸€é”®runï¼Œç„¶åç”Ÿæˆoutputçš„æ–¹å¼ã€‚</p>
<p><img src="https://pic2.zhimg.com/v2-ad79047cd3d9615c024eef12ef8131ad_b.png" alt="img"></p>
<p>è‡³äºä¸ºä»€ä¹ˆä¸ç”¨eclipseï¼Œå› ä¸ºå®ƒå®åœ¨å¤ªä¸‘äº†ï¼ˆè°è¿˜ä¸æ˜¯ä¸ªé¢œç‹—å‘¢ğŸ¤ªï¼‰</p>
<p>æˆ‘é¦–å…ˆæ€»ç»“ä¸‹Hadoopçš„ä¸‰ç§è¿è¡Œæ¨¡å¼</p>
<p>1ã€‚ å•æœºæ¨¡å¼</p>
<p>2ã€‚ ä¼ªåˆ†å¸ƒæ¨¡å¼</p>
<p>3ã€‚ å®Œå…¨åˆ†å¸ƒæ¨¡å¼</p>
<p>ä¹‹å‰çš„ä¸‰ç¯‡æ–‡ç« å…¶å®æ­å»ºçš„éƒ½æ˜¯ä¼ªåˆ†å¸ƒæ¨¡å¼Hadoopçš„å®‰è£…ã€‚ä½†å®é™…ä¸ŠåŸºäºHadoopçš„MapReduceç¨‹åºåœ¨æœ¬åœ°ç¨‹åºä¸Šå°±å®Œå…¨å¯ä»¥è¿è¡Œï¼Œå¹¶ä¸ä¸€å®šéœ€è¦ä¼ªåˆ†å¸ƒæ¨¡å¼ï¼Œç”šè‡³è¿Hadoopéƒ½ä¸ä¸€å®šéœ€è¦å®‰è£…ã€‚åœ¨å•æœºæ¨¡å¼ä¸‹ï¼Œå¯ä»¥å°†MapReduceçš„ç¨‹åºå½“æˆä¸€ä¸ªæ™®æ™®é€šé€šçš„javaç¨‹åºã€‚åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©é¡¹ç›®ç®¡ç†å·¥å…·Mavenã€‚è¿™é‡Œå°±ä¸ç”¨å¯¼å…¥å„ç§ä¾èµ–ï¼Œåªéœ€è¦ä¸€é”®å¯¼å…¥pomæ–‡ä»¶ï¼ˆå…¶ä¸­åˆ¶å®šäº†Hadoopä¾èµ–åŒ…çš„åå­—å’Œç‰ˆæœ¬å·ï¼‰ï¼Œå°±ä¸éœ€è¦åœ¨èŠ±é¢å¤–çš„æ—¶é—´çº ç¼ åœ¨å„ç§ä¾èµ–ä¸Šï¼Œåªéœ€è¦ä¸“é—¨focusåœ¨ä½ çš„ä»£ç ç¼–å†™ä¸Šäº†</p>
<p>è¿™é‡Œæ’ä¸€å¥ï¼šæœ‰å¾ˆå¤šå°ä¼™ä¼´é—®æˆ‘é˜¿é‡Œäº‘æ•™ç¨‹ä¸€æ­¥æ­¥åšäº†ï¼Œä¸ºå•¥è¿˜æ˜¯è£…ä¸ä¸Šï¼Œå„ç§æ‰¾ä¸åˆ°å•Šï¼Œæˆ–è€…æŠ¥é”™ã€‚</p>
<p>1ã€‚ä»£ç ä¸€è¡Œè¡Œè¿è¡Œï¼Œä¸è¦å…¨éƒ¨å¤åˆ¶ï¼Œå› ä¸ºterminalé‡Œé¢æ¯•ç«Ÿæ˜¯ä¸€è¡Œè¡Œè¿è¡Œçš„ï¼Œè‹¥å¤åˆ¶å‡ è¡Œï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå‡ºé”™ï¼Œæ¯”å¦‚æŸä¸€è¡Œå¿˜è®°è¿è¡Œäº†</p>
<p>2ã€‚å¦‚æœæ˜¯é˜¿é‡Œäº‘ï¼Œè®°ä½ï¼Œé‡ç½®ç³»ç»ŸèŠ±çš„æ—¶é—´è¿œæ¯”debugè¦çš„èŠ±çš„æ—¶é—´å°‘ï¼Œå¦‚æœä½ åªæ˜¯å®Œæˆä½œä¸šï¼Œè¯·å¤§èƒ†é‡ç½®ï¼Œå¦‚æœä½ æœ‰å¾ˆå¤šæ—¶é—´ï¼Œä¸”å¾ˆæœ‰å…´è¶£ï¼Œå¯ä»¥å¤§èƒ†çš„å»æœå»ç ”ç©¶ï¼Œå¯¹Linuxç¯å¢ƒçš„ç†è§£ä¼šå¾ˆæœ‰å¸®åŠ©</p>
<p>è¿›å…¥æ­£é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªprojectï¼Œå¹¶ä¸”é€‰æ‹©mavenã€‚</p>
<p><img src="https://pic3.zhimg.com/v2-0dd014d30b19d6f721aaa250fb0db85e_b.png" alt="img"></p>
<p>ä»€ä¹ˆæ˜¯mavenï¼Œå¯ä»¥åœ¨ä¸‹é¢é“¾æ¥æŸ¥çœ‹ï¼Œä»¥åŠæˆ‘å½“æ—¶å‚è€ƒçš„æ•™ç¨‹ã€‚è¿™é‡Œéå¸¸æ„Ÿè°¢ç»™äºˆå¸®åŠ©çš„éƒ­åŒå­¦ï¼Œå› ä¸ºä¹‹å‰å®Œå…¨æ²¡æ¥è§¦è¿‡è¿™äº›åªæ˜¯ï¼Œå•¥éƒ½ä¸æ‡‚ï¼Œéå¸¸æ„Ÿè°¢ä»–æ‰‹æŠŠæ‰‹æ•™æˆ‘ï¼Œç„¶åé‡æ–°çœ‹ä¸‹é¢çš„æ“ä½œï¼Œå°±å¾ˆå¥½ç†è§£ï¼ˆPS:xmlçš„æ ¼å¼ä¸€å®šè¦å®Œå…¨å¤åˆ¶ï¼Œæˆ‘ä¹‹å‰é…ç½®Hadoopç¯å¢ƒçš„æ—¶å€™ç¢°åˆ°ä¸€ä¸ªé—®é¢˜å°±æ˜¯å®ƒxmlæ ¼å¼ä¸Šä¸‹ä¸æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œ/åšåŒºåˆ†ï¼‰</p>
<p><img src="https://pic3.zhimg.com/v2-845fd7e89d7577c7401ac9516214ab5e_b.png" alt="img"></p>
<p><a class="link"   href="https://www.polarxiong.com/archives/Hadoop-Intellij%E7%BB%93%E5%90%88Maven%E6%9C%AC%E5%9C%B0%E8%BF%90%E8%A1%8C%E5%92%8C%E8%B0%83%E8%AF%95MapReduce%E7%A8%8B%E5%BA%8F-%E6%97%A0%E9%9C%80%E6%90%AD%E8%BD%BDHadoop%E5%92%8CHDFS%E7%8E%AF%E5%A2%83.html" >Hadoop: Intellijç»“åˆMavenæœ¬åœ°è¿è¡Œå’Œè°ƒè¯•MapReduceç¨‹åº (æ— éœ€æ­è½½Hadoopå’ŒHDFSç¯å¢ƒ)<i class="fas fa-external-link-alt"></i></a></p>
<p>è¾“å…¥åç§°åç»§ç»­ï¼Œä»€ä¹ˆéƒ½ä¸è¦æ”¹ï¼Œç„¶åè¿›å…¥æ–°åˆ›å»ºçš„projectï¼Œåˆå§‹çŠ¶æ€å¦‚ä¸‹</p>
<p><img src="https://pic3.zhimg.com/v2-cad571284695667153a3ef735b0eea6a_b.png" alt="img"></p>
<p>ç„¶åä¸‹é¢å¯¼å…¥æˆ‘ä»¬çš„pomæ–‡ä»¶ï¼Œè·¯å¾„ä¾èµ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span><br><span class="line">         xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">         xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0 http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line"></span><br><span class="line">    &lt;groupId&gt;org.example&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;Hadoop&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">    &lt;build&gt;</span><br><span class="line">        &lt;plugins&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">                &lt;configuration&gt;</span><br><span class="line">                    &lt;source&gt;6&lt;&#x2F;source&gt;</span><br><span class="line">                    &lt;target&gt;6&lt;&#x2F;target&gt;</span><br><span class="line">                &lt;&#x2F;configuration&gt;</span><br><span class="line">            &lt;&#x2F;plugin&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">                &lt;configuration&gt;</span><br><span class="line">                    &lt;source&gt;6&lt;&#x2F;source&gt;</span><br><span class="line">                    &lt;target&gt;6&lt;&#x2F;target&gt;</span><br><span class="line">                &lt;&#x2F;configuration&gt;</span><br><span class="line">            &lt;&#x2F;plugin&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">                &lt;configuration&gt;</span><br><span class="line">                    &lt;source&gt;7&lt;&#x2F;source&gt;</span><br><span class="line">                    &lt;target&gt;7&lt;&#x2F;target&gt;</span><br><span class="line">                &lt;&#x2F;configuration&gt;</span><br><span class="line">            &lt;&#x2F;plugin&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">                &lt;configuration&gt;</span><br><span class="line">                    &lt;source&gt;7&lt;&#x2F;source&gt;</span><br><span class="line">                    &lt;target&gt;7&lt;&#x2F;target&gt;</span><br><span class="line">                &lt;&#x2F;configuration&gt;</span><br><span class="line">            &lt;&#x2F;plugin&gt;</span><br><span class="line">        &lt;&#x2F;plugins&gt;</span><br><span class="line">    &lt;&#x2F;build&gt;</span><br><span class="line"></span><br><span class="line">    &lt;repositories&gt;</span><br><span class="line">        &lt;repository&gt;</span><br><span class="line">            &lt;id&gt;apache&lt;&#x2F;id&gt;</span><br><span class="line">            &lt;url&gt;http:&#x2F;&#x2F;maven.apache.org&lt;&#x2F;url&gt;</span><br><span class="line">        &lt;&#x2F;repository&gt;</span><br><span class="line">    &lt;&#x2F;repositories&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.apache.hadoop&lt;&#x2F;groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;hadoop-core&lt;&#x2F;artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.2.1&lt;&#x2F;version&gt;</span><br><span class="line">        &lt;&#x2F;dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.apache.hadoop&lt;&#x2F;groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;hadoop-common&lt;&#x2F;artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.2.1&lt;&#x2F;version&gt;</span><br><span class="line">        &lt;&#x2F;dependency&gt;</span><br><span class="line">    &lt;&#x2F;dependencies&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>ä¼šåœ¨å³ä¸Šè§’çº¢æ¡†å†…å‡ºç°è¿™ä¸ªï¼Œç‚¹å‡»loade pom changeï¼Œç„¶åHadoopä¼šè‡ªåŠ¨å¸®ä½ é…ç½®å®Œæˆï¼Œç¬¬ä¸€æ¬¡å¯èƒ½éœ€è¦ç‚¹æ—¶é—´ï¼Œç­‰å®ƒcompileå®Œï¼Œä½ å°±å®Œæˆä¸€å¤§åŠäº†ã€‚</p>
<p><img src="https://pic3.zhimg.com/v2-db0ce18da28171db469974f9a0ab68d2_b.png" alt="img"></p>
<p>ä¸‹æ¥ä¹¦å†™ä½ çš„WordCount.java </p>
<p>é¦–å…ˆåˆ›é€ ä¸€ä¸ªjavaï¼Œè·¯å¾„æ˜¯åœ¨src/main/javaåº•ä¸‹new ä¸€ä¸ªjavaï¼Œclass name å«WordCount,ç„¶åè¿™é‡Œå¯¼å…¥æˆ‘ä¹‹å‰å†™çš„WordCount.java</p>
<p><img src="https://pic4.zhimg.com/v2-78d15bbd7925f9bddae8c6ec8015c6c7_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.StringTokenizer;</span><br><span class="line"></span><br><span class="line">import org.apache.hadoop.conf.Configuration;</span><br><span class="line">import org.apache.hadoop.fs.Path;</span><br><span class="line">import org.apache.hadoop.io.IntWritable;</span><br><span class="line">import org.apache.hadoop.io.Text;</span><br><span class="line">import org.apache.hadoop.mapreduce.Job;</span><br><span class="line">import org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line">import org.apache.hadoop.mapreduce.Reducer;</span><br><span class="line">import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;</span><br><span class="line">import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</span><br><span class="line"></span><br><span class="line">public class WordCount &#123;</span><br><span class="line"></span><br><span class="line">    public static class TokenizerMapper</span><br><span class="line">            extends Mapper&lt;Object, Text, Text, IntWritable&gt;&#123;</span><br><span class="line"></span><br><span class="line">        private final static IntWritable one &#x3D; new IntWritable(1);</span><br><span class="line">        private Text word &#x3D; new Text();</span><br><span class="line"></span><br><span class="line">        public void map(Object key, Text value, Context context</span><br><span class="line">        ) throws IOException, InterruptedException &#123;</span><br><span class="line">            StringTokenizer itr &#x3D; new StringTokenizer(value.toString());</span><br><span class="line">            while (itr.hasMoreTokens()) &#123;</span><br><span class="line">                word.set(itr.nextToken());</span><br><span class="line">                context.write(word, one);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static class IntSumReducer</span><br><span class="line">            extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; &#123;</span><br><span class="line">        private IntWritable result &#x3D; new IntWritable();</span><br><span class="line"></span><br><span class="line">        public void reduce(Text key, Iterable&lt;IntWritable&gt; values,</span><br><span class="line">                           Context context</span><br><span class="line">        ) throws IOException, InterruptedException &#123;</span><br><span class="line">            int sum &#x3D; 0;</span><br><span class="line">            for (IntWritable val : values) &#123;</span><br><span class="line">                sum +&#x3D; val.get();</span><br><span class="line">            &#125;</span><br><span class="line">            result.set(sum);</span><br><span class="line">            context.write(key, result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws Exception &#123;</span><br><span class="line">        Configuration conf &#x3D; new Configuration();</span><br><span class="line">        Job job &#x3D; Job.getInstance(conf, &quot;word count&quot;);</span><br><span class="line">        job.setJarByClass(WordCount.class);</span><br><span class="line">        job.setMapperClass(TokenizerMapper.class);</span><br><span class="line">        job.setCombinerClass(IntSumReducer.class);</span><br><span class="line">        job.setReducerClass(IntSumReducer.class);</span><br><span class="line">        job.setOutputKeyClass(Text.class);</span><br><span class="line">        job.setOutputValueClass(IntWritable.class);</span><br><span class="line">        FileInputFormat.addInputPath(job, new Path(args[0]));</span><br><span class="line">        FileOutputFormat.setOutputPath(job, new Path(args[1]));</span><br><span class="line">        System.exit(job.waitForCompletion(true) ? 0 : 1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸‹æ¥éœ€è¦é…ç½®è¿è¡Œï¼Œé€‰æ‹©application</p>
<p><img src="https://pic1.zhimg.com/v2-94a80fe5f6a100e331e2cd30918f5808_b.png" alt="img"></p>
<p><img src="https://pic2.zhimg.com/v2-c83dbde658707eb3ef7955ba02e34a61_b.png" alt="img"></p>
<p>é€‰æ‹©applicationåéœ€è¦é…ç½®å¦‚ä¸‹ï¼Œnameéšæ„ï¼Œæœ€é‡è¦çš„æ˜¯Main class: ä¿è¯åå­—å’Œä½ newçš„javaæ–‡ä»¶åå­—ä¸€è‡´ï¼Œinputå’Œoutputæ˜¯ç­‰ä¼šè¦æ”¾å…¥çš„æ–‡ä»¶ï¼Œè¾“å…¥å’Œè¾“å‡º</p>
<p><img src="https://pic2.zhimg.com/v2-620013b2b632c38fee81735517ab9d69_b.png" alt="img"></p>
<p>é…ç½®è¾“å…¥æ–‡ä»¶</p>
<p>è¿™é‡Œæˆ‘åˆšåˆšåœ¨configurationé‡Œé¢å†™äº†æˆ‘çš„è¾“å…¥æ–‡ä»¶å«inputï¼Œéœ€è¦é…ç½®è¾“å…¥è·¯å¾„ï¼Œè¿™é‡Œåœ¨ï¼ˆsrcåŒçº§ç›®å½•ä¸‹ï¼‰æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹inputï¼Œå¹¶ä¸”æŠŠä½ éœ€è¦è¾“å…¥çš„æ–‡ä»¶æ”¾è¿›å»ï¼Œè¿™å„¿è¿˜æ˜¯ä¹‹å‰çš„pg100.txt</p>
<p><img src="https://pic1.zhimg.com/v2-ad377d58ed8fd1a421ef3c9af0f9b280_b.png" alt="img"></p>
<p>é¢å¤–ï¼Œæˆ‘ä»¬éœ€è¦åœ¨File-&gt;Project Structureï¼ˆæˆ–è€…macå¿«æ·é”®command+;)å°†language levelè°ƒæ•´ä¸º7ï¼Œç„¶åç‚¹å³ä¸‹è§’ok</p>
<p><img src="https://pic2.zhimg.com/v2-bb93bed4ab015cdd6031b639195f1e79_b.png" alt="img"></p>
<p>è¿è¡Œå’Œè°ƒè¯•</p>
<p>ç›´æ¥ç‚¹å³ä¸Šè§’çš„run</p>
<p><img src="https://pic1.zhimg.com/v2-b47e1c1b0a5ab1c032016956abd83188_b.png" alt="img"></p>
<p>ä¼šå‡ºç°å¦‚ä¸‹æƒ…å†µ</p>
<p><img src="https://pic2.zhimg.com/v2-294c4ed3ae9673755c5f6b46cbe59c19_b.png" alt="img"></p>
<p>æ³¨æ„ï¼šè¿™é‡Œçš„çº¢å­—ä¸æ˜¯æŠ¥é”™ï¼Œä¸è¦æ…Œï¼</p>
<p><img src="https://pic4.zhimg.com/v2-363633fe92ac4dda9f9f572ede3cc123_b.png" alt="img"></p>
<p>è¿è¡ŒæˆåŠŸåï¼Œä½ çš„æ–‡ä»¶ä¼šå‡ºç°ä¸€ä¸ªoutputçš„æ–‡ä»¶ï¼Œç”±äºoutputçš„å…ˆå¤©ç‰¹æ€§ï¼Œå®ƒæ— æ³•è¦†ç›–ï¼Œæ‰€ä»¥ä¸‹æ¬¡è¿è¡Œçš„æ—¶å€™è¯·åˆ é™¤ä¹‹å‰çš„é‚£ä¸ªï¼Œæˆ–è€…ä½ æ”¹ä¸ªåå­—ï¼ˆæˆ‘åæ¥å¥½åƒçœ‹è§è¿™ä¸ªå¯ä»¥ç”¨å…¶ä»–æ–¹æ³•è¦†ç›–çš„ï¼Œè¿™é‡Œå°±ä¸åšæ¶‰åŠï¼‰</p>
<p><img src="https://pic3.zhimg.com/v2-f7308af1cc604837f179edbf26a8b492_b.png" alt="img"></p>
<p>æ‰“å¼€part-r-00000ï¼Œä¼šå‡ºç°ä½ Hadoopè¿è¡Œçš„ç»“æœ</p>
<p><img src="https://pic4.zhimg.com/v2-87c20a09d5c68150c7374947e2f54bcf_b.png" alt="img"></p>
<p>åˆ°ç°åœ¨ä¸ºï¼Œç”¨IDEAé…ç½®Hadoopå·²ç»å…¨éƒ¨å®Œæˆäº†ã€‚</p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>IntelliJ IDEA</tag>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨å®‰è£…HadoopåŠç¯å¢ƒé…ç½®</title>
    <url>/2021/01/26/%E4%BB%8E%E9%98%BF%E9%87%8C%E4%BA%91%E8%BD%BB%E9%87%8F%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85Hadoop%E5%8F%8A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>çŸ¥ä¹é¦–æ¬¡å†™æ–‡ç« ï¼Œæ³è¯·å¤§å®¶å¤šå¤šæ‹…å¾…</p>
<p>æœ¬äººæ˜¯ä¸€åå¤§å››ç”Ÿç‰©ä¿¡æ¯çš„å­¦ç”Ÿï¼Œåœ¨å¤§æ•°æ®è¯¾ä¸Šï¼Œè€å¸ˆéœ€è¦æˆ‘ä»¬é…ç½®Hadoopå»å¤„ç†ä¸€äº›ä¸œè¥¿ã€‚ç½‘ä¸Šçš„ä¸€äº›æ•™ç¨‹äº’ç›¸å†²çªï¼Œè®°å½•ä¸€ä¸‹è¿™ä¸ªä»å¤´å¯ä»¥å®Œå…¨è¿è¡ŒæˆåŠŸçš„æ•™ç¨‹</p>
<ol>
<li>è´­ä¹°æœåŠ¡å™¨</li>
</ol>
<p>å› ä¸ºæœ¬äººä½¿ç”¨çš„ä»ç„¶æ˜¯14å¹´çš„MBPï¼Œæ€•éšéšä¾¿ä¾¿è£…ä¸ªæ–°ç³»ç»ŸæŠŠç”µè„‘ç»™æŠ˜è…¾åäº†ï¼Œè¿™é‡Œè´­ä¹°çš„æ˜¯äº‘æœåŠ¡å™¨ï¼Œè¿™é‡Œé¦–æ¨é˜¿é‡Œäº‘ã€‚</p>
<p>è‹¥æ‚¨æ˜¯å¸¸å¹´ä½¿ç”¨è°·æ­Œæœç´¢ï¼Œè¯·æ³¨æ„å…³é—­æ¢¯å­ï¼Œå› ä¸ºé˜¿é‡Œäº‘æ˜¯æœ‰å›½å†…å›½å¤–ä¸¤ä¸ªç³»ç»Ÿï¼Œå„è‡ªç‹¬ç«‹ï¼Œè™½ç„¶å¢™å¤–çš„æœåŠ¡å™¨å¯ä»¥å…è´¹è¯•ç”¨2ä¸ªæœˆï¼Œä½†å„ç§å®åè®¤è¯æ˜¯ç»•ä¸å¼€çš„ã€‚</p>
<p>è‹¥æ‚¨æ˜¯å­¦ç”Ÿï¼Œé˜¿é‡Œäº‘æœ‰ä¸€ä¸ªå¼€å‘è€…æˆé•¿è®¡åˆ’ï¼Œä¸“é—¨é’ˆå¯¹åœ¨æ ¡å¤§å­¦ç”Ÿï¼Œä¹Ÿå°±æ˜¯æ•™è‚²ä¼˜æƒ ã€‚éå¸¸ä¾¿å®œï¼Œåªéœ€è¦9.5ä¸€ä¸ªæœˆ</p>
<p><a class="link"   href="https://developer.aliyun.com/plan/grow-up" >é˜¿é‡Œäº‘å¼€å‘è€…æˆé•¿è®¡åˆ’<i class="fas fa-external-link-alt"></i></a></p>
<p><img src="https://pic1.zhimg.com/v2-b9cf2d24d57aa3e715020e3f6e38cd1c_b.png" alt="img"></p>
<p>\2. æœåŠ¡å™¨é€‰æ‹©å’Œé…ç½®</p>
<p>è¿™é‡Œé€‰æ‹©çš„æ˜¯è½»é‡æœåŠ¡å™¨ï¼Œç³»ç»Ÿé•œåƒå’Œåº”ç”¨é•œåƒä¸éœ€è¦æ”¹å˜ï¼Œä¿æŒé»˜è®¤å€¼å°±è¡Œï¼ˆWordPress, CentOS 7.3ï¼‰</p>
<p><img src="https://pic2.zhimg.com/v2-12c765376ed1ffb827435c4047b8a671_b.png" alt="img"></p>
<p>è¿™é‡Œéœ€è¦è®¾ç½®rootæƒé™å’Œå¯†ç </p>
<p>è®¾ç½®æˆåŠŸåé€šè¿‡æœ¬åœ°terminalï¼ˆMACï¼‰æˆ–è€…cmdï¼ˆWindowsï¼‰æ¥æ„å»ºssh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh root@****</span><br></pre></td></tr></table></figure>
<p>ç„¶åè¾“å…¥ä¹‹å‰è®¾ç½®çš„rootçš„æƒé™çš„å¯†ç ï¼ˆæ³¨æ„ï¼šè¿™é‡Œçš„å¯†ç æ˜¯ä¸ä¼šæœ‰ä»»ä½•æ˜¾ç¤ºçš„ï¼‰</p>
<p><img src="https://pic1.zhimg.com/v2-af9e75a4cb07870aa8373b4671862198_b.png" alt="img"></p>
<p>è‹¥å‡ºç°ä¸Šå›¾çš„æƒ…å†µï¼Œéœ€è¦æ¸…ç†ä¸€ä¸‹ä¹‹å‰çš„key</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -R XX.XX.XX.XX</span><br></pre></td></tr></table></figure>
<p>ç„¶åå†æ¬¡ç”¨sshè¿æ¥ï¼Œç„¶åyes</p>
<p><img src="https://pic2.zhimg.com/v2-e12d923ff1d5a1f5f75c86ee11fd447d_b.png" alt="img"></p>
<p>å¥½ï¼Œåˆ°æ­¤æˆ‘ä»¬è¿›å…¥åˆ°äº†é˜¿é‡Œäº‘çš„æœåŠ¡å™¨</p>
<p>\3. æˆ‘ä»¬å¼€å§‹é…ç½®javaç¯å¢ƒ</p>
<p>é¦–å…ˆä¸‹è½½javaçš„jdk</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;download.java.net&#x2F;openjdk&#x2F;jdk8u41&#x2F;ri&#x2F;openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz</span><br></pre></td></tr></table></figure>
<p>ç„¶åè§£å‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tar -zxvf openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz</span><br></pre></td></tr></table></figure>
<p>ç§»åŠ¨ä½ç½®å¹¶ä¸”é…ç½®javaè·¯å¾„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mv java-se-8u41-ri&#x2F; &#x2F;usr&#x2F;java8</span><br><span class="line">echo &#39;export JAVA_HOME&#x3D;&#x2F;usr&#x2F;java8&#39; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class="line">echo &#39;export PATH&#x3D;$PATH:$JAVA_HOME&#x2F;bin&#39; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class="line">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>
<p>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-85701c9548e5c31b2faaf569c31eed48_b.png" alt="img"></p>
<p>è¿™æ˜¯ç†æƒ³æƒ…å†µï¼Œè‹¥å®‰è£…æˆåŠŸä¼šå‡ºç°å¦‚ä¸‹ç»“æœ</p>
<p>\4. æˆ‘ä»¬è¿›è¡ŒHadoopçš„å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;apache&#x2F;hadoop&#x2F;common&#x2F;hadoop-2.9.2&#x2F;hadoop-2.9.2.tar.gz</span><br></pre></td></tr></table></figure>
<p>è¿™å„¿æ˜¯æ¸…åçš„é•œåƒæºï¼Œå›½å†…çš„å°ä¼™ä¼´ä¸‹è½½æ¯”è¾ƒå¿«</p>
<p>æŒ‰ç…§æƒ¯ä¾‹è§£å‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tar -zxvf hadoop-2.9.2.tar.gz -C &#x2F;opt&#x2F;</span><br><span class="line">mv &#x2F;opt&#x2F;hadoop-2.9.2 &#x2F;opt&#x2F;hadoop</span><br></pre></td></tr></table></figure>
<p>é…ç½®åœ°å€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &#39;export HADOOP_HOME&#x3D;&#x2F;opt&#x2F;hadoop&#x2F;&#39; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class="line">echo &#39;export PATH&#x3D;$PATH:$HADOOP_HOME&#x2F;bin&#39; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class="line">echo &#39;export PATH&#x3D;$PATH:$HADOOP_HOME&#x2F;sbin&#39; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class="line">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>
<p>é…ç½®yarnå’Œhadoop</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &quot;export JAVA_HOME&#x3D;&#x2F;usr&#x2F;java8&quot; &gt;&gt; &#x2F;opt&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;yarn-env.sh</span><br><span class="line">echo &quot;export JAVA_HOME&#x3D;&#x2F;usr&#x2F;java8&quot; &gt;&gt; &#x2F;opt&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;hadoop-env.sh</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹Hadoop å®‰è£…æƒ…å†µ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop version</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-c7b11851e5c3f5083809748875ef90aa_b.png" alt="img"></p>
<p>è‹¥å‡ºç°ä¸Šå›¾æƒ…å†µï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸ</p>
<p>\5. æ¥ä¸‹æ¥éœ€è¦åˆ©ç”¨vimæ¥æ“ä½œcore-site å’Œ hdfs-site</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim &#x2F;opt&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;core-site.xml</span><br></pre></td></tr></table></figure>
<p>è¿›å…¥vimç¯å¢ƒ</p>
<p><img src="https://pic2.zhimg.com/v2-c913566815ccb9dc077e6b1905c9f261_b.png" alt="img"></p>
<p>æŒ‰ä¸‹iï¼ˆinsertï¼‰ä¿®æ”¹</p>
<p>å…‰æ ‡ç§»åŠ¨è‡³configurationä¹‹é—´ï¼Œå¤åˆ¶å¦‚ä¸‹çš„ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">        &lt;name&gt;hadoop.tmp.dir&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;file:&#x2F;opt&#x2F;hadoop&#x2F;tmp&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;description&gt;location to store temporary files&lt;&#x2F;description&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;hdfs:&#x2F;&#x2F;localhost:9000&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæŒ‰ä¸‹escï¼Œåœæ­¢ä¿®æ”¹ï¼Œç„¶åæ‰“â€:wqâ€ï¼ˆå®é™…æ— â€œâ€ï¼‰é€€å‡ºvimä¿®æ”¹</p>
<p>åŒç†æ“ä½œhdfs-site</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim &#x2F;opt&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;hdfs-site.xml</span><br><span class="line">&lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.replication&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.name.dir&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;file:&#x2F;opt&#x2F;hadoop&#x2F;tmp&#x2F;dfs&#x2F;name&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.datanode.data.dir&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;file:&#x2F;opt&#x2F;hadoop&#x2F;tmp&#x2F;dfs&#x2F;data&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br></pre></td></tr></table></figure>
<p>é…ç½®masterå’Œslaveè¿æ¥ï¼Œè¿è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼Œå¹¶ä¸”ä¸€ç›´å›è½¦ï¼Œç›´è‡³å‡ºç°å¦‚ä¸‹å›¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa </span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-2a2c7f685bee80d7e51469a49c64c282_b.png" alt="img"></p>
<p>è¿è¡Œå¦‚ä¸‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd .ssh</span><br><span class="line">cat id_rsa.pub &gt;&gt; authorized_keys</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨Hadoop</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop namenode -format</span><br><span class="line">start-dfs.sh</span><br><span class="line">start-yarn.sh</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jps</span><br></pre></td></tr></table></figure>
<p>æˆåŠŸå›¾</p>
<p><img src="https://pic3.zhimg.com/v2-1d41b7f780ab263558dcdd06b11623be_b.png" alt="img"></p>
<p>\7. æ³¨æ„æ³¨æ„ï¼šæ¥ä¸‹æ¥éœ€è¦å¼€å¯ä½ åœ¨é˜¿é‡Œäº‘çš„é˜²ç«å¢™ç«¯å£ï¼Œæ‰å¯ä»¥åœ¨æµè§ˆå™¨ä¸Šè®¿é—®ï¼Œå¦åˆ™ä½ æ€ä¹ˆå¼„éƒ½æ˜¯è®¿é—®ä¸åˆ° (è¿™é‡Œæˆ‘å¡äº†å¿«ä¸€ä¸ªç¤¼æ‹œï¼Œæœ€åéå¸¸æ„Ÿè°¢é˜¿é‡Œäº‘çš„å°å“¥å“¥å¸®æˆ‘è§£å†³äº†è¿™ä¸ªé—®é¢˜)</p>
<p><img src="https://pic1.zhimg.com/v2-ca4e2239f097d66886dae184064870fc_b.png" alt="img"></p>
<p>æœ€åä½ å°±å¯ä»¥åœ¨æµè§ˆå™¨è¾“å…¥XX.XX.XX.XX**:50070 æˆ–è€…**XX.XX.XX.XX:8088æ¥åœ¨æµè§ˆå™¨ä¸Šè®¿é—®ä½ çš„Hadoop</p>
<p>æ•ˆæœå›¾å¦‚ä¸‹</p>
<p><img src="https://pic1.zhimg.com/v2-a562c44a3df91441ca1fd4945fdcbc10_b.png" alt="img"></p>
<p>ä»¥åŠ</p>
<p><img src="https://pic3.zhimg.com/v2-335aaf433e9d3fdec8ef045419837fba_b.png" alt="img"></p>
<p><strong>ç»“è¯­</strong> </p>
<p>å› ä¸ºæˆ‘æ˜¯ä¸€åå¤§å››ç”Ÿç‰©ä¿¡æ¯çš„å­¦ç”Ÿï¼Œå¯¹äºè®¡ç®—æœºçš„è‡³å°‘æŒæ¡ä¸æ˜¯å…¨ï¼Œä¸€äº›tcp-ipåè®®ä¹‹ç±»çš„æŒ‡ä»¤æ²¡æœ‰æŒæ¡ï¼Œæ‰€ä»¥å¾ˆå¤šéƒ½æ˜¯ä¸€çŸ¥åŠè§£ï¼Œåªæ˜¯ç…§ç€æ•™ç¨‹ä¸€æ­¥æ­¥è£…ï¼Œè‹¥æœ‰é”™è¯¯ï¼Œè¯·å¤§å®¶æŒ‡å¯¼ã€‚</p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>tutorial</tag>
        <tag>cloud server</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜¿é‡Œäº‘Hadoopç¬¬äºŒå¼¹ï¼ˆè¿è¡ŒWordCountï¼‰</title>
    <url>/2021/01/26/%E9%98%BF%E9%87%8C%E4%BA%91Hadoop%E7%AC%AC%E4%BA%8C%E5%BC%B9%EF%BC%88%E8%BF%90%E8%A1%8CWordCount%EF%BC%89/</url>
    <content><![CDATA[<p>ä¹¦æ¥ä¸Šæ–‡</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/269047002" >lonerï¼šä»é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨å®‰è£…HadoopåŠç¯å¢ƒé…ç½®<i class="fas fa-external-link-alt"></i></a></p>
<p>é¦–å…ˆæ£€æŸ¥java ç¯å¢ƒå’ŒHadoop ç¯å¢ƒæ˜¯å¦é…ç½®å¦¥å½“, å¹¶ä¸”æ£€æŸ¥Hadoopæ˜¯å¦å·²ç»å¯åŠ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop version</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-bc60a5be51a0785a8340726cdb26419b_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-ea0b84eac9c4d56857a7f185622ef725_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jps</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-106a2381128b4ff82a48be073263819d_b.png" alt="img"></p>
<p>æœ¬æ–‡ç« ç”¨åˆ°çš„WordCountä½¿ç”¨è‡ªwebï¼Œjavaæ–‡ä»¶å¦‚æœ‰éœ€è¦è¯·åœ¨ä¸‹æ–¹è¿æ¥ä¸‹è½½ï¼ˆå¦‚æœ‰æœºä¼šï¼Œå¤§å®¶ç»™æˆ‘GitHubè´¦æˆ·ç‚¹ä¸ªå…³æ³¨ï¼Œè°¢è°¢ï¼‰ï¼ˆå¦‚æœæ˜¯xjtluçš„å°ä¼™ä¼´ï¼Œæš‚æ—¶ä¸è¦ç”¨è€å¸ˆç»™çš„wordcount.javaï¼Œå› ä¸ºåæ­£ä¸çŸ¥é“ä»€ä¹ˆåŸå› æˆ‘è¿™ä¸ªæ–¹æ³•å°±æ˜¯è¿è¡Œä¸å‡ºæ¥ï¼Œå¦‚æœåªæ˜¯éœ€è¦checkä¸€ä¸‹ä»–é…ç½®çš„å¥½ä¸å¥½ï¼Œå¯ä»¥ç›´æ¥æ‹¿æˆ‘è¿™ä¸ªç¡®å®šçš„å¯ä»¥æˆåŠŸçš„scriptæ¥è¯•ä¸€ä¸‹ï¼‰</p>
<p><a class="link"   href="https://github.com/yuxuanwu17/Hadoop/blob/main/WordCount_success.java" >https://github.com/yuxuanwu17/Hadoop/blob/main/WordCount_success.java<i class="fas fa-external-link-alt"></i></a></p>
<p>è¿™é‡Œæ¨èä¸€ä¸ªä¼ æ–‡ä»¶çš„å›¾å½¢åŒ–ç•Œé¢ï¼Œå¯ä»¥ç›´æ¥æ‹–æ‹½ï¼Œè¿™æ ·å°±ä¸ç”¨ç¹ççš„scpè¯­å¥</p>
<p>Windowsï¼š wincsp </p>
<p><a class="link"   href="https://winscp.net/eng/download.php" >https://winscp.net/eng/download.php<i class="fas fa-external-link-alt"></i></a></p>
<p>MAC: FileZilla  </p>
<p><a class="link"   href="https://filezilla-project.org/download.php?type=client" >Download FileZilla Client for Mac OS X<i class="fas fa-external-link-alt"></i></a></p>
<p>å¯¹ä¸Šè¿°ä¸¤appçš„å…·ä½“æ“ä½œå¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œä¸å†èµ˜è¿°</p>
<p>ä»¥ä¸‹ä»¥MACï¼šFileZilla ä¸ºä¾‹å­</p>
<p><img src="https://pic3.zhimg.com/v2-96269965d3602b37766b8ec2bff6f26a_b.png" alt="img"></p>
<p>å†è¿™å„¿è¾“å…¥ä½ çš„ä¸»æœºç”¨æˆ·åå’Œå¯†ç ï¼Œè¿™é‡Œé€šå¸¸ä»¥rootæƒé™æ¥æ“ä½œï¼Œç„¶åç«¯å£22ï¼ˆsshè¿æ¥ï¼‰</p>
<p>è¿æ¥æˆåŠŸåï¼Œè¿›å…¥å¦‚ä¸‹çš„ç•Œé¢</p>
<p><img src="https://pic3.zhimg.com/v2-84b3168e88338d3dc213a128f7c1a026_b.png" alt="img"></p>
<p>ç„¶åä½ å¯ä»¥åœ¨ä½ çš„è¿œç«¯æœåŠ¡å™¨ä¸Šå³é”®ï¼Œâ€œCreate Directoryâ€ï¼Œæˆ‘è¿™é‡Œé¢å«cwé‡Œé¢åŒ…å«ä¸¤ä¸ªå­æ–‡ä»¶ â€œinputdataâ€å’Œâ€œtutorial_classesâ€ï¼Œå¹¶ä¸”æŠŠä¹‹å‰æåˆ°çš„javaæ–‡ä»¶â€œWordCountâ€æ‹–å…¥åˆ°cwè¿™ä¸ªå­æ–‡ä»¶ä¸‹ï¼Œæ•ˆæœå›¾å¦‚ä¸‹ã€‚</p>
<p><img src="https://pic1.zhimg.com/v2-4d3cfa1b16960f8588e33f3b040c3548_b.png" alt="img"></p>
<p>è¿™å„¿çš„input_data éœ€è¦å­˜æ”¾ä½ ç­‰ä¼šéœ€è¦å¤„ç†çš„æ–‡ä»¶ï¼Œpg100æ˜¯æˆ‘ä»¬testçš„å¯¹è±¡</p>
<p><img src="https://pic1.zhimg.com/v2-108e735d3349cbda806a7fb50be210c8_b.png" alt="img"></p>
<p>æ¥ä¸‹æ¥é…ç½®Hadoopçš„è·¯å¾„ä¹‹ç±»çš„ï¼ŒåŒç†ï¼Œterminalæ‰“å¼€ï¼Œè¿›å…¥ä½ çš„é˜¿é‡Œäº‘æœåŠ¡å™¨</p>
<p>é…ç½®HADOOP_CLASSPATH ï¼ˆæ³¨æ„ï¼Œå¦‚æœæ˜¯å…³é—­åæ‰“å¼€ï¼Œè®°å¾—é‡æ–°è¿è¡Œä¸€ä¸‹è¿™è¡Œä»£ç ï¼ŒåŸå› æš‚æ—¶ä¸çŸ¥é“ï¼Œè‹¥æœ‰çŸ¥é“çš„è¯·è¯„è®ºåŒºå‘Šè¯‰å‘€ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export HADOOP_CLASSPATH&#x3D;$(hadoop classpath)</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶è¾“å‡ºä»¥ä¸‹HADOOP_CLASSPATH æ¥çœ‹ä¸€ä¸‹æ˜¯å¦æˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo $HADOOP_CLASSPATH</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-63dbc77d229db739c7c1ecf61b6bed76_b.png" alt="img"></p>
<p>è‹¥å‡ºç°å¦‚ä¸‹ç»“æœåˆ™è¯´æ˜ä¸€åˆ‡è¿è¡ŒæˆåŠŸ</p>
<p>æ¥ä¸‹æ¥åœ¨HDFSä¸Šåˆ›å»ºä¸€ä¸ªæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop fs -mkdir &#x2F;pg100</span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€ä½ çš„50070 ç«¯å£ï¼Œåœ¨å³ä¸Šè§’çš„Utilitiesé‡Œé¢çš„Browse the file systemå¯ä»¥æŸ¥çœ‹</p>
<p><img src="https://pic4.zhimg.com/v2-55f6f53ec031fe6e3d44410195c04693_b.png" alt="img"></p>
<p>å†åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œåˆ›å»ºä¸€ä¸ªå­æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop fs -mkdir &#x2F;pg100&#x2F;input</span><br></pre></td></tr></table></figure>
<p>ç„¶åä½ ç‚¹å…¥é‚£ä¸ªpg100ï¼Œå°±ä¼šå‘ç°æœ‰ä¸ªinputï¼Œæ­¤æ—¶é‡Œé¢æš‚æ—¶è¿˜æ²¡æœ‰æ–‡ä»¶</p>
<p><img src="https://pic1.zhimg.com/v2-f1e7f777fa5efcbb6651e230df6c4780_b.png" alt="img"></p>
<p>ä¸‹æ¥ä½ éœ€è¦uploadä½ çš„æ–‡ä»¶åˆ°inputåœ°å€ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop fs -put &#39;&#x2F;root&#x2F;cw&#x2F;input_data&#x2F;pg100.txt&#39; &#x2F;pg100&#x2F;input</span><br></pre></td></tr></table></figure>
<p>ç„¶åä½ å°±ä¼šå‘ç°å¦‚ä¸‹æƒ…å†µï¼Œè¯´æ˜å·²ç»ä¸Šä¼ æˆåŠŸäº†</p>
<p><img src="https://pic1.zhimg.com/v2-0a68b432563ddc0ad7f766e7d2caaff4_b.png" alt="img"></p>
<p>ä¸‹æ¥éœ€è¦åœ¨terminalè¿›å…¥ä½ çš„cwæ–‡ä»¶, æ¥è¿è¡Œä½ çš„java code ä»¥ä¸‹æ“ä½œéƒ½cwè·¯å¾„åº•ä¸‹æ“ä½œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd cw</span><br></pre></td></tr></table></figure>
<p>è¿›å…¥æˆåŠŸå</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">javac -classpath $&#123;HADOOP_CLASSPATH&#125; -d &#39;&#x2F;root&#x2F;cw&#x2F;tutorial_classes&#39; &#39;&#x2F;root&#x2F;cw&#x2F;WordCount.java&#39;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°çš„æ„æ€æ˜¯å°†java æ–‡ä»¶é‡Œçš„class compileåˆ°tutorial_classes</p>
<p>ç»“æœæ˜¯åœ¨è·¯å¾„åº•ä¸‹ä¼šå‡ºç°ä¸‰ä¸ªclassæ–‡ä»¶</p>
<p><img src="https://pic1.zhimg.com/v2-e9b12f0aa357d9b29482e2e4474fd9e8_b.png" alt="img"></p>
<p>ä¸‹æ¥éœ€è¦å°†outputå‡ºæ¥çš„ä¸‰ä¸ªæ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªjaræ–‡ä»¶é‡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jar -cvf firstTrial.jar -C tutorial_classes&#x2F; .</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-d9827900535428bb7c739d2f97cb00f7_b.png" alt="img"></p>
<p><img src="https://pic3.zhimg.com/v2-7dfb7f7667dd3c26cdb4d30013d42082_b.png" alt="img"></p>
<p>ä¸‹æ¥æ˜¯åœ¨Hadoopä¸Šè¿è¡Œjaræ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop jar &#39;&#x2F;root&#x2F;cw&#x2F;firstTrial.jar&#39; WordCount &#x2F;pg100&#x2F;input &#x2F;pg100&#x2F;output</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šä¸­é—´çš„WordCountæŒ‡çš„æ˜¯ä¹‹å‰é‚£ä¸ªjavaæ–‡ä»¶çš„Classåé¢ï¼Œæ³¨æ„ä¸‹é¢åªæ˜¯ä¸Šæ–‡çš„æ ¼å¼ï¼Œä¸ç”¨è¿è¡Œï¼ï¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop jar &lt;jar_file&gt; &lt;class_name&gt; &lt;HDFS_input_directory&gt; &lt;HDFS_output_directory&gt;</span><br></pre></td></tr></table></figure>
<p>ç»“æœ</p>
<p><img src="https://pic3.zhimg.com/v2-5e6f74dafefc6178e7455b7a919456b6_b.png" alt="img"></p>
<p>å¯ä»¥æŸ¥çœ‹outputï¼Œâ€œ| headâ€ æ˜¯ä¸ºäº†æŸ¥çœ‹å‰å‡ ä¸ªï¼Œè¿™ä¸ªsampleçš„ä¸ªæ•°æ¯”è¾ƒå¤§ï¼Œä¸é€‚å®œå…¨éƒ¨å±•å¼€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop dfs -cat &#x2F;pg100&#x2F;output&#x2F;* | head</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå›¾</p>
<p><img src="https://pic2.zhimg.com/v2-79965028669722decc012e514f918c35_b.png" alt="img"></p>
<p>å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæŒ‡å‡ºå‘€ï¼Œå†™æ–‡ä»¶ä¸å®¹æ˜“ï¼Œæ±‚ç‚¹èµ</p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>cloud server</tag>
      </tags>
  </entry>
  <entry>
    <title>Hadoop åœ¨macæœ¬åœ°çš„é…ç½®</title>
    <url>/2021/01/26/Hadoop-%E5%9C%A8mac%E6%9C%AC%E5%9C%B0%E7%9A%84%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p><a class="link"   href="https://zhuanlan.zhihu.com/p/269047002" >lonerï¼šä»é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨å®‰è£…HadoopåŠç¯å¢ƒé…ç½®<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/271772216" >lonerï¼šé˜¿é‡Œäº‘Hadoopç¬¬äºŒå¼¹ï¼ˆè¿è¡ŒWordCountï¼‰<i class="fas fa-external-link-alt"></i></a></p>
<p>ä¹‹å‰åœ¨é˜¿é‡Œäº‘ä¸Šçš„æ¡ˆä¾‹æˆ‘æˆåŠŸè¿è¡Œäº†wordcountã€‚ä½†æ˜¯è€ƒè™‘åˆ°å®é™…çš„ç¼–ç¨‹ï¼Œåœ¨é˜¿é‡Œäº‘ä¸Šçš„å¯è§†åŒ–ç•Œé¢æ˜¾å¾—æœ‰äº›è‰°éš¾ï¼Œæ›´ä¸è¦æeclipseç•Œé¢æœ‰ç‚¹ä¸‘ã€‚æˆ‘è§‰å¾—è¿˜æ˜¯ç”¨jetbrainå…¬å¸çš„IDEAæ¥å¼€å‘ï¼Œè¿™å„¿å­¦ç”Ÿå¯ä»¥å…è´¹ä½¿ç”¨ä¸“ä¸šç‰ˆï¼Œå¦‚æœæœ‰éœ€è¦å¯ä»¥è‡ªè¡Œä¸‹è½½ã€‚ä¸»è¦æ˜¯æœ‰å¤§æ•°æ®å·¥å…·çš„æ’ä»¶Hadoopï¼Œç„¶åå°±å¼€å§‹æˆ‘ä¸€ä¸ªç¤¼æ‹œçš„æ£é¼“ï¼Œç„¶åå‘ç°å¥½åƒé˜¿é‡Œäº‘çš„9000ç«¯å£å¥½åƒæ— æ³•æ‰“å¼€ï¼ˆç½‘ä¸Šè¯´ä»€ä¹ˆå†…ç½‘çš„åŸå› ï¼Œæ‰€ä»¥åœ¨Hadoopä¸Šé“¾æ¥ä¸ä¸Šï¼‰äºæ˜¯å¶ç„¶å‘ç°macåœ¨æœ¬åœ°é…ç½®çš„æ•™ç¨‹ï¼Œå°±æ­¤æ±‡æ€»ä¸€ä¸‹ã€‚</p>
<p><strong>Javaçš„å®‰è£…</strong></p>
<p>ä¸å†èµ˜è¿°ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šçš„æ•™ç¨‹ï¼Œåœ¨ä¿è¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java -version </span><br></pre></td></tr></table></figure>
<p>å¯ä»¥è¾“å‡ºå¦‚ä¸‹ç•Œé¢ï¼Œåˆ™æˆ‘ä»¬å¼€å§‹Hadoopçš„é…ç½®</p>
<p><img src="https://pic3.zhimg.com/v2-d0a5d1671f8e707705db4068ed2c3b36_b.png" alt="img"></p>
<p><strong>ä¸‹è½½Hadoopçš„åŸå§‹ä»£ç </strong></p>
<p>æœ¬æ–‡ç« å…¨ç¨‹ä»¥hadoop-2.9.2ä¸ºä¾‹å­ï¼Œåœ¨ä¸‹é¢çš„é“¾æ¥ä¸­ä¸‹è½½hadoop-2.9.2.tar.gz æ—¢å¯ä»¥</p>
<p>Index of /dist/hadoop/core/hadoop-2.9.2archive.apache.org</p>
<p>è§£å‹åˆ°æœ¬åœ°çš„ç›®å½•ä¸‹é¢</p>
<p><strong>æ·»åŠ Hadoopçš„ç¯å¢ƒå˜é‡</strong></p>
<p>è¿™å„¿æˆ‘ä»¬éœ€è¦ç”¨vimä¿®æ”¹ ~/.bash_profile</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim ~&#x2F;.bash_profile</span><br></pre></td></tr></table></figure>
<p>åœ¨æœ€ä¸‹é¢æ·»åŠ è¿™å‡ è¡Œä»£ç ï¼Œç¼–è¾‘å®Œæˆå:wqé€€å‡º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export HADOOP_HOME&#x3D;&#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2</span><br><span class="line">export CLASSPATH&#x3D;$($HADOOP_HOME&#x2F;bin&#x2F;hadoop classpath):$CLASSPATH</span><br><span class="line">export HADOOP_COMMON_LIB_NATIVE_DIR&#x3D;$HADOOP_HOME&#x2F;lib&#x2F;native</span><br><span class="line">export PATH&#x3D;$PATH:$HADOOP_HOME&#x2F;bin</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-930eafe5cc710ad971b5117743db5a01_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source ~&#x2F;.bash_profile</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œä¿å­˜ä¿®æ”¹ï¼Œç„¶åç”¨hadoop version æŸ¥çœ‹Hadoopæ˜¯å¦é…ç½®æˆåŠŸï¼Œè‹¥å¦‚ä¸‹ç•Œé¢åˆ™æˆåŠŸ</p>
<p><img src="https://pic1.zhimg.com/v2-ee20ec242e386db002380dcb72867920_b.png" alt="img"></p>
<p><strong>ä¿®æ”¹Hadoopçš„é…ç½®æ–‡ä»¶(å¦‚ä¸‹æ“ä½œéƒ½éœ€è¦cdåˆ°Hadoopè§£å‹çš„ç¯å¢ƒæ¥æ“ä½œ)</strong></p>
<p><strong>è¿™äº›é…ç½®æ–‡ä»¶éƒ½ä¿å­˜åœ¨hadoop-2.9.2/etc/hadoop/è·¯å¾„ä¸‹</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2&#x2F;etc&#x2F;hadoop&#x2F;</span><br></pre></td></tr></table></figure>
<ol>
<li><a class="link"   href="http://hadoop-env.sh/" >hadoop-env.sh<i class="fas fa-external-link-alt"></i></a></li>
</ol>
<p>ç”¨vimæ‰“å¼€ååœ¨JAVA_HOME å’Œ HADOOP_CONF_DIRå’ŒHADOOP_HOME æ¥è¿›è¡Œä¿®æ”¹,è¿™äº›åˆ†åˆ«å¯¹åº”ç€æœ¬åœ°å„è‡ªçš„ç›®å½•</p>
<p><img src="https://pic4.zhimg.com/v2-94f2b2349ea9e6c2702503234f4693a7_b.png" alt="img"></p>
<p>\2. core_site.xml </p>
<p><img src="https://pic2.zhimg.com/v2-53c0b5f20163d17f1ec17df2aba54361_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">    &lt;name&gt;fs.defaultFS&lt;&#x2F;name&gt;</span><br><span class="line">    &lt;value&gt;hdfs:&#x2F;&#x2F;localhost:9000&lt;&#x2F;value&gt;</span><br><span class="line">  &lt;&#x2F;property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--ç”¨æ¥æŒ‡å®šhadoopè¿è¡Œæ—¶äº§ç”Ÿæ–‡ä»¶çš„å­˜æ”¾ç›®å½•  è‡ªå·±åˆ›å»º--&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;hadoop.tmp.dir&lt;&#x2F;name&gt;</span><br><span class="line">    &lt;value&gt;&#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2&#x2F;tmp&lt;&#x2F;value&gt;</span><br><span class="line">  &lt;&#x2F;property&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;configuration&gt;</span><br></pre></td></tr></table></figure>
<p>\3. ä¿®æ”¹hdfs-site.xml</p>
<p><img src="https://pic2.zhimg.com/v2-e604bbc1c67dbf33d1362ce2e607ada5_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">                &lt;name&gt;dfs.replication&lt;&#x2F;name&gt;</span><br><span class="line">                &lt;value&gt;1&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line">        &lt;!--ä¸æ˜¯rootç”¨æˆ·ä¹Ÿå¯ä»¥å†™æ–‡ä»¶åˆ°hdfs--&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">                &lt;name&gt;dfs.permissions&lt;&#x2F;name&gt;</span><br><span class="line">                &lt;value&gt;false&lt;&#x2F;value&gt;    &lt;!--å…³é—­é˜²ç«å¢™--&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line">        &lt;!--æŠŠè·¯å¾„æ¢æˆæœ¬åœ°çš„nameååœ¨ä½ç½®--&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">                &lt;name&gt;dfs.namenode.name.dir&lt;&#x2F;name&gt;</span><br><span class="line">                &lt;value&gt;&#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2&#x2F;tmp&#x2F;dfs&#x2F;name&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line">        &lt;!--åœ¨æœ¬åœ°æ–°å»ºä¸€ä¸ªå­˜æ”¾hadoopæ•°æ®çš„æ–‡ä»¶å¤¹ï¼Œç„¶åå°†è·¯å¾„åœ¨è¿™é‡Œé…ç½®ä¸€ä¸‹--&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">                &lt;name&gt;dfs.datanode.data.dir&lt;&#x2F;name&gt;</span><br><span class="line">                &lt;value&gt;&#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2&#x2F;tmp&#x2F;dfs&#x2F;data&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;configuration&gt;</span><br></pre></td></tr></table></figure>
<p><strong>å¯åŠ¨Hadoop</strong></p>
<ol>
<li><strong>NameNode</strong></li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop namenode -format</span><br></pre></td></tr></table></figure>
<p><strong>2. HDFS</strong></p>
<p><strong>é¦–å…ˆå…ˆè¿›å…¥åˆ°sbinç›®å½•</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2&#x2F;sbin&#x2F;</span><br></pre></td></tr></table></figure>
<p><strong>å¯åŠ¨HDFS</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;start-dfs.sh</span><br></pre></td></tr></table></figure>
<p>è‹¥æˆåŠŸäº†ï¼Œéœ€è¦è¾“å…¥ä¸‰æ¬¡å¯†ç </p>
<p>è‹¥å¤±è´¥ï¼Œåˆ™æ£€æŸ¥macç³»ç»Ÿçš„è¿œç¨‹ç™»é™†çš„è®¸å¯æ˜¯å¦æ‰“å¼€</p>
<p><img src="https://pic2.zhimg.com/v2-81822aef74c93d30d0922e6418988df5_b.png" alt="img"></p>
<p><img src="https://pic4.zhimg.com/v2-3dfdcfacb09068a89b21bdb0fb8bfc73_b.png" alt="img"></p>
<p>ç¡®ä¿ç•Œé¢å‘ˆç°è¿™æ ·</p>
<p><strong>3. å¯åŠ¨yarn</strong></p>
<p><strong>è¿˜æ˜¯è¿›å…¥sbinç›®å½•</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;start-yarn.sh</span><br></pre></td></tr></table></figure>
<p><strong>4. jpsæ£€æŸ¥</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jps </span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-e769560739e1e9e5b1d4d9ab625a1c38_b.png" alt="img"></p>
<p>è‹¥å‡ºç°ä¸Šè¿°ç•Œé¢åˆ™é…ç½®æˆåŠŸäº†</p>
<p>ç„¶åå¯ä»¥åœ¨æµè§ˆå™¨é‡ŒéªŒè¯(50070,8088)</p>
<p><a class="link"   href="http://localhost:50070/dfshealth.html#tab-overview" >http://localhost:50070/dfshealth.html#tab-overview<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="http://localhost:8088/cluster" >http://localhost:8088/cluster<i class="fas fa-external-link-alt"></i></a></p>
<p><img src="https://pic2.zhimg.com/v2-cd6f142d46fe05e5de300617bfd95451_b.png" alt="img"></p>
<p><img src="https://pic1.zhimg.com/v2-159a137c51c6c512abfdf60574fec7d0_b.png" alt="img"></p>
<p>åè®°ï¼š</p>
<p>å¦‚æœéš”äº†å‡ å¤©æ²¡æœ‰æ‰“å¼€Hadoopï¼Œæˆ–è€…ä½ çš„ç”µè„‘é‡å¯äº†ï¼Œåæ­£å°±æ˜¯jpsä¸Šå‡ºç°ä¸äº†é‚£å‡ ä¸ªç©æ„ï¼Œæˆ–è€…ä½ çš„æµè§ˆå™¨é¡µé¢æ‰“ä¸å¼€ï¼Œè¯·ä¸¥æ ¼éµç…§Hadoopå¯åŠ¨åçš„ä»£ç ï¼Œæ¯”å¦‚è¿›å…¥Hadoopçš„sbinç•Œé¢ä¹‹ç±»çš„ï¼Œç„¶åä¾æ¬¡æ“ä½œï¼Œäºæ˜¯å°±èƒ½é‡æ–°æ‰“å¼€Hadoopçš„ç•Œé¢äº†</p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>tutorial</tag>
        <tag>macOS</tag>
      </tags>
  </entry>
  <entry>
    <title>Heart failure detection by SVM-based machine learning model</title>
    <url>/2021/01/24/YuxuanWu-1716309-INT305-Report/</url>
    <content><![CDATA[<p>Cardiovascular diseases (CVDs) are the number 1 cause of death globally, taking an estimated 17.9 million lives each year, which accounts for 31% of all deaths worlwide.<br>Heart failure is a common event caused by CVDs.</p>
<p>Most cardiovascular diseases can be prevented by addressing behavioural risk factors such as tobacco use, unhealthy diet and obesity, physical inactivity and harmful use of alcohol using population-wide strategies.</p>
<p>People with cardiovascular disease or who are at high cardiovascular risk (due to the presence of one or more risk factors such as hypertension, diabetes, hyperlipidaemia or already established disease) need early detection and management wherein a machine learning model can be of great help.</p>
<h3 id="Project-description-overview"><a href="#Project-description-overview" class="headerlink" title="Project description (overview)"></a>Project description (overview)</h3><p>The input to our predictor is is a medical dataset which contains 12 features that can be used to predict mortality by heart failure.</p>
<ol>
<li>Data exploration<ul>
<li>Principle Components Analysis (PCA) to reduce the dimension of features to have a view of the input data distribution</li>
<li>Build a preliminary linear SVM model to incorporate all the features to see the model performance.</li>
</ul>
</li>
<li>Feature selection part.<ul>
<li>Chi-square test to check the correlation between each categorical feature and the target death event.</li>
<li>Heat map to return the features with high correlation coefficient with death events.</li>
<li>Visualized the each featureâ€™s contribution significance in the SVM model</li>
<li>Compared the returned features and determined the final selected features</li>
</ul>
</li>
<li>Model comparison and hyperparameter tuning<ul>
<li>compare the performance in difference preprocessing methods MinMaxScalar, StandardScalar, RobustScalar</li>
<li>compare the performance in k-fold cross validation and leave-one-out methods</li>
<li>compare the kernel selected in Support Vector Machine (linear or rbf)</li>
<li>grid search to find the best performance model</li>
</ul>
</li>
<li>Selected model performance<ul>
<li>calculated the precision, recall, accuracy and f1-score</li>
<li>plot the ROC and PR-curve</li>
<li>plot the learning curve</li>
</ul>
</li>
</ol>
<hr>
<h2 id="Related-work"><a href="#Related-work" class="headerlink" title="Related work"></a>Related work</h2><h3 id="Explorative-data-analysis-EDA-approach"><a href="#Explorative-data-analysis-EDA-approach" class="headerlink" title="Explorative data analysis (EDA) approach"></a>Explorative data analysis (EDA) approach</h3><ol>
<li><a class="link"   href="https://www.kaggle.com/nayansakhiya/heart-fail-analysis-and-quick-prediction" >heart-fail-analysis-and-quick-prediction<i class="fas fa-external-link-alt"></i></a></li>
</ol>
<p><strong>Strength</strong>: Detailed explorative and associative data analysis with great data visualization: each factor is visualized by different types of figures <br><br><strong>Weakness</strong>: Prediction model are quite rudimentary, the author did not select the features and tune the modelsâ€™ hyperparameters.<br><br><strong>Similarity</strong>: I learned and applied the plotly.express API to create fancy and concise figures for easy comparison; I furthered his rudimentary model by optimization</p>
<h3 id="Predictive-data-analysis-PDA-approach"><a href="#Predictive-data-analysis-PDA-approach" class="headerlink" title="Predictive data analysis (PDA) approach"></a>Predictive data analysis (PDA) approach</h3><ol>
<li><a class="link"   href="https://www.kaggle.com/rude009/heart-failure-model-prediction-comparisons-95" >heart-failure-model-prediction-comparisons-95<i class="fas fa-external-link-alt"></i></a></li>
</ol>
<p><strong>Strength</strong>: The author compares six prediction models with feature selection. The Extra Gradient Booster Classifier could achieve the accuracy up to 95.0% <br><br><strong>Weakness</strong>: The author consider the â€œtimeâ€ column as the useful features. <br><br><strong>Similarity</strong>: I donâ€™t think â€œtimeâ€ colume should be included since â€œtimeâ€ column stands for Follow-up period (days), which means itself could not contribute the diseases itself. Therefore, I consider this feature as uselessness in our prediction model</p>
<ol start="2">
<li><a class="link"   href="https://www.kaggle.com/ksvmuralidhar/heart-failure-prediction-auc-0-98" >heart-failure-prediction-auc-0-98<i class="fas fa-external-link-alt"></i></a></li>
</ol>
<p><strong>Strength</strong>: The author uses a new method: Chi-square test to find the correlation between single categorical feature with target death_event <br><br><strong>Weakness</strong>: The visualization part does not as fancy as previous work <br><br><strong>Similarity</strong>: I learned and used the Chi-square test to conduct the correlation test between single categorical data with the categorical death_event; but i didnâ€™t agree the authorâ€™s method in using box plot comparison between numerical data with categorical data, I used heat map instead.</p>
<hr>
<h2 id="Data-download"><a href="#Data-download" class="headerlink" title="Data download"></a>Data download</h2><p>You could simply download the data from my own Github repository: <a class="link"   href="https://media.githubusercontent.com/media/yuxuanwu17/kaggle/main/heart_failure_clinical_records_dataset.csv" >https://media.githubusercontent.com/media/yuxuanwu17/kaggle/main/heart_failure_clinical_records_dataset.csv<i class="fas fa-external-link-alt"></i></a></p>
<p>You could also download the data from kaggleï¼š<br><a class="link"   href="https://www.kaggle.com/andrewmvd/heart-failure-clinical-data" >https://www.kaggle.com/andrewmvd/heart-failure-clinical-data<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="Libraries-used-in-this-project"><a href="#Libraries-used-in-this-project" class="headerlink" title="Libraries used in this project"></a>Libraries used in this project</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> LinearSVC</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split, cross_val_score, LeaveOneOut,GridSearchCV</span><br><span class="line"><span class="keyword">from</span> sklearn.pipeline <span class="keyword">import</span> Pipeline</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> MinMaxScaler, StandardScaler, RobustScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score, mean_squared_error</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> confusion_matrix, plot_confusion_matrix, plot_roc_curve, plot_precision_recall_curve, classification_report</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> chi2_contingency</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sn</span><br><span class="line"><span class="keyword">import</span> plotly.express <span class="keyword">as</span> px</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Problem-formulation"><a href="#Problem-formulation" class="headerlink" title="Problem formulation"></a>Problem formulation</h2><h3 id="Return-the-head-of-dataset-a-overview-of-inside-components"><a href="#Return-the-head-of-dataset-a-overview-of-inside-components" class="headerlink" title="Return the head of dataset (a overview of inside components)"></a>Return the head of dataset (a overview of inside components)</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># df = pd.read_csv(&quot;/home/yuxuan/kaggle/heart_failure_clinical_records_dataset.csv&quot;)</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;/Users/yuxuan/Desktop/kaggle/heart_failure_clinical_records_dataset.csv&quot;</span>)</span><br><span class="line"><span class="comment"># df = pd.read_csv(&quot;../input/heart-failure-clinical-data/heart_failure_clinical_records_dataset.csv&quot;)</span></span><br><span class="line">heart_data = df.copy()</span><br><span class="line">heart_data.head()</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>anaemia</th>
      <th>creatinine_phosphokinase</th>
      <th>diabetes</th>
      <th>ejection_fraction</th>
      <th>high_blood_pressure</th>
      <th>platelets</th>
      <th>serum_creatinine</th>
      <th>serum_sodium</th>
      <th>sex</th>
      <th>smoking</th>
      <th>time</th>
      <th>DEATH_EVENT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>75.0</td>
      <td>0</td>
      <td>582</td>
      <td>0</td>
      <td>20</td>
      <td>1</td>
      <td>265000.00</td>
      <td>1.9</td>
      <td>130</td>
      <td>1</td>
      <td>0</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>55.0</td>
      <td>0</td>
      <td>7861</td>
      <td>0</td>
      <td>38</td>
      <td>0</td>
      <td>263358.03</td>
      <td>1.1</td>
      <td>136</td>
      <td>1</td>
      <td>0</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>65.0</td>
      <td>0</td>
      <td>146</td>
      <td>0</td>
      <td>20</td>
      <td>0</td>
      <td>162000.00</td>
      <td>1.3</td>
      <td>129</td>
      <td>1</td>
      <td>1</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>50.0</td>
      <td>1</td>
      <td>111</td>
      <td>0</td>
      <td>20</td>
      <td>0</td>
      <td>210000.00</td>
      <td>1.9</td>
      <td>137</td>
      <td>1</td>
      <td>0</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>65.0</td>
      <td>1</td>
      <td>160</td>
      <td>1</td>
      <td>20</td>
      <td>0</td>
      <td>327000.00</td>
      <td>2.7</td>
      <td>116</td>
      <td>0</td>
      <td>0</td>
      <td>8</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="Print-the-size-of-the-dataset"><a href="#Print-the-size-of-the-dataset" class="headerlink" title="Print the size of the dataset"></a>Print the size of the dataset</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(heart_data.shape)</span><br></pre></td></tr></table></figure>
<pre><code>(299, 13)</code></pre>
<h3 id="Check-the-ratio-of-the-NaNs-for-each-column"><a href="#Check-the-ratio-of-the-NaNs-for-each-column" class="headerlink" title="Check the ratio of the NaNs for each column"></a>Check the ratio of the NaNs for each column</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> col <span class="keyword">in</span> heart_data.columns:</span><br><span class="line">    print(col, <span class="built_in">str</span>(<span class="built_in">round</span>(<span class="number">100</span>* heart_data[col].isnull().<span class="built_in">sum</span>() / <span class="built_in">len</span>(heart_data), <span class="number">2</span>)) + <span class="string">&#x27;%&#x27;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>age 0.0%
anaemia 0.0%
creatinine_phosphokinase 0.0%
diabetes 0.0%
ejection_fraction 0.0%
high_blood_pressure 0.0%
platelets 0.0%
serum_creatinine 0.0%
serum_sodium 0.0%
sex 0.0%
smoking 0.0%
time 0.0%
DEATH_EVENT 0.0%</code></pre>
<hr>
<h3 id="Dataset-description"><a href="#Dataset-description" class="headerlink" title="Dataset description"></a>Dataset description</h3><p>There are 13 dimensions and 299 samples. All the columns are devoid of NaNs. We need make some rules before the data processingã€‚</p>
<p>Target features (binary classification): DEATH_EVENT</p>
<p><strong>Categorical data</strong></p>
<ul>
<li>Sex - Gender of patient Male = 1, Female =0</li>
<li>Diabetes - 0 = No, 1 = Yes</li>
<li>Anaemia - 0 = No, 1 = Yes</li>
<li>High_blood_pressure - 0 = No, 1 = Yes</li>
<li>Smoking - 0 = No, 1 = Yes</li>
<li>DEATH_EVENT - 0 = No, 1 = Yes</li>
</ul>
<p><strong>Numerical data</strong></p>
<ul>
<li>Age - Age of patient</li>
<li>creatinine_phosphokinase - Level of the CPK enzyme in the blood (mcg/L)</li>
<li>ejection_fraction - Percentage of blood leaving the heart at each contraction (percentage)</li>
<li>platelets - Platelets in the blood (kiloplatelets/mL)</li>
<li>serum_creatinine - Level of serum creatinine in the blood (mg/dL)</li>
<li>serum_sodium - Level of serum sodium in the blood (mEq/L)</li>
<li>time - Follow-up period (days)</li>
</ul>
<h3 id="Citation-or-Reference"><a href="#Citation-or-Reference" class="headerlink" title="Citation or Reference"></a>Citation or Reference</h3><p>Dataset from Davide Chicco, Giuseppe Jurman: Machine learning can predict survival of patients with heart failure from serum creatinine and ejection fraction alone. BMC Medical Informatics and Decision Making 20, 16 (2020)</p>
<p>The dataset downloaded from Kaggle <a class="link"   href="https://www.kaggle.com/andrewmvd/heart-failure-clinical-data" >https://www.kaggle.com/andrewmvd/heart-failure-clinical-data<i class="fas fa-external-link-alt"></i></a></p>
<hr>
<h3 id="Principle-components-analysis"><a href="#Principle-components-analysis" class="headerlink" title="Principle components analysis"></a>Principle components analysis</h3><p>Reduce the dimensions and return the sample distribution</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line">X = heart_data.iloc[:,<span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">X = StandardScaler().fit_transform(X)</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line">pca.fit(X)</span><br><span class="line">X_pca = pca.transform(X)</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">8</span>,<span class="number">8</span>))</span><br><span class="line">plt.scatter(X_pca[y==<span class="number">0</span>,<span class="number">0</span>],X_pca[y==<span class="number">0</span>,<span class="number">1</span>],label=<span class="string">&quot;Alive&quot;</span>,c=<span class="string">&quot;red&quot;</span>)</span><br><span class="line">plt.scatter(X_pca[y==<span class="number">1</span>,<span class="number">0</span>],X_pca[y==<span class="number">1</span>,<span class="number">1</span>],label=<span class="string">&quot;Death&quot;</span>,c=<span class="string">&quot;black&quot;</span>)</span><br><span class="line">plt.legend([<span class="string">&quot;Alive&quot;</span>,<span class="string">&quot;Death&quot;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_16_1.5uoi1jp366o0.png" alt="output_16_1"></p>
<p>I would like to have a view of the sample distribution in the dataset. Therefore, I used the principle component analysis (PCA) to reduce the dimension of features into 2D for visualization. The figure suggested that the data are densed and not easy to seperate (either linear or non-linear model), indicating the existence of insignificant feature which could negatively influence the future prediction accuracy.</p>
<hr>
<h3 id="Correlation-analysis"><a href="#Correlation-analysis" class="headerlink" title="Correlation analysis"></a>Correlation analysis</h3><p>I would like to find the correlation between each feature, especially with the target variable: DEATH_EVENT.<br>In this case, I excluded the column â€œtimeâ€ since the time tracked could not contribute to the heart failure itself.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sn</span><br><span class="line">heart_data = heart_data.drop([<span class="string">&#x27;time&#x27;</span>],axis=<span class="number">1</span>)</span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>,<span class="number">12</span>))</span><br><span class="line">sn.heatmap(heart_data.corr(),vmin=-<span class="number">1</span>,cmap=<span class="string">&#x27;coolwarm&#x27;</span>,annot=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_19_1.1ne10klgnr1.png" alt="output_19_1"></p>
<h3 id="Data-partition"><a href="#Data-partition" class="headerlink" title="Data partition"></a>Data partition</h3><ul>
<li>As I mentioned before, I will not take the feature â€œtimeâ€ into consideration. Therefore, 11 features are included in the final model prediction.</li>
<li>I split the dataset into two categories. 80% for raining data and 20% for testing data.</li>
<li>I used the StandardScalar normalization method to preprocess the data</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line">X = heart_data.iloc[:,<span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">X = StandardScaler().fit_transform(X)</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X,y,test_size=<span class="number">0.2</span>,random_state=<span class="number">2</span>)</span><br><span class="line">print(<span class="string">&quot;The number of training sample is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(X_train.shape[<span class="number">0</span>]))</span><br><span class="line">print(<span class="string">&quot;The number of testing sample is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(X_test.shape[<span class="number">0</span>]))</span><br></pre></td></tr></table></figure>
<pre><code>The number of training sample is 239
The number of testing sample is 60</code></pre>
<h3 id="Feature-selection-feature-engineering"><a href="#Feature-selection-feature-engineering" class="headerlink" title="Feature selection (feature engineering)"></a>Feature selection (feature engineering)</h3><p><strong>Method 1: Chi-square test</strong></p>
<ul>
<li>Based on previous research, I could conclude that DEATH_EVENT is our target. Since I have six categorical data I would like to figure out whether these single categorical valuable has significant correlation with the DEATH_EVENT.<br></li>
<li>Crosstables/contingency tables are one of the best ways to see how categorical variables are distributed among each other.</li>
<li>The following test suggests that we failed to reject the $H_0$ problem, indicating that there is no direct relationship between the DEATH_EVENT</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> chi2_contingency</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">heart_data = df.copy()</span><br><span class="line">cat_features = [<span class="string">&quot;anaemia&quot;</span>,<span class="string">&quot;diabetes&quot;</span>,<span class="string">&quot;high_blood_pressure&quot;</span>,<span class="string">&quot;sex&quot;</span>,<span class="string">&quot;smoking&quot;</span>,<span class="string">&quot;DEATH_EVENT&quot;</span>]</span><br><span class="line">num_features = pd.Series(heart_data.columns)</span><br><span class="line">num_features = num_features[~num_features.isin(cat_features)]</span><br><span class="line">num_features</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> cat_features:</span><br><span class="line">    ct = pd.crosstab(columns=heart_data[i],index=heart_data[<span class="string">&quot;DEATH_EVENT&quot;</span>])</span><br><span class="line">    stat, p, dof, expected = chi2_contingency(ct)</span><br><span class="line">    print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;-&#x27;</span>*<span class="built_in">len</span>(<span class="string">&#x27;CROSSTAB BETWEEN &#123;&#125; &amp; DEATH_EVENT&#x27;</span>.<span class="built_in">format</span>(i.upper())))</span><br><span class="line">    print(<span class="string">&quot;CROSSTAB BETWEEN &#123;&#125; &amp; DEATH_EVENT&quot;</span>.<span class="built_in">format</span>(i.upper()))</span><br><span class="line">    print(<span class="string">&#x27;-&#x27;</span>*<span class="built_in">len</span>(<span class="string">&#x27;CROSSTAB BETWEEN &#123;&#125; &amp; DEATH_EVENT&#x27;</span>.<span class="built_in">format</span>(i.upper())))</span><br><span class="line">    print(ct)</span><br><span class="line">    print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    print(<span class="string">&quot;H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; &#123;&#125; \nH1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(i.upper(),i.upper()))</span><br><span class="line">    print(<span class="string">&quot;\nP-VALUE: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(np.<span class="built_in">round</span>(p,<span class="number">2</span>)))</span><br><span class="line">    print(<span class="string">&quot;REJECT H0&quot;</span> <span class="keyword">if</span> p&lt;<span class="number">0.05</span> <span class="keyword">else</span> <span class="string">&quot;FAILED TO REJECT H0&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    CROSSTAB BETWEEN ANAEMIA &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    anaemia        0   1<br>â€‹    DEATH_EVENT<br>â€‹    0            120  83<br>â€‹    1             50  46</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; ANAEMIA<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; ANAEMIA<br>â€‹<br>    P-VALUE: 0.31<br>    FAILED TO REJECT H0</p>
<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>â€‹    CROSSTAB BETWEEN DIABETES &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>â€‹    diabetes       0   1<br>â€‹    DEATH_EVENT<br>â€‹    0            118  85<br>â€‹    1             56  40</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; DIABETES<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; DIABETES<br>â€‹<br>    P-VALUE: 0.93<br>    FAILED TO REJECT H0</p>
<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    CROSSTAB BETWEEN HIGH_BLOOD_PRESSURE &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    high_blood_pressure    0   1<br>â€‹    DEATH_EVENT<br>â€‹    0                    137  66<br>â€‹    1                     57  39</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; HIGH_BLOOD_PRESSURE<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; HIGH_BLOOD_PRESSURE<br>â€‹<br>    P-VALUE: 0.21<br>    FAILED TO REJECT H0</p>
<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-<br>â€‹    CROSSTAB BETWEEN SEX &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-<br>â€‹    sex           0    1<br>â€‹    DEATH_EVENT<br>â€‹    0            71  132<br>â€‹    1            34   62</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; SEX<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; SEX<br>â€‹<br>    P-VALUE: 0.96<br>    FAILED TO REJECT H0</p>
<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    CROSSTAB BETWEEN SMOKING &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    smoking        0   1<br>â€‹    DEATH_EVENT<br>â€‹    0            137  66<br>â€‹    1             66  30</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; SMOKING<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; SMOKING<br>â€‹<br>    P-VALUE: 0.93<br>    FAILED TO REJECT H0</p>
<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>â€‹    CROSSTAB BETWEEN DEATH_EVENT &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>â€‹    DEATH_EVENT    0   1<br>â€‹    DEATH_EVENT<br>â€‹    0            203   0<br>â€‹    1              0  96</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; DEATH_EVENT<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; DEATH_EVENT<br>â€‹<br>    P-VALUE: 0.0<br>    REJECT H0</p>
<p><strong>Method 2: correlation analysis</strong></p>
<ul>
<li>Use correlation coefficient &gt; 0.1 with death event</li>
<li>This method is applicable for both categorical data and numerical data</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">feature_corr = heart_data.corr()</span><br><span class="line">feature_corr[<span class="built_in">abs</span>(feature_corr[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]) &gt; <span class="number">0.1</span>][<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<pre><code>age                  0.253729
ejection_fraction   -0.268603
serum_creatinine     0.294278
serum_sodium        -0.195204
time                -0.526964
DEATH_EVENT          1.000000
Name: DEATH_EVENT, dtype: float64</code></pre>
<p><strong>Method 3: Visualized plots of feature importance in linear SVM</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature_plot</span>(<span class="params">classifier, feature_names, top_features=<span class="number">5</span></span>):</span></span><br><span class="line">    coef = classifier.coef_.ravel()</span><br><span class="line">    top_positive_coefficients = np.argsort(coef)[-top_features:]</span><br><span class="line">    top_negative_coefficients = np.argsort(coef)[:top_features]</span><br><span class="line">    middle_coefficient = np.argsort(coef)[top_features]</span><br><span class="line">    top_coefficients = np.hstack([top_negative_coefficients, middle_coefficient, top_positive_coefficients])</span><br><span class="line">    plt.figure(figsize=(<span class="number">18</span>, <span class="number">7</span>))</span><br><span class="line">    colors = [<span class="string">&#x27;green&#x27;</span> <span class="keyword">if</span> c &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">&#x27;blue&#x27;</span> <span class="keyword">for</span> c <span class="keyword">in</span> coef[top_coefficients]]</span><br><span class="line">    plt.bar(np.arange(<span class="number">2</span> * top_features+<span class="number">1</span>), coef[top_coefficients], color=colors)</span><br><span class="line">    feature_names = np.array(feature_names)</span><br><span class="line">    plt.xticks(np.arange(<span class="number">2</span> * top_features+<span class="number">1</span>), feature_names[top_coefficients], rotation=<span class="number">45</span>, ha=<span class="string">&#x27;right&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> LinearSVC</span><br><span class="line">heart_data = df.copy()</span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">X = StandardScaler().fit_transform(X)</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.1</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(heart_data.drop([&#x27;DEATH_EVENT&#x27;, &#x27;time&#x27;], axis=1).columns.values)</span></span><br><span class="line"></span><br><span class="line">trainedsvm = LinearSVC().fit(X, y)</span><br><span class="line">feature_plot(trainedsvm, heart_data.drop([<span class="string">&#x27;DEATH_EVENT&#x27;</span>, <span class="string">&#x27;time&#x27;</span>], axis=<span class="number">1</span>).columns.values)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_28_0.w2pbf35so00.png" alt="output_28_0"></p>
<ul>
<li>The ahead plot illustrates the importance of feature in SVM model. y axis could be considered as weights and the absolute value of weights could suggest the contribution to the final results.</li>
<li>The correlation analysis between factors and death event returned the coefficient &gt; 0.1 features</li>
<li>Both analysis returned three same features: serum_creatinine, age, ejection_fraction</li>
<li>we need to evaluate and compare the performance in serum_sodium and creatinine_phosphokinase</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score</span><br><span class="line">heart_data = df.copy()</span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line">options = [<span class="string">&#x27;serum_sodium&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> options:</span><br><span class="line">    selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>]</span><br><span class="line">    selected_feature.append(i)</span><br><span class="line">    X_processed = X[selected_feature]</span><br><span class="line">    X_processed = StandardScaler().fit_transform(X_processed)</span><br><span class="line">    X_train, X_test, y_train, y_test = train_test_split(X_processed, y, test_size=<span class="number">0.2</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">1</span>)</span><br><span class="line">    sv_clf = SVC(kernel=<span class="string">&quot;linear&quot;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">    sv_clf.fit(X_train, y_train)</span><br><span class="line">    sv_clf_pred = sv_clf.predict(X_test)</span><br><span class="line">    sv_clf_acc = accuracy_score(y_test,sv_clf_pred)</span><br><span class="line">    sc_clf_acc_format = <span class="built_in">round</span>(sv_clf_acc*<span class="number">100</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">#     accuracy_list.append(round(sv_clf_acc,2))</span></span><br><span class="line">    print(<span class="string">&quot;Accuracy of linear SVM model with feature &#123;&#125; is : &#123;&#125;%&quot;</span>.<span class="built_in">format</span>(i, sc_clf_acc_format))</span><br></pre></td></tr></table></figure>
<pre><code>Accuracy of linear SVM model with feature serum_sodium is : 81.67%
Accuracy of linear SVM model with feature creatinine_phosphokinase is : 83.33%</code></pre>
<p>Therefore, four features including serum_creatinine, age, ejection_fraction, creatinine_phosphokinase</p>
<hr>
<h3 id="Visualized-the-learning-curve-after-feature-selection"><a href="#Visualized-the-learning-curve-after-feature-selection" class="headerlink" title="Visualized the learning curve after feature selection"></a>Visualized the learning curve after feature selection</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> learning_curve</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_learning_curve</span>(<span class="params">estimator, title, X, y, axes=<span class="literal">None</span>, ylim=<span class="literal">None</span>, cv=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                        n_jobs=<span class="literal">None</span>, train_sizes=np.linspace(<span class="params"><span class="number">.1</span>, <span class="number">1.0</span>, <span class="number">5</span></span>)</span>):</span></span><br><span class="line">    <span class="keyword">if</span> axes <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        _, axes = plt.subplots(<span class="number">1</span>, <span class="number">3</span>, figsize=(<span class="number">20</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">    axes[<span class="number">0</span>].set_title(title)</span><br><span class="line">    <span class="keyword">if</span> ylim <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        axes[<span class="number">0</span>].set_ylim(*ylim)</span><br><span class="line">    axes[<span class="number">0</span>].set_xlabel(<span class="string">&quot;Training examples&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].set_ylabel(<span class="string">&quot;Score&quot;</span>)</span><br><span class="line"></span><br><span class="line">    train_sizes, train_scores, test_scores, fit_times, _ = \</span><br><span class="line">        learning_curve(estimator, X, y, cv=cv, n_jobs=n_jobs,</span><br><span class="line">                       train_sizes=train_sizes,</span><br><span class="line">                       return_times=<span class="literal">True</span>)</span><br><span class="line">    train_scores_mean = np.mean(train_scores, axis=<span class="number">1</span>)</span><br><span class="line">    train_scores_std = np.std(train_scores, axis=<span class="number">1</span>)</span><br><span class="line">    test_scores_mean = np.mean(test_scores, axis=<span class="number">1</span>)</span><br><span class="line">    test_scores_std = np.std(test_scores, axis=<span class="number">1</span>)</span><br><span class="line">    fit_times_mean = np.mean(fit_times, axis=<span class="number">1</span>)</span><br><span class="line">    fit_times_std = np.std(fit_times, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Plot learning curve</span></span><br><span class="line">    axes[<span class="number">0</span>].grid()</span><br><span class="line">    axes[<span class="number">0</span>].fill_between(train_sizes, train_scores_mean - train_scores_std,</span><br><span class="line">                         train_scores_mean + train_scores_std, alpha=<span class="number">0.1</span>,</span><br><span class="line">                         color=<span class="string">&quot;r&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].fill_between(train_sizes, test_scores_mean - test_scores_std,</span><br><span class="line">                         test_scores_mean + test_scores_std, alpha=<span class="number">0.1</span>,</span><br><span class="line">                         color=<span class="string">&quot;g&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].plot(train_sizes, train_scores_mean, <span class="string">&#x27;o-&#x27;</span>, color=<span class="string">&quot;r&quot;</span>,</span><br><span class="line">                 label=<span class="string">&quot;Training score&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].plot(train_sizes, test_scores_mean, <span class="string">&#x27;o-&#x27;</span>, color=<span class="string">&quot;g&quot;</span>,</span><br><span class="line">                 label=<span class="string">&quot;Cross-validation score&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].legend(loc=<span class="string">&quot;best&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Plot n_samples vs fit_times</span></span><br><span class="line">    axes[<span class="number">1</span>].grid()</span><br><span class="line">    axes[<span class="number">1</span>].plot(train_sizes, fit_times_mean, <span class="string">&#x27;o-&#x27;</span>)</span><br><span class="line">    axes[<span class="number">1</span>].fill_between(train_sizes, fit_times_mean - fit_times_std,</span><br><span class="line">                         fit_times_mean + fit_times_std, alpha=<span class="number">0.1</span>)</span><br><span class="line">    axes[<span class="number">1</span>].set_xlabel(<span class="string">&quot;Training examples&quot;</span>)</span><br><span class="line">    axes[<span class="number">1</span>].set_ylabel(<span class="string">&quot;fit_times&quot;</span>)</span><br><span class="line">    axes[<span class="number">1</span>].set_title(<span class="string">&quot;Scalability of the model&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Plot fit_time vs score</span></span><br><span class="line">    axes[<span class="number">2</span>].grid()</span><br><span class="line">    axes[<span class="number">2</span>].plot(fit_times_mean, test_scores_mean, <span class="string">&#x27;o-&#x27;</span>)</span><br><span class="line">    axes[<span class="number">2</span>].fill_between(fit_times_mean, test_scores_mean - test_scores_std,</span><br><span class="line">                         test_scores_mean + test_scores_std, alpha=<span class="number">0.1</span>)</span><br><span class="line">    axes[<span class="number">2</span>].set_xlabel(<span class="string">&quot;fit_times&quot;</span>)</span><br><span class="line">    axes[<span class="number">2</span>].set_ylabel(<span class="string">&quot;Score&quot;</span>)</span><br><span class="line">    axes[<span class="number">2</span>].set_title(<span class="string">&quot;Performance of the model&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> plt</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig, axes = plt.subplots(<span class="number">3</span>, <span class="number">2</span>, figsize=(<span class="number">10</span>, <span class="number">15</span>))</span><br><span class="line"></span><br><span class="line">heart_data = df.copy()</span><br><span class="line"></span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br><span class="line">selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line">X_processed = X[selected_feature]</span><br><span class="line">X_processed = StandardScaler().fit_transform(X_processed)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title = <span class="string">&quot;Learning Curves (SVM, linear kernel)&quot;</span></span><br><span class="line"><span class="comment"># cv = ShuffleSplit(n_splits=10, test_size=0.2, random_state=0)</span></span><br><span class="line"></span><br><span class="line">estimator = SVC(kernel=<span class="string">&quot;linear&quot;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">plot_learning_curve(estimator, title, X_processed, y, axes=axes[:, <span class="number">0</span>], ylim=(<span class="number">0.5</span>, <span class="number">1.01</span>),</span><br><span class="line">                     n_jobs=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title = <span class="string">r&quot;Learning Curves (SVM, RBF kernel)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cv = ShuffleSplit(n_splits=10, test_size=0.2, random_state=0)</span></span><br><span class="line">estimator = SVC(kernel=<span class="string">&quot;rbf&quot;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">plot_learning_curve(estimator, title, X_processed, y, axes=axes[:, <span class="number">1</span>], ylim=(<span class="number">0.5</span>, <span class="number">1.01</span>),</span><br><span class="line">                     n_jobs=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_34_0.wr0uxf8apts.png" alt="output_34_0"></p>
<ul>
<li><p>First column is the combination of learning curves, model scability, model performance in a SVM model with linear kernel. First row is the learning curve of linear SVM model: the training score is very high at the beginning and decreases and the cross-validation score is very low at the beginning and increases. The training score and the cross-validation score intertwines at about 220 training samples, and their difference after that are not significant</p>
</li>
<li><p>Second column is the combination of learning curves, model scability, model performance in a SVM model with linear kernel. The learning curve plots indicate that accuracy for both training score and cross validation score tend to be stable after 130 samples, which is similar in linear SVM model. The fit time for RBF kernel SVM is higher than linear kernel because of the complexity in calculation</p>
</li>
<li><p>RBF kernel has a relative higher performance, but the difference is not significant</p>
</li>
<li><p>The figure above doesnâ€™t indicate either overfitting or underfitting problems</p>
</li>
</ul>
<hr>
<h3 id="Explorative-data-analysis-of-the-four-selected-features"><a href="#Explorative-data-analysis-of-the-four-selected-features" class="headerlink" title="Explorative data analysis of the four selected features:"></a>Explorative data analysis of the four selected features:</h3><ul>
<li>â€˜serum_creatinineâ€™</li>
<li>â€˜ageâ€™</li>
<li>â€˜ejection_fractionâ€™</li>
<li>â€˜creatinine_phosphokinaseâ€™</li>
</ul>
<h4 id="Specify-the-figure-size"><a href="#Specify-the-figure-size" class="headerlink" title="Specify the figure size"></a>Specify the figure size</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">HEIGHT = <span class="number">500</span></span><br><span class="line">WIDTH = <span class="number">700</span></span><br><span class="line">NBINS = <span class="number">50</span></span><br><span class="line">SCATTER_SIZE=<span class="number">700</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">## Define the histogram</span></span><br><span class="line"><span class="keyword">import</span> plotly.express <span class="keyword">as</span> px</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_histogram</span>(<span class="params">dataframe, column, color, bins, marginal,title, width=WIDTH, height=HEIGHT</span>):</span></span><br><span class="line">    figure = px.histogram(</span><br><span class="line">        dataframe,</span><br><span class="line">        column,</span><br><span class="line">        color=color,</span><br><span class="line">        nbins=bins,</span><br><span class="line">        marginal= marginal,</span><br><span class="line">        title=title,</span><br><span class="line">        width=width,</span><br><span class="line">        height=height</span><br><span class="line">    )</span><br><span class="line">    figure.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plot_histogram(heart_data, <span class="string">&#x27;serum_creatinine&#x27;</span>, <span class="string">&#x27;DEATH_EVENT&#x27;</span>, NBINS, <span class="string">&quot;violin&quot;</span>,<span class="string">&#x27;Figure 1: Distribution of serum creatinine VS death event&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/1.63r0a5e9q8k0.png" alt="1"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plot_histogram(heart_data, <span class="string">&#x27;ejection_fraction&#x27;</span>, <span class="string">&#x27;DEATH_EVENT&#x27;</span>, NBINS, <span class="string">&quot;violin&quot;</span>,<span class="string">&#x27;Figure 2: Distribution of ejection fraction VS death event&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/2.6x2n1zgxkuk0.png" alt="2"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plot_histogram(heart_data, <span class="string">&#x27;creatinine_phosphokinase&#x27;</span>, <span class="string">&#x27;DEATH_EVENT&#x27;</span>, NBINS, <span class="string">&quot;violin&quot;</span>,<span class="string">&#x27;Figure 3: Distribution of creatinine_phosphokinase VS death event&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/3.3onf6f093tg0.png" alt="3"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> plotly.graph_objs <span class="keyword">as</span> go</span><br><span class="line">heart_data = df.copy()</span><br><span class="line">male = heart_data[heart_data[<span class="string">&quot;sex&quot;</span>]==<span class="number">1</span>]</span><br><span class="line">female = heart_data[heart_data[<span class="string">&quot;sex&quot;</span>]==<span class="number">0</span>]</span><br><span class="line">male_survival= male[male[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">0</span>]</span><br><span class="line">female_survival= female[female[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">0</span>]</span><br><span class="line"><span class="comment">## assign the labels</span></span><br><span class="line">labels = [<span class="string">&#x27;Male - Survived&#x27;</span>,<span class="string">&#x27;Male - Not Survived&#x27;</span>, <span class="string">&quot;Female -  Survived&quot;</span>, <span class="string">&quot;Female - Not Survived&quot;</span>]</span><br><span class="line"><span class="comment">## value is set according to the labels</span></span><br><span class="line">values = [<span class="built_in">len</span>(male[heart_data[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">0</span>]),<span class="built_in">len</span>(male[heart_data[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">1</span>]),</span><br><span class="line">         <span class="built_in">len</span>(female[heart_data[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">0</span>]),<span class="built_in">len</span>(female[heart_data[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">1</span>])]</span><br><span class="line">fig = go.Figure(data=[go.Pie(labels=labels,values=values,hole=<span class="number">.3</span>)])</span><br><span class="line">fig.update_layout(</span><br><span class="line">    title_text = <span class="string">&quot;Figure 4: Analysis on Survival - Gender factor&quot;</span></span><br><span class="line">)</span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/4.4c73jb0v6ok0.png" alt="4"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">## Define the violin plot function method</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">violin_boxplot</span>(<span class="params">dataframe, x, y,color,points,hover_data, box, width=WIDTH, height=HEIGHT</span>):</span></span><br><span class="line">    figure = px.violin(</span><br><span class="line">        dataframe,</span><br><span class="line">        x=x,</span><br><span class="line">        y=y,</span><br><span class="line">        color = color,</span><br><span class="line">        box = box,</span><br><span class="line">        hover_data=hover_data,</span><br><span class="line">        points=points,</span><br><span class="line">        width=width,</span><br><span class="line">        height=height</span><br><span class="line">    )</span><br><span class="line">    figure.update_layout(title_text=<span class="string">&quot;Figure 5: Analysis of both gender and age factors in survival rates&quot;</span>)</span><br><span class="line">    figure.show()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">violin_boxplot(heart_data,x = <span class="string">&quot;sex&quot;</span>,y=<span class="string">&quot;age&quot;</span>,color=<span class="string">&quot;DEATH_EVENT&quot;</span>,points=<span class="string">&quot;all&quot;</span>,box=<span class="literal">True</span>,hover_data=heart_data.columns)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/5.74bv5l7tba00.png" alt="5"></p>
<p>Figure 1 - Figure 5 is the visualization of each feature, there is no clear patterns or strong association between the death_event. Therefore, we need to further our research by conducting the model prediction process.</p>
<h2 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h2><h3 id="Python-library"><a href="#Python-library" class="headerlink" title="Python library"></a>Python library</h3><h1 id="Description-how-you-learned-the-predictor"><a href="#Description-how-you-learned-the-predictor" class="headerlink" title="Description: how you learned the predictor"></a>Description: how you learned the predictor</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score, mean_squared_error</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> LinearSVC</span><br></pre></td></tr></table></figure>
<h3 id="PCA-to-visualize-the-sample-distribution"><a href="#PCA-to-visualize-the-sample-distribution" class="headerlink" title="PCA to visualize the sample distribution"></a>PCA to visualize the sample distribution</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line">pca.fit(X_processed)</span><br><span class="line">X_pca = pca.transform(X_processed)</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">8</span>,<span class="number">8</span>))</span><br><span class="line">plt.scatter(X_pca[y==<span class="number">0</span>,<span class="number">0</span>],X_pca[y==<span class="number">0</span>,<span class="number">1</span>],label=<span class="string">&quot;Alive&quot;</span>,c=<span class="string">&quot;red&quot;</span>)</span><br><span class="line">plt.scatter(X_pca[y==<span class="number">1</span>,<span class="number">0</span>],X_pca[y==<span class="number">1</span>,<span class="number">1</span>],label=<span class="string">&quot;Death&quot;</span>,c=<span class="string">&quot;black&quot;</span>)</span><br><span class="line">plt.legend([<span class="string">&quot;Alive&quot;</span>,<span class="string">&quot;Death&quot;</span>])</span><br></pre></td></tr></table></figure>



<pre><code>&lt;matplotlib.legend.Legend at 0x7fdff0ee0d90&gt;</code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_50_1.2x87z2ut9k60.png" alt="output_50_1"></p>
<p>In this case, the data distribution after feature selection are scattered, which could be beneficial for separation. Still, we could not determine whether linear kernel or RBF kernel is suitable for classification. I then would compare the performance between these two methods.</p>
<h3 id="Machine-learning-algorithms-with-description"><a href="#Machine-learning-algorithms-with-description" class="headerlink" title="Machine learning algorithms with description"></a>Machine learning algorithms with description</h3><h4 id="SVM-with-linear-kernel"><a href="#SVM-with-linear-kernel" class="headerlink" title="SVM with linear kernel"></a>SVM with linear kernel</h4><p>$$ K(x,y) = X^Ty=x\cdot y$$</p>
<p>Loss function: hinge loss / squared hinge loss</p>
<p>$$ Agreement: z = y_i(w \cdot x_i + \alpha) $$</p>
<p>Hinge loss</p>
<p>$$<br>L_h(z)= \begin{cases}<br>0 &amp; \text{if z$\geq$1}\<br>1-z &amp; \text{z&lt;1}<br>\end{cases}<br>$$</p>
<p>Squared hinge loss</p>
<p>$$<br>L_{hsqr}(z)= \begin{cases}<br>0 &amp; \text{if z$\geq$1}\<br>(1-z)^2 &amp; \text{z&lt;1}<br>\end{cases}<br>$$</p>
<p>Optimization objective formula for hinge loss:</p>
<p>$$<br>J(w,\alpha) = \frac{1}{n}\sum_{i=1}^nL_h(y_i(w\cdot x_i + \alpha))+\frac{\lambda}{2}(||w||)^2<br>$$</p>
<p>Description:</p>
<ul>
<li>Linear Kernel is used when the data is linearly separable dataset.</li>
<li>One of the goal is to minimize the previous objective formula for the hinge loss. $\lambda$ in this case stands for the regularization hyperparameter.</li>
<li>The strength of the regularization is inversely proportional to $\lambda$, it has to be strictly positive. The smaller regularization parameter means less tolerant to misclassification.</li>
<li>Require grid serach to return the suitable hyperparameter</li>
</ul>
<h4 id="SVM-with-RBF-kernel"><a href="#SVM-with-RBF-kernel" class="headerlink" title="SVM with RBF kernel"></a>SVM with RBF kernel</h4><p>$$ K(x,y) = e^{-\gamma||x-y||^2}, \gamma &gt;0 $$</p>
<p>Loss function: hinge loss / squared hinge loss</p>
<p>$$ Agreement: z = y_i(w \cdot \phi(x_i) + \alpha) $$</p>
<p>Hinge loss</p>
<p>$$<br>L_h(z)= \begin{cases}<br>0 &amp; \text{if z$\geq$1}\<br>1-z &amp; \text{z&lt;1}<br>\end{cases}<br>$$</p>
<p>Squared hinge loss</p>
<p>$$<br>L_{hsqr}(z)= \begin{cases}<br>0 &amp; \text{if z$\geq$1}\<br>(1-z)^2 &amp; \text{z&lt;1}<br>\end{cases}<br>$$</p>
<p>Optimization objective formula for hinge loss:</p>
<p>$$<br>J(w,\alpha) = \frac{1}{n}\sum_{i=1}^nL_h(y_i(w\cdot \phi(x_i) + \alpha))+\frac{\lambda}{2}(||w||)^2<br>$$</p>
<p>Description:</p>
<ul>
<li>SVM with RBF kernel was utilized to solve the linearly inseparable probelms</li>
<li>kernel trick was used in RBF kernel SVM to increase the computational efficiency</li>
<li>$\gamma$ parameter how far the influence of a single training example reaches</li>
<li>C parameter trades off correct classification of training examples against maximization of the decision functionâ€™s margin</li>
</ul>
<h4 id="Evaluation-method"><a href="#Evaluation-method" class="headerlink" title="Evaluation method"></a>Evaluation method</h4><p>Mean squared error (MSE)</p>
<p>$$<br>MSE = \frac{1}{n}\sum_{i=1}^n(Y_i- \hat{Y_i})^2<br>$$</p>
<p>where $Y_i$ is the label and $\hat{Y_i}$ is the predicted label by model</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">heart_data = df.copy()</span><br><span class="line"></span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br><span class="line">selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line">X_processed = X[selected_feature]</span><br><span class="line">X_processed = StandardScaler().fit_transform(X_processed)</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X_processed, y, test_size=<span class="number">0.2</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## linear svm</span></span><br><span class="line"><span class="comment"># sv_clf = LinearSVC(loss=&#x27;hinge&#x27;,random_state=1, C=1.0, penalty = &#x27;l2&#x27;)</span></span><br><span class="line">sv_clf = SVC(kernel=<span class="string">&quot;linear&quot;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">sv_clf.fit(X_train, y_train)</span><br><span class="line">sv_clf_pred = sv_clf.predict(X_test)</span><br><span class="line">sv_clf_acc = accuracy_score(y_test,sv_clf_pred)</span><br><span class="line">sv_clf_mse = mean_squared_error(y_test,sv_clf_pred)</span><br><span class="line">print(<span class="string">&quot;Accuracy of linear SVM model is :&quot;</span>,<span class="string">&quot;&#123;:.2f&#125;%&quot;</span>.<span class="built_in">format</span>(<span class="number">100</span>*sv_clf_acc))</span><br><span class="line">print(<span class="string">&quot;Mean squared error of linear SVM model is :&quot;</span>,<span class="string">&quot;&#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(sv_clf_mse))</span><br><span class="line"></span><br><span class="line"><span class="comment">## RBF kernel SVM</span></span><br><span class="line">sv_clf = SVC(kernel=<span class="string">&quot;rbf&quot;</span>,random_state=<span class="number">1</span>, C=<span class="number">1.0</span>, gamma=<span class="number">0.1</span>)</span><br><span class="line">sv_clf.fit(X_train, y_train)</span><br><span class="line">sv_clf_pred = sv_clf.predict(X_test)</span><br><span class="line">sv_clf_acc = accuracy_score(y_test,sv_clf_pred)</span><br><span class="line">sv_clf_mse = mean_squared_error(y_test,sv_clf_pred)</span><br><span class="line">print(<span class="string">&quot;Accuracy of RBF SVM model is :&quot;</span>,<span class="string">&quot;&#123;:.2f&#125;%&quot;</span>.<span class="built_in">format</span>(<span class="number">100</span>*sv_clf_acc))</span><br><span class="line">print(<span class="string">&quot;Mean squared error of linear SVM model is :&quot;</span>,<span class="string">&quot;&#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(sv_clf_mse))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>Accuracy of linear SVM model is : 83.33%
Mean squared error of linear SVM model is : 0.17
Accuracy of RBF SVM model is : 86.67%
Mean squared error of linear SVM model is : 0.13</code></pre>
<h2 id="Experiments-and-results"><a href="#Experiments-and-results" class="headerlink" title="Experiments and results"></a>Experiments and results</h2><h3 id="Compare-the-efficacy-of-different-preprocessing-methods"><a href="#Compare-the-efficacy-of-different-preprocessing-methods" class="headerlink" title="Compare the efficacy of different preprocessing methods"></a>Compare the efficacy of different preprocessing methods</h3><ul>
<li>MinMaxScalar</li>
<li>StandardScalar</li>
<li>RobustScalar</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.pipeline <span class="keyword">import</span> Pipeline</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> MinMaxScaler, StandardScaler, RobustScaler</span><br><span class="line"></span><br><span class="line">heart_data = df.copy()</span><br><span class="line"></span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br><span class="line">selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line">X_processed = X[selected_feature]</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X_processed, y, test_size=<span class="number">0.2</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># MinMaxScalar</span></span><br><span class="line">pipe1 = Pipeline([(<span class="string">&quot;scalar&quot;</span>,MinMaxScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(random_state=<span class="number">1</span>))])</span><br><span class="line">pipe1.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for MinMaxScalar RBF kernel: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(pipe1.score(X_test,y_test)))</span><br><span class="line"></span><br><span class="line">pipe1_linear = Pipeline([(<span class="string">&quot;scalar&quot;</span>,MinMaxScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(kernel=<span class="string">&quot;linear&quot;</span>,random_state=<span class="number">1</span>))])</span><br><span class="line">pipe1_linear.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for MinMaxScalar linear kernel: &#123;:.3f&#125;\n&quot;</span>.<span class="built_in">format</span>(pipe1_linear.score(X_test,y_test)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># StandardScalar</span></span><br><span class="line"></span><br><span class="line">pipe2 = Pipeline([(<span class="string">&quot;scalar&quot;</span>,StandardScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(random_state=<span class="number">1</span>))])</span><br><span class="line">pipe2.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for StandardScalar in RBF kernel: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(pipe2.score(X_test,y_test)))</span><br><span class="line"></span><br><span class="line">pipe2_linear = Pipeline([(<span class="string">&quot;scalar&quot;</span>,StandardScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(kernel=<span class="string">&quot;linear&quot;</span> ,random_state=<span class="number">1</span>))])</span><br><span class="line">pipe2_linear.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for StandardScalar in linear kernel: &#123;:.3f&#125;\n&quot;</span>.<span class="built_in">format</span>(pipe2_linear.score(X_test,y_test)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># RobustScalar</span></span><br><span class="line"></span><br><span class="line">pipe3 = Pipeline([(<span class="string">&quot;scalar&quot;</span>,RobustScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(random_state=<span class="number">1</span>))])</span><br><span class="line">pipe3.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for RobustScalar in RBF kernel: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(pipe3.score(X_test,y_test)))</span><br><span class="line"></span><br><span class="line">pipe3_linear = Pipeline([(<span class="string">&quot;scalar&quot;</span>,RobustScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(kernel = <span class="string">&quot;linear&quot;</span>,random_state=<span class="number">1</span>))])</span><br><span class="line">pipe3_linear.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for RobustScalar in linear kernel: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(pipe3_linear.score(X_test,y_test)))</span><br></pre></td></tr></table></figure>
<pre><code>Test score for MinMaxScalar RBF kernel: 0.850
Test score for MinMaxScalar linear kernel: 0.767

Test score for StandardScalar in RBF kernel: 0.850
Test score for StandardScalar in linear kernel: 0.833

Test score for RobustScalar in RBF kernel: 0.800
Test score for RobustScalar in linear kernel: 0.817</code></pre>
<ul>
<li>There is no significant difference between different preprocessing method in RBF kernels, especially in MinMaxScalar and StandardScalar.</li>
<li>Overall RBF kernel outperforms than linear kernel.</li>
<li>In this case, I would insist on using StandardScalar in following procedure.<br>
<br>
<br>



</li>
</ul>
<h3 id="Compare-the-model-performance-by-ten-fold-cross-validation-and-leave-one-out-method-in-model-evaluation"><a href="#Compare-the-model-performance-by-ten-fold-cross-validation-and-leave-one-out-method-in-model-evaluation" class="headerlink" title="Compare the model performance by ten-fold cross validation and leave-one-out method in model evaluation"></a>Compare the model performance by ten-fold cross validation and leave-one-out method in model evaluation</h3><br>

<p>Owing to the fact that the dataset I used is a small one, only containing 299 samples in total. In order to minimize the bias or error leading by accident, I used ten-fold cross validation and leave-one-out method to return a more general evaluation (calculating the mean value)</p>
<h4 id="Ten-fold-cross-validation-of-SVM"><a href="#Ten-fold-cross-validation-of-SVM" class="headerlink" title="Ten-fold cross validation of SVM"></a>Ten-fold cross validation of SVM</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">heart_data = df.copy()</span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br><span class="line">selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line">X_processed = X[selected_feature]</span><br><span class="line">X_processed = StandardScaler().fit_transform(X_processed)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score</span><br><span class="line">sv_clf = SVC(kernel= <span class="string">&#x27;linear&#x27;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">sv_clf_rbf = SVC(kernel=<span class="string">&#x27;rbf&#x27;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">scores = cross_val_score(sv_clf, X_processed,y,cv=<span class="number">10</span>)</span><br><span class="line">scores_rbf = cross_val_score(sv_clf_rbf, X_processed,y,cv=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;Ten-fold cross validation scores of linear SVM:&#123;:.3f&#125; &quot;</span>.<span class="built_in">format</span>(np.mean(scores)))</span><br><span class="line">print(<span class="string">&quot;Ten-fold cross validation scores of RBF kernel SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(np.mean(scores_rbf)))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>Ten-fold cross validation scores of linear SVM:0.756 
Ten-fold cross validation scores of RBF kernel SVM:0.763</code></pre>
<h4 id="Leave-on-out-method-of-SVM"><a href="#Leave-on-out-method-of-SVM" class="headerlink" title="Leave-on-out method of SVM"></a>Leave-on-out method of SVM</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> LeaveOneOut</span><br><span class="line">loo = LeaveOneOut()</span><br><span class="line">scores_loo = cross_val_score(sv_clf,X_processed,y,cv=loo)</span><br><span class="line">scores_loo_rbf = cross_val_score(sv_clf_rbf,X_processed,y,cv=loo)</span><br><span class="line">print(<span class="string">&quot;Number of CV iterations: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(scores_loo)))</span><br><span class="line">print(<span class="string">&quot;Leave one out method mean scores for linear SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(scores_loo.mean()))</span><br><span class="line">print(<span class="string">&quot;Leave one out method mean scores for RBF SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(scores_loo_rbf.mean()))</span><br></pre></td></tr></table></figure>
<pre><code>Number of CV iterations: 299
Leave one out method mean scores for linear SVM:0.763
Leave one out method mean scores for RBF SVM:0.756</code></pre>
<h4 id="Comparison-of-the-two-methods"><a href="#Comparison-of-the-two-methods" class="headerlink" title="Comparison of the two methods"></a>Comparison of the two methods</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">&quot;Ten-fold cross validation scores of linear SVM:&#123;:.3f&#125; &quot;</span>.<span class="built_in">format</span>(np.mean(scores)))</span><br><span class="line">print(<span class="string">&quot;Ten-fold cross validation scores of RBF kernel SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(np.mean(scores_rbf)))</span><br><span class="line">print(<span class="string">&quot;Leave one out method mean scores for linear SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(scores_loo.mean()))</span><br><span class="line">print(<span class="string">&quot;Leave one out method mean scores for RBF SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(scores_loo_rbf.mean()))</span><br></pre></td></tr></table></figure>
<pre><code>Ten-fold cross validation scores of linear SVM:0.756 
Ten-fold cross validation scores of RBF kernel SVM:0.763
Leave one out method mean scores for linear SVM:0.763
Leave one out method mean scores for RBF SVM:0.756</code></pre>
<p>**Summary: **<br>The results of either ten-fold cross validation and leave-one-out method results are quite similar, based on the consideration of time elapse, I would use ten-fold cross-validation for the following analysis</p>
<h3 id="Hyperparameters-tuning"><a href="#Hyperparameters-tuning" class="headerlink" title="Hyperparameters tuning"></a>Hyperparameters tuning</h3><ul>
<li>Grid search for SVM algorithm with ten-fold cross validation method</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line">param_grid = [&#123;<span class="string">&#x27;kernel&#x27;</span>: [<span class="string">&#x27;rbf&#x27;</span>],</span><br><span class="line">               <span class="string">&#x27;C&#x27;</span>: [<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>],</span><br><span class="line">               <span class="string">&#x27;gamma&#x27;</span>:[<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>]&#125;,</span><br><span class="line">                &#123;<span class="string">&#x27;kernel&#x27;</span>:[<span class="string">&#x27;linear&#x27;</span>],</span><br><span class="line">               <span class="string">&#x27;C&#x27;</span>: [<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>]</span><br><span class="line">                &#125;]</span><br><span class="line"><span class="comment"># print(param_grid)</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X_processed, y, test_size=<span class="number">0.2</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">grid_search = GridSearchCV(SVC(random_state=<span class="number">1</span>),param_grid,cv =<span class="number">10</span>, n_jobs=-<span class="number">1</span>)</span><br><span class="line">grid_search.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Best cross validation accuracy: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.best_score_))</span><br><span class="line">print(<span class="string">&quot;Test set score: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.score(X_test,y_test)))</span><br><span class="line">print(<span class="string">&quot;Best parameters: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.best_params_))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>Best cross validation accuracy: 0.75
Test set score: 0.87
Best parameters: &#123;&#39;C&#39;: 1, &#39;gamma&#39;: 0.1, &#39;kernel&#39;: &#39;rbf&#39;&#125;</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">results = pd.DataFrame(grid_search.cv_results_)</span><br><span class="line">results_rbf = results.iloc[<span class="number">0</span>:<span class="number">25</span>,:]</span><br><span class="line">results_linear = results.iloc[<span class="number">25</span>:,:]</span><br><span class="line"><span class="comment"># display(results_linear.T.head())</span></span><br><span class="line"><span class="comment"># display(results_rbf.T.head())</span></span><br><span class="line"><span class="comment"># display(results.T.head())</span></span><br><span class="line"><span class="comment"># display(results.T)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">12</span>,<span class="number">12</span>))</span><br><span class="line">scores = np.array(results_rbf.mean_test_score).reshape(<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">heatmap = sn.heatmap(data=scores,xticklabels=param_grid[<span class="number">0</span>][<span class="string">&#x27;gamma&#x27;</span>],</span><br><span class="line">           yticklabels=param_grid[<span class="number">0</span>][<span class="string">&#x27;C&#x27;</span>],</span><br><span class="line">           annot=<span class="literal">True</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;C&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;gamma&quot;</span>)</span><br></pre></td></tr></table></figure>



<pre><code>Text(0.5, 87.0, &#39;gamma&#39;)</code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_68_1.3u7i0m4xy720.png" alt="output_68_1"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sv_clf_rbf = SVC(kernel=<span class="string">&#x27;rbf&#x27;</span>,random_state=<span class="number">1</span>,C=<span class="number">1</span>, gamma = <span class="number">0.1</span>)</span><br><span class="line">scores_loo_rbf = cross_val_score(sv_clf_rbf,X_processed,y,cv=<span class="number">10</span>)</span><br><span class="line"><span class="comment"># print(&quot;Number of CV iterations: &#123;&#125;&quot;.format(len(scores_loo)))</span></span><br><span class="line">print(<span class="string">&quot;10-fold cross validation mean method scores for RBF SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(scores_loo_rbf.mean()))</span><br></pre></td></tr></table></figure>
<pre><code>10-fold cross validation mean method scores for RBF SVM:0.763</code></pre>
<p>As can be seen from the grid search, the SVM with RBF kernel and hyperparameter C: 1, gamma 0.1 could achieve the highest performance</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">linear_score = np.array(results_linear.mean_test_score)</span><br><span class="line">display(results_linear.T.head())</span><br><span class="line">print(<span class="built_in">max</span>(linear_score))</span><br></pre></td></tr></table></figure>

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>25</th>
      <th>26</th>
      <th>27</th>
      <th>28</th>
      <th>29</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mean_fit_time</th>
      <td>0.0021414</td>
      <td>0.00199142</td>
      <td>0.00196731</td>
      <td>0.00795052</td>
      <td>0.0434071</td>
    </tr>
    <tr>
      <th>std_fit_time</th>
      <td>0.000204684</td>
      <td>0.0003023</td>
      <td>0.000284892</td>
      <td>0.00302314</td>
      <td>0.010914</td>
    </tr>
    <tr>
      <th>mean_score_time</th>
      <td>0.000635695</td>
      <td>0.000739121</td>
      <td>0.000567961</td>
      <td>0.000703764</td>
      <td>0.000822139</td>
    </tr>
    <tr>
      <th>std_score_time</th>
      <td>0.000104189</td>
      <td>0.000289296</td>
      <td>9.88127e-05</td>
      <td>8.55103e-05</td>
      <td>0.000257763</td>
    </tr>
    <tr>
      <th>param_C</th>
      <td>0.01</td>
      <td>0.1</td>
      <td>1</td>
      <td>10</td>
      <td>100</td>
    </tr>
  </tbody>
</table>
</div>


<pre><code>0.7358695652173913</code></pre>
<p>In the meantime, the best performance in linear model is 0.73587, and the mean_test_score in c =1,10,100 is relative similar. The influence of hyperparameter C are not significant. Apart from that the SVC function only provide</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">### Hyperparameter tuning for linear SVM (penalty, loss, C)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">parameters = &#123;<span class="string">&#x27;penalty&#x27;</span>:[<span class="string">&#x27;l1&#x27;</span>, <span class="string">&#x27;l2&#x27;</span>], <span class="string">&#x27;loss&#x27;</span>:[<span class="string">&#x27;hinge&#x27;</span>, <span class="string">&#x27;squared_hinge&#x27;</span>],<span class="string">&#x27;C&#x27;</span>:[<span class="number">1</span>, <span class="number">10</span>,<span class="number">100</span>]&#125;</span><br><span class="line">grid_search = GridSearchCV(LinearSVC(random_state=<span class="number">1</span>),parameters,cv =<span class="number">10</span>, n_jobs=-<span class="number">1</span>)</span><br><span class="line">grid_search.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Best cross validation accuracy: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.best_score_))</span><br><span class="line">print(<span class="string">&quot;Test set score: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.score(X_test,y_test)))</span><br><span class="line">print(<span class="string">&quot;Best parameters: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.best_params_))</span><br></pre></td></tr></table></figure>
<pre><code>Best cross validation accuracy: 0.75
Test set score: 0.80
Best parameters: &#123;&#39;C&#39;: 10, &#39;loss&#39;: &#39;squared_hinge&#39;, &#39;penalty&#39;: &#39;l2&#39;&#125;</code></pre>
<p>The test score of linear svm (test set score:0.80) still could not compete with the rbf kernel (test set score: 0.87), therefore, I would still insist on the SVM with RBF kernel and hyperparameter C: 1, gamma 0.1</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> plot_confusion_matrix, confusion_matrix</span><br><span class="line">heart_data = df.copy()</span><br><span class="line"></span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br><span class="line">selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line">X_processed = X[selected_feature]</span><br><span class="line">X_processed = StandardScaler().fit_transform(X_processed)</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X_processed,y,test_size=<span class="number">0.2</span>,random_state=<span class="number">2</span>)</span><br><span class="line">model = SVC(kernel=<span class="string">&#x27;rbf&#x27;</span>,random_state=<span class="number">1</span>,C=<span class="number">1</span>, gamma = <span class="number">0.1</span>)</span><br><span class="line">model.fit(X_train,y_train)</span><br><span class="line">y_pred = model.predict(X_test)</span><br><span class="line">y_pred_train = model.predict(X_train)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Training-and-validation-loss"><a href="#Training-and-validation-loss" class="headerlink" title="Training and validation loss"></a>Training and validation loss</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">&quot;Training loss is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">round</span>(model.score(X_train,y_train),<span class="number">2</span>)))</span><br><span class="line">print(<span class="string">&quot;Testing loss is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">round</span>(model.score(X_test,y_test),<span class="number">2</span>)))</span><br></pre></td></tr></table></figure>
<pre><code>Training loss is: 0.78
Testing loss is: 0.83</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_mse = mean_squared_error(y_train,y_pred_train)</span><br><span class="line">test_mse = mean_squared_error(y_test,y_pred)</span><br><span class="line">print(<span class="string">&quot;The MSE value of training sample is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">round</span>(train_mse,<span class="number">2</span>)))</span><br><span class="line">print(<span class="string">&quot;The MSE value of testing sample is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">round</span>(test_mse,<span class="number">2</span>)))</span><br></pre></td></tr></table></figure>
<pre><code>The MSE value of training sample is: 0.22
The MSE value of testing sample is: 0.17</code></pre>
<p>The training loss in SVM with RBF kernel in hyperparameter C: 1, gamma 0.1 is 0.78, with testing loss equals 0.83<br>The MSE value for training and testing in SVM with RBF kernel is 0.22 and 0.17 accordingly</p>
<h3 id="Plot-the-confusion-matrix-plot"><a href="#Plot-the-confusion-matrix-plot" class="headerlink" title="Plot the confusion matrix plot"></a>Plot the confusion matrix plot</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># confusion = confusion_matrix(y_test,y_pred)</span></span><br><span class="line">plot_confusion_matrix(model,X_test,y_test)</span><br><span class="line">plt.title(<span class="string">&quot;SVC Model - Confusion Matrix&quot;</span>)</span><br><span class="line">plt.xticks(<span class="built_in">range</span>(<span class="number">2</span>), [<span class="string">&quot;Alive&quot;</span>, <span class="string">&quot;Dead&quot;</span>], fontsize=<span class="number">8</span>)</span><br><span class="line">plt.yticks(<span class="built_in">range</span>(<span class="number">2</span>), [<span class="string">&quot;Alive&quot;</span>, <span class="string">&quot;Dead&quot;</span>], fontsize=<span class="number">8</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_83_0.nfr53d9ahao.png" alt="output_83_0"></p>
<h3 id="Evaluate-the-performance-of-the-final-selected-model-performance-with-respect-to-the-chosen-performance-matrix"><a href="#Evaluate-the-performance-of-the-final-selected-model-performance-with-respect-to-the-chosen-performance-matrix" class="headerlink" title="Evaluate the performance of the final selected model performance with respect to the chosen performance matrix"></a>Evaluate the performance of the final selected model performance with respect to the chosen performance matrix</h3><br>

<h3 id="Accuracy"><a href="#Accuracy" class="headerlink" title="Accuracy:"></a>Accuracy:</h3><p>$$\frac{TP+TN}{TP+TN+FP+FN}$$<br><br></p>
<h3 id="Total"><a href="#Total" class="headerlink" title="Total:"></a>Total:</h3><p>$$Total = TP+TN+FP+FN$$</p>
<h3 id="Precision"><a href="#Precision" class="headerlink" title="Precision:"></a>Precision:</h3><p>$$\frac{TP}{TP+FP}$$</p>
<h3 id="Recall"><a href="#Recall" class="headerlink" title="Recall:"></a>Recall:</h3><p>$$\frac{TP}{TP+FN}$$</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line">print(classification_report(y_test,y_pred,target_names=[<span class="string">&quot;Heart Not Failed&quot;</span>, <span class="string">&quot;Heart Fail&quot;</span>]))</span><br></pre></td></tr></table></figure>
<pre><code>                  precision    recall  f1-score   support

Heart Not Failed       0.85      0.93      0.89        43
      Heart Fail       0.77      0.59      0.67        17

        accuracy                           0.83        60
       macro avg       0.81      0.76      0.78        60
    weighted avg       0.83      0.83      0.83        60</code></pre>
<h3 id="ROC-curve"><a href="#ROC-curve" class="headerlink" title="ROC curve"></a>ROC curve</h3><p>AUC = Area under the curve</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> confusion_matrix, plot_confusion_matrix, plot_roc_curve, plot_precision_recall_curve</span><br><span class="line">plot_roc_curve(model,X_test,y_test)</span><br></pre></td></tr></table></figure>



<pre><code>&lt;sklearn.metrics._plot.roc_curve.RocCurveDisplay at 0x7fdff1de91f0&gt;</code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_87_1.50raz9ifl680.png" alt="output_87_1">    </p>
<h3 id="PR-curve"><a href="#PR-curve" class="headerlink" title="PR-curve"></a>PR-curve</h3><p>AP = Average Precision, summarizes such a plot as the weighted mean of precisions achieved at each threshold, with the increase in recall from the previous threshold used as the weight:</p>
<p>$$ AP =\sum_{N}(R_n-R_{n-1})P_n$$</p>
<p>where  and  are the precision and recall at the nth threshold. A pair  is referred to as an operating point.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plot_precision_recall_curve(model,X_test,y_test)</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_89_1.zs7xp3919lc.png" alt="output_89_1"></p>
<h3 id="Summary-of-the-results"><a href="#Summary-of-the-results" class="headerlink" title="Summary of the results"></a>Summary of the results</h3><ul>
<li>Grid search to find the best hyperparameters in optimization of the model</li>
<li>ten-fold cross validation used to evaluate machine learning models on a limited data sample</li>
<li>SVM with RBF kernel and hyperparameter C: 1, gamma 0.1 would be the best performed model</li>
<li>precision, recall, f1-score, accuracy value were applied and summarized in the previous table</li>
<li>train loss and validation loss were 0.78 and 0.83 accordingly</li>
<li>MSE value of training sample and testing sample is 0.22 and 0.17 accordingly</li>
<li>No overfitting or underfitting problem observed because regularization method, cross-validation method were used to mitigate the potential problems</li>
<li>The overall model is robust and in good generalization ability</li>
<li>ROC curve and PR curve were visualized to demonstrate the final results; AUC is 0.83 and AP is 0.7</li>
</ul>
<h2 id="Conclusion-and-future-work"><a href="#Conclusion-and-future-work" class="headerlink" title="Conclusion and future work"></a>Conclusion and future work</h2><p>In this project, I compared and devised a RBF SVM machine learning model for the prediction of heart failure. I firstly conducted a preliminary analysis of the whole dataset and utilized the PCA method to visualize the distribution condition of the samples. The initial analysis was not robust and precise, which required me to optimize the model. Then, I conducted feature selection to return the top 4 most correlated feature with the death event. Apart from that, I also compared the difference between normalization method as well as the validation methods. The final determined methods were to use four selected features (â€˜serum_creatinineâ€™,â€™ageâ€™,â€™ejection_fractionâ€™, â€˜creatinine_phosphokinaseâ€™), StandardScalar methods and ten-fold cross validation to conduct the prediction. In addition, I also conduct the explorative data analysis to have a view of the selected feature. Furthermore, the PCA condition after feature selection still could not determine whether the dataset is linearly seperable or not, I, therefore, used the grid serach to return the most suitable hyperparameters. The final results suggested that the SVM with RBF kernel in gamma equals 0.1 and penalty C equals 1 could achieve the best performance. After that, the model performance was evaluated from confusion matrix, accuracy, precision, recall, f1-score. Moreover, the ROC plot and PR-curve plot with AUC and AP accordingly were indicated. The final accuracy could achieve 0.83, which is satisfactory.</p>
<p>In the future, since this project only used SVM related algorithms, I would like to incorporate more complicate algorithms, for instance, XGboost. Furthermore, the modelâ€™s interpretability are not great enough, and that would be my focus in the future.</p>
<h2 id="Bibliography"><a href="#Bibliography" class="headerlink" title="Bibliography"></a>Bibliography</h2><p>Heart Fail:Analysis and Quick-prediction | Kaggle. (n.d.). Retrieved January 8, 2021, from <a class="link"   href="https://www.kaggle.com/nayansakhiya/heart-fail-analysis-and-quick-prediction" >https://www.kaggle.com/nayansakhiya/heart-fail-analysis-and-quick-prediction<i class="fas fa-external-link-alt"></i></a></p>
<p>Heart Failure - Model Prediction Comparisons (95%) | Kaggle. (n.d.). Retrieved January 8, 2021, from <a class="link"   href="https://www.kaggle.com/rude009/heart-failure-model-prediction-comparisons-95" >https://www.kaggle.com/rude009/heart-failure-model-prediction-comparisons-95<i class="fas fa-external-link-alt"></i></a></p>
<p>Heart Failure Prediction (AUC: 0.98) | Kaggle. (n.d.). Retrieved January 8, 2021, from <a class="link"   href="https://www.kaggle.com/ksvmuralidhar/heart-failure-prediction-auc-0-98" >https://www.kaggle.com/ksvmuralidhar/heart-failure-prediction-auc-0-98<i class="fas fa-external-link-alt"></i></a></p>
<p>Pedregosa et al., Scikit-learn: Machine Learning in Python, JMLR 12, pp. 2825-2830, 2011.</p>
<h2 id="Other-resources-to-download-the-code"><a href="#Other-resources-to-download-the-code" class="headerlink" title="Other resources to download the code"></a>Other resources to download the code</h2><p>Kaggle:<br><a class="link"   href="https://www.kaggle.com/yuxuanwu17/eda-of-heart-failure-and-optimization-of-svm" >https://www.kaggle.com/yuxuanwu17/eda-of-heart-failure-and-optimization-of-svm<i class="fas fa-external-link-alt"></i></a></p>
<p>Github:<br><a class="link"   href="https://github.com/yuxuanwu17/kaggle/blob/main/Final_report.ipynb" >https://github.com/yuxuanwu17/kaggle/blob/main/Final_report.ipynb<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>kaggle</tag>
        <tag>ML</tag>
        <tag>EDA</tag>
      </tags>
  </entry>
  <entry>
    <title>Explorative data anlysis of avocado price from 2015-2020</title>
    <url>/2021/01/25/avocado_pred/</url>
    <content><![CDATA[<p>Avocado, bright green fruit with a large pit and dark leathery skin, has become a fashion among millennials in America. Avocados are featured in their unique flavor, rich texture, and the high percentage of healthy fat, which is an ideal food for the healthy diet. However, the average price for avocados is not cheap, which made those millennials unable to achieve their â€œAvocado Freedomâ€ dream. In addition, as an applicant in American master degree and a fan of avocados, it is of significant interest for me to conduct the explorative data analysis of avocados, hoping to figure out some hidden patterns, like seasonal patterns or cyclical patterns. Furthermore, related factors were also evaluated to suggest the influence on the avocadosâ€™ price, which could help these millennials to find the cheaper avocados in a scientific way. </p>
<h3 id="Import-the-libraries"><a href="#Import-the-libraries" class="headerlink" title="Import the libraries"></a>Import the libraries</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">library(tidyr)</span><br><span class="line">library(skimr)</span><br><span class="line">library(GGally)</span><br><span class="line">library(viridis)</span><br><span class="line">library(caret)</span><br><span class="line">library(e1071)</span><br><span class="line">library(rpart)</span><br><span class="line">library(xgboost)</span><br><span class="line">library(forecast)</span><br><span class="line">library(corrplot)</span><br><span class="line">library(corrgram)</span><br><span class="line">library(ggplot2)</span><br><span class="line">library(ggthemes)</span><br><span class="line">library(psych)</span><br><span class="line">library(scales)</span><br><span class="line">library(treemap)</span><br><span class="line">library(repr)</span><br><span class="line">library(cowplot)</span><br><span class="line">library(magrittr)</span><br><span class="line">library(ggpubr)</span><br><span class="line">library(RColorBrewer)</span><br><span class="line">library(plotrix)</span><br><span class="line">library(ggrepel)</span><br><span class="line">library(tidyverse)</span><br><span class="line">library(gridExtra)</span><br><span class="line">library(lubridate)</span><br><span class="line">library(tibbletime)</span><br><span class="line">library(reshape2)</span><br><span class="line">library(prophet)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Load-the-data-and-return-the-head-of-data"><a href="#Load-the-data-and-return-the-head-of-data" class="headerlink" title="Load the data and return the head of data"></a>Load the data and return the head of data</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df &lt;- read.csv(&quot;&#x2F;Users&#x2F;yuxuan&#x2F;Desktop&#x2F;INT303-Avocado-prediction&#x2F;avocado-updated-2020.csv&quot;)</span><br><span class="line">head(df)</span><br><span class="line">colnames(df)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">date</th>
<th align="left">average_price</th>
<th align="left">total_volume</th>
<th align="left">X4046</th>
<th align="left">X4225</th>
<th align="left">X4770</th>
<th align="left">total_bags</th>
<th align="left">small_bags</th>
<th align="left">large_bags</th>
<th align="left">xlarge_bags</th>
<th align="left">type</th>
<th align="left">year</th>
<th align="left">geography</th>
</tr>
</thead>
<tbody><tr>
<td align="left"></td>
<td align="left"><fct></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><fct></td>
<td align="left"><int></td>
<td align="left"><fct></td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">2015-01-04</td>
<td align="left">1.22</td>
<td align="left">40873.28</td>
<td align="left">2819.50</td>
<td align="left">28287.42</td>
<td align="left">49.90</td>
<td align="left">9716.46</td>
<td align="left">9186.93</td>
<td align="left">529.53</td>
<td align="left">0</td>
<td align="left">conventional</td>
<td align="left">2015</td>
<td align="left">Albany</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">2015-01-04</td>
<td align="left">1.79</td>
<td align="left">1373.95</td>
<td align="left">57.42</td>
<td align="left">153.88</td>
<td align="left">0.00</td>
<td align="left">1162.65</td>
<td align="left">1162.65</td>
<td align="left">0.00</td>
<td align="left">0</td>
<td align="left">organic</td>
<td align="left">2015</td>
<td align="left">Albany</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">2015-01-04</td>
<td align="left">1.00</td>
<td align="left">435021.49</td>
<td align="left">364302.39</td>
<td align="left">23821.16</td>
<td align="left">82.15</td>
<td align="left">46815.79</td>
<td align="left">16707.15</td>
<td align="left">30108.64</td>
<td align="left">0</td>
<td align="left">conventional</td>
<td align="left">2015</td>
<td align="left">Atlanta</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">2015-01-04</td>
<td align="left">1.76</td>
<td align="left">3846.69</td>
<td align="left">1500.15</td>
<td align="left">938.35</td>
<td align="left">0.00</td>
<td align="left">1408.19</td>
<td align="left">1071.35</td>
<td align="left">336.84</td>
<td align="left">0</td>
<td align="left">organic</td>
<td align="left">2015</td>
<td align="left">Atlanta</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">2015-01-04</td>
<td align="left">1.08</td>
<td align="left">788025.06</td>
<td align="left">53987.31</td>
<td align="left">552906.04</td>
<td align="left">39995.03</td>
<td align="left">141136.68</td>
<td align="left">137146.07</td>
<td align="left">3990.61</td>
<td align="left">0</td>
<td align="left">conventional</td>
<td align="left">2015</td>
<td align="left">Baltimore/Washington</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">2015-01-04</td>
<td align="left">1.29</td>
<td align="left">19137.28</td>
<td align="left">8040.64</td>
<td align="left">6557.47</td>
<td align="left">657.48</td>
<td align="left">3881.69</td>
<td align="left">3881.69</td>
<td align="left">0.00</td>
<td align="left">0</td>
<td align="left">organic</td>
<td align="left">2015</td>
<td align="left">Baltimore/Washington</td>
</tr>
</tbody></table>
<h3 id="Check-whether-the-dataset-contains-the-missing-value"><a href="#Check-whether-the-dataset-contains-the-missing-value" class="headerlink" title="Check whether the dataset contains the missing value"></a>Check whether the dataset contains the missing value</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sum(is.na(df))</span><br></pre></td></tr></table></figure>
<p>The overall dataset do not contain any missing value</p>
<h3 id="Explore-the-data-and-some-clarification"><a href="#Explore-the-data-and-some-clarification" class="headerlink" title="Explore the data and some clarification"></a>Explore the data and some clarification</h3><h4 id="Explain-the-features"><a href="#Explain-the-features" class="headerlink" title="Explain the features"></a>Explain the features</h4><ul>
<li>date - The date of the observation</li>
<li>average_price - The average price of a single</li>
<li>total_volume - Total number of avocados sold</li>
<li>year - The year</li>
<li>type - conventional or organic</li>
<li>geography - The city or region of the observation</li>
</ul>
<h4 id="X4046-X4225-X4770-stands-for-the-PLU-code"><a href="#X4046-X4225-X4770-stands-for-the-PLU-code" class="headerlink" title="X4046, X4225, X4770 stands for the PLU code"></a>X4046, X4225, X4770 stands for the PLU code</h4><ul>
<li>Small/Medium Hass Avocado (~3-5oz avocado) | #4046 </li>
<li>Large Hass Avocado (~8-10oz avocado) | #4225 </li>
<li>Extra Large Hass Avocado (~10-15oz avocado) | #4770 </li>
</ul>
<h3 id="Exploratory-Data-Analysis"><a href="#Exploratory-Data-Analysis" class="headerlink" title="Exploratory Data Analysis"></a>Exploratory Data Analysis</h3><h4 id="Density-plot-of-the-difference-between-two-avocados"><a href="#Density-plot-of-the-difference-between-two-avocados" class="headerlink" title="Density plot of the difference between two avocados."></a>Density plot of the difference between two avocados.</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">levels(df$type)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">library(ggplot2)</span><br><span class="line">options(repr.plot.width &#x3D; 8, repr.plot.height &#x3D; 4)</span><br><span class="line">density_plot &lt;- ggplot(df, aes(x&#x3D;average_price, fill&#x3D;type))+</span><br><span class="line">  geom_density()+</span><br><span class="line">  facet_wrap(~type)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),legend.position &#x3D; &quot;bottom&quot;)+</span><br><span class="line">  labs(title &#x3D; &quot;Avocado Price by type&quot;)+</span><br><span class="line">  scale_fill_brewer(palette &#x3D; &quot;Set2&quot;)</span><br><span class="line">density_plot</span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..tZfBZbcjjkqxj4RmQEJoyw.A2C4X-_8qnKSkIVucnomHICENKUmjTPXUgT1XqFjrKp8Vwfpyt-nJXhYhke8yzjlDiL_FT1jvmw9GnBDuF_MeWzQUxn59txsXKEQ5TNxy2sZy6GYoHD4yeJb96CHu7tEvhTmc3Pf1nseFJUmMjAKCktdygT-uHDSuVQKAPNnGUpFNmn5fx_6OsujxRZO9TdXdWiqH1GGat_EqgxwZW-_o856VcxtNXe5WenELwGdFrP_fHsmRkvvcjtEmEXzl2_blPw6GMAdMmDD7WsNhKVd4zJoOVKvPx1awtn9623tYAqFfDJ3qzKqLfFAhNRAMsqQ-zfIos2ndjfK3YTRnRTKn_TX9TkPBnbni_OR6teuY24PW_hMZpFYW332SdtN2sCHyHke6Oaqgs6uq8l6jX14yyIMEhgiWkl5Usn36w1aLLtP4YQZIjO1m7B9FsVSOFeULVuVmThf6LyKuvsoG3N568gEqTKblQvj-_R0hUqGhc6W-3DZyE0hBoqgO__LBxbYYZ51DdMf-2bv2Hj99gNwuS-EVb1GFv__UrplkB63GGn-ftucHSQBkxSDoKlB0F99ZiGNWL4cmii009OqgG_mJQI9W-iqgB6sW3k3T3RdVL3QpdG-D3XEhYgfQTcMV6P23-9iQKNgOcTD1CWwWPVjsJfgu_NZHVIoUScEs9mdivE.1eUtwBW-D1O5QgrEgVmjhw/__results___files/__results___14_1.png" alt="img"></p>
<ol>
<li><h3 id="Create-a-matrix-to-demonstrate-the-volume-of-conventional-and-organic-avocados"><a href="#Create-a-matrix-to-demonstrate-the-volume-of-conventional-and-organic-avocados" class="headerlink" title="Create a matrix to demonstrate the volume of conventional and organic avocados"></a>Create a matrix to demonstrate the volume of conventional and organic avocados</h3></li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">library(dplyr)</span><br><span class="line">vol_type &lt;- df %&gt;% group_by(type) %&gt;% summarise(average_volume &#x3D; round(mean(total_volume),3),average_price &#x3D; round(mean(average_price),3)) %&gt;% mutate(volume_percent&#x3D; round(prop.table(average_volume)*100,3))</span><br><span class="line">vol_type</span><br><span class="line"></span><br><span class="line">#plu_conv &lt;- df %&gt;% select(type,total_volume,X4046,X4225,X4770) %&gt;% group_by(type) %&gt;% summarise(average_volume &#x3D; round(mean(total_volume),3),x4046 &#x3D; sum(X4046),x4225 &#x3D; sum(X4225),x4770 &#x3D; sum(X4770)) %&gt;% mutate(volume_percent&#x3D; round(prop.table(average_volume)*100,3))</span><br><span class="line">#plu_conv</span><br><span class="line"></span><br><span class="line">#cor(df$average_price,df$total_volume)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th align="center">type</th>
<th align="left">average_volume</th>
<th align="left">average_price</th>
<th align="left">volume_percent</th>
</tr>
</thead>
<tbody><tr>
<td align="center">organic</td>
<td align="left">60127.48</td>
<td align="left">1.624</td>
<td align="left">3.201%</td>
</tr>
<tr>
<td align="center">conventional</td>
<td align="left">1818206.02</td>
<td align="left">1.158</td>
<td align="left">96.799%</td>
</tr>
</tbody></table>
<p><strong>As can be seen from the density plot and the table in avocados.</strong> </p>
<ul>
<li>there are two types of avocado: organic and conventional  </li>
<li>organic avocado share a small percent (3.2%) of volume but has a high price (1.62)  </li>
<li>conventional avocado share a large percent (96.8) of volume but has a relative low price (1.16) </li>
</ul>
<h3 id="Compare-the-volume-of-each-avocado"><a href="#Compare-the-volume-of-each-avocado" class="headerlink" title="Compare the volume of each avocado"></a>Compare the volume of each avocado</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x4770 &lt;- df$X4770 %&gt;% sum()</span><br><span class="line">x4046 &lt;- df$X4046 %&gt;% sum()</span><br><span class="line">x4225 &lt;- df$X4225 %&gt;% sum()</span><br><span class="line">total_types &lt;- x4770+x4046+x4225</span><br><span class="line">total_types</span><br><span class="line">df$total_volume %&gt;% sum()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[1] &quot;The sum of volume in x4770, x4046, x4225 is:  18181860558.8&quot;</span><br><span class="line">[1] &quot;The sum of volume in the sum of total_volume:  28197362107.92&quot;</span><br></pre></td></tr></table></figure>
<p>The reason causing this difference is that there are different kinds of avocados, this dataset only consider the plu code of Hass avocados, it is obvious that it will cause the difference</p>
<h3 id="Avocado-price-from-2015-2020"><a href="#Avocado-price-from-2015-2020" class="headerlink" title="Avocado price from 2015-2020"></a>Avocado price from 2015-2020</h3><figure class="highlight plain"><figcaption><span>ggplot&#125;</span></figcaption><table><tr><td class="code"><pre><span class="line">library(ggplot2)</span><br><span class="line">## Change the Date column from factor to the date format</span><br><span class="line">df$date &lt;- as.Date(df$date, &quot;%Y-%m-%d&quot;)</span><br><span class="line"></span><br><span class="line">## Sort the dates and order the datesets in date</span><br><span class="line">df &lt;- df[order(df$date),]</span><br><span class="line"></span><br><span class="line">## Make the plot</span><br><span class="line">comparision_plot &lt;- df %&gt;% select(date, average_price, type) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;date,y&#x3D;average_price))+</span><br><span class="line">  geom_area(aes(color&#x3D;type,fill&#x3D;type),alpha&#x3D;0.3,position&#x3D;position_dodge(0.8))+</span><br><span class="line">  theme_bw()+</span><br><span class="line">  scale_color_manual(values &#x3D; c(&quot;#ED7921&quot;,&quot;#62BE51&quot;))+</span><br><span class="line">  scale_fill_manual(values &#x3D; c(&quot;#FD833E&quot;,&quot;#B8FC5F&quot;)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">comparision_plot</span><br><span class="line">#plot_grid(density_plot,comparision,ncol &#x3D; 2)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..tZfBZbcjjkqxj4RmQEJoyw.A2C4X-_8qnKSkIVucnomHICENKUmjTPXUgT1XqFjrKp8Vwfpyt-nJXhYhke8yzjlDiL_FT1jvmw9GnBDuF_MeWzQUxn59txsXKEQ5TNxy2sZy6GYoHD4yeJb96CHu7tEvhTmc3Pf1nseFJUmMjAKCktdygT-uHDSuVQKAPNnGUpFNmn5fx_6OsujxRZO9TdXdWiqH1GGat_EqgxwZW-_o856VcxtNXe5WenELwGdFrP_fHsmRkvvcjtEmEXzl2_blPw6GMAdMmDD7WsNhKVd4zJoOVKvPx1awtn9623tYAqFfDJ3qzKqLfFAhNRAMsqQ-zfIos2ndjfK3YTRnRTKn_TX9TkPBnbni_OR6teuY24PW_hMZpFYW332SdtN2sCHyHke6Oaqgs6uq8l6jX14yyIMEhgiWkl5Usn36w1aLLtP4YQZIjO1m7B9FsVSOFeULVuVmThf6LyKuvsoG3N568gEqTKblQvj-_R0hUqGhc6W-3DZyE0hBoqgO__LBxbYYZ51DdMf-2bv2Hj99gNwuS-EVb1GFv__UrplkB63GGn-ftucHSQBkxSDoKlB0F99ZiGNWL4cmii009OqgG_mJQI9W-iqgB6sW3k3T3RdVL3QpdG-D3XEhYgfQTcMV6P23-9iQKNgOcTD1CWwWPVjsJfgu_NZHVIoUScEs9mdivE.1eUtwBW-D1O5QgrEgVmjhw/__results___files/__results___22_0.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ggplot(data&#x3D;df, aes(x&#x3D;date, y&#x3D;average_price,col&#x3D;type))+</span><br><span class="line">  geom_line()+</span><br><span class="line">  facet_wrap(~ type)+</span><br><span class="line">  theme_bw()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;position&quot;)</span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..tZfBZbcjjkqxj4RmQEJoyw.A2C4X-_8qnKSkIVucnomHICENKUmjTPXUgT1XqFjrKp8Vwfpyt-nJXhYhke8yzjlDiL_FT1jvmw9GnBDuF_MeWzQUxn59txsXKEQ5TNxy2sZy6GYoHD4yeJb96CHu7tEvhTmc3Pf1nseFJUmMjAKCktdygT-uHDSuVQKAPNnGUpFNmn5fx_6OsujxRZO9TdXdWiqH1GGat_EqgxwZW-_o856VcxtNXe5WenELwGdFrP_fHsmRkvvcjtEmEXzl2_blPw6GMAdMmDD7WsNhKVd4zJoOVKvPx1awtn9623tYAqFfDJ3qzKqLfFAhNRAMsqQ-zfIos2ndjfK3YTRnRTKn_TX9TkPBnbni_OR6teuY24PW_hMZpFYW332SdtN2sCHyHke6Oaqgs6uq8l6jX14yyIMEhgiWkl5Usn36w1aLLtP4YQZIjO1m7B9FsVSOFeULVuVmThf6LyKuvsoG3N568gEqTKblQvj-_R0hUqGhc6W-3DZyE0hBoqgO__LBxbYYZ51DdMf-2bv2Hj99gNwuS-EVb1GFv__UrplkB63GGn-ftucHSQBkxSDoKlB0F99ZiGNWL4cmii009OqgG_mJQI9W-iqgB6sW3k3T3RdVL3QpdG-D3XEhYgfQTcMV6P23-9iQKNgOcTD1CWwWPVjsJfgu_NZHVIoUScEs9mdivE.1eUtwBW-D1O5QgrEgVmjhw/__results___files/__results___23_0.png" alt="img"></p>
<ul>
<li>The price of organic avocados are always higher than normal</li>
<li>The price of both avocados follow some seasonal patterns, which obeyed the commob view</li>
<li>Whether the relationship between the volume and price existed need to be explored in the following part</li>
</ul>
<h3 id="Relationship-between-Prices-and-Total-on-either-conventional-or-organic-avocados"><a href="#Relationship-between-Prices-and-Total-on-either-conventional-or-organic-avocados" class="headerlink" title="Relationship between Prices and Total on either conventional or organic avocados"></a>Relationship between Prices and Total on either conventional or organic avocados</h3><h4 id="Filter-the-data-into-two-categories-conventional-or-organic"><a href="#Filter-the-data-into-two-categories-conventional-or-organic" class="headerlink" title="Filter the data into two categories, conventional or organic"></a>Filter the data into two categories, conventional or organic</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">organic &lt;- df %&gt;% select(type,average_price,total_volume,date) %&gt;% filter(type&#x3D;&#x3D;&quot;organic&quot;)</span><br><span class="line">#head(organic)</span><br><span class="line">conventional &lt;- df %&gt;% select(type,average_price,total_volume,date) %&gt;% filter(type&#x3D;&#x3D;&quot;conventional&quot;)</span><br><span class="line">#head(conventional)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>tribble_tabel&#125;</span></figcaption><table><tr><td class="code"><pre><span class="line">library(tibbletime)</span><br><span class="line">organic &lt;- as_tbl_time(organic,index &#x3D; date) %&gt;% as_period(&#39;1 month&#39;)</span><br><span class="line">conventional &lt;- as_tbl_time(conventional,index &#x3D; date) %&gt;% as_period(&#39;monthly&#39;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Monthly-avocados-price-in-either-conventional-or-organic-avocados"><a href="#Monthly-avocados-price-in-either-conventional-or-organic-avocados" class="headerlink" title="Monthly avocados price in either conventional or organic avocados"></a>Monthly avocados price in either conventional or organic avocados</h4><figure class="highlight plain"><figcaption><span>cowplot, fig.width </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">library(ggplot2)</span><br><span class="line">library(ggthemes)</span><br><span class="line">library(cowplot)</span><br><span class="line"></span><br><span class="line">options(repr.plot.width&#x3D;8, repr.plot.height&#x3D;6)</span><br><span class="line"></span><br><span class="line">## average-price with time series</span><br><span class="line">conventional_monthly &lt;- conventional %&gt;%</span><br><span class="line">    ggplot(aes(x&#x3D;date,y&#x3D;average_price))+</span><br><span class="line">    geom_line(color&#x3D;&quot;#5C374C&quot;)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill &#x3D; &quot;#D5D8DC&quot;))+</span><br><span class="line">    labs(title &#x3D; &quot;Conventional Avocados&quot;)+</span><br><span class="line">    geom_hline(yintercept &#x3D; max(conventional$average_price),linetype&#x3D;&quot;dashed&quot;,color &#x3D; &quot;red&quot;)+</span><br><span class="line">    geom_hline(yintercept &#x3D; min(conventional$average_price),linetype&#x3D;&quot;dashed&quot;,color &#x3D; &quot;blue&quot;)</span><br><span class="line"></span><br><span class="line">organic_monthly &lt;- organic %&gt;%</span><br><span class="line">    ggplot(aes(x&#x3D;date,y&#x3D;average_price))+</span><br><span class="line">    geom_line(color&#x3D;&quot;#58D68D&quot;)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill &#x3D; &quot;#D5D8DC&quot;))+</span><br><span class="line">    labs(title &#x3D; &quot;Organic Avocados&quot;)+</span><br><span class="line">    geom_hline(yintercept &#x3D; max(organic$average_price),linetype&#x3D;&quot;dashed&quot;,color &#x3D; &quot;red&quot;)+</span><br><span class="line">    geom_hline(yintercept &#x3D; min(organic$average_price),linetype&#x3D;&quot;dashed&quot;,color &#x3D; &quot;blue&quot;)</span><br><span class="line"></span><br><span class="line">## create a volume chart</span><br><span class="line">conventional_volume &lt;- conventional %&gt;%</span><br><span class="line">    ggplot(aes(x&#x3D;date,y&#x3D;total_volume))+</span><br><span class="line">    geom_bar(stat &#x3D; &#39;identity&#39;,fill&#x3D;&quot;#7FB3D5&quot;,color&#x3D;&quot;black&quot;)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill &#x3D; &quot;#D5D8DC&quot;))+</span><br><span class="line">    geom_smooth(method &#x3D; &quot;loess&quot;,color&#x3D;&quot;red&quot;)</span><br><span class="line"></span><br><span class="line">organic_volume &lt;- organic %&gt;%</span><br><span class="line">    ggplot(aes(x&#x3D;date,y&#x3D;total_volume))+</span><br><span class="line">    geom_bar(stat &#x3D; &#39;identity&#39;,fill&#x3D;&#39;#58D68D&#39;,color&#x3D;&quot;black&quot;)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill &#x3D; &quot;#D5D8DC&quot;))+</span><br><span class="line">    geom_smooth(method &#x3D; &quot;loess&quot;,color &#x3D;&quot;red&quot;)</span><br><span class="line"></span><br><span class="line">plot_grid(conventional_monthly,organic_monthly,conventional_volume,organic_volume,nrow &#x3D; 2,ncol &#x3D; 2,labels &#x3D; c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;))</span><br><span class="line"></span><br><span class="line">#plot_grid(conventional_monthly,conventional_volume,nrow &#x3D; 2)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..tZfBZbcjjkqxj4RmQEJoyw.A2C4X-_8qnKSkIVucnomHICENKUmjTPXUgT1XqFjrKp8Vwfpyt-nJXhYhke8yzjlDiL_FT1jvmw9GnBDuF_MeWzQUxn59txsXKEQ5TNxy2sZy6GYoHD4yeJb96CHu7tEvhTmc3Pf1nseFJUmMjAKCktdygT-uHDSuVQKAPNnGUpFNmn5fx_6OsujxRZO9TdXdWiqH1GGat_EqgxwZW-_o856VcxtNXe5WenELwGdFrP_fHsmRkvvcjtEmEXzl2_blPw6GMAdMmDD7WsNhKVd4zJoOVKvPx1awtn9623tYAqFfDJ3qzKqLfFAhNRAMsqQ-zfIos2ndjfK3YTRnRTKn_TX9TkPBnbni_OR6teuY24PW_hMZpFYW332SdtN2sCHyHke6Oaqgs6uq8l6jX14yyIMEhgiWkl5Usn36w1aLLtP4YQZIjO1m7B9FsVSOFeULVuVmThf6LyKuvsoG3N568gEqTKblQvj-_R0hUqGhc6W-3DZyE0hBoqgO__LBxbYYZ51DdMf-2bv2Hj99gNwuS-EVb1GFv__UrplkB63GGn-ftucHSQBkxSDoKlB0F99ZiGNWL4cmii009OqgG_mJQI9W-iqgB6sW3k3T3RdVL3QpdG-D3XEhYgfQTcMV6P23-9iQKNgOcTD1CWwWPVjsJfgu_NZHVIoUScEs9mdivE.1eUtwBW-D1O5QgrEgVmjhw/__results___files/__results___29_1.png"></p>
<ul>
<li>In order to find the seasonal patterns, I used the average price and volume in each month to conduct data analysis</li>
<li>Figure A,B stands for the average price in each month (monthly)</li>
<li>Blue dashed line stands for the minimum value while the red dashed value stands for the max value</li>
<li>The most expensive conventional avocados in one month could 1.8 $, the cheapest month of conventional avocados can be 0.82 $</li>
<li>The most expensive organic avocados in one month could 2.1 $, the cheapest month of conventional avocados can be 1.21 $</li>
<li>Figure C,D stands for the volume in each month, the red line stands for the trend</li>
<li>The love of American people are consistent, the sold volume continues to grow (conventional avocado)</li>
<li>Regarding with the organic avocados, in 2019-2020, possibly owing to the decline of economic situation and the covid 19 pandemic after 2020</li>
<li>The volume patterns could follow some seasonal patterns and need further analysis</li>
</ul>
<h3 id="Patterns-among-the-years-in-each-month-Autoplot-library"><a href="#Patterns-among-the-years-in-each-month-Autoplot-library" class="headerlink" title="Patterns among the years in each month (Autoplot library)"></a>Patterns among the years in each month (Autoplot library)</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Process the data into year and month format</span></span><br><span class="line">library(forecast)</span><br><span class="line">seasonal_df &lt;- read.csv(<span class="string">&quot;/Users/yuxuan/Desktop/INT303-Avocado-prediction/avocado-updated-2020.csv&quot;</span>)</span><br><span class="line">seasonal_df$month_year &lt;- format(as.Date(seasonal_df$date),<span class="string">&quot;%Y-%m&quot;</span>)</span><br><span class="line">seasonal_df$month &lt;- format(as.Date(seasonal_df$date),<span class="string">&quot;%m&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Change the month from a Date format into a numerical foramt, then convert to the three letter format</span></span><br><span class="line"></span><br><span class="line">seasonal_df$monthabb &lt;- sapply(seasonal_df$month, <span class="keyword">function</span> (x) <span class="built_in">month.abb</span>[<span class="built_in">as.numeric</span>(x)])</span><br><span class="line">seasonal_df$monthabb &lt;- factor(seasonal_df$monthabb,levels=<span class="built_in">month.abb</span>)</span><br><span class="line">seasonal_df$monthabb &lt;- factor(seasonal_df$monthabb)</span><br></pre></td></tr></table></figure>

<p>â€‹                              </p>
<h3 id="Seasonal-patterns-analysis"><a href="#Seasonal-patterns-analysis" class="headerlink" title="Seasonal patterns analysis"></a>Seasonal patterns analysis</h3><p>Avocado price (both organic and conventional) distribution plot from 2015 to 2020</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ggplot(seasonal_df,aes(x&#x3D;average_price,fill&#x3D;as.factor(year)))+</span><br><span class="line">geom_density(alpha&#x3D;0.5)+</span><br><span class="line">theme_economist()+</span><br><span class="line">facet_wrap(~year)+</span><br><span class="line">theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">guides(fill&#x3D;FALSE)+</span><br><span class="line">labs(title &#x3D; &quot;Distribution of Prices by year&quot;,x&#x3D;&#39;Average Price&#39;,y&#x3D;&#39;Density&#39;)+</span><br><span class="line">scale_fill_manual(values &#x3D; c(&quot;#DA4511&quot;, &quot;#FFBD00&quot;, &quot;#6A953F&quot;, &quot;#9A6233&quot;, &quot;#D3AE7C&quot;, &quot;#307CA1&quot;))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___35_0.png" alt="img"></p>
<ul>
<li>The distribution plot of each year from 2015 to 2020</li>
<li>2017 is the year when avocado price functions like the normal distribution plot</li>
</ul>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">## Set the figure size</span></span><br><span class="line"></span><br><span class="line">options(repr.plot.width=<span class="number">10</span>,repr.plot.height=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Analyze the price by month</span></span><br><span class="line"></span><br><span class="line">conv_price &lt;- seasonal_df %&gt;% select(type,year,monthabb,average_price) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(average_price))</span><br><span class="line"></span><br><span class="line">org_price &lt;- seasonal_df %&gt;% select(type,year,monthabb,average_price) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(average_price))</span><br><span class="line"></span><br><span class="line">conv_price &lt;- ts(conv_price$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line">org_price &lt;- ts(org_price$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Analyze the volume by month</span></span><br><span class="line"></span><br><span class="line">conv_volume &lt;- seasonal_df %&gt;% select(type,year,monthabb,total_volume) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(total_volume))</span><br><span class="line"></span><br><span class="line">org_volume &lt;- seasonal_df %&gt;% select(type,year,monthabb,total_volume) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(total_volume))</span><br><span class="line"></span><br><span class="line">conv_volume &lt;- ts(conv_volume$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line">org_volume &lt;- ts(org_volume$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">byyearplot_price_conv &lt;- ggseasonplot(conv_price,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average conventional Avocados price \n by year for each month&quot;</span>, y=<span class="string">&quot;Average Price&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_price_org &lt;- ggseasonplot(org_price,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average organic Avocados price \n by year for each month&quot;</span>, y=<span class="string">&quot;Average Price&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_volume_conv &lt;- ggseasonplot(conv_volume,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average conventional Avocados volume \n by year for each month&quot;</span>, y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_volume_org &lt;- ggseasonplot(org_volume,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average organic Avocados volume by year \n for each month&quot;</span>, y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">plot_grid(byyearplot_price_conv,byyearplot_price_org,byyearplot_volume_conv,byyearplot_volume_org,nrow = <span class="number">2</span>,ncol = <span class="number">2</span>,labels = <span class="built_in">c</span>(<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___37_1.png" alt="img"></p>
<h3 id="Seasonality-patterns"><a href="#Seasonality-patterns" class="headerlink" title="Seasonality patterns"></a>Seasonality patterns</h3><h4 id="Monthly-analysis"><a href="#Monthly-analysis" class="headerlink" title="Monthly analysis"></a>Monthly analysis</h4><figure class="highlight plain"><figcaption><span>seaonal patterns, fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">options(repr.plot.width&#x3D;10,repr.plot.height&#x3D;8)</span><br><span class="line">conv_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% filter(type&#x3D;&#x3D;&quot;conventional&quot;) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;monthabb, y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Conventional Avocados&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">organic_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% filter(type&#x3D;&#x3D;&quot;organic&quot;) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(average_price)) %&gt;%</span><br><span class="line">ggplot(aes(x&#x3D;monthabb,y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Organic Avocados&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">whole_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;monthabb,y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;All Avocados&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plot_grid(conv_patterns,organic_patterns,whole_patterns,nrow &#x3D; 3)</span><br><span class="line">#conv_patterns</span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___39_1.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conv_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% filter(type&#x3D;&#x3D;&quot;conventional&quot;) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(total_volume)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;monthabb, y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Conventional Avocados volume&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">organic_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% filter(type&#x3D;&#x3D;&quot;organic&quot;) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(total_volume)) %&gt;%</span><br><span class="line">ggplot(aes(x&#x3D;monthabb,y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Organic Avocados volume&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">whole_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(total_volume)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;monthabb,y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;All Avocados volume&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plot_grid(conv_patterns_vol,organic_patterns_vol,whole_patterns_vol,nrow &#x3D; 3)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___40_1.png" alt="img"></p>
<ul>
<li>Overall, the avocado price could reach the peak of the year during Sep and Oct, and Feb could be the lowest price</li>
<li>Regarding with the volume avocado sold, American people like to buy avocado at Feb and May, but not at Nov</li>
<li>Based on the research, avocado tend to ripe at Aug and Sep, plus the time in transportation and packaging, it is unavoidable that it could have some delay</li>
<li>From the plot we could see that the trend in Aug are positive</li>
<li>We could see that the sold volume and price demonstrated some negative correlation at some time, which obeys our common sense, people like buying staffs when their price are low</li>
<li>Meanwhile, some positive correlation could be discovered between price and volumes, the hypothesis is that the newly harvest avocados are definitely in high quality and the previous stored avocados could be consumed significantly, which means there is a gap between demand and output</li>
<li>The volumes are increasing with the time which possibly because of the widely broadcasting.</li>
</ul>
<h4 id="Seasonal-patterns"><a href="#Seasonal-patterns" class="headerlink" title="Seasonal patterns"></a>Seasonal patterns</h4><figure class="highlight plain"><figcaption><span>fig.height </span></figcaption><table><tr><td class="code"><pre><span class="line">options(repr.plot.width&#x3D;10,repr.plot.height&#x3D;8)</span><br><span class="line"></span><br><span class="line">## seperate the month into four seasons</span><br><span class="line">seasonal_df$season &lt;- ifelse(seasonal_df$month %in% c(&quot;03&quot;,&quot;04&quot;,&quot;05&quot;),&quot;Spring&quot;,</span><br><span class="line">ifelse(seasonal_df$month %in% c(&quot;06&quot;,&quot;07&quot;,&quot;08&quot;),&quot;Summer&quot;,</span><br><span class="line">ifelse(seasonal_df$month %in% c(&quot;09&quot;,&quot;10&quot;,&quot;11&quot;),&quot;Autumn&quot;,&quot;Winter&quot;)))</span><br><span class="line"></span><br><span class="line">## Prepare to analyze the results</span><br><span class="line">seasonality_plot_conventional_price &lt;- seasonal_df %&gt;% select(season,year,average_price,type) %&gt;% filter(type &#x3D;&#x3D;&quot;conventional&quot;) %&gt;% group_by(season,year) %&gt;% summarise(avg&#x3D;mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;season,y&#x3D;avg,color&#x3D;season))+</span><br><span class="line">  geom_segment(aes(x&#x3D;season,xend&#x3D;season,y&#x3D;0,yend&#x3D;avg),show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Conventional Avocados average price by Season&quot;,x&#x3D;&quot;&quot;,y&#x3D;&quot;Average price&quot;)+</span><br><span class="line">  geom_text(aes(x&#x3D;season,y&#x3D;0.01,label&#x3D;paste0(&quot;$ &quot;,round(avg,2))),hjust&#x3D;-0.5,vjust&#x3D;-0.5,size&#x3D;4,color&#x3D;&quot;black&quot;,fontface&#x3D;&#39;italic&#39;,angle&#x3D;360)</span><br><span class="line"></span><br><span class="line">seasonality_plot_conventional_volume &lt;- seasonal_df %&gt;% select(season,year,total_volume,type) %&gt;% filter(type&#x3D;&#x3D;&quot;conventional&quot;) %&gt;% group_by(season,year) %&gt;% summarise(avg&#x3D;round(mean(total_volume&#x2F;1000000),2)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;season,y&#x3D;avg,color&#x3D;season))+</span><br><span class="line">  geom_segment(aes(x&#x3D;season,xend&#x3D;season,y&#x3D;0,yend&#x3D;avg),show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Conventional Avocados total volume by Season&quot;,x&#x3D;&quot;&quot;,y&#x3D;&quot;Average volume&quot;)+</span><br><span class="line">  geom_text(aes(x&#x3D;season,y&#x3D;0.01,label&#x3D;paste0(avg,&quot; m&quot;)),hjust&#x3D;-0.5,vjust&#x3D;-0.5,size&#x3D;4,color&#x3D;&quot;black&quot;,fontface&#x3D;&#39;italic&#39;,angle&#x3D;360)</span><br><span class="line"></span><br><span class="line">#plot_grid(seasonality_plot_conventional_price,seasonality_plot_conventional_volume,nrow &#x3D; 2)</span><br><span class="line"></span><br><span class="line">seasonality_plot_organic_price &lt;- seasonal_df %&gt;% select(season,year,average_price,type) %&gt;% filter(type &#x3D;&#x3D;&quot;organic&quot;) %&gt;% group_by(season,year) %&gt;% summarise(avg&#x3D;mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;season,y&#x3D;avg,color&#x3D;season))+</span><br><span class="line">  geom_segment(aes(x&#x3D;season,xend&#x3D;season,y&#x3D;0,yend&#x3D;avg),show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Organic Avocados average price by Season&quot;,x&#x3D;&quot;&quot;,y&#x3D;&quot;Average price&quot;)+</span><br><span class="line">  geom_text(aes(x&#x3D;season,y&#x3D;0.01,label&#x3D;paste0(&quot;$ &quot;,round(avg,2))),hjust&#x3D;-0.5,vjust&#x3D;-0.5,size&#x3D;4,color&#x3D;&quot;black&quot;,fontface&#x3D;&#39;italic&#39;,angle&#x3D;360)</span><br><span class="line"></span><br><span class="line">seasonality_plot_organic_volume &lt;- seasonal_df %&gt;% select(season,year,total_volume,type) %&gt;% filter(type&#x3D;&#x3D;&quot;organic&quot;) %&gt;% group_by(season,year) %&gt;% summarise(avg&#x3D;round(mean(total_volume&#x2F;1000000),2)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;season,y&#x3D;avg,color&#x3D;season))+</span><br><span class="line">  geom_segment(aes(x&#x3D;season,xend&#x3D;season,y&#x3D;0,yend&#x3D;avg),show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Organic Avocados total volume by Season&quot;,x&#x3D;&quot;&quot;,y&#x3D;&quot;Average volume&quot;)+</span><br><span class="line">  geom_text(aes(x&#x3D;season,y&#x3D;0.01,label&#x3D;paste0(avg,&quot; m&quot;)),hjust&#x3D;-0.5,vjust&#x3D;-0.5,size&#x3D;4,color&#x3D;&quot;black&quot;,fontface&#x3D;&#39;italic&#39;,angle&#x3D;360)</span><br><span class="line"></span><br><span class="line">plot_grid(seasonality_plot_conventional_price,seasonality_plot_organic_price,seasonality_plot_conventional_volume,seasonality_plot_organic_volume,nrow &#x3D; 2,ncol &#x3D; 2,labels &#x3D; c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___43_1.png" alt="img"></p>
<ul>
<li>Spring (3-5), Summer (6-8), Autumn (9-11), Winter (12-2)</li>
<li>Figure A, B stands for the average price of avocados for either conventional or organic</li>
<li>Figure C, D stands for the volume sold for either conventional or organic, the unit is million (m)</li>
<li>In summary:<ul>
<li>it is relative cheaper to avocado in Spring or Winter</li>
<li>avocado most sold in Spring and Summer since it is close to the next round of ripen in avocado and the market are in great supply of avocados</li>
</ul>
</li>
</ul>
<h3 id="Find-the-city-where-avocadoâ€™s-price-is-lowest"><a href="#Find-the-city-where-avocadoâ€™s-price-is-lowest" class="headerlink" title="Find the city where avocadoâ€™s price is lowest"></a>Find the city where avocadoâ€™s price is lowest</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">library(forcats)</span><br><span class="line">geo_conv_price &lt;- seasonal_df %&gt;% select(geography,average_price,type) %&gt;% filter(type&#x3D;&#x3D;&quot;conventional&quot;) %&gt;% group_by(geography)%&gt;%  summarise(avg&#x3D;round(mean(average_price),2)) %&gt;% arrange(avg) %&gt;% slice(1:6)  %&gt;% mutate(geography&#x3D;fct_reorder(geography,desc(avg))) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;geography,y&#x3D;avg))+</span><br><span class="line">  geom_bar(stat &#x3D; &quot;identity&quot;,position &#x3D; &quot;dodge&quot;,alpha&#x3D;.6,width &#x3D;.4,show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  geom_text(aes(label&#x3D;avg),vjust&#x3D;1.5,color&#x3D;&#39;black&#39;,size&#x3D;5)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(title &#x3D; element_text(hjust &#x3D; 0.6),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Conventional Avocados average price by geography&quot;,x&#x3D;&quot;Geography place&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">geo_org_price &lt;- seasonal_df %&gt;% select(geography,average_price,type) %&gt;% filter(type&#x3D;&#x3D;&quot;organic&quot;) %&gt;% group_by(geography)%&gt;%  summarise(avg&#x3D;round(mean(average_price),2)) %&gt;% arrange(avg) %&gt;% slice(1:6) %&gt;% mutate(geography&#x3D;fct_reorder(geography,desc(avg))) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;geography,y&#x3D;avg))+</span><br><span class="line">  geom_bar(stat &#x3D; &quot;identity&quot;,position &#x3D; &quot;dodge&quot;,alpha&#x3D;.6,width &#x3D;.4,show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  geom_text(aes(label&#x3D;avg),vjust&#x3D;1.5,color&#x3D;&#39;black&#39;,size&#x3D;5)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(title &#x3D; element_text(hjust &#x3D; 0.6),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Organic Avocados average price by geography&quot;,x&#x3D;&quot;Geography place&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">plot_grid(geo_conv_price,geo_org_price,nrow &#x3D; 2)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___47_1.png" alt="img"></p>
<ul>
<li>Use the calculation to return the six cities or regions whether the average price for avocados is lowest</li>
<li>Based on the research from map, Top 5 is close to the Mexico, where the avocado originated</li>
<li>These places are possibly the region to supply avocado</li>
</ul>
<h3 id="The-future-price-prediction"><a href="#The-future-price-prediction" class="headerlink" title="The future price prediction"></a>The future price prediction</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">library(prophet)</span><br><span class="line">library(cowplot)</span><br><span class="line">library(gridExtra)</span><br><span class="line">library(ggplot2)</span><br><span class="line">library(ggpubr)</span><br><span class="line">library(devtools)</span><br><span class="line">## Select and filter the data and fit the model</span><br><span class="line">price_predict &lt;- df %&gt;% select(date,average_price) %&gt;% group_by(date) %&gt;% summarise(avg&#x3D;mean(average_price))</span><br><span class="line">colnames(price_predict) &lt;- c(&#39;ds&#39;,&#39;y&#39;)</span><br><span class="line">model &lt;- prophet(price_predict,daily.seasonality &#x3D; TRUE)</span><br><span class="line"></span><br><span class="line">## make prediction or forecast the results</span><br><span class="line">future &lt;- make_future_dataframe(model,periods &#x3D; 365)</span><br><span class="line">forecast &lt;- predict(model,future)</span><br><span class="line">plot(model,forecast)+</span><br><span class="line">theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Avocados price prediction in next year&quot;,x&#x3D;&quot;year&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">trend &lt;- prophet_plot_components(model,forecast)</span><br><span class="line"></span><br><span class="line">year_trend &lt;- trend[1]</span><br><span class="line">month_trend &lt;- trend[3]</span><br><span class="line">week_trend &lt;- trend[2]</span><br><span class="line">time_trend &lt;- trend[4]</span><br><span class="line"></span><br><span class="line">overall_trend &lt;- c(year_trend,month_trend,week_trend,time_trend)</span><br><span class="line">ggarrange(plotlist &#x3D; overall_trend, labels &#x3D; c(&#39;A&#39;, &#39;B&#39;,&#39;C&#39;,&#39;D&#39;))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___52_0.png" alt="img"></p>
<ul>
<li>Figure A is analyze based on year: Since 2015, the average price of avocados continues to grow and 2017 was a crazy year, they grow in a speed higher than 1.3; After 2018, the average price tend to be stable, but still has a rate about 1.28; Regarding to the future prediction, the range is about [1.20-1.34]. But considering the pandemic in North America, the possible rate could be 1.20</li>
<li>Figure B is the analysis based on month: we could see that during May, the price tend to grow in a positive way and this trend continues to grow to Oct; After Oct, the price starts to decrease, which follows the previous analysis</li>
<li>Figure C is the analysis based on week. The average price follow the rule that ordinary family shopping habits, they prefer to buy things during weekends, so the price during weekends could be higher in other days</li>
</ul>
<hr>
<h3 id="Other-platforms"><a href="#Other-platforms" class="headerlink" title="Other platforms:"></a>Other platforms:</h3><p><strong>kaggle:</strong> <a class="link"   href="https://www.kaggle.com/yuxuanwu17/eda-of-avocado-price-from-2015-to-2020" >https://www.kaggle.com/yuxuanwu17/eda-of-avocado-price-from-2015-to-2020<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>zhihu (Chinese version):</strong> <a class="link"   href="https://zhuanlan.zhihu.com/p/332699778" >https://zhuanlan.zhihu.com/p/332699778<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>Github:</strong> <a class="link"   href="https://github.com/yuxuanwu17/INT303-Avocado-prediction" >https://github.com/yuxuanwu17/INT303-Avocado-prediction<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>R</category>
      </categories>
      <tags>
        <tag>kaggle</tag>
        <tag>EDA</tag>
        <tag>R</tag>
      </tags>
  </entry>
  <entry>
    <title>Hadoop based big data analysis</title>
    <url>/2021/01/25/Hadoop_cw2/</url>
    <content><![CDATA[<p>Hadoop comprises three part:</p>
<ol>
<li>Main function, including some basic configuration of job</li>
<li>Mapper class, inherited from and override the Map function</li>
<li>Reduce class, inherited from Reduce function and override it</li>
</ol>
<h3 id="1-Calculate-the-bigram-frequency-and-return-the-Top-10"><a href="#1-Calculate-the-bigram-frequency-and-return-the-Top-10" class="headerlink" title="1. Calculate the bigram frequency and return the Top 10"></a>1. Calculate the bigram frequency and return the Top 10</h3><hr>
<h4 id="data-cleaning-part-single-world"><a href="#data-cleaning-part-single-world" class="headerlink" title="data cleaning part (single world)"></a>data cleaning part (single world)</h4><ul>
<li>Use regular expression to extract the useful information</li>
<li>For the neat of code, I separate the word cleaning part into one method: deleteNotion</li>
<li>The idea is to loop all the words and feed into the deleteNotion function to clean the data</li>
<li>Since the word fed into the program is a txt file, we need first calculate each word by .split(â€œ\s+â€), and called String [] single_word</li>
<li>The regular expression is designed to match all the punctuation and numbers except for English words </li>
<li>Note that \W didnâ€™t include the number, so we have to make a union of numbers and other punctuation in \W, that is [\\w[0-9]]</li>
<li>Create an ArrayList to store the processed data.</li>
</ul>
<h4 id="bigram-extraction"><a href="#bigram-extraction" class="headerlink" title="bigram extraction"></a>bigram extraction</h4><ul>
<li>loop through the single_word [] list</li>
<li>Note that: since we are calculating the bigram, the length should be length(single_word)-1</li>
<li>We also need to ensure that the first and last were not empty</li>
<li>Then add the data to the newly created Arraylist</li>
</ul>
<hr>
<h3 id="2-Return-the-line-containing-the-word-â€˜tortureâ€™"><a href="#2-Return-the-line-containing-the-word-â€˜tortureâ€™" class="headerlink" title="2. Return the line containing the word â€˜tortureâ€™"></a>2. Return the line containing the word â€˜tortureâ€™</h3><ul>
<li>Use regular expression to separate line and store it in to the list</li>
<li>The regular expression was written as {\\n{1,}}, detecting the â€œ\nâ€ and store it as one line </li>
<li>Create an arraylist results to each line </li>
<li>Loop through the arraylist and use .contain function to find the line contain â€œtortureâ€</li>
<li>Note that, the mapper variable and reduce variable should be switched to Text, the attribute problem should take it seriously</li>
</ul>
<hr>
<h3 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h3><h4 id="bigram-frequency"><a href="#bigram-frequency" class="headerlink" title="bigram frequency"></a>bigram frequency</h4><p><img src="/fig/wordcount.png" alt="wordcount"></p>
<h4 id="lines-containing-â€œtortureâ€"><a href="#lines-containing-â€œtortureâ€" class="headerlink" title="lines containing â€œtortureâ€"></a>lines containing â€œtortureâ€</h4><p><img src="/fig/Shuffled_Maps.png" alt="img"></p>
<hr>
<h2 id="Code-resources"><a href="#Code-resources" class="headerlink" title="Code resources"></a>Code resources</h2><p>Github: <a class="link"   href="https://github.com/yuxuanwu17/Hadoop_cw2" >https://github.com/yuxuanwu17/Hadoop_cw2<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>FYP check lists</title>
    <url>/2021/01/27/FYP_requirements/</url>
    <content><![CDATA[<h2 id="General-requirements"><a href="#General-requirements" class="headerlink" title="General requirements:"></a>General requirements:</h2><p>Maximum word length (excluding abstract, figure legends, reference list and appendices) <strong>5000 words.</strong></p>
<p><strong>Double spaced</strong></p>
<p><strong>Font 12 point, black</strong></p>
<p><strong>Binding/e-versions</strong> (must be as described below)</p>
<p>Scientific English in appropriate tense</p>
<p>Free of grammar, punctuation and spelling errors</p>
<hr>
<h2 id="Contain-the-following-in-this-order"><a href="#Contain-the-following-in-this-order" class="headerlink" title="Contain the following, in this order;"></a>Contain the following, in this order;</h2><ol>
<li><p>Completed cover template</p>
</li>
<li><p>Abstract in Chinese and in English</p>
</li>
<li><p>Introduction</p>
</li>
<li><p>Methods</p>
</li>
<li><p>Results and Discussion or Results/Discussion as a single section</p>
</li>
<li><p>Acknowledgements (if appropriate)</p>
</li>
<li><p>Reference list</p>
</li>
<li><p>Appendices (only if appropriate) see below</p>
</li>
</ol>
<hr>
<p>Report must conform at least to the SBS style guides with respect to the following:</p>
<p>Article citations within the text</p>
<p>Reference list</p>
<p>Symbols, units, abbreviations</p>
<p>Accurate syntax for organism names</p>
<p>Organism specific rules for genetic loci</p>
<p>International rules for molecular nomenclature</p>
<p>Tables</p>
<p>Figures</p>
<p>Figure legends</p>
<hr>
<h2 id="Details"><a href="#Details" class="headerlink" title="Details"></a>Details</h2><ol>
<li>Maximum <strong>5000 words</strong> (total word length should be included on the title page) for the main text i.e. introduction; methods; results; discussion and any text in footnotes. Note that this is a maximum, not an expectation with a margin of variation; concise reports shorter than this may be entirely appropriate.</li>
<li>Word processed; <strong>12 point Times Roman (black); double spaced</strong>. Colour in figures is acceptable, but consider whether colour is really needed to illustrate what you require. Only use colour where it will increase legibility.</li>
<li>The hard copy should be <strong>on A4 paper with a cover sheet consisting of a completed project cover template and should be produced as booklets, preferably with a plastic cover and submitted in person to the department secretary by 11 am on Monday 4 of May (Week 12)</strong>, with a copy of your Ethical Approval, if appropriate. You will be required to sign a sheet to confirm that your report contains no instances of plagiarism, collusion or fabrication</li>
<li>The electronic version (including any appendix) should be submitted on the moduleâ€™s ICE page before the <strong>11 am on Monday 4 May (Week 12)</strong>, in the form of a Microsoft Word file (<em>.doc or *.docx) using the following file format *</em>SURNAME_FIRST NAME_ID_NUMBER_FR**</li>
<li>t is usual to write about the work performed in the <strong>past tense</strong> and results are usually presented <strong>in the passive form</strong></li>
<li><strong>sub-headings</strong> may help readability.</li>
<li>Define abbreviations at the point in the text where they are first used</li>
</ol>
<hr>
<h2 id="Components"><a href="#Components" class="headerlink" title="Components"></a>Components</h2><h3 id="Title"><a href="#Title" class="headerlink" title="Title:"></a>Title:</h3><ul>
<li><input disabled="" type="checkbox"> Choose a title that is concise but informative</li>
<li><input disabled="" type="checkbox"> Ideally it should describe the work performed and findings but not be dramatic</li>
</ul>
<h3 id="Abstracts"><a href="#Abstracts" class="headerlink" title="Abstracts:"></a>Abstracts:</h3><ul>
<li><input disabled="" type="checkbox"> The abstract should be provided in Chinese and in English</li>
<li><input disabled="" type="checkbox"> Maximum words 250</li>
<li><input disabled="" type="checkbox"> Should not include references</li>
<li><input disabled="" type="checkbox"> Should condense the aims, observations, findings and main conclusions</li>
</ul>
<h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction:"></a>Introduction:</h3><ul>
<li><input disabled="" type="checkbox"> Provide background (e.g. literature, preliminary data) to the field of study</li>
<li><input disabled="" type="checkbox"> State the purpose of the work e.g., the scientific hypothesis</li>
<li><input disabled="" type="checkbox"> Provide the rationale for the approach taken</li>
</ul>
<h3 id="Materials-and-Methods"><a href="#Materials-and-Methods" class="headerlink" title="Materials and Methods:"></a>Materials and Methods:</h3><ul>
<li><input disabled="" type="checkbox"> Should NOT be a protocol book.</li>
<li><input disabled="" type="checkbox"> Should be sufficiently detailed for the work to be repeatable.</li>
<li><input disabled="" type="checkbox"> Should be written in a format appropriate for publication in a journal relevant to the type of work performed.</li>
<li><input disabled="" type="checkbox"> Should refer back to previous Key Skills work.</li>
</ul>
<h3 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h3><ul>
<li><input disabled="" type="checkbox"> Present analyses, not raw data, including appropriate and fully explained statistical analyses.</li>
<li><input disabled="" type="checkbox"> Each result should be accompanied by text explaining the rationale for the experiment/observation; a succinct description of the method used to obtain the data; the methods used to analyse/interpret the data and sufficient introductory comments and discussion to link the results into a coherent narrative.</li>
<li><input disabled="" type="checkbox"> Sub-headings may be appropriate.</li>
</ul>
<h3 id="Tables-must"><a href="#Tables-must" class="headerlink" title="Tables must:"></a>Tables must:</h3><ul>
<li><input disabled="" type="checkbox"> Be numbered consecutively according to their appearance in the text (Table 1 etc.).</li>
<li><input disabled="" type="checkbox"> Have short informative titles and legends placed above the Table.</li>
<li><input disabled="" type="checkbox"> All tables must be referred to in the text.</li>
<li><input disabled="" type="checkbox"> Explanatory material may be included as footnotes immediately below the table e.g. definitions of all acronyms and abbreviations.</li>
</ul>
<h3 id="Figures-must"><a href="#Figures-must" class="headerlink" title="Figures must:"></a>Figures must:</h3><ul>
<li> Be numbered consecutively according to their appearance in the text (Figure 1 etc.).</li>
<li>Have an accompanying title and legend below the Figure.</li>
<li>Have a uniform lettering style.</li>
<li>Consider putting extensive sequences and alignments or other data in an appendix</li>
</ul>
<h3 id="Figure-legends-must"><a href="#Figure-legends-must" class="headerlink" title="Figure legends must:"></a>Figure legends must:</h3><ul>
<li><p>Be intelligible to the reader without reference to the text.</p>
</li>
<li><p>Define abbreviations or symbols used in the Figure.</p>
</li>
</ul>
<h3 id="Discussion-should"><a href="#Discussion-should" class="headerlink" title="Discussion should:"></a>Discussion should:</h3><ul>
<li>Critically review the findings.</li>
<li>Indicate whether the findings support the hypothesis.</li>
<li>Provide some speculative debate.</li>
<li>Discuss possible future experiments.</li>
</ul>
<h3 id="Acknowledgments"><a href="#Acknowledgments" class="headerlink" title="Acknowledgments:"></a>Acknowledgments:</h3><ul>
<li><p>Should be at the end of the text.</p>
</li>
<li><p>Should acknowledge contributions from others e.g. other lab/School members that have aided the work in any way.</p>
</li>
</ul>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference:"></a>Reference:</h3><p>Harvard</p>
<h3 id="Symbols-units-abbreviations"><a href="#Symbols-units-abbreviations" class="headerlink" title="Symbols, units, abbreviations:"></a>Symbols, units, abbreviations:</h3><ul>
<li><p>Nonstandard abbreviations must be defined at first occurrence</p>
</li>
<li><p>Species and generic names must be italicized scientific binomens but generic names that are also common names should not be italicized when used alone e.g. Drosophila melanogaster and Drosophila [Drosophila melanogaster is incorrect]. D. melanogaster is acceptable for subsequent uses, provided no ambiguity would result.</p>
</li>
<li><p>Genetic loci must be italicized and must follow the established rules of genetic nomenclature for the organism in question</p>
</li>
<li><p>The International Union of Biochemistry and Molecular Biology rules of nomenclature must be followed for amino acids, peptides, proteins, enzymes, nucleic acids, polynucleotides, carbohydrates, and lipids; these can currently be found at <a class="link"   href="http://www.chem.qmul.ac.uk/iubmb/nomenclature/" >http://www.chem.qmul.ac.uk/iubmb/nomenclature/<i class="fas fa-external-link-alt"></i></a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>FYP</category>
      </categories>
      <tags>
        <tag>to-do-list</tag>
      </tags>
  </entry>
  <entry>
    <title>deep learning based prediction of m6a reaeder in RNA modification</title>
    <url>/2021/01/26/Prediction%20of%20m6A%20Reader%20substrate%20sites%20using%20deep%20convolutional%20and%20recurrent%20neural%20network/</url>
    <content><![CDATA[<h1 id="Prediction-of-m6A-Reader-substrate-sites-using-deep-convolutional-and-recurrent-neural-network"><a href="#Prediction-of-m6A-Reader-substrate-sites-using-deep-convolutional-and-recurrent-neural-network" class="headerlink" title="Prediction of m6A Reader substrate sites using deep convolutional and recurrent neural network"></a>Prediction of m6A Reader substrate sites using deep convolutional and recurrent neural network</h1><p>The full transcript could be accessed in <a class="link"   href="https://github.com/yuxuanwu17/m6A_reader/blob/master/Artical/dp_final.docx" >https://github.com/yuxuanwu17/m6A_reader/blob/master/Artical/dp_final.docx<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>N6-methyladenosine (m6A) is the most prevalent post-transcriptional modification in mRNA since it could regulate some significant biological functions with the binding of some m6A reader proteins. Multiple readers exist in the human genome, however, the binding specificity was not clarified due to the limited wet experiments on this topic. Therefore, we devised a deep learning approach which incorporated CNN and RNN frameworks together to predict the epitranscriptome-wide targets of six m6A reader proteins (YTHDF1-3, YTHDC1-2, EIF3A). We also utilized layer-wise relevance calculation to obtain contribution of each input feature. Our model achieved state-of-the-art performance with the average AUROC of 0.942 in EIF3A full transcript, compared with 0.929 in CNN-only framework and 0.817 in Support Vector Machine (SVM) method under same condition. Besides, we identified the optimal sequence length (1001bp) in the m6A reader substrate prediction. The results provide new insight into epitranscriptome target prediction and functional characterization of m6A readers.</p>
<h2 id="Material-and-Methods"><a href="#Material-and-Methods" class="headerlink" title="Material and Methods"></a>Material and Methods</h2><h3 id="Identification-of-m6A-reader-binding-sites"><a href="#Identification-of-m6A-reader-binding-sites" class="headerlink" title="Identification of m6A reader binding sites"></a>Identification of m6A reader binding sites</h3><p>For the benefits of modeling, we need to define the positive and negative samples of m6A reader binding site. As can be seen from Figure 1, there are three significant factors to consider when determining the m6A reader binding sites, which is DRACH motif, known m6A Sites and CLIP labeled Sites. Generally, m6A readers have a tendency to bind known m6A sites and DRACH motif, but these two are not robust enough, without CLIP labeled sites, they could still be considered as negative samples. Therefore, in this experiment, three factors have to be satisfied simultaneously. In addition, the position of gene model would not influence the samples. To minimize the bias in selecting the polyA RNAs, we prepared the full transcript data and mature RNA data. In detail, mature RNA data exclude the sites on the intron region while the full transcript data covered either the exon or intron region.</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/m6a_criteria.6x19fgcvhww0.png" alt="m6a_criteria"></p>
<p><strong>Figure 1</strong> Criteria of determining the m6A reader binding sites.</p>
<h3 id="Deep-learning-model-construction"><a href="#Deep-learning-model-construction" class="headerlink" title="Deep learning model construction"></a>Deep learning model construction</h3><p>Previously, we conducted a traditional machine learning about m6A reader by different encoding methods, however, the performance of one-hot method was not ideal, there was still a gap to improve. In addition, one-hot encoding method learned from the convolutional neural network (CNN) is suitable for learning potential motifs in the bioinformatics field, therefore, we opted for deep learning techniques in this research. Furthermore, recurrent neural network (RNN) was incorporated since it could capture the information in sequence, for instance, the potential relationship between each nucleotide. </p>
<p>To build the deep learning model, we used Keras v2.3.0 and R v4.0.2 to conduct the learning part and process the raw data for prediction. For the data preparation part, we used R to extract n nucleotides (bp) of flanking sequences centered on the target adenosine, ranging from 251 to 2001bp to explore a suitable length. The processed sequence data were then inputted to Python3 for encoding, in this case, we chose One-hot encoding method for better model interpretability, for instance, A (1,0,0,0), C (0,1,0,0), G (0,0,1,0), T (0,0,0,1). The overall framework can be seen in Figure 2. Each sequence was then transformed to an nÃ—4 matrix and fed into two combinations of 1D convolution (Conv1D) layer and max-pooling layer. For the first combination, we set 90 kernels with size equaled 5 and applied L2 regulation to prevent overfitting. The rectified linear unit (ReLU) was used as the activation function to provide our necessary non-linearity. The following max-pooling layer was set in size equaled 4 with strides 2 to reduce the dimension of output from the previous layer. The dropout rate was incorporated to 0.25 to further reduce the possibility of overfitting. A second 1D convolution (Conv1D) layer with 100 filters and size equaled 3 to extract the feature of the previous data. Similarly, the ReLU function and L2 regulation were applied. However, the max-pooling size was 10 with 1 stride, under which circumstance could the model achieve higher performance. </p>
<p>The recurrent neural networks long short-term memory (LSTM) layer was used to aggregate the outputs of CNNs for predicting the RBP binding, in this case, the m6A readersâ€™ substrates sites. LSTM processed sequentially of the sequence element, hoping to capture the inter-dependencies between motifs. Moreover, the fully connected layer with 1000 neurons would receive the output from the LSTM layer, and the non-linear activation function n, sigmoid, would calculate the prediction probability in each training class. The overall tuning process was used the loss function, binary cross-entropy to conduct the weight-tuning, optimizing the learning process, additionally, we found that Adam is the most suitable for this task. Finally, the output would be the probability of being m6A reader substrate sites. </p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/Architecture(3).3uagcw8fqhm0.png" alt="Architecture(3)"></p>
<p><strong>Figure 2</strong> The sequence data are encoded by One-hot method and fed into the convolution layer and followed by the pooling layer twice to extract the significant features. The LSTM layer learns the long-term dependencies between sequence data generated by convolution layers. The flatten layer combines the previous kernels into a vector and inputs to the fully connected layer to calculate the probability of being m6A reader substrate site </p>
<h3 id="Training-strategy-and-performance-evaluation"><a href="#Training-strategy-and-performance-evaluation" class="headerlink" title="Training strategy and performance evaluation"></a>Training strategy and performance evaluation</h3><p>We separated each gene data set into three categories, training, testing, validation dataset, the ratio was 8:1:1 respectively. Moreover, to reduce the bias caused by imbalanced data samples, we ensured the same number of positive and negative samples in each category. The early stopping method was included to reduce the unnecessary computation during the learning process and the patience was designed as 10. The loss plot was drawn to document the training procedure and monitor the potential overfitting.  </p>
<p>To validate the model performance, four commonly used performance metrics, including area under the ROC curve (AUC), area under the Precision-Recall curve (PR-AUC), accuracy (ACC) and Mathewâ€™s correlation coefficient (MCC). The formula of ACC and MCC are demonstrated as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/equation.75xnw9zlnaw0.png" alt="equation"></p>
<p>where TP and TN are denoted as True Positive and True Negative, FN and FT are denoted as False Negative and False Positive. To sum up, the higher the performance metrics value, the more accurate the prediction. Additionally, we compared the performance with the previous research using machine learning method, the combination of CNN + RNN frameworks and the CNN framework only to determine the optimal choice.</p>
<p>We also exploited DeepExplainâ€™s epsilon-LRP method (gradient-based) to calculate the contribution in each feature input. With the assistance of this approach, we could rank the nucleotidesâ€™ significance in identifying the m6A readersâ€™ substrates. Moreover, we extend the sequence upstream/downstream length from 50bp to 250bp, hoping to cover more information in determining each nucleotide contribution. </p>
<h2 id="Results-and-Discussion"><a href="#Results-and-Discussion" class="headerlink" title="Results and Discussion"></a>Results and Discussion</h2><h3 id="Performance-comparison"><a href="#Performance-comparison" class="headerlink" title="Performance comparison"></a>Performance comparison</h3><p>Classifiers might achieve varied performance on different datasets. To assess the fitness between the 6 reader binding site datasets and the two deep learning classifiers, models were built on full transcripts and their performance were analyzed. Similarly, different size of full transcripts was encoded with One-hot method. As shown in Figure 3(A), models using CNN classifier achieved theoretically good performance with overall AUROC larger than 0.8. It seems that the CNN classifier fit the YTHDF1 binding datasets better than other reader binding sites, with overall AUROC exceeding 0.9 and highest AUROC of 0.93. In addition, CNN model achieves good performance with YTHDF2 binding datasets as well, with highest AUROC of 0.929. It is noticeable that the performance of CNN models with EIF3a varied dramatically along with the size of transcript, from 0.96 to 0.81, which suggests that the performance of CNN classifier is depend on the size of transcripts. Similar trends can be seen in the YTHDC2 datasets, the trained model with different input size achieves different AUROC score, with optimal input transcript size of 251bp (AUROC = 0.89)</p>
<p>Regarding the fitness of CNN+RNN classifier with the six reader datasets, models shows similar performance for YTHDF3, YTHDF2, YTHDF1, YTHDC2 datasets (with AUROC around 0.9). Moreover, the model trained with these four datasets as well as the YTHDC1 datasets (with AUROC around 0.875) seems transcript-size independent since lines are relatively stable. Interestingly, the performance of models trained with EIF3a datasets varied greatly from length to length (AUROC varied from 0.88 to 0.94). The structure variation between YTH family protein and EIF3a might contribute to the difference on model performance.</p>
<p>To assess the feasibility of the two classifiers, namely CNN and RNN, performance of models was interpreted and compared. Figure 3(B) compares the performance of models with different size of EIF3a transcripts. As indicated, the combination of CNN and RNN classifier achieves overall better performance than the CNN classifier for both full transcript and mature transcript. Since the trend of line graph for CNN+RNN model is more stable than the line for CNN model, we can infer that the combination of CNN and RNN makes the model less dependent on the length of transcript used.</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/cmbd2.2p61qbr5qg00.png" alt="cmbd2"></p>
<p><strong>Figure 3</strong> (A) Compared the performance of CNN model and CNN+RNN model in the prediction of six m6A reader substrates under different length in full transcripts. (B) Compared the AUROC value in either full transcript or mature transcript when predicting the EIF3A reader substrates. </p>
<h3 id="ROC-and-PR-curve-comparison-between-multiple-sequence-length"><a href="#ROC-and-PR-curve-comparison-between-multiple-sequence-length" class="headerlink" title="ROC and PR-curve comparison between multiple sequence length"></a>ROC and PR-curve comparison between multiple sequence length</h3><p>the Receiver Operating Characteristic (ROC) curve and Precision-Recall curve for EIF3A datasets under the combination of CNN and RNN were visualized in Figure 4. As can be seen from the figure that, although the performance was different under different sequence size, the overall trend was stable and devoid of fluctuation. In addition, the overall performance in full transcripts could outperform the mature transcripts, probably the reason that full transcript data could cover either the exon or intron region. </p>
<p>Here, we mainly opted EIF3A dataset for easy demonstration in this paper. More details of the other five datasets could be achieved in the supplementary file.</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/rocs_update.56hoogl00z40.png" alt="rocs_update"></p>
<p><strong>Figure 4</strong> (A) Compared the ROC curve and the regarding AUROC of mature and full transcript of EIF3A under CNN+RNN model in various sequence lengths. (B) Compared the PR curve and the regarding PRAUC of mature and full transcript of EIF3A under CNN+RNN model in various sequence lengths. </p>
<h3 id="Quantify-each-input-nucleotide-contribution-by-the-layer-wise-relevance-calculation"><a href="#Quantify-each-input-nucleotide-contribution-by-the-layer-wise-relevance-calculation" class="headerlink" title="Quantify each input nucleotide contribution by the layer-wise relevance calculation"></a>Quantify each input nucleotide contribution by the layer-wise relevance calculation</h3><p>Each input feature was calculated to obtain its contribution to the results by DeepExplainâ€™s epsilon-LRP method. The feature importance plots were based on the EIF3a binding site datasets (Figure 4). The higher score that the position gets, the larger probability that the center nucleotide is an EIF3a reader binding site if this nucleotide present at that position. As shown in the graph, positions located around the predicted m6A sites got significantly higher scores than other positions, which means those positions are more important in determining whether the center nucleotide is m6A reader substrate site or not. Additionally, the prediction of modification site would benefit from taking sequence more than 50bp upstream or downstream the predicted site since they include positions with high importance score</p>
<p>Specifically, a site would be less likely to be m6A modification site if the adenosine represents in 100bp downstream since the majority of position within this sequence got importance scores smaller than 0. In comparison, the presence of cytosine in 50 upstream/downstream the predicted site tends to boost the chance of the center nucleotide being modified. No specific patterns were found for guanine and thymine as the importance plot present a shape like the sine function. </p>
<p>The results showed that if those positions 34bp, 59bp, 11bp, 58bp, 27bp, 49bp, 72bp upstream, 21bp, 27bp, 24bp, 25bp, 116bp downstream the modification site is cytosine, the site would more likely to be the EIF3a reader binding site. In addition, the probability of the modification site being EIF3a substrate site would decrease if guanosine was found on positions 21bp, 71bp, 33bp, 32bp, 31bp, 22bp upstream the center site or uridine was found on positions 54bp upstream or 53bp downstream the center site. The screened top 20 nucleotides that will decrease the change of the site being EIF3a modification site include: adenosines on positions 39bp, 27bp, 47bp, 61bp, 10bp, 12bp, 23bp, 170bp, 157bp, 51bp, 14bp, 226bp, 52bp upstream the center nucleotide, cytosine on positions 93bp upstream and 185bp downstream the center nucleotide, guanosine on positions 92, 97bp downstream the center site as well as uridines on positions 56bp, 63bp upstream the modification site.</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/contribution_plot.57p7fsjv0y80.png" alt="contribution_plot"></p>
<p><strong>Figure 5</strong> Feature importance scores in EIF3A full transcript prediction. We both extracted upstream/downstream 50bp and upstream/downstream 250 bp of the sequence to rank the contribution of each nucleotide in determining the binding site. In each position, the higher score it gains, the higher contribution towards the binding sites.</p>
<h1 id="How-to-use-this-file"><a href="#How-to-use-this-file" class="headerlink" title="How to use this file?"></a>How to use this file?</h1><h2 id="Prerequisite-packages"><a href="#Prerequisite-packages" class="headerlink" title="Prerequisite packages"></a>Prerequisite packages</h2><p>keras version 2.3.0, numpy, pandas, argparse</p>
<h2 id="Run-â€˜python3-main-py-hâ€™-in-command-line-for-help"><a href="#Run-â€˜python3-main-py-hâ€™-in-command-line-for-help" class="headerlink" title="Run â€˜python3 main.py -hâ€™ in command line for help"></a>Run â€˜python3 main.py -hâ€™ in command line for help</h2><h3 id="Select-the-input-genes"><a href="#Select-the-input-genes" class="headerlink" title="Select the input genes"></a>Select the input genes</h3><p>You could select 6 genes, including YTHDC1-2, YTHDF1-3, EIF3A</p>
<h3 id="Select-the-input-length-of-the-sequence"><a href="#Select-the-input-length-of-the-sequence" class="headerlink" title="Select the input length of the sequence"></a>Select the input length of the sequence</h3><p>You could choose 251, 501, 1001, 2001bp input length to compare the prediction performance.<br>Due to the size limitation, i only upload some some small sized sequence as examples.<br>Email me, if you want to apply all the data</p>
<h3 id="Select-the-condition-of-the-sequence-either-full-transcript-full-or-mature-RNA-exon"><a href="#Select-the-condition-of-the-sequence-either-full-transcript-full-or-mature-RNA-exon" class="headerlink" title="Select the condition of the sequence, either full transcript (full) or mature RNA (exon)"></a>Select the condition of the sequence, either full transcript (full) or mature RNA (exon)</h3><p>To minimize the bias in selecting the polyA RNAs, we prepared the full transcript data and mature RNA data. In detail, mature RNA data exclude the sites on the intron region while the full transcript data covered either the exon or intron region.</p>
<h3 id="Choose-the-CNN-or-CNN-RNN-model"><a href="#Choose-the-CNN-or-CNN-RNN-model" class="headerlink" title="Choose the CNN or CNN+RNN model"></a>Choose the CNN or CNN+RNN model</h3><p>To compare the performance under different framework</p>
]]></content>
      <categories>
        <category>publications</category>
      </categories>
      <tags>
        <tag>conference</tag>
        <tag>deep learning</tag>
        <tag>RNA modification</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Meta analysis for knockdown of METTL3 or METTL14 affecting N6-methyladenosine methylation level</title>
    <url>/2021/01/27/meta-analysis/</url>
    <content><![CDATA[<h1 id="Meta-analysis-for-knockdown-of-METTL3-or-METTL14-affecting-N6-methyladenosine-methylation-level"><a href="#Meta-analysis-for-knockdown-of-METTL3-or-METTL14-affecting-N6-methyladenosine-methylation-level" class="headerlink" title="Meta-analysis for knockdown of METTL3 or METTL14 affecting N6-methyladenosine methylation level"></a>Meta-analysis for knockdown of METTL3 or METTL14 affecting N6-methyladenosine methylation level</h1><p>The full transcript could be accessed from <a class="link"   href="https://github.com/yuxuanwu17/meta_analysis/blob/master/Full_transcript/Meta_Analysis.docx" >https://github.com/yuxuanwu17/meta_analysis/blob/master/Full_transcript/Meta_Analysis.docx<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>N6-methyladenosine (m6A) is the most prevalent internal chemical modification present in multiple eukaryotic mRNAs, which is dynamically installed by methyltransferases (â€œwritersâ€) and removed by demethylases (â€œerasersâ€). METTL3 and METTL14 are two typical m6A writers and several studies have found that knockdown or depletion of METTL3 and METTL14 genes influence the methylation level. A meta-analysis study was performed to assess the strength and quality of current evidence regarding to it and assess the how the knockdown of METTL3 or METTL14 affect the mRNA methylation level. Data was collected and classified into groups. Metafor, a R package was used to generate the Random-effects meta-analysis model and calculate the risk ratios (RRs) and 95% CIs. Since the heterogeneity of the overall data is extremely high (I2 &gt; 99%), specific samples were excluded to minimize the downgrade the heterogeneity to acceptable level. Three and two published trails for METTL3 and METTLE14 samples, respectively, were eligible for review and analysis due to the acceptable low heterogeneity of their combination (METTL3 (Q = 12.85, I2 = 37.8%) and METTL14 (Q = 45.48, I2 = 82.9%) ). The positive relationship between knockdown of METTL3/METTL14 and methylation level was successfully verified and the difference among cell lines and gene types was identified.</p>
<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage:"></a>Usage:</h2><p>The full script was in final file. But due to the size limitation, I could not upload the data set, please email me if you need the data set</p>
<h2 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h2><h3 id="PRISMA-flowchart"><a href="#PRISMA-flowchart" class="headerlink" title="PRISMA flowchart"></a>PRISMA flowchart</h3><p>For this systematic review and meta-analysis, our discovery data cohort came from various databases including Cochrane library, EMBASE, and PubMed/MEDLINE from inception to Feb 20, 2020. Seventeen datasets of epitranscriptome-wide homo sapiens m6A sites under different cell lines screened by six different high-resolution profiling approaches were collected. Missing and ambiguous data were further ensured and validated by the original researchers (Figure 1). </p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/prisma.6fmfuc39y5s0.png" alt="prisma"></p>
<p>Figure 1: PRISMA flowchart for inclusion or exclusion criteria in this meta-analysis We firstly retrieved our data (n=1555) from both GEO and GSA database. In this analysis, the primary focus was on Homo sapiens, we then exclude other unrelated species, like Mus musculus and Rattus norvegicus, our sample then restricted to 242. When explored in the full-text articles, we did not consider genes other than METTL3 or METTL14, therefore, genes like FTO, ALKBH5 and WTAP were excluded, and sample number was retained to 28. Owing to the fact that some experiments shared the same control group, we then eliminated the duplication and 17 samples remained. The remained samples were used to conduct the whole meta-analysis. </p>
<hr>
<h3 id="Forest-plot-of-the-basic-model"><a href="#Forest-plot-of-the-basic-model" class="headerlink" title="Forest plot of the basic model"></a>Forest plot of the basic model</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/WechatIMG26.40fi7vuvz540.jpeg" alt="WechatIMG26"></p>
<p>Figure 2. Forest plot of the basic model. This is a Random Effect model which accommodates differences in study sample. Q statistic is based on the chi-square distribution, most commonly testing heterogeneity. I2 index is the total variability in a set of effect sizes due to true heterogeneity. Log Risk Ratio is a measurement of effect size. </p>
<hr>
<h3 id="Baujat-plot-in-the-identification-of-heterogenity"><a href="#Baujat-plot-in-the-identification-of-heterogenity" class="headerlink" title="Baujat plot in the identification of heterogenity"></a>Baujat plot in the identification of heterogenity</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/WechatIMG30.4e7gw6et4o00.png" alt="WechatIMG30"></p>
<p>Figure 3. The Baujat plot to identify studies contributing to heterogeneity. The study ID numbers represent eight studies, respectively.</p>
<p>As shown in Figure 3, Baujat plot generated from the METTL3 study datasets identifies the influence on the overall result and the squared Pearson Residual of each study. As the 8th study is located in the top right quadrant, it has both a greater impact on the whole result and contributes most to heterogeneity; while other studies are near to the origin. Therefore, we keep all studies but the one far away on the top right. Similarly, we excluded the 4th study as it lies far top right in the Baujat plot of METTL14</p>
<hr>
<h3 id="Forest-plot-of-moderator-analysis"><a href="#Forest-plot-of-moderator-analysis" class="headerlink" title="Forest plot of moderator analysis"></a>Forest plot of moderator analysis</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/WechatIMG31.5re8upv5y1w0.jpeg" alt="WechatIMG31"></p>
<p>Figure 4. Forest plot of moderator analysis.</p>
<p>As shown in Figure 4, we can still conclude that there is a highly positive relationship (Log RR 5.66, 95% CI 5.31-6.02; p-value = 0.12) between the m6A methylation level and the knockdown of the METTL3 gene, although the p-value increases from &lt;0.01 to 0.12 meaning less confidence. The Log RR is adjusted from 6.93 to 5.66. The CI narrows down greatly and CI of each subgroup overlaps more than the basic model, reflecting less between-study variability. As for the METTL14 model, the positive relationship (Log RR 5.39, 95% CI 4.97-5.84; p-value &lt; 0.01) between the m6A methylation level and the absence of METTL14 gene shows similar Log RR with that of METTL3 meta-regression model. Importantly, we found no large heterogeneity or inconsistency of METTL 3 (Q(df = 8) = 12.85, I2 = 37.8%, tau2 = 0.0035) and METTL14 (Q(df = 9) = 45.48, I2= 82.9%, tau2 = 0.0140) among the studies. </p>
<hr>
<h3 id="Funnel-plot-to-investigate-the-possible-publication-bias"><a href="#Funnel-plot-to-investigate-the-possible-publication-bias" class="headerlink" title="Funnel plot to investigate the possible publication bias"></a>Funnel plot to investigate the possible publication bias</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/WechatIMG32.7kzbbb47n5o0.png" alt="WechatIMG32"></p>
<p>Figure 5. The Funnel plot.</p>
<p>Publication bias, occurring in the selective publication of studies based on magnitude and direction of findings, poses a particular threat to the validity of meta-analysis. Here, we investigate possible publication bias by visual inspection of Funnel plots. If the effect size versus standard is broadly symmetrical, the publication bias is absent. As shown in Figure 5., the Funnel plot on the left shows the points of nine studies of METTL3 knockdown evenly fall on both sides of the summary effect size and the standard error is approximately 0.075 on average. However, the vertical line representing the summary of all the studies of METTL3 knockdown lies on the right of zero, around 1.73, suggests that there is a positive effect of publication bias on the summary effect size. As for the Funnel plot on the right, points of ten studies of METTL14 knockdown evenly fall on both sides of the summary effect size. The standard error is approximately 0.050 on average and the vertical line lies on the origin meaning no publication bias on the summary effect size.   </p>
]]></content>
      <categories>
        <category>publications</category>
      </categories>
      <tags>
        <tag>R</tag>
        <tag>RNA modification</tag>
        <tag>meta-analysis</tag>
      </tags>
  </entry>
  <entry>
    <title>MATLAB based neural network for image classification</title>
    <url>/2021/01/25/matlab_cw2_readme/</url>
    <content><![CDATA[<h2 id="Project-overview"><a href="#Project-overview" class="headerlink" title="Project overview :"></a>Project overview :</h2><p>This task includes five algorithms to classify the characters segmented from the license plates of automobiles using MATLAB</p>
<ul>
<li>MLP (multi-layer perceptron)</li>
<li>CNN (convolutional neural network)</li>
<li>LVQ (learning vector quantization)</li>
<li>RBF1 with k-means clustering</li>
<li>RBF2 with SOM (self-organizing map)</li>
</ul>
<hr>
<h2 id="Files-running-order"><a href="#Files-running-order" class="headerlink" title="Files running order"></a>Files running order</h2><ol>
<li>run the figure_preprocessing.m and create a new file folder ass2_processede_data</li>
<li>run data_partition.m split the dataset in 8:2 version and returned the X_train, X_test, y_train, y_test and save as train_test_data.mat</li>
<li>run ass2_CNN.m (this script did not use the processed data, but read the figure directly from the original file)</li>
<li>run ass2_mlp.m </li>
<li>run ass2_lvq.m</li>
<li>run ass2_rbf_kmean.m</li>
<li>run ass2_rbf_som.m</li>
<li>run ass2_confusion_matrix_summary.m</li>
</ol>
<hr>
<h2 id="Components-Scripts-inside-the-project"><a href="#Components-Scripts-inside-the-project" class="headerlink" title="Components/Scripts inside the project"></a>Components/Scripts inside the project</h2><h2 id="The-script-part"><a href="#The-script-part" class="headerlink" title="The script part"></a>The script part</h2><h3 id="figure-preprocessing-m"><a href="#figure-preprocessing-m" class="headerlink" title="figure_preprocessing.m"></a>figure_preprocessing.m</h3><p>This is the script to extract the ass2data and rewrite to a new file folder ass2_processed_data. </p>
<pre><code>- read both jpeg and jpg files in all folders ass2_data
- rewrite into another folders ass2_processed_data with uniform style (jpeg) and uniform naming styles (label+number) e.g. (A1,B10,C99)</code></pre>
<h3 id="data-partition-m"><a href="#data-partition-m" class="headerlink" title="data_partition.m"></a>data_partition.m</h3><p>This is the script splitted the processed data into training and testing dataset in 8:2 ratio. It adjusted the size and columns or rows for fitting the designed modelâ€™s network.</p>
<pre><code>- read images from the processed folder ass2_processed_data. 
- split the dataset into 8:2
- save the splitted samples and parameters as train_test_data.mat</code></pre>
<h3 id="ass2-CNN-m"><a href="#ass2-CNN-m" class="headerlink" title="ass2_CNN.m"></a>ass2_CNN.m</h3><p>This is the script to conduct the CNN.</p>
<pre><code>- use imageDataset to store and train the model
- use splitEachLabel to split the training and testing datasets
- do not use the train_test_data as the input since CNN has standard samples in Matlab documents
- imageInputLayer(48,24,1)
- Layer 1:
    - kernel size: 3; filters number: 8; padding: same
    - batchNormalizationLayer
    - Relu layer
    - Maxpooling with a pooling size equals [2 2] and Stride equals [2 2]
- Layer 2:
    - kernel size: 3; filters number: 16; padding: same    
    - batchNormalizationLayer
    - Relu layer
    - Maxpooling with a pooling size equals [2 2] and Stride equals [2 2]
- Layer 3:
    - kernel size: 3; filters number: 32; padding: same    
    - batchNormalizationLayer
    - Relu layer
    - Maxpooling with a pooling size equals [2 2] and Stride equals [2 2]
- Layer 4:
    - fully connected layer with neurons equals 24
    - softmaxLayer
- calculate the training and testing accuracy
- return and save the confusion matrix as C_CNN.mat</code></pre>
<h3 id="ass2-mlp-m"><a href="#ass2-mlp-m" class="headerlink" title="ass2_mlp.m"></a>ass2_mlp.m</h3><p>This is the script to conduct the MLP</p>
<pre><code>- load the dataset obtained previously train_test_data.mat
- lr_rate = 0.2;
- momentum = 0.4;
- epochs = 1000;
- 3 layers with 50, 100, 100 
- Hyperbolic tangent sigmoid transfer function (tansig)
- gradient descent to update the weights
- calculate the training and testing accuracy
- return and save the confusion matrix as C_mlp.mat</code></pre>
<h3 id="ass2-lvq-m"><a href="#ass2-lvq-m" class="headerlink" title="ass2_lvq.m"></a>ass2_lvq.m</h3><pre><code>- load the dataset obtained previously train_test_data.mat
- set the cluster into 360 due to its performance, you could also set cluster into 24 for computational convenience
- lvqnet(24) could achieve ideal performance, but the performance could not be comparable with the cluster set into 360
- save the lvqnet(360) as lvq_360.mat, uncomment the line if you wish to see the performance
- calculate the training and testing accuracy
- return and save the confusion matrix C_lvq.mat</code></pre>
<h3 id="ass2-rbf-kmean-m"><a href="#ass2-rbf-kmean-m" class="headerlink" title="ass2_rbf_kmean.m"></a>ass2_rbf_kmean.m</h3><pre><code>- load the dataset obtained previously train_test_data.mat
- use kmeans to return the center of each cluster, the number of cluster is determined as 360
- use assembled function RBF_training_kmeans to calculate the W (weights), sigma (the variance of the RBF kernel) and the coordinate of each cluster's center 
- use the previous returned parameter to return the training prediction by assembled function: RBF_predict
- calculate the training and testing accuracy
- return and save the confusion matrix C_rbf_kmeans.mat</code></pre>
<h3 id="ass2-rbf-som-m"><a href="#ass2-rbf-som-m" class="headerlink" title="ass2_rbf_som.m"></a>ass2_rbf_som.m</h3><pre><code>- load the dataset obtained previously train_test_data.mat
- define the SOM network, the dimension is set to 18*20 for convenience, keep it uniform to the previous number of clusters: 360
- coverSteps = 10 %% Number of training steps for initial covering of the input space (default = 100)
- initNeighbor = 80 %% Initial neighborhood size (default = 3)
- topologyFcn = 'hextop' %% Layer topology function (default = 'hextop')
- distanceFcn = 'dist' %%  Neuron distance function (default = 'linkdist')
- once finished the training of SOM network, use assembled function RBF_training_som.m to calculate the weights W, sigma (the variance of the RBF kernel) and center of SOM clusters, which is the IW{1,1}.
- use the previous returned parameter to return the training prediction by assembled function: RBF_predict
- return and save the confusion matrix C_rbf_som.mat</code></pre>
<h3 id="ass2-confusion-matrix-summary-m"><a href="#ass2-confusion-matrix-summary-m" class="headerlink" title="ass2_confusion_matrix_summary.m"></a>ass2_confusion_matrix_summary.m</h3><pre><code>- load the previous saved mat file
- reshow the confusion matrix
- compare the performance returned by different neural networks
- compare the accuracy returned by different neural networks  </code></pre>
<hr>
<h2 id="The-function-part-assembled-function-for-reproduction"><a href="#The-function-part-assembled-function-for-reproduction" class="headerlink" title="The function part (assembled function for reproduction)"></a>The function part (assembled function for reproduction)</h2><h3 id="getimdata-m"><a href="#getimdata-m" class="headerlink" title="getimdata.m"></a>getimdata.m</h3><pre><code>- Input: the file path, in this case the processed file with renamed figure and same format jpeg (ass2_processed_data) 
- Output: Transormed the numerical data into the one-hot encoding vector format (one-hot format)</code></pre>
<h3 id="getimdata2-m"><a href="#getimdata2-m" class="headerlink" title="getimdata2.m"></a>getimdata2.m</h3><pre><code>- Input: the file path, in this case the processed file with renamed figure and same format jpeg (ass2_processed_data) 
    - normalize the data into range 0-1
    - assign the numerical labels to each character
    - combine all the processed plot into a dataset 2400 * 1152
    - 2400 stands for the number of samples; 1152 stands for the features in one figure
- Output: The normalized figure data (0-1), with data and corresponding labels. Labels are in numerical format (1,2,3...24) (without one-hot)
- This function method is selected in the whole project</code></pre>
<h3 id="RBF-training-kmeans-m"><a href="#RBF-training-kmeans-m" class="headerlink" title="RBF_training_kmeans.m"></a>RBF_training_kmeans.m</h3><pre><code>- Input: data, labels, number of clusters to be determined by kmeans
- sigma is determined by the mean Euclidean distance between two clusters
- k weight matrix is calculated by the radbas(distance of samples between clusters' centers/2*sigma^2)
- W weights is calculated by the pesudo inverse of (k'*k)*k'*labels</code></pre>
<h3 id="RBF-training-som-m"><a href="#RBF-training-som-m" class="headerlink" title="RBF_training_som.m"></a>RBF_training_som.m</h3><pre><code>- Input: data, labels and net
- net is pre-trained by som networks
- the cluster center is returned by the first layer of som network, which is denoted by net.IW{1,1}
- sigma is determined by the mean Euclidean distance between two clusters
- k weight matrix is calculated by the radbas(distance of samples between clusters' centers/2*sigma^2)
- W weights is calculated by the pesudo inverse of (k'*k)*k'*labels</code></pre>
<h3 id="RBF-predict-m"><a href="#RBF-predict-m" class="headerlink" title="RBF_predict.m"></a>RBF_predict.m</h3><pre><code>- Input: data, W, sigma, C trained previously from either RBF_training_kmeans or RBF_training_som
- Output: vectors of the final prediction
- data could be either training data or testing data</code></pre>
<h3 id="getcls-m"><a href="#getcls-m" class="headerlink" title="getcls.m"></a>getcls.m</h3><pre><code>- Input: vecs - matrix of column vectors (returned from the RBF_predict.m)
- Output: cls - matrix where the largest element in each column in vectors is set to 1 and the rest to 0   Ex: vecs = [2 4; 1 5], gives c = [1 0; 0 1]
- This function is used to return the most likely label in multi-variable classification, especially after the one-hot encoding method</code></pre>
<h3 id="rate-m"><a href="#rate-m" class="headerlink" title="rate.m"></a>rate.m</h3><pre><code>- Input: matrix of class vectors
- Computes the percentage of equal columns in t1 and t2, can be used to compute the rate of correct classified patterns in a pattern recognition application
- Output: number of matching vectors</code></pre>
<hr>
<h2 id="Saved-parameters"><a href="#Saved-parameters" class="headerlink" title="Saved parameters"></a>Saved parameters</h2><h3 id="train-test-data-mat"><a href="#train-test-data-mat" class="headerlink" title="train_test_data.mat"></a>train_test_data.mat</h3><pre><code>- the value obtained from the data_partition.m
- X_train, X_test, y_train, y_value</code></pre>
<h3 id="som-net-data-mat"><a href="#som-net-data-mat" class="headerlink" title="som_net_data.mat"></a>som_net_data.mat</h3><pre><code>- the network trained by som (it takes long time, for computation convenience)</code></pre>
<h3 id="lvq-360-mat"><a href="#lvq-360-mat" class="headerlink" title="lvq_360.mat"></a>lvq_360.mat</h3><pre><code>- lvq with cluster set to 360</code></pre>
<h3 id="lvq-24-mat"><a href="#lvq-24-mat" class="headerlink" title="lvq_24.mat"></a>lvq_24.mat</h3><pre><code>- lvq with cluster set to 24 </code></pre>
<h3 id="kmeans-plot-mat"><a href="#kmeans-plot-mat" class="headerlink" title="kmeans_plot.mat"></a>kmeans_plot.mat</h3><pre><code>- calculate silhouette value to find the suitable cluster k, but the results are not satisfied
- return the plot of each epoch</code></pre>
<h3 id="Confusion-matrix-summary"><a href="#Confusion-matrix-summary" class="headerlink" title="Confusion_matrix summary:"></a>Confusion_matrix summary:</h3><pre><code>- CNN_confusion.mat
- C_rbf_som.mat
- C_rbf_kmeans.mat
- C_mlp.mat
- C_lvq.mat
- C_CNN.mat</code></pre>
<hr>
<p>Assessment2</p>
<p>You could download the whole file with script and report in 1716309_Yuxuan_Wu.zip from my own repository</p>
<p><a class="link" href="https://github.com/yuxuanwu17/INT301_Assessment2">https://github.com/yuxuanwu17/INT301_Assessment2<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Matlab</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>Neural networks</tag>
        <tag>image classification</tag>
      </tags>
  </entry>
  <entry>
    <title>matlabç›¸å…³çš„çŸ¥è¯†</title>
    <url>/2021/01/28/matlab_links/</url>
    <content><![CDATA[<p><strong>matlabç¥ç»ç½‘ç»œnewffå‡½æ•°çš„ç”¨æ³•</strong></p>
<p><a class="link"   href="https://blog.csdn.net/xiaotao_1/article/details/79078729" >https://blog.csdn.net/xiaotao_1/article/details/79078729<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>åˆ†å‰²æ•°æ®é›†</strong></p>
<p><a class="link"   href="https://blog.csdn.net/shengchaohua163/article/details/79876007" >https://blog.csdn.net/shengchaohua163/article/details/79876007<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://www.itdaan.com/blog/2018/04/10/7c17309d448c3f414edafe886a257d7b.html" >https://www.itdaan.com/blog/2018/04/10/7c17309d448c3f414edafe886a257d7b.html<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>ç†è§£trainçš„å‡½æ•°çš„æ„ä¹‰</strong></p>
<p><a class="link"   href="https://www.mathworks.com/matlabcentral/answers/337308-net-tr-y-e-train-net-p-t-how-y-and-e-get-their-dimensions-with-this-syntax" >https://www.mathworks.com/matlabcentral/answers/337308-net-tr-y-e-train-net-p-t-how-y-and-e-get-their-dimensions-with-this-syntax<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>newff</strong></p>
<p><a class="link"   href="https://blog.csdn.net/weixin_43857827/article/details/102924575" >https://blog.csdn.net/weixin_43857827/article/details/102924575<i class="fas fa-external-link-alt"></i></a></p>
<p>net = newff(minmax(p),[éšå±‚çš„ç¥ç»å…ƒçš„ä¸ªæ•°ï¼Œè¾“å‡ºå±‚çš„ç¥ç»å…ƒçš„ä¸ªæ•°],{éšå±‚ç¥ç»å…ƒçš„ä¼ è¾“å‡½æ•°ï¼Œè¾“å‡ºå±‚çš„ä¼ è¾“å‡½æ•°ï½,â€™åå‘ä¼ æ’­çš„è®­ç»ƒå‡½æ•°â€™)</p>
<p><strong>æ··æ·†çŸ©é˜µ</strong></p>
<p><a class="link"   href="https://ww2.mathworks.cn/help/stats/confusionmat.html" >https://ww2.mathworks.cn/help/stats/confusionmat.html<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>å¦‚ä½•ä¼˜åŒ–MLP</strong></p>
<p><a class="link"   href="https://ww2.mathworks.cn/matlabcentral/answers/137-how-do-i-improve-my-neural-network-performance" >https://ww2.mathworks.cn/matlabcentral/answers/137-how-do-i-improve-my-neural-network-performance<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>XOR problem</strong> </p>
<p>[<a class="link"   href="https://medium.com/@jayeshbahire/the-xor-problem-in-neural-networks-50006411840b#:~:text=The%20XOr%2C%20or%20%E2%80%9Cexclusive%20or,value%20if%20they%20are%20equal]" >https://medium.com/@jayeshbahire/the-xor-problem-in-neural-networks-50006411840b#:~:text=The%20XOr%2C%20or%20%E2%80%9Cexclusive%20or,value%20if%20they%20are%20equal]<i class="fas fa-external-link-alt"></i></a>(<a class="link"   href="https://medium.com/@jayeshbahire/the-xor-problem-in-neural-networks-50006411840b#:~:text=The" >https://medium.com/@jayeshbahire/the-xor-problem-in-neural-networks-50006411840b#:~:text=The<i class="fas fa-external-link-alt"></i></a> XOr%2C or â€œexclusive or,value if they are equal)</p>
<p><strong>Rbf é—®é¢˜ç®—æ³•</strong></p>
<p><a class="link"   href="https://blog.csdn.net/zouxy09/article/details/13297881" >https://blog.csdn.net/zouxy09/article/details/13297881<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>Rbf ç¥ç»ç½‘ç»œå’Œbpç¥ç»ç½‘ç»œçš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹</strong></p>
<p><a class="link"   href="https://blog.csdn.net/kykankankan/article/details/79749307?utm_medium=distribute.pc_relevant_bbs_down.none-task-blog-baidujs-1.nonecase&amp;depth_1-utm_source=distribute.pc_relevant_bbs_down.none-task-blog-baidujs-1.nonecase" >https://blog.csdn.net/kykankankan/article/details/79749307?utm_medium=distribute.pc_relevant_bbs_down.none-task-blog-baidujs-1.nonecase&amp;depth_1-utm_source=distribute.pc_relevant_bbs_down.none-task-blog-baidujs-1.nonecase<i class="fas fa-external-link-alt"></i></a></p>
<p>éå†è¯»å–æ–‡ä»¶</p>
<p><a class="link"   href="https://blog.csdn.net/FX677588/article/details/53126961" >https://blog.csdn.net/FX677588/article/details/53126961<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>Matlab CNN</strong></p>
<p><a class="link"   href="https://blog.csdn.net/weixin_41923961/article/details/80382502" >https://blog.csdn.net/weixin_41923961/article/details/80382502<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>forè¯­å¥å¾ªç¯ç³»åˆ—å¤„ç†ä¸€éƒ¨åˆ†æ–‡ä»¶ï¼Œå¹¶ä¸”æ”¹å†™</strong></p>
<p><a class="link"   href="https://blog.csdn.net/zhangziyou719/article/details/54647331?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control" >https://blog.csdn.net/zhangziyou719/article/details/54647331?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>kmeans</strong></p>
<p><a class="link"   href="https://www.mathworks.com/help/stats/k-means-clustering.html" >https://www.mathworks.com/help/stats/k-means-clustering.html<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>matlabå‡½æ•°</strong></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/19802747" >https://zhuanlan.zhihu.com/p/19802747<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>å¾„å‘åŸºå‡½æ•°çš„sigmaé€‰æ‹©ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ç”¨meanï¼‰</strong></p>
<p><a class="link"   href="https://www.cnblogs.com/yymn/p/4537992.html" >https://www.cnblogs.com/yymn/p/4537992.html<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>SOM</strong></p>
<p><a class="link"   href="https://blog.csdn.net/weixin_30300225/article/details/95509788?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control" >https://blog.csdn.net/weixin_30300225/article/details/95509788?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Matlab</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>python ç›¸å…³çš„çŸ¥è¯†å’Œç¬”è®°é“¾æ¥</title>
    <url>/2021/01/28/python-%E7%9B%B8%E5%85%B3%E7%9A%84%E7%9F%A5%E8%AF%86%E5%92%8C%E7%AC%94%E8%AE%B0%E9%93%BE%E6%8E%A5/</url>
    <content><![CDATA[<p>Python learning: å…¥é—¨å¤§å…¨</p>
<p><a class="link"   href="https://apachecn.gitee.io/ailearning/#/" >https://apachecn.gitee.io/ailearning/#/<i class="fas fa-external-link-alt"></i></a></p>
<h4 id="æ¥å—ä¸å®šå‚æ•°"><a href="#æ¥å—ä¸å®šå‚æ•°" class="headerlink" title="æ¥å—ä¸å®šå‚æ•°"></a>æ¥å—ä¸å®šå‚æ•°</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x, *args</span>):</span></span><br><span class="line">    total = x</span><br><span class="line">    <span class="keyword">for</span> arg <span class="keyword">in</span> args:</span><br><span class="line">        total += arg</span><br><span class="line">    <span class="keyword">return</span> total</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œï¼Œ<code>*args</code> è¡¨ç¤ºå‚æ•°æ•°ç›®ä¸å®šï¼Œå¯ä»¥çœ‹æˆä¸€ä¸ªå…ƒç»„ï¼ŒæŠŠç¬¬ä¸€ä¸ªå‚æ•°åé¢çš„å‚æ•°å½“ä½œå…ƒç»„ä¸­çš„å…ƒç´ ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(add(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">print(add(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">----</span><br><span class="line">&gt;&gt;&gt;<span class="number">10</span></span><br><span class="line">&gt;&gt;&gt;<span class="number">3</span></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x, **kwargs</span>):</span></span><br><span class="line">    total = x</span><br><span class="line">    <span class="keyword">for</span> arg, value <span class="keyword">in</span> kwargs.items():</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;adding &quot;</span>, arg</span><br><span class="line">        total += value</span><br><span class="line">    <span class="keyword">return</span> total</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œï¼Œ <code>**kwargs</code> è¡¨ç¤ºå‚æ•°æ•°ç›®ä¸å®šï¼Œç›¸å½“äºä¸€ä¸ªå­—å…¸ï¼Œå…³é”®è¯å’Œå€¼å¯¹åº”äºé”®å€¼å¯¹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span> add(<span class="number">10</span>, y=<span class="number">11</span>, z=<span class="number">12</span>, w=<span class="number">13</span>)</span><br><span class="line">----</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adding  y</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adding  z</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adding  w</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">46</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">    <span class="built_in">print</span> args, kwargs</span><br><span class="line"></span><br><span class="line">foo(<span class="number">2</span>, <span class="number">3</span>, x=<span class="string">&#x27;bar&#x27;</span>, z=<span class="number">10</span>)</span><br><span class="line">-----</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">2</span>, <span class="number">3</span>) &#123;<span class="string">&#x27;x&#x27;</span>: <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;z&#x27;</span>: <span class="number">10</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>tf é‡Œé¢çš„training=True</p>
<p>Some neural network layers behave differently during training and inference, for example Dropout and BatchNormalization layers. For example</p>
<ul>
<li>During training, dropout will randomly drop out units and correspondingly scale up activations of the remaining units.</li>
<li>During inference, it does nothing (since you usually donâ€™t want the randomness of dropping out units here).</li>
</ul>
<p>The training argument lets the layer know which of the two â€œpathsâ€ it should take. If you set this incorrectly, your network might not behave as expected.</p>
<p>pycharmçš„å¥‡æŠ€æ·«å·§</p>
<p><a class="link"   href="https://www.zhihu.com/question/37787004" >https://www.zhihu.com/question/37787004<i class="fas fa-external-link-alt"></i></a></p>
<p>ä¸ºä»€ä¹ˆè¦åšå½’ä¸€åŒ–å¤„ç†</p>
<p><a class="link"   href="https://mp.weixin.qq.com/s/TF6d9NRz0lDFQeC_K3CVaw" >https://mp.weixin.qq.com/s/TF6d9NRz0lDFQeC_K3CVaw<i class="fas fa-external-link-alt"></i></a></p>
<p>npy æ ¼å¼çš„å¥½å¤„</p>
<p><a class="link"   href="https://towardsdatascience.com/what-is-npy-files-and-why-you-should-use-them-603373c78883" >https://towardsdatascience.com/what-is-npy-files-and-why-you-should-use-them-603373c78883<i class="fas fa-external-link-alt"></i></a></p>
<ol>
<li>ä¸ç”¨reshapeäº†ï¼Œä»€ä¹ˆæ ¼å¼ä¿å­˜ï¼Œä»€ä¹ˆæ ¼å¼è¯»å–</li>
<li>storageæ¯”è¾ƒå°</li>
<li>Readçš„é€Ÿåº¦æ¯”è¾ƒå¿«</li>
</ol>
<p>pickle data</p>
<p><a class="link"   href="https://www.geeksforgeeks.org/understanding-python-pickling-example/" >https://www.geeksforgeeks.org/understanding-python-pickling-example/<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://www.zhihu.com/search?type=content&amp;q=Pickling" >https://www.zhihu.com/search?type=content&amp;q=Pickling<i class="fas fa-external-link-alt"></i></a></p>
<p>ç­”ï¼šPickleæ¨¡å—è¯»å…¥ä»»ä½•Pythonå¯¹è±¡ï¼Œå°†å®ƒä»¬è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨dumpå‡½æ•°å°†å…¶è½¬å‚¨åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­â€”â€”è¿™ä¸ªè¿‡ç¨‹å«åšpicklingã€‚åä¹‹ä»å­˜å‚¨çš„å­—ç¬¦ä¸²æ–‡ä»¶ä¸­æå–åŸå§‹Pythonå¯¹è±¡çš„è¿‡ç¨‹ï¼Œå«åšunpicklingã€‚    allow_pickle = Trueæ–‡ä»¶ä¼ è¾“çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæœ‰å‹ç¼©ï¼Œtrueåˆ™è¡¨ç¤ºå‹ç¼©åæ–‡ä»¶ä¸å˜</p>
<p>Pythonçš„é¢è¯•</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/41962762" >https://zhuanlan.zhihu.com/p/41962762<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>1.è¿™ä¸¤ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆæ„æ€:*args,\</strong>kwargsï¼Ÿæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒä»¬?**</p>
<p>ç­”:å¦‚æœæˆ‘ä»¬ä¸ç¡®å®šå¾€ä¸€ä¸ªå‡½æ•°ä¸­ä¼ å…¥å¤šå°‘å‚æ•°ï¼Œæˆ–è€…æˆ‘ä»¬å¸Œæœ›ä»¥å…ƒç»„(tuple)æˆ–è€…åˆ—è¡¨(list)çš„å½¢å¼ä¼ å‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨*args(å•æ˜Ÿå·).å¦‚æœæˆ‘ä»¬ä¸çŸ¥é“å¾€å‡½æ•°ä¸­ä¼ é€’å¤šå°‘ä¸ªå…³é”®è¯å‚æ•°æˆ–è€…æƒ³ä¼ å…¥å­—å…¸çš„å€¼ä½œä¸ºå…³é”®è¯å‚æ•°çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨**kwargs(åŒæ˜Ÿå·),args,kwargsä¸¤ä¸ªæ ‡è¯†ç¬¦æ˜¯çº¦å®šä¿—æˆçš„ç”¨æ³•ã€‚</p>
<p>lists are mutable while tuple are not </p>
<p><strong>è¿™ä¸ªå°±éå¸¸çš„å¥½ï¼Œè§£é‡Škargs and args</strong></p>
<p><a class="link"   href="https://realpython.com/python-kwargs-and-args/" >https://realpython.com/python-kwargs-and-args/<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://www.jianshu.com/p/592cf526b1e6" >https://www.jianshu.com/p/592cf526b1e6<i class="fas fa-external-link-alt"></i></a></p>
<p>Python çš„iteration è¿™ä¸ªæ¨¡å—çš„ç”¨æ³•</p>
<p><a class="link"   href="https://www.zhihu.com/search?type=content&amp;q=itertools" >https://www.zhihu.com/search?type=content&amp;q=itertools<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>Itertools.zip_longest()</strong></p>
<p>This iterator falls under the category of <a class="link"   href="https://www.geeksforgeeks.org/python-itertools/#terminate" >Terminating Iterators<i class="fas fa-external-link-alt"></i></a>. It prints the values of iterables alternatively in sequence. If one of the iterables is printed fully, the remaining values are filled by the values assigned to fillvalue parameter.</p>
<p>Pythonæ–°æ‰‹å¸¸è§çš„å‘</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/81012511" >https://zhuanlan.zhihu.com/p/81012511<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>Tf.function è£…é¥°å™¨çš„ç©æ„</strong> </p>
<table>
<thead>
<tr>
<th>func</th>
<th>the function to be compiled. If func is None, <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/function" >tf.function<i class="fas fa-external-link-alt"></i></a> returns a decorator that can be invoked with a single argument - func. In other words, tf.function(input_signature=â€¦)(func) is equivalent to <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/function" >tf.function(func, input_signature=â€¦)<i class="fas fa-external-link-alt"></i></a>. The former can be used as decorator.</th>
</tr>
</thead>
<tbody><tr>
<td>input_signature</td>
<td>A possibly nested sequence of <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/TensorSpec" >tf.TensorSpec<i class="fas fa-external-link-alt"></i></a> objects specifying the shapes and dtypes of the Tensors that will be supplied to this function. If None, a separate function is instantiated for each inferred input signature. If input_signature is specified, every input to func must be a Tensor, and func cannot accept **kwargs.</td>
</tr>
</tbody></table>
<p><strong>tf graphï¼š</strong></p>
<p>Graphs are data structures that contain a set of <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/Operation" >tf.Operation<i class="fas fa-external-link-alt"></i></a> objects, which represent units of computation; and <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/Tensor" >tf.Tensor<i class="fas fa-external-link-alt"></i></a> objects, which represent the units of data that flow between operations. They are defined in a <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/Graph" >tf.Graph<i class="fas fa-external-link-alt"></i></a> context. Since these graphs are data structures, they can be saved, run, and restored all without the original Python code.</p>
<p><strong>permutation invariant</strong></p>
<p>In this context this refers to the fact that the model does not assume any spatial relationships between the features. E.g. for multilayer perceptron, you can permute the pixels and the performance would be the same. This is not the case for convolutional networks, which assume neighbourhood relations.</p>
<p>numpy -1 çš„ä½œç”¨</p>
<p><a class="link"   href="https://stackoverflow.com/questions/tagged/numpy-ndarray" >https://stackoverflow.com/questions/tagged/numpy-ndarray<i class="fas fa-external-link-alt"></i></a></p>
<p>Tensorflow.Datasetä¸­mapï¼Œshuffleï¼Œrepeatï¼Œbatchçš„æ€»ç»“ </p>
<p><a class="link"   href="https://blog.csdn.net/anshuai_aw1/article/details/105094548" >https://blog.csdn.net/anshuai_aw1/article/details/105094548<i class="fas fa-external-link-alt"></i></a></p>
<p>shuffleçš„é¡ºåºå¾ˆé‡è¦ï¼Œåº”è¯¥å…ˆshuffleå†batchï¼Œå¦‚æœå…ˆbatchåshuffleçš„è¯ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±åªæ˜¯å¯¹batchè¿›è¡Œshuffleï¼Œè€Œbatché‡Œé¢çš„æ•°æ®é¡ºåºä¾æ—§æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆéšæœºç¨‹åº¦ä¼šå‡å¼±</p>
<p>buffer_size è¶Šå¤§ï¼Œæ‰“ä¹±çš„ç¨‹åº¦è¶Šé«˜</p>
<p><a class="link"   href="https://www.cnblogs.com/HolyShine/p/8673322.html" >https://www.cnblogs.com/HolyShine/p/8673322.html<i class="fas fa-external-link-alt"></i></a></p>
<p>æ•°æ®é›†çš„å¤„ç†å’Œé¢„å¤„ç†ï¼Œéå¸¸é‡è¦</p>
<p><a class="link"   href="https://tf.wiki/zh_hans/basic/tools.html#zh-hans-tfdata" >https://tf.wiki/zh_hans/basic/tools.html#zh-hans-tfdata<i class="fas fa-external-link-alt"></i></a></p>
<p>Tensorflow Dataset API ç”¨æ³•</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/30751039" >https://zhuanlan.zhihu.com/p/30751039<i class="fas fa-external-link-alt"></i></a></p>
<p>Tensorflow æ•°æ®è¯»å–æœºåˆ¶</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/27238630" >https://zhuanlan.zhihu.com/p/27238630<i class="fas fa-external-link-alt"></i></a></p>
<p>è®­ç»ƒgpuçš„tricks</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/53345706" >https://zhuanlan.zhihu.com/p/53345706<i class="fas fa-external-link-alt"></i></a></p>
<p><strong><em>\</em>tensorflowçš„è®­ç»ƒå’Œæ•™ç¨‹(éå¸¸é‡è¦)</strong></p>
<p><a class="link"   href="https://tf.wiki/" >https://tf.wiki/<i class="fas fa-external-link-alt"></i></a></p>
<p><img src="blob:file:///c0a2b963-ad70-4970-82dd-9ca515c90f18" alt="model.png"></p>
<p>pythonçš„åŒ…ä¹‹ç±»çš„é—®é¢˜</p>
<p><a class="link"   href="https://www.zhihu.com/question/430339227/answer/1577177268" >https://www.zhihu.com/question/430339227/answer/1577177268<i class="fas fa-external-link-alt"></i></a></p>
<p>Python __init__ä¹‹ç±»çš„é—®é¢˜</p>
<p><a class="link"   href="https://www.zhihu.com/question/46973549/answer/767530541" >https://www.zhihu.com/question/46973549/answer/767530541<i class="fas fa-external-link-alt"></i></a></p>
<p>nohup</p>
<p><a class="link"   href="https://www.zhihu.com/question/429726293/answer/1568963793" >https://www.zhihu.com/question/429726293/answer/1568963793<i class="fas fa-external-link-alt"></i></a></p>
<p>Pycharm çš„debug</p>
<p><a class="link"   href="https://www.zhihu.com/search?type=content&q=pycharm%E6%96%AD%E7%82%B9debug" >https://www.zhihu.com/search?type=content&amp;q=pycharm%E6%96%AD%E7%82%B9debug<i class="fas fa-external-link-alt"></i></a></p>
<p>äº”åˆ†é’Ÿå­¦ç®—æ³•</p>
<p><a class="link"   href="http://www.cxyxiaowu.com/" >http://www.cxyxiaowu.com/<i class="fas fa-external-link-alt"></i></a></p>
<p>pythonæµ…æ‹·è´</p>
<p><a class="link"   href="https://mp.weixin.qq.com/s/KrdXyYMtyElUGuPH5eNYvg" >https://mp.weixin.qq.com/s/KrdXyYMtyElUGuPH5eNYvg<i class="fas fa-external-link-alt"></i></a></p>
<p>çˆ¬å–bç«™çš„å¼¹å¹•</p>
<p><a class="link"   href="https://mp.weixin.qq.com/s/OYo1VwKkUWIX9p73mvSLOQ" >https://mp.weixin.qq.com/s/OYo1VwKkUWIX9p73mvSLOQ<i class="fas fa-external-link-alt"></i></a></p>
<p>è¡¨æƒ…åŒ…</p>
<p><a class="link"   href="https://mp.weixin.qq.com/s/0Yguofg54GZSjvfUfjezmw" >https://mp.weixin.qq.com/s/0Yguofg54GZSjvfUfjezmw<i class="fas fa-external-link-alt"></i></a></p>
<p>çˆ¬å»ç™¾åº¦çš„è¡¨æ ¼</p>
<p><a class="link"   href="https://blog.csdn.net/wyquin/article/details/79601918" >https://blog.csdn.net/wyquin/article/details/79601918<i class="fas fa-external-link-alt"></i></a></p>
<p>python çš„é¡¹ç›®ç»„ç»‡ç»“æ„</p>
<p><a class="link"   href="https://marlous.github.io/2019/04/03/Python-%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E7%BB%84%E7%BB%87/" >https://marlous.github.io/2019/04/03/Python-%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E7%BB%84%E7%BB%87/<i class="fas fa-external-link-alt"></i></a></p>
<p>çˆ¬è™«403é—®é¢˜</p>
<p><a class="link"   href="http://zhaoxuhui.top/blog/2017/06/19/Python%E7%88%AC%E8%99%AB403%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E4%B8%8E%E5%AE%9E%E4%BE%8B.html" >http://zhaoxuhui.top/blog/2017/06/19/Python%E7%88%AC%E8%99%AB403%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E4%B8%8E%E5%AE%9E%E4%BE%8B.html<i class="fas fa-external-link-alt"></i></a></p>
<p>Matplot é—®é¢˜æ€»ç»“</p>
<p><a class="link"   href="https://www.jianshu.com/p/778d78463028" >https://www.jianshu.com/p/778d78463028<i class="fas fa-external-link-alt"></i></a></p>
<p>çˆ¬è™«csdn å¤§å…¨</p>
<p><a class="link"   href="https://blog.csdn.net/llllllkkkkkooooo/category_10129586.html" >https://blog.csdn.net/llllllkkkkkooooo/category_10129586.html<i class="fas fa-external-link-alt"></i></a></p>
<p>é˜¿é‡Œäº‘éƒ¨ç½² flask</p>
<p><a class="link"   href="https://blog.csdn.net/qq_16293649/article/details/78601569?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-2&amp;spm=1001.2101.3001.4242" >https://blog.csdn.net/qq_16293649/article/details/78601569?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-2&amp;spm=1001.2101.3001.4242<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>NBA kaggle analysis</title>
    <url>/2021/01/31/nba%E4%BC%A4%E7%97%85%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<p>æœ¬æ–‡å‚è€ƒï¼Œå¹¶å°†å…¶å»¶ä¼¸è‡³2018-2020 èµ›å­£ã€‚å…¨æ–‡ç”¨rmd å®Œæˆï¼Œggplot2ä¸ºä¸»è¦åšå›¾å·¥å…·ã€‚ä¸»è¦æƒ³ç ”ç©¶ä¸‹å„ä¸ªçƒé˜Ÿå’Œä¼¤ç—…ä¹‹é—´çš„å…³ç³»</p>
<p><a class="link"   href="https://www.kaggle.com/jaseziv83/extensive-nba-injuries-deep-dive-eda/comments" >https://www.kaggle.com/jaseziv83/extensive-nba-injuries-deep-dive-eda/comments<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="æ•°æ®ä¸‹è½½"><a href="#æ•°æ®ä¸‹è½½" class="headerlink" title="æ•°æ®ä¸‹è½½"></a>æ•°æ®ä¸‹è½½</h3><p><a class="link"   href="https://www.kaggle.com/ghopkins/nba-injuries-2010-2018" >https://www.kaggle.com/ghopkins/nba-injuries-2010-2018<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="æ•°æ®æ¸…ç†"><a href="#æ•°æ®æ¸…ç†" class="headerlink" title="æ•°æ®æ¸…ç†"></a>æ•°æ®æ¸…ç†</h3><ul>
<li>è¿”å›å¤´éƒ¨æ•°æ®çœ‹ä¸‹æ ¼å¼</li>
</ul>
<p>æ³¨ï¼š è¿™é‡Œçš„Acquired å’Œ Relinquishedæ˜¯å‘ˆç°äº’è¡¥å…³ç³»ã€‚è‹¥Acquiredéç©ºï¼Œåˆ™Relinquished ç©º</p>
<p><img src="https://pic2.zhimg.com/v2-a50518a5b79efdd79a5474d690787931_b.png" alt="img"></p>
<p><img src="https://pic1.zhimg.com/v2-1fe0510282ecbea48dd9ddc9b4443f18_b.png" alt="img"></p>
<p>æœ€åçš„è®°å½•æ˜¯åˆ°2020-10-2.</p>
<p>å‘ç°å­˜åœ¨å¾ˆå¤šç©ºçš„åˆ—è¡¨ï¼Œçœ‹ä¸‹ä¸ªæ•° ï¼ˆè¿™é‡Œæœ‰ä¸€ä¸ªå‘å°±æ˜¯è¿™é‡Œçš„ç¼ºå¤±å€¼ä¸æ˜¯NAï¼Œè€Œæ˜¯â€œâ€ã€‚ï¼‰</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">print(colSums(df == <span class="string">&quot;&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-cbfbdd1564ab4f7b7c1dc9bdbf0c16a2_b.png" alt="img"></p>
<p>å†çœ‹ä¸€ä¸‹æ€»ä½“æ•°æ®çš„size</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">glimpse(df)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-7988747e7210a3e91b0bbc730cba096f_b.png" alt="img"></p>
<h3 id="Team-åˆ—æŸ¥çœ‹"><a href="#Team-åˆ—æŸ¥çœ‹" class="headerlink" title="Team åˆ—æŸ¥çœ‹"></a>Team åˆ—æŸ¥çœ‹</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;% dplyr::filter(Team == <span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-c3e8eb624aeebc696ec3f767dc4c92b7_b.png" alt="img"></p>
<p>è¿™ä¸¤ä¾‹æƒ…å†µå…¶å®éƒ½æ˜¯å—ä¼¤äº†ï¼Œè¢«çƒé˜Ÿè£æ‰äº†</p>
<p>è¿™é‡Œä»¥å¤§å®è´ä¸ºä¾‹</p>
<p><img src="https://pic4.zhimg.com/v2-c4483ddbe7fe983ef01017ee72f34d7b_b.png" alt="img"></p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¤§èƒ†çš„æ’é™¤æ‰è¿™ä¸¤ç§æƒ…å†µ</p>
<h3 id="Acquiredåˆ—æŸ¥çœ‹"><a href="#Acquiredåˆ—æŸ¥çœ‹" class="headerlink" title="Acquiredåˆ—æŸ¥çœ‹"></a>Acquiredåˆ—æŸ¥çœ‹</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  filter(Acquired != <span class="string">&quot;&quot;</span>) %&gt;%</span><br><span class="line">  count(Notes) %&gt;%</span><br><span class="line">  arrange(desc(n))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-0f2b3bff9bd82964f586314b9fdf1288_b.png" alt="img"></p>
<p>å‘ç°è¿™æ˜¯ä¸€äº›æ¢å¤çš„æ•°æ®ï¼Œè€Œæˆ‘ä»¬çš„ç›®çš„æ˜¯æ‰¾åˆ°ä¸€äº›çƒé˜Ÿå’Œä¼¤ç—…çš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å•çº¯çš„ä¸è€ƒè™‘è¿™äº›ã€‚æ­£å¦‚æˆ‘å‰é¢æåˆ°çš„é‚£æ ·ï¼ŒAcquired å’Œ Relinquished æ˜¯äº’è¡¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¦‚ä¸‹å¤„ç†æ•°æ®</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df_exc &lt;- df %&gt;%</span><br><span class="line">  filter(Acquired == <span class="string">&quot;&quot;</span>) %&gt;% <span class="comment"># æ’é™¤Acquired==â€œâ€œ</span></span><br><span class="line">  filter(Team != <span class="string">&quot;&quot;</span>) %&gt;% <span class="comment"># æ’é™¤Team==â€œâ€œ</span></span><br><span class="line">  select(-Acquired) <span class="string">&quot;ç›´æ¥åˆ æ‰Acquiredè¿™ä¸€ä¸ªå˜é‡&quot;</span></span><br><span class="line">print(colSums(df_exc == <span class="string">&quot;&quot;</span>)) <span class="comment"># æ£€æŸ¥ä¸€ä¸‹è¿˜æœ‰æ²¡æœ‰å¤šçš„ç¼ºå¤±å€¼</span></span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-a0ad0f8d56cf29878a1595f21170957a_b.png" alt="img"></p>
<p>è¿˜æœ‰å››ä¸ªæ¼ç½‘ä¹‹é±¼ï¼Œä¹Ÿå¤„ç†æ‰</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="comment">### Exclude some missing values in Relinquished variable</span></span><br><span class="line">df &lt;- df_exc %&gt;% filter(Relinquished != <span class="string">&quot;&quot;</span>)</span><br><span class="line">print(colSums(df == <span class="string">&quot;&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-a75e544978e1af2722cd77c931ec256a_b.png" alt="img"></p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œç¼ºå¤±å€¼å·²ç»å¤„ç†å®Œæ¯•äº†</p>
<h3 id="ä»¥æ—¶é—´ä¸ºå•ä½æ¥è¿›è¡Œå¤„ç†ï¼ˆè½¬æ¢æˆDateæ ¼å¼ï¼‰"><a href="#ä»¥æ—¶é—´ä¸ºå•ä½æ¥è¿›è¡Œå¤„ç†ï¼ˆè½¬æ¢æˆDateæ ¼å¼ï¼‰" class="headerlink" title="ä»¥æ—¶é—´ä¸ºå•ä½æ¥è¿›è¡Œå¤„ç†ï¼ˆè½¬æ¢æˆDateæ ¼å¼ï¼‰"></a>ä»¥æ—¶é—´ä¸ºå•ä½æ¥è¿›è¡Œå¤„ç†ï¼ˆè½¬æ¢æˆDateæ ¼å¼ï¼‰</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df$year &lt;- format(as.Date(df$Date), <span class="string">&quot;%Y&quot;</span>)</span><br><span class="line">df$yr_mo &lt;- format(as.Date(df$Date), <span class="string">&quot;%Y-%m&quot;</span>)</span><br><span class="line">df$month &lt;- month(as.Date(df$Date), <span class="literal">TRUE</span>)</span><br></pre></td></tr></table></figure>
<p>çœ‹ä¸€ä¸‹è¿™åå¹´ç©¶ç«Ÿè°ä¼¤ç—…æƒ…å†µï¼ˆåŒ…å«è½®ä¼‘ï¼‰çš„æœ€å¤š</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  count(Team) %&gt;%</span><br><span class="line">  ggplot(aes(x = reorder(Team, n), y = n)) +</span><br><span class="line">  geom_col(fill = <span class="string">&quot;midnightblue&quot;</span>, color = <span class="string">&quot;white&quot;</span>) +</span><br><span class="line">  coord_flip() +</span><br><span class="line">  theme_bw() +</span><br><span class="line">  labs(x = <span class="string">&quot;Team&quot;</span>, y = <span class="string">&quot;Number of injury events&quot;</span>, title = <span class="string">&quot;Which team has the most injury events&quot;</span>) +</span><br><span class="line">  theme(panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>), plot.title = element_text(hjust = <span class="number">0.5</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-4084964e3ded6dc032bebd0501494d6c_b.png" alt="img"></p>
<p>å‰ä¸‰ååˆ†åˆ«æ˜¯é›„é¹¿ï¼Œé©¬åˆºå’Œç«ç®­ã€‚</p>
<p>ç”±äºè”ç›Ÿåœ¨2018 å¹´å‘å¸ƒäº†æ–°çš„æ”¿ç­–ï¼Œå¯¹éä¼¤è½®ä¼‘çš„çƒé˜Ÿä¼šå¤„ä»¥ç½šæ¬¾ï¼Œä¹‹å‰çš„è®°å½•å¯èƒ½æœ‰ä¸€äº›æ°´åˆ†ã€‚æ‰€ä»¥æˆ‘åˆåšäº†2018å¹´ä¹‹åçš„æ•°æ®</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  filter(yr_mo &gt; <span class="string">&quot;2018-09&quot;</span>) %&gt;%</span><br><span class="line">  count(Team) %&gt;%</span><br><span class="line">  ggplot(aes(x = reorder(Team, n), y = n)) +</span><br><span class="line">  geom_col(fill = <span class="string">&quot;midnightblue&quot;</span>, color = <span class="string">&quot;white&quot;</span>) +</span><br><span class="line">  coord_flip() +</span><br><span class="line">  theme_bw() +</span><br><span class="line">  labs(x = <span class="string">&quot;Team&quot;</span>, y = <span class="string">&quot;Number of injury events&quot;</span>, title = <span class="string">&quot;Which team has the most injury events since 2018-2019 season&quot;</span>) +</span><br><span class="line">  theme(panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>), plot.title = element_text(hjust = <span class="number">0.5</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-afd7ae98b4b21a7187fb1099b1c019f2_b.png" alt="img"></p>
<p>é©¬åˆºåœ¨æœ¬æ¬¡èµ›å­£å¤±å»æ•ˆåŠ›äº†åä¸ƒå¹´çš„åå«æ‰˜å°¼Â·å¸•å…‹ï¼Œä»–åœ¨ä¼‘èµ›æœŸé—´é€‰æ‹©ä¸å¤æ´›ç‰¹é»„èœ‚ç­¾çº¦ï¼Œè€Œæ°å¼—ç‘Â·ç½—å¾·æ›¼å‰ã€å‡¯å°”Â·å®‰å¾·æ£®ä»¥åŠå¸ƒå…°ç™»Â·ä¿ç½—ç­‰é‡è¦è§’è‰²çƒå‘˜ä¹Ÿå…ˆåç¦»é˜Ÿã€‚è¿™ä¹Ÿæ˜¯è‡ª2002â€“03èµ›å­£ä»¥æ¥ç¬¬ä¸€æ¬¡æ²¡æœ‰é©¬åŠªÂ·å‰è¯ºæ¯”åˆ©çš„èµ›å­£ï¼Œä»–åœ¨2018å¹´8æœˆ27æ—¥é€‰æ‹©å¯¹å¤–å®£å¸ƒé€€å½¹ï¼Œå› æ­¤è¿™ä¹Ÿæ ‡å¿—ç€é©¬åˆºçš„â€œä¸‰å·¨å¤´æ—¶ä»£â€è‡³æ­¤å·²ç»å½»åº•ç»“æŸã€‚2018å¹´7æœˆ18æ—¥ï¼Œé©¬åˆºç®¡ç†å±‚å°†ç§‘æ€€Â·ä¼¦çº³å¾·å’Œä¸¹å°¼Â·æ ¼æ—äº¤æ˜“åˆ°å¤šä¼¦å¤šçŒ›é¾™ï¼Œä»¥æ¢å–å¾·ç›å°”Â·å¾·ç½—èµã€é›…å„Â·ä¼¯å°”ç‰¹å’Œä¸€æšå—ä¿æŠ¤çš„2019å¹´é¦–è½®é€‰ç§€ç­¾ã€‚</p>
<p>æ–°é²œè¡€æ¶²çš„åŠ å…¥ä»¥åŠæ•´ä½“é˜µå®¹çš„å¹´è½»åŒ–ï¼Œé©¬åˆºåœ¨2018-2019èµ›å­£å‡ ä¹å…¨å‘˜å¥åº·ï¼Œå—ä¼¤ç—…å½±å“æœ€å°ã€‚</p>
<p>æ­¤æ—¶å—ä¼¤ç—…å½±å“æœ€ä¸¥é‡çš„å‰ä¸‰åªçƒé˜Ÿåˆ†åˆ«æ˜¯å‡¯å°”ç‰¹äººï¼Œé›„é¹¿å’Œå‹‡å£«ã€‚</p>
<h3 id="åå¹´å†…å“ªä½çƒå‘˜å—ä¼¤ç—…å½±å“ï¼ˆå«è½®ä¼‘ï¼‰æœ€å¤š"><a href="#åå¹´å†…å“ªä½çƒå‘˜å—ä¼¤ç—…å½±å“ï¼ˆå«è½®ä¼‘ï¼‰æœ€å¤š" class="headerlink" title="åå¹´å†…å“ªä½çƒå‘˜å—ä¼¤ç—…å½±å“ï¼ˆå«è½®ä¼‘ï¼‰æœ€å¤š"></a>åå¹´å†…å“ªä½çƒå‘˜å—ä¼¤ç—…å½±å“ï¼ˆå«è½®ä¼‘ï¼‰æœ€å¤š</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  <span class="comment">#filter(yr_mo &gt; &quot;2018-09&quot; &amp; yr_mo&lt; &quot;2019-09&quot;) %&gt;%</span></span><br><span class="line">  count(Relinquished) %&gt;%</span><br><span class="line">  arrange(desc(n)) %&gt;%</span><br><span class="line">  top_n(n = <span class="number">20</span>) %&gt;%</span><br><span class="line">  ggplot(aes(x = reorder(Relinquished, n), y = n)) +</span><br><span class="line">  geom_col(fill = <span class="string">&quot;midnightblue&quot;</span>, color = <span class="string">&quot;white&quot;</span>) +</span><br><span class="line">  coord_flip() +</span><br><span class="line">  theme_bw() +</span><br><span class="line">  labs(x = <span class="string">&quot;Player&quot;</span>, y = <span class="string">&quot;Number of injury events on players&quot;</span>, title = <span class="string">&quot;Which player has the most injury events&quot;</span>) +</span><br><span class="line">  theme(panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>), plot.title = element_text(hjust = <span class="number">0.5</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-04962af2c15848bb7b8e04bf9fbbd4f7_b.png" alt="img"></p>
<p>ä¹ç¦ï¼Œæˆˆç™»å’Œç½—æ–¯æ˜¯è¿‘åå¹´æ¥å—ä¼¤ç—…å½±å“æœ€å¤§çš„ ï¼ˆè½®ä¼‘ä¹Ÿæ˜¯é¢„é˜²ä¼¤ç—…ï¼‰</p>
<h3 id="æ¯å¹´nbaçƒå‘˜å—ä¼¤ç—…ä¼¤ç—…å½±å“çš„æ•°é‡"><a href="#æ¯å¹´nbaçƒå‘˜å—ä¼¤ç—…ä¼¤ç—…å½±å“çš„æ•°é‡" class="headerlink" title="æ¯å¹´nbaçƒå‘˜å—ä¼¤ç—…ä¼¤ç—…å½±å“çš„æ•°é‡"></a>æ¯å¹´nbaçƒå‘˜å—ä¼¤ç—…ä¼¤ç—…å½±å“çš„æ•°é‡</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">count(year, Relinquished) %&gt;%</span><br><span class="line">ggplot(aes(x = n)) +</span><br><span class="line">geom_density(color = <span class="string">&quot;midnightblue&quot;</span>, fill = <span class="string">&quot;white&quot;</span>) +</span><br><span class="line">facet_wrap(~year, scales = <span class="string">&quot;free_y&quot;</span>) +</span><br><span class="line">theme_bw() +</span><br><span class="line">labs(y = <span class="string">&quot;&quot;</span>, x = <span class="string">&quot;Number of events&quot;</span>, title = <span class="string">&quot;Number of events per player&quot;</span>, subtitle = <span class="string">&quot;Note: 2010 &amp; 2020 not a full year&quot;</span>) +</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>), plot.subtitle = element_text(hjust = <span class="number">0.5</span>), panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-58c0de51e96334cf89cbf0ca34b75635_b.png" alt="img"></p>
<p>æ¯å¹´çš„åˆ†å¸ƒè¶‹åŠ¿éƒ½å¤§è‡´ç›¸åŒ</p>
<h3 id="NBA-çƒå‘˜æ¯å¹´å—ä¼¤æ•°é‡æ±‡æ€»ï¼ˆæŠ˜çº¿å›¾ï¼‰"><a href="#NBA-çƒå‘˜æ¯å¹´å—ä¼¤æ•°é‡æ±‡æ€»ï¼ˆæŠ˜çº¿å›¾ï¼‰" class="headerlink" title="NBA çƒå‘˜æ¯å¹´å—ä¼¤æ•°é‡æ±‡æ€»ï¼ˆæŠ˜çº¿å›¾ï¼‰"></a>NBA çƒå‘˜æ¯å¹´å—ä¼¤æ•°é‡æ±‡æ€»ï¼ˆæŠ˜çº¿å›¾ï¼‰</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  count(year) %&gt;%</span><br><span class="line">  ggplot(aes(x = year, y = n, group = <span class="number">1</span>)) +</span><br><span class="line">  ylim(<span class="number">0</span>, <span class="number">2700</span>) +</span><br><span class="line">  geom_line(size = <span class="number">1</span>, color = <span class="string">&quot;darkred&quot;</span>) +</span><br><span class="line">  geom_point(size = <span class="number">2</span>, color = <span class="string">&quot;midnightblue&quot;</span>) +</span><br><span class="line">  geom_text(color = <span class="string">&quot;midnightblue&quot;</span>, aes(label = n, y = n + <span class="number">100</span>)) +</span><br><span class="line">  theme_classic() +</span><br><span class="line">  labs(title = <span class="string">&quot;Tracking injury events over time&quot;</span>, subtitle = <span class="string">&quot;Note: 2010 &amp; 2018 not a full year&quot;</span>, x = <span class="string">&quot;Calendar Year&quot;</span>, y = <span class="string">&quot;Number events&quot;</span>) +</span><br><span class="line">  theme(panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>), plot.title = element_text(hjust = <span class="number">0.5</span>), plot.subtitle = element_text(hjust = <span class="number">0.5</span>),)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-05929610308694c35e634220a8597dd5_b.png" alt="img"></p>
<h3 id="ä»¥æœˆä¸ºå•ä½è¿›è¡Œåˆ†æ"><a href="#ä»¥æœˆä¸ºå•ä½è¿›è¡Œåˆ†æ" class="headerlink" title="ä»¥æœˆä¸ºå•ä½è¿›è¡Œåˆ†æ"></a>ä»¥æœˆä¸ºå•ä½è¿›è¡Œåˆ†æ</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  count(month) %&gt;%</span><br><span class="line">  ggplot(aes(x = month, y = n, group = <span class="number">1</span>)) +</span><br><span class="line">  ylim(<span class="number">0</span>, <span class="number">4000</span>) +</span><br><span class="line">  geom_line(size = <span class="number">1</span>, color = <span class="string">&quot;darkred&quot;</span>) +</span><br><span class="line">  geom_point(size = <span class="number">2</span>, color = <span class="string">&quot;midnightblue&quot;</span>) +</span><br><span class="line">  geom_text(color = <span class="string">&quot;midnightblue&quot;</span>, aes(label = n, y = n + <span class="number">100</span>)) +</span><br><span class="line">  theme_classic() +</span><br><span class="line">  labs(title = <span class="string">&quot;Tracking injury events over time&quot;</span>, subtitle = <span class="string">&quot;Note: 2010 &amp; 2020 not a full year&quot;</span>, x = <span class="string">&quot;Calendar Year&quot;</span>, y = <span class="string">&quot;Number events&quot;</span>) +</span><br><span class="line">  theme(panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>), plot.title = element_text(hjust = <span class="number">0.5</span>), plot.subtitle = element_text(hjust = <span class="number">0.5</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-530dfc5a43268735c3c96e6ed366f5b2_b.png" alt="img"></p>
<p>æ³¨æ„ï¼šå­£åèµ›é€šå¸¸æ˜¯å››æœˆä¸­æ—¬ï¼Œæ‰€ä»¥ä¸€äº›è½®ä¼‘çš„çƒå‘˜ï¼Œä¸€äº›å°ä¼¤ç—…çš„çƒå‘˜é€šå¸¸ä¼šé€‰æ‹©åœ¨å­£åèµ›å‰å¤å‡ºï¼Œæ‰€ä»¥ä¼¤ç—…æƒ…å†µä¼šæœ‰ä¸€ä¸ªæ˜¾è‘—çš„ä¸‹é™ï¼Œç„¶åæ˜¯ä¼‘èµ›æœŸï¼Œåˆ°äº†ä¹æœˆè”èµ›å¼€æ‰“ï¼Œä¸å¯é¿å…çš„ä¼¤ç—…ä¼šé€æ¸å¢å¤š</p>
]]></content>
      <categories>
        <category>R</category>
      </categories>
      <tags>
        <tag>kaggle</tag>
        <tag>EDA</tag>
        <tag>R</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker å¸¸ç”¨å‘½ä»¤</title>
    <url>/2021/02/03/2021-02-03-Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="Docker-çš„å¸¸ç”¨å‘½ä»¤"><a href="#Docker-çš„å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Docker çš„å¸¸ç”¨å‘½ä»¤"></a>Docker çš„å¸¸ç”¨å‘½ä»¤</h1><h2 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="headerlink" title="å¸®åŠ©å‘½ä»¤"></a>å¸®åŠ©å‘½ä»¤</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker version # æ˜¾ç¤ºdockerçš„ç‰ˆæœ¬ä¿¡æ¯</span><br><span class="line">docker info    # æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨</span><br><span class="line">docker å‘½ä»¤ --help #å¸®åŠ©å‘½ä»¤</span><br></pre></td></tr></table></figure>
<p>å¸®åŠ©æ–‡æ¡£çš„åœ°å€ï¼š<a class="link"   href="https://docs.docker.com/engine/reference/commandline/docker/" >https://docs.docker.com/engine/reference/commandline/docker/<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="é•œåƒå‘½ä»¤"><a href="#é•œåƒå‘½ä»¤" class="headerlink" title="é•œåƒå‘½ä»¤"></a>é•œåƒå‘½ä»¤</h2><p><strong>docker images</strong> æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker images </span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">mysql         latest    c8562eaf9d81   2 weeks ago     546MB</span><br><span class="line">centos        latest    300e315adb2f   2 months ago    209MB</span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£é‡Š</span></span><br><span class="line">REPOSITORY é•œåƒçš„ä»“åº“æº</span><br><span class="line">TAG é•œåƒçš„æ ‡ç­¾</span><br><span class="line">IMAGE ID é•œåƒçš„id</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å¯é€‰é¡¹</span></span><br><span class="line">Options:</span><br><span class="line">  -a, --all             (åˆ—å‡ºæ‰€æœ‰é•œåƒ)Show all images (default hides intermediate images)</span><br><span class="line">  -q, --quiet           ï¼ˆåªæ˜¾ç¤ºé•œåƒçš„idï¼‰Only show image IDs</span><br></pre></td></tr></table></figure>
<p>**docker serach **æœç´¢é•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker search mysql</span><br><span class="line">NAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED</span><br><span class="line">mysql                             MySQL is a widely used, open-source relationâ€¦   10471     [OK]       </span><br><span class="line">mariadb                           MariaDB is a community-developed fork of MySâ€¦   3894      [OK]       </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯é€‰é¡¹</span></span><br><span class="line">--filter=STARS=3000 # æœç´¢å‡ºæ¥çš„é•œåƒæ˜¯STAR&gt;3000çš„</span><br><span class="line"></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker search mysql --filter=STARS=3000</span><br><span class="line">NAME      DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED</span><br><span class="line">mysql     MySQL is a widely used, open-source relationâ€¦   10471     [OK]       </span><br><span class="line">mariadb   MariaDB is a community-developed fork of MySâ€¦   3894      [OK]   </span><br></pre></td></tr></table></figure>
<p><strong>docker pull ä¸‹è½½</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹è½½é•œåƒ docker pull é•œåƒå[ï¼štag]</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker pull mysql</span><br><span class="line">Using default tag: latest #å¦‚æœä¸å†™tagï¼Œé»˜è®¤å°±æ˜¯latest</span><br><span class="line">latest: Pulling from library/mysql</span><br><span class="line">a076a628af6f: Pull complete  #åˆ†å±‚ä¸‹è½½ï¼Œdocker image çš„æ ¸å¿ƒï¼Œè”åˆæ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">f6c208f3f991: Pull complete </span><br><span class="line">88a9455a9165: Pull complete </span><br><span class="line">406c9b8427c6: Pull complete </span><br><span class="line">7c88599c0b25: Pull complete </span><br><span class="line">25b5c6debdaf: Pull complete </span><br><span class="line">43a5816f1617: Pull complete </span><br><span class="line">1a8c919e89bf: Pull complete </span><br><span class="line">9f3cf4bd1a07: Pull complete </span><br><span class="line">80539cea118d: Pull complete </span><br><span class="line">201b3cad54ce: Pull complete </span><br><span class="line">944ba37e1c06: Pull complete </span><br><span class="line">Digest: sha256:feada149cb8ff54eade1336da7c1d080c4a1c7ed82b5e320efb5beebed85ae8c#ç­¾å</span><br><span class="line">Status: Downloaded newer image for mysql:latest</span><br><span class="line">docker.io/library/mysql:latest # çœŸå®åœ°å€</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸¤è€…ç­‰ä»·</span></span><br><span class="line">docker pull mysql </span><br><span class="line">docker pull docker.io/library/mysql:latest</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŒ‡å®šç‰ˆæœ¬</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker pull mysql:5.7</span><br><span class="line">5.7: Pulling from library/mysql</span><br><span class="line"></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker images </span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">mysql         5.7       a70d36bc331a   2 weeks ago     449MB</span><br><span class="line">mysql         latest    c8562eaf9d81   2 weeks ago     546MB</span><br></pre></td></tr></table></figure>


<p><strong>åˆ é™¤é•œåƒ</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker rmi -f é•œåƒid # åˆ é™¤æŒ‡å®šçš„å®¹å™¨ é•œåƒid</span><br><span class="line">docker rmi -f é•œåƒidï¼Œé•œåƒidï¼Œé•œåƒid # åˆ é™¤å¤šä¸ªé•œåƒ</span><br><span class="line">docker rmi -f $(docker images -aq) # åˆ é™¤å…¨éƒ¨çš„é•œåƒ</span><br></pre></td></tr></table></figure>


<h2 id="å®¹å™¨å‘½ä»¤"><a href="#å®¹å™¨å‘½ä»¤" class="headerlink" title="å®¹å™¨å‘½ä»¤"></a>å®¹å™¨å‘½ä»¤</h2><p><strong>è¯´æ˜ï¼šæˆ‘ä»¬æœ‰äº†é•œåƒæ‰å¯ä»¥åˆ›å»ºå®¹ï¼ŒLinuxï¼Œä¸‹è½½ä¸€ä¸ªcentosæ¥è¿›è¡Œå­¦ä¹ </strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull centos</span><br></pre></td></tr></table></figure>
<p><strong>æ–°å»ºå®¹å™¨å¹¶ä¸”å¯åŠ¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run [å¯é€‰å‚æ•°] image</span><br><span class="line"><span class="meta">#</span><span class="bash">å‚æ•°è¯´æ˜</span></span><br><span class="line">--name=&quot;Name&quot; #å®¹å™¨åå­— tomcat01, tomcat02, ç”¨æ¥åŒºåˆ†å®¹å™¨</span><br><span class="line">-d 						#åå°æ–¹å¼è¿›è¡Œè¿è¡Œ</span><br><span class="line">-it 					#ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œï¼Œè¿›å…¥å®¹å™¨æŸ¥çœ‹å†…å®¹</span><br><span class="line">-p 						#æŒ‡å®šå®¹å™¨çš„ç«¯å£ -p 8080ï¼š8080</span><br><span class="line">	-p ip: ä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£</span><br><span class="line">	-p ä¸»æœºç«¯ï¼šå®¹å™¨ç«¯å£ï¼ˆå¸¸ç”¨ï¼‰</span><br><span class="line">	-p å®¹å™¨ç«¯å£</span><br><span class="line">-P						#éšæœºæŒ‡å®šç«¯å£</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯•ï¼Œå¯åŠ¨ï¼Œå¹¶ä¸”è¿›å…¥å‘½ä»¤</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker run -it centos /bin/bash</span><br><span class="line">[root@87d185b2076b /]# ls #æŸ¥çœ‹å†…éƒ¨çš„centos</span><br><span class="line">bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä»å®¹å™¨ä¸­é€€å›ä¸»æœº</span></span><br><span class="line">[root@203dae537771 /]# exit</span><br><span class="line">exit</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz /]# ls</span><br><span class="line">bin  boot  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz /]# </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> docker ps å‘½ä»¤</span></span><br><span class="line">-a #åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨+å¸¦å‡ºå†å²è¿è¡Œè¿‡çš„å®¹å™¨</span><br><span class="line">-n=? # æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨</span><br><span class="line">-q # åªæ˜¾ç¤ºå®¹å™¨çš„ç¼–å·</span><br></pre></td></tr></table></figure>
<p><strong>é€€å‡ºå®¹å™¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">exit #ç›´æ¥åœæ­¢å®¹å™¨å¹¶ä¸”é€€å‡º</span><br><span class="line">Ctrl + P + Q # å®¹å™¨ä¸åœæ­¢é€€å‡º</span><br></pre></td></tr></table></figure>
<p><strong>åˆ é™¤å®¹å™¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker rm å®¹å™¨id # åˆ é™¤æŒ‡å®šçš„å®¹å™¨, ä¸èƒ½åˆ é™¤æ­£åœ¨è¿è¡Œçš„ï¼Œè¦åˆ é™¤çš„rm-f</span><br><span class="line">docker rm -f $(docker ps -aq) # åˆ é™¤æ‰€æœ‰çš„å®¹å™¨</span><br><span class="line">docker ps -a -q|xargs docker rm  # åˆ é™¤æ‰€æœ‰çš„å®¹å™¨</span><br></pre></td></tr></table></figure>
<p><strong>å¯åŠ¨å’Œåœæ­¢å®¹å™¨çš„æ“ä½œ</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker start å®¹å™¨id # å¯åŠ¨å®¹å™¨</span><br><span class="line">docker stop å®¹å™¨id # åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span><br><span class="line">docker restart å®¹å™¨id # é‡å¯å®¹å™¨ </span><br><span class="line">docker kill å®¹å™¨id # å¼ºåˆ¶åœæ­¢</span><br></pre></td></tr></table></figure>


<h3 id="å¸¸ç”¨å…¶ä»–å‘½ä»¤"><a href="#å¸¸ç”¨å…¶ä»–å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å…¶ä»–å‘½ä»¤"></a>å¸¸ç”¨å…¶ä»–å‘½ä»¤</h3><p><strong>åå°å¯åŠ¨å®¹å™¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">å‘½ä»¤ docker run -d é•œåƒå</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker run -d centos </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">é—®é¢˜docker ps å‘ç°centosåœæ­¢äº†</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å¸¸è§çš„å‘ï¼Œdocker å®¹å™¨ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œdockerå‘ç°æ²¡æœ‰åº”ç”¨ï¼Œå°±ä¼šè‡ªåŠ¨åœæ­¢</span></span><br><span class="line"><span class="meta">#</span><span class="bash">nginxï¼Œå®¹å™¨å¯åŠ¨åï¼Œå‘ç°è‡ªå·±æ²¡æœ‰æä¾›æœåŠ¡ï¼Œå°±ä¼šç«‹å³åœæ­¢ï¼Œæ²¡æœ‰ç¨‹åºäº†</span></span><br></pre></td></tr></table></figure>


<p><strong>æŸ¥çœ‹æ—¥å¿—</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker logs -f -t --tail å®¹å™¨ï¼Œæ²¡æœ‰æ—¥å¿—</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">è‡ªå·±ç¼–å†™ä¸€æ®µè„šæœ¬</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker run -d centos /bin/sh -c &quot;while true;do echo print;sleep 1;done&quot;</span><br><span class="line"></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker ps </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS     NAMES</span><br><span class="line">7c922733df50   centos    &quot;/bin/sh -c &#x27;while tâ€¦&quot;   42 seconds ago   Up 41 seconds             goofy_knuth</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ˜¾ç¤ºæ—¥å¿—</span></span><br><span class="line">-tf  fæ˜¯followæŒ‡æŒç»­è¾“å‡ºæ—¥å¿—å†…å®¹ï¼›tä»£è¡¨ä¸€ä¸ªæ—¶é—´æˆ³</span><br><span class="line"></span><br><span class="line">--tail number # è¦æ˜¾ç¤ºæ—¥å¿—çš„æ¡æ•°</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker logs -tf --tail 10 0fd350596b56</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æŸ¥çœ‹å®¹å™¨ä¸­çš„è¿›ç¨‹ä¿¡æ¯</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤docker top å®¹å™¨id</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker top 0fd350596b56 </span><br><span class="line">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD</span><br><span class="line">root                13201               13169               0                   08:42               ?                   00:00:00            /bin/sh -c while true;do echo print;sleep 1;done</span><br><span class="line">root                14630               13201               0                   09:04               ?                   00:00:00            /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æŸ¥çœ‹é•œåƒçš„å…ƒæ•°æ®</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤</span></span><br><span class="line">docker inspect å®¹å™¨id</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯•</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker inspect 0fd350596b56 </span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Id&quot;: &quot;0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f&quot;,</span><br><span class="line">        &quot;Created&quot;: &quot;2021-02-08T00:42:27.388342152Z&quot;,</span><br><span class="line">        &quot;Path&quot;: &quot;/bin/sh&quot;,</span><br><span class="line">        &quot;Args&quot;: [</span><br><span class="line">            &quot;-c&quot;,</span><br><span class="line">            &quot;while true;do echo print;sleep 1;done&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;State&quot;: &#123;</span><br><span class="line">            &quot;Status&quot;: &quot;running&quot;,</span><br><span class="line">            &quot;Running&quot;: true,</span><br><span class="line">            &quot;Paused&quot;: false,</span><br><span class="line">            &quot;Restarting&quot;: false,</span><br><span class="line">            &quot;OOMKilled&quot;: false,</span><br><span class="line">            &quot;Dead&quot;: false,</span><br><span class="line">            &quot;Pid&quot;: 13201,</span><br><span class="line">            &quot;ExitCode&quot;: 0,</span><br><span class="line">            &quot;Error&quot;: &quot;&quot;,</span><br><span class="line">            &quot;StartedAt&quot;: &quot;2021-02-08T00:42:27.823500663Z&quot;,</span><br><span class="line">            &quot;FinishedAt&quot;: &quot;0001-01-01T00:00:00Z&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Image&quot;: &quot;sha256:300e315adb2f96afe5f0b2780b87f28ae95231fe3bdd1e16b9ba606307728f55&quot;,</span><br><span class="line">        &quot;ResolvConfPath&quot;: &quot;/var/lib/docker/containers/0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f/resolv.conf&quot;,</span><br><span class="line">        &quot;HostnamePath&quot;: &quot;/var/lib/docker/containers/0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f/hostname&quot;,</span><br><span class="line">        &quot;HostsPath&quot;: &quot;/var/lib/docker/containers/0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f/hosts&quot;,</span><br><span class="line">        &quot;LogPath&quot;: &quot;/var/lib/docker/containers/0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f/0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f-json.log&quot;,</span><br><span class="line">        &quot;Name&quot;: &quot;/friendly_khayyam&quot;,</span><br><span class="line">        &quot;RestartCount&quot;: 0,</span><br><span class="line">        &quot;Driver&quot;: &quot;overlay2&quot;,</span><br><span class="line">        &quot;Platform&quot;: &quot;linux&quot;,</span><br><span class="line">        &quot;MountLabel&quot;: &quot;&quot;,</span><br><span class="line">        &quot;ProcessLabel&quot;: &quot;&quot;,</span><br><span class="line">        &quot;AppArmorProfile&quot;: &quot;&quot;,</span><br><span class="line">        &quot;ExecIDs&quot;: null,</span><br><span class="line">        &quot;HostConfig&quot;: &#123;</span><br><span class="line">            &quot;Binds&quot;: null,</span><br><span class="line">            &quot;ContainerIDFile&quot;: &quot;&quot;,</span><br><span class="line">            &quot;LogConfig&quot;: &#123;</span><br><span class="line">                &quot;Type&quot;: &quot;json-file&quot;,</span><br><span class="line">                &quot;Config&quot;: &#123;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;NetworkMode&quot;: &quot;default&quot;,</span><br><span class="line">            &quot;PortBindings&quot;: &#123;&#125;,</span><br><span class="line">            &quot;RestartPolicy&quot;: &#123;</span><br><span class="line">                &quot;Name&quot;: &quot;no&quot;,</span><br><span class="line">                &quot;MaximumRetryCount&quot;: 0</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;AutoRemove&quot;: false,</span><br><span class="line">            &quot;VolumeDriver&quot;: &quot;&quot;,</span><br><span class="line">            &quot;VolumesFrom&quot;: null,</span><br><span class="line">            &quot;CapAdd&quot;: null,</span><br><span class="line">            &quot;CapDrop&quot;: null,</span><br><span class="line">            &quot;CgroupnsMode&quot;: &quot;host&quot;,</span><br><span class="line">            &quot;Dns&quot;: [],</span><br><span class="line">            &quot;DnsOptions&quot;: [],</span><br><span class="line">            &quot;DnsSearch&quot;: [],</span><br><span class="line">            &quot;ExtraHosts&quot;: null,</span><br><span class="line">            &quot;GroupAdd&quot;: null,</span><br><span class="line">            &quot;IpcMode&quot;: &quot;private&quot;,</span><br><span class="line">            &quot;Cgroup&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Links&quot;: null,</span><br><span class="line">            &quot;OomScoreAdj&quot;: 0,</span><br><span class="line">            &quot;PidMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Privileged&quot;: false,</span><br><span class="line">            &quot;PublishAllPorts&quot;: false,</span><br><span class="line">            &quot;ReadonlyRootfs&quot;: false,</span><br><span class="line">            &quot;SecurityOpt&quot;: null,</span><br><span class="line">            &quot;UTSMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;UsernsMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;ShmSize&quot;: 67108864,</span><br><span class="line">            &quot;Runtime&quot;: &quot;runc&quot;,</span><br><span class="line">            &quot;ConsoleSize&quot;: [</span><br><span class="line">                0,</span><br><span class="line">                0</span><br><span class="line">            ],</span><br><span class="line">            &quot;Isolation&quot;: &quot;&quot;,</span><br><span class="line">            &quot;CpuShares&quot;: 0,</span><br><span class="line">            &quot;Memory&quot;: 0,</span><br><span class="line">            &quot;NanoCpus&quot;: 0,</span><br><span class="line">            &quot;CgroupParent&quot;: &quot;&quot;,</span><br><span class="line">            &quot;BlkioWeight&quot;: 0,</span><br><span class="line">            &quot;BlkioWeightDevice&quot;: [],</span><br><span class="line">            &quot;BlkioDeviceReadBps&quot;: null,</span><br><span class="line">            &quot;BlkioDeviceWriteBps&quot;: null,</span><br><span class="line">            &quot;BlkioDeviceReadIOps&quot;: null,</span><br><span class="line">            &quot;BlkioDeviceWriteIOps&quot;: null,</span><br><span class="line">            &quot;CpuPeriod&quot;: 0,</span><br><span class="line">            &quot;CpuQuota&quot;: 0,</span><br><span class="line">            &quot;CpuRealtimePeriod&quot;: 0,</span><br><span class="line">            &quot;CpuRealtimeRuntime&quot;: 0,</span><br><span class="line">            &quot;CpusetCpus&quot;: &quot;&quot;,</span><br><span class="line">            &quot;CpusetMems&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Devices&quot;: [],</span><br><span class="line">            &quot;DeviceCgroupRules&quot;: null,</span><br><span class="line">            &quot;DeviceRequests&quot;: null,</span><br><span class="line">            &quot;KernelMemory&quot;: 0,</span><br><span class="line">            &quot;KernelMemoryTCP&quot;: 0,</span><br><span class="line">            &quot;MemoryReservation&quot;: 0,</span><br><span class="line">            &quot;MemorySwap&quot;: 0,</span><br><span class="line">            &quot;MemorySwappiness&quot;: null,</span><br><span class="line">            &quot;OomKillDisable&quot;: false,</span><br><span class="line">            &quot;PidsLimit&quot;: null,</span><br><span class="line">            &quot;Ulimits&quot;: null,</span><br><span class="line">            &quot;CpuCount&quot;: 0,</span><br><span class="line">            &quot;CpuPercent&quot;: 0,</span><br><span class="line">            &quot;IOMaximumIOps&quot;: 0,</span><br><span class="line">            &quot;IOMaximumBandwidth&quot;: 0,</span><br><span class="line">            &quot;MaskedPaths&quot;: [</span><br><span class="line">                &quot;/proc/asound&quot;,</span><br><span class="line">                &quot;/proc/acpi&quot;,</span><br><span class="line">                &quot;/proc/kcore&quot;,</span><br><span class="line">                &quot;/proc/keys&quot;,</span><br><span class="line">                &quot;/proc/latency_stats&quot;,</span><br><span class="line">                &quot;/proc/timer_list&quot;,</span><br><span class="line">                &quot;/proc/timer_stats&quot;,</span><br><span class="line">                &quot;/proc/sched_debug&quot;,</span><br><span class="line">                &quot;/proc/scsi&quot;,</span><br><span class="line">                &quot;/sys/firmware&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;ReadonlyPaths&quot;: [</span><br><span class="line">                &quot;/proc/bus&quot;,</span><br><span class="line">                &quot;/proc/fs&quot;,</span><br><span class="line">                &quot;/proc/irq&quot;,</span><br><span class="line">                &quot;/proc/sys&quot;,</span><br><span class="line">                &quot;/proc/sysrq-trigger&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;GraphDriver&quot;: &#123;</span><br><span class="line">            &quot;Data&quot;: &#123;</span><br><span class="line">                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/ee52de2dd296ae5bb006ba95edba9fd29b171fb48b030ad8d0d98f8c4d3be36c-init/diff:/var/lib/docker/overlay2/da23e695d17a9e7ed2ad81c9f2486a4cbdec8e601031b2b660fddf001f3fe9a2/diff&quot;,</span><br><span class="line">                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/ee52de2dd296ae5bb006ba95edba9fd29b171fb48b030ad8d0d98f8c4d3be36c/merged&quot;,</span><br><span class="line">                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/ee52de2dd296ae5bb006ba95edba9fd29b171fb48b030ad8d0d98f8c4d3be36c/diff&quot;,</span><br><span class="line">                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/ee52de2dd296ae5bb006ba95edba9fd29b171fb48b030ad8d0d98f8c4d3be36c/work&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;Name&quot;: &quot;overlay2&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Mounts&quot;: [],</span><br><span class="line">        &quot;Config&quot;: &#123;</span><br><span class="line">            &quot;Hostname&quot;: &quot;0fd350596b56&quot;,</span><br><span class="line">            &quot;Domainname&quot;: &quot;&quot;,</span><br><span class="line">            &quot;User&quot;: &quot;&quot;,</span><br><span class="line">            &quot;AttachStdin&quot;: false,</span><br><span class="line">            &quot;AttachStdout&quot;: false,</span><br><span class="line">            &quot;AttachStderr&quot;: false,</span><br><span class="line">            &quot;Tty&quot;: false,</span><br><span class="line">            &quot;OpenStdin&quot;: false,</span><br><span class="line">            &quot;StdinOnce&quot;: false,</span><br><span class="line">            &quot;Env&quot;: [</span><br><span class="line">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Cmd&quot;: [</span><br><span class="line">                &quot;/bin/sh&quot;,</span><br><span class="line">                &quot;-c&quot;,</span><br><span class="line">                &quot;while true;do echo print;sleep 1;done&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Image&quot;: &quot;centos&quot;,</span><br><span class="line">            &quot;Volumes&quot;: null,</span><br><span class="line">            &quot;WorkingDir&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Entrypoint&quot;: null,</span><br><span class="line">            &quot;OnBuild&quot;: null,</span><br><span class="line">            &quot;Labels&quot;: &#123;</span><br><span class="line">                &quot;org.label-schema.build-date&quot;: &quot;20201204&quot;,</span><br><span class="line">                &quot;org.label-schema.license&quot;: &quot;GPLv2&quot;,</span><br><span class="line">                &quot;org.label-schema.name&quot;: &quot;CentOS Base Image&quot;,</span><br><span class="line">                &quot;org.label-schema.schema-version&quot;: &quot;1.0&quot;,</span><br><span class="line">                &quot;org.label-schema.vendor&quot;: &quot;CentOS&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;NetworkSettings&quot;: &#123;</span><br><span class="line">            &quot;Bridge&quot;: &quot;&quot;,</span><br><span class="line">            &quot;SandboxID&quot;: &quot;ccabded2409ffbc145c5130acb301ea392e0063c9c012f4d3562f6fcb1efb71c&quot;,</span><br><span class="line">            &quot;HairpinMode&quot;: false,</span><br><span class="line">            &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">            &quot;LinkLocalIPv6PrefixLen&quot;: 0,</span><br><span class="line">            &quot;Ports&quot;: &#123;&#125;,</span><br><span class="line">            &quot;SandboxKey&quot;: &quot;/var/run/docker/netns/ccabded2409f&quot;,</span><br><span class="line">            &quot;SecondaryIPAddresses&quot;: null,</span><br><span class="line">            &quot;SecondaryIPv6Addresses&quot;: null,</span><br><span class="line">            &quot;EndpointID&quot;: &quot;fd9e4c4d71b0dba8b4dda169059ead023d887a2498f857da737236c786ef2641&quot;,</span><br><span class="line">            &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class="line">            &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">            &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class="line">            &quot;IPAddress&quot;: &quot;172.17.0.2&quot;,</span><br><span class="line">            &quot;IPPrefixLen&quot;: 16,</span><br><span class="line">            &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class="line">            &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,</span><br><span class="line">            &quot;Networks&quot;: &#123;</span><br><span class="line">                &quot;bridge&quot;: &#123;</span><br><span class="line">                    &quot;IPAMConfig&quot;: null,</span><br><span class="line">                    &quot;Links&quot;: null,</span><br><span class="line">                    &quot;Aliases&quot;: null,</span><br><span class="line">                    &quot;NetworkID&quot;: &quot;efde225ef685bc98209337a5cdd4d66bb8a8f85d8762be2fca7313ad00d353bc&quot;,</span><br><span class="line">                    &quot;EndpointID&quot;: &quot;fd9e4c4d71b0dba8b4dda169059ead023d887a2498f857da737236c786ef2641&quot;,</span><br><span class="line">                    &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class="line">                    &quot;IPAddress&quot;: &quot;172.17.0.2&quot;,</span><br><span class="line">                    &quot;IPPrefixLen&quot;: 16,</span><br><span class="line">                    &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class="line">                    &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,</span><br><span class="line">                    &quot;DriverOpts&quot;: null</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æˆ‘ä»¬é€šå¸¸å®¹å™¨éƒ½æ˜¯ç”¨åå°æ–¹å¼è¿è¡Œçš„ï¼Œéœ€è¦è¿›å…¥å®¹å™¨ï¼Œä¿®æ”¹ä¸€äº›é…ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤</span></span><br><span class="line">docker exec -it å®¹å™¨id bashshell</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯•</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker ps </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS     NAMES</span><br><span class="line">0fd350596b56   centos    &quot;/bin/sh -c &#x27;while tâ€¦&quot;   27 minutes ago   Up 27 minutes             friendly_khayyam</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker exec -it 0fd350596b56 /bin/bash</span><br><span class="line">[root@0fd350596b56 /]# ls </span><br><span class="line">bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br><span class="line">[root@0fd350596b56 /]# ps -ef</span><br><span class="line">UID        PID  PPID  C STIME TTY          TIME CMD</span><br><span class="line">root         1     0  0 00:42 ?        00:00:00 /bin/sh -c while true;do echo print;sleep 1;done</span><br><span class="line">root      1660     0  0 01:09 pts/0    00:00:00 /bin/bash</span><br><span class="line">root      1681     1  0 01:09 ?        00:00:00 /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1</span><br><span class="line">root      1682  1660  0 01:09 pts/0    00:00:00 ps -ef</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–¹å¼äºŒ</span></span><br><span class="line">docker attach å®¹å™¨id</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker attach 0fd350596b56</span><br><span class="line">æ­£åœ¨æ‰§è¡Œå½“å‰çš„ä»£ç ...</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">docker <span class="built_in">exec</span> <span class="comment"># è¿›å…¥å®¹å™¨åå¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå¯ä»¥åœ¨é‡Œé¢æ“ä½œï¼ˆå¸¸ç”¨ï¼‰</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">docker attach <span class="comment"># è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯ï¼Œä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹</span></span></span><br></pre></td></tr></table></figure>
<p><strong>ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker cp å®¹å™¨idï¼šå®¹å™¨å†…è·¯å¾„ ç›®çš„ä¸»æœºè·¯å¾„</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹å½“å‰ä¸»æœºç›®å½•ä¸‹</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# ls </span><br><span class="line">admin</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿›å…¥å½“å‰å®¹å™¨å†…éƒ¨ ï¼ˆä¹Ÿå¯ä»¥ç”¨attach å‘½ä»¤ï¼‰</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker run -it centos /bin/bash</span><br><span class="line">[root@6442d7af4f41 /]# cd /home  </span><br><span class="line">[root@6442d7af4f41 home]# ls </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨å®¹å™¨å†…åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶</span></span><br><span class="line">[root@6442d7af4f41 home]# touch test.java</span><br><span class="line">[root@6442d7af4f41 home]# exit </span><br><span class="line">exit</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker ps </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker ps -a </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND       CREATED          STATUS                       PORTS     NAMES</span><br><span class="line">6442d7af4f41   centos    &quot;/bin/bash&quot;   41 seconds ago   Exited (0) 17 seconds ago              ecstatic_aryabhata</span><br><span class="line">97b8ac803f12   centos    &quot;/bin/bash&quot;   3 minutes ago    Exited (127) 2 minutes ago             elastic_thompson</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†æ–‡ä»¶æ‹·è´åˆ°ä¸»æœºä¸Š</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker cp 6442d7af4f41:/home/test.java /home</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# ls </span><br><span class="line">admin  test.java</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹·è´æ˜¯ä¸€ä¸ªæ‰‹åŠ¨è¿‡ç¨‹ï¼Œæœªæ¥æˆ‘ä»¬ä½¿ç”¨-v å·çš„æŠ€æœ¯ï¼Œå¯ä»¥å®ç°ï¼Œè‡ªåŠ¨åŒæ­¥</span> </span><br></pre></td></tr></table></figure>


<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.4e00.com%2Fblog%2Fimg%2Flinux%2Fdocker%2Fdocker-commands.png&refer=http%3A%2F%2Fwww.4e00.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1615339851&t=03dc8021bab2635051350bab0bfc51eb" alt="img"></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">attach     Attach to a running container             #å½“å‰she1lä¸‹attachè¿æ¥æŒ‡å®šè¿è¡Œé•œåƒ</span><br><span class="line">build      Build an image from a Dockerfile          #é€šè¿‡Dockerfile å®šåˆ¶é•œåƒ</span><br><span class="line">commit     Create a new image from a container changes #æäº¤å½“å‰å®¹å™¨ä¸ºæ–°çš„é•œåƒ</span><br><span class="line">cp         Copy files/folders from the containers filesystem to the host path #ä»å®¹å™¨ä¸­æ‹·è´æŒ‡å®šæ–‡ä»¶æˆ–è€…ç›® #å½•åˆ°å®¿ä¸»æœºä¸­</span><br><span class="line">create     Create a new container #åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨ï¼ŒåŒrunï¼Œ ä½†ä¸å¯åŠ¨å®¹å™¨</span><br><span class="line">diff       Inspect changes on a containers filesys tem #æŸ¥çœ‹docker å®¹å™¨å˜åŒ–</span><br><span class="line">events     Get real time events from the server #ä»docker æœåŠ¡è·å–å®¹å™¨å®æ—¶äº‹ä»¶</span><br><span class="line">exec       Run a command in an existing container #åœ¨å·²å­˜åœ¨çš„å®¹å™¨ä¸Šè¿è¡Œå‘½ä»¤</span><br><span class="line">export     Stream the contents of a container as a tar archive#å¯¼å‡ºå®¹å™¨çš„å†…å®¹æµä½œä¸ºä¸€ä¸ªtarå½’æ¡£æ–‡ä»¶[å¯¹åº”import]</span><br><span class="line">history    Show the history of an image #å±•ç¤ºä¸€ä¸ªé•œåƒå½¢æˆå†å²</span><br><span class="line">images     List images #åˆ—å‡ºç³»ç»Ÿå½“å‰é•œåƒ</span><br><span class="line">import     Create a new filesystem image from the contents of a tarball #ä»taråŒ… ä¸­çš„å†…å®¹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ç³»ç»Ÿæ˜ åƒ[å¯¹åº”export]</span><br><span class="line">info 			 Display sys tem-wide informati on #æ˜¾ç¤ºç³»ç»Ÿç›¸å…³ä¿¡æ¯</span><br><span class="line">inspect		 Return 1ow-1eve1 information on a container #æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯</span><br><span class="line">ki1l 			 Ki1l a running container # ki11 æŒ‡å®šdocker å®¹å™¨</span><br><span class="line">load 			 Load an image from a tar archive #ä»ä¸€ä¸ªtaråŒ…ä¸­åŠ è½½ä¸€ä¸ªé•œåƒ[å¯¹åº”save]</span><br><span class="line">login			 Register or Login to the docker registry server #æ³¨å†Œæˆ–è€…ç™»é™†ä¸€ä¸ªdocker æºæœåŠ¡å™¨</span><br><span class="line">1ogout		 Log out from a Docker registry server #ä»å½“å‰Docker registry é€€å‡º</span><br><span class="line">1ogs			 Fetch the logs of a container #è¾“å‡ºå½“å‰å®¹å™¨æ—¥å¿—ä¿¡æ¯</span><br><span class="line">port			 Lookup the pub1ic-facing port which is NAT-ed to PRIVATE_ PORT #æŸ¥çœ‹æ˜ å°„ç«¯å£å¯¹åº”çš„å®¹å™¨å†…éƒ¨æºç«¯å£</span><br><span class="line">pause 		 Pause a11 processes within a container #æš‚åœå®¹å™¨</span><br><span class="line">ps 				 List containers #åˆ—å‡ºå®¹å™¨åˆ—è¡¨</span><br><span class="line">pu11 			 Pu11 an image or a repository from the docker registry server #ä»dockeré•œåƒæºæœåŠ¡å™¨æ‹‰å–æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒ</span><br><span class="line">push 			 Push an image or a repository to the docker registry server #æ¨é€æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒè‡³dockeræºæœåŠ¡å™¨</span><br><span class="line">restart 	 Restart a running container #é‡å¯è¿è¡Œçš„å®¹å™¨</span><br><span class="line">rm 				 Remove one or more containers #ç§»é™¤ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨</span><br><span class="line">rmi 			 Remove one or more i mages #ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒ[æ— å®¹å™¨ä½¿ç”¨è¯¥é•œåƒæ‰å¯åˆ é™¤ï¼Œå¦åˆ™éœ€åˆ é™¤ç›¸å…³å®¹å™¨æ‰å¯ç»§ç»­æˆ–-få¼ºåˆ¶åˆ é™¤]</span><br><span class="line">run 			 Run a command in a new container #åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤</span><br><span class="line">save 			 Save an image to a tar archive #ä¿å­˜ä¸€ä¸ªé•œåƒä¸ºä¸€ä¸ªtar åŒ…[å¯¹åº”load]</span><br><span class="line">search 	   search for an image on the Dockerhub #åœ¨dockerhubä¸­æœç´¢é•œåƒ</span><br><span class="line">start      Start a stopped containers #å¯åŠ¨å®¹å™¨</span><br><span class="line">stop       Stop a running containers #åœæ­¢å®¹å™¨</span><br><span class="line">tag 			 tag an image into a repository #ç»™æºä¸­é•œåƒæ‰“æ ‡ç­¾</span><br><span class="line">top		 		 Lookup the runring processes of a container #æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯</span><br><span class="line">unpause 	 Unpause a paused container #å–æ¶ˆæš‚åœå®¹å™¨</span><br><span class="line">version 	 Show the docker version information #æŸ¥çœ‹dockerç‰ˆæœ¬å·</span><br><span class="line">wait 			 Block until a container stopsï¼Œthen print its exit code #æˆªå–å®¹å™¨åœæ­¢æ—¶çš„é€€å‡ºçŠ¶æ€å€¼</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaSE å›é¡¾</title>
    <url>/2021/02/10/2021-02-10-Java-%E5%9B%9E%E9%A1%BE/</url>
    <content><![CDATA[<h1 id="JAVA-åŸºç¡€çŸ¥è¯†å¤ä¹ "><a href="#JAVA-åŸºç¡€çŸ¥è¯†å¤ä¹ " class="headerlink" title="JAVA åŸºç¡€çŸ¥è¯†å¤ä¹ "></a>JAVA åŸºç¡€çŸ¥è¯†å¤ä¹ </h1><p>è§†é¢‘åœ°å€ï¼š</p>
<p><a class="link"   href="https://www.bilibili.com/video/BV12J41137hu?t=2607&amp;p=80" >https://www.bilibili.com/video/BV12J41137hu?t=2607&amp;p=80<i class="fas fa-external-link-alt"></i></a></p>
<p>ç›¸å…³ç¬”è®°ï¼š</p>
<h3 id="æ•°æ®ç±»å‹ä»¥åŠé¢è¯•æ‹“å±•"><a href="#æ•°æ®ç±»å‹ä»¥åŠé¢è¯•æ‹“å±•" class="headerlink" title="æ•°æ®ç±»å‹ä»¥åŠé¢è¯•æ‹“å±•"></a>æ•°æ®ç±»å‹ä»¥åŠé¢è¯•æ‹“å±•</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> i2 = <span class="number">010</span>; <span class="comment">// å…«è¿›åˆ¶ 0</span></span><br><span class="line">        <span class="keyword">int</span> i3 = <span class="number">0x10</span>; <span class="comment">//åå…­è¿›åˆ¶0x</span></span><br><span class="line"></span><br><span class="line">        System.out.println(i);</span><br><span class="line">        System.out.println(i2);</span><br><span class="line">        System.out.println(i3);</span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//      ================================</span></span><br><span class="line"><span class="comment">//        æµ®ç‚¹æ•°</span></span><br><span class="line"><span class="comment">//        é“¶è¡Œç±»ç”¨BigDecimal</span></span><br><span class="line"><span class="comment">//        float æœ‰é™ ç¦»æ•£ èˆå…¥è¯¯å·®</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        æœ€å¥½å®Œå…¨é¿å…ä½¿ç”¨æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">//        æœ€å¥½å®Œå…¨é¿å…ä½¿ç”¨æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">//        æœ€å¥½å®Œå…¨é¿å…ä½¿ç”¨æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line">        <span class="keyword">float</span> f = <span class="number">0.1f</span>;</span><br><span class="line">        <span class="keyword">double</span> d = <span class="number">1.0</span> / <span class="number">10</span>;</span><br><span class="line">        System.out.println(f==d);</span><br><span class="line">        System.out.println(f);</span><br><span class="line">        System.out.println(d);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        =================================</span></span><br><span class="line"><span class="comment">//        å¼ºåˆ¶è½¬æ¢</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span> c1 = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        System.out.println(c1);</span><br><span class="line">        System.out.println((<span class="keyword">int</span>)c1); <span class="comment">// å¼ºåˆ¶è½¬æ¢</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        æ‰€æœ‰çš„å­—ç¬¦ä¸²æœ¬è´¨è¿˜æ˜¯æ•°å­—</span></span><br><span class="line"><span class="comment">//        ç¼–ç  Unicode 2 å­—èŠ‚ ï¼ˆ97 = a ï¼‰</span></span><br><span class="line">        <span class="keyword">char</span> c3 = <span class="string">&#x27;\u0061&#x27;</span>;</span><br><span class="line">        System.out.println(c3);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line"><span class="comment">//        \t åˆ¶è¡¨ç¬¦</span></span><br><span class="line"><span class="comment">//        \n æ¢è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        =============================</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line">        String sa = <span class="keyword">new</span> String(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">        String sb = <span class="keyword">new</span> String(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">        System.out.println(sa==sb);</span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        String sc = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">        String sd = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">        System.out.println(sc==sd);</span><br><span class="line">        <span class="comment">// å¯¹è±¡ å†…å­˜çš„å…³ç³»</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">128</span>;</span><br><span class="line">        <span class="keyword">byte</span> b = (<span class="keyword">byte</span>) i; <span class="comment">//å†…å­˜æº¢å‡º</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°æ•°ä¼˜å…ˆçº§æ°¸è¿œé«˜äºæ•´æ•°</span></span><br><span class="line">        <span class="comment">// å¼ºåˆ¶è½¬æ¢ï¼Œï¼ˆç±»å‹ï¼‰å˜é‡ é«˜-ä½</span></span><br><span class="line">        <span class="comment">// è‡ªåŠ¨è½¬æ¢ ä½-é«˜</span></span><br><span class="line"></span><br><span class="line">        System.out.println(i);</span><br><span class="line">        System.out.println(b);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        æ³¨æ„ç‚¹ï¼š</span></span><br><span class="line"><span class="comment">        1ã€‚ ä¸èƒ½å¯¹å¸ƒå°”å€¼è¿›è¡Œè½¬æ¢</span></span><br><span class="line"><span class="comment">        2ã€‚ ä¸èƒ½æŠŠå¯¹è±¡ç±»å‹è½¬æ¢ä¸ºä¸ç›¸å…³çš„ç±»å‹</span></span><br><span class="line"><span class="comment">        3ã€‚ åœ¨æŠŠé«˜å®¹é‡è½¬æ¢åˆ°ä½å®¹é‡çš„æ—¶å€™ï¼Œå¼ºåˆ¶è½¬æ¢</span></span><br><span class="line"><span class="comment">        4ã€‚ è½¬æ¢çš„æ—¶å€™å¯èƒ½å­˜åœ¨å†…å­˜æº¢å‡ºï¼Œæˆ–è€…ç²¾åº¦çš„é—®é¢˜</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println(<span class="string">&quot;===========&quot;</span>);</span><br><span class="line">        System.out.println((<span class="keyword">int</span>)<span class="number">23.7</span>);</span><br><span class="line">        System.out.println((<span class="keyword">int</span>)-<span class="number">45.89f</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;===========&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span> c = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">int</span> d = c + <span class="number">1</span>;</span><br><span class="line">        System.out.println(d);</span><br><span class="line">        System.out.println((<span class="keyword">char</span>) d);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æº¢å‡ºçš„é—®é¢˜"><a href="#æº¢å‡ºçš„é—®é¢˜" class="headerlink" title="æº¢å‡ºçš„é—®é¢˜"></a>æº¢å‡ºçš„é—®é¢˜</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo5</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ“ä½œæ¯”è¾ƒå¤§çš„æ•°çš„æ—¶å€™ï¼Œæ³¨æ„æº¢å‡ºçš„é—®é¢˜</span></span><br><span class="line">        <span class="comment">// JDK7 çš„æ–°ç‰¹æ€§ï¼Œæ•°å­—ä¹‹é—´å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿æ¥è¿›è¡Œåˆ†å‰²</span></span><br><span class="line">        <span class="keyword">int</span> money = <span class="number">10_0000_0000</span>;</span><br><span class="line">        <span class="keyword">int</span> years = <span class="number">20</span>;</span><br><span class="line">        <span class="keyword">int</span> total = money * years;</span><br><span class="line">        <span class="keyword">long</span> total2 = money * years;</span><br><span class="line">        <span class="keyword">long</span> total3 = money * (<span class="keyword">long</span>) years;</span><br><span class="line"></span><br><span class="line">        System.out.println(total);</span><br><span class="line">        System.out.println(total2);</span><br><span class="line">        System.out.println(total3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo08</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç±»å˜é‡ static</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">double</span> salary = <span class="number">2500</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å±æ€§ï¼šå˜é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®ä¾‹å˜é‡ï¼šä»å±äºå¯¹è±¡ï¼›å¦‚æœä¸è‡ªçœåˆå§‹åŒ–ï¼Œè¿™ä¸ªç±»å‹çš„é»˜è®¤å€¼0ï¼Œ0.0</span></span><br><span class="line">    <span class="comment">// å¸ƒå°”å€¼ï¼šé»˜è®¤æ˜¯false</span></span><br><span class="line">    <span class="comment">// é™¤äº†åŸºæœ¬ç±»å‹ï¼Œå…¶ä½™çš„é»˜è®¤èµ°éƒ½æ˜¯null</span></span><br><span class="line"></span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// main æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å±€éƒ¨å˜é‡ï¼Œå¿…é¡»å£°æ˜å’Œåˆå§‹åŒ–å€¼å¾—é‡</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">        System.out.println(i);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å˜é‡ç±»å‹ å˜é‡åå­— = new demo08</span></span><br><span class="line">        demo08 Demo08 = <span class="keyword">new</span> demo08();</span><br><span class="line">        System.out.println(Demo08.age);</span><br><span class="line">        System.out.println(Demo08.name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç±»å˜é‡ static</span></span><br><span class="line">        System.out.println(salary);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…¶ä»–æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="ä½è¿ç®—-æ•ˆç‡è€ƒè™‘"><a href="#ä½è¿ç®—-æ•ˆç‡è€ƒè™‘" class="headerlink" title="ä½è¿ç®—(æ•ˆç‡è€ƒè™‘)"></a>ä½è¿ç®—(æ•ˆç‡è€ƒè™‘)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> operator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo06</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        A = 0011 1100</span></span><br><span class="line"><span class="comment">        B = 0000 1101</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        A&amp;B = 0000 1100</span></span><br><span class="line"><span class="comment">        A|B = 0011 1101</span></span><br><span class="line"><span class="comment">        A^B = 0011 0001</span></span><br><span class="line"><span class="comment">        ~B = 1111 0010</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        2*8  = 16 æ€ä¹ˆæœ€å¿«2*2*2*2 (è®¡ç®—æœºæ˜¯ä¸ä¼šä¹˜é™¤æ³•çš„)</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        ä½è¿ç®—ï¼Œæ•ˆç‡æé«˜</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        &lt;&lt;  ç›¸å½“äº *2</span></span><br><span class="line"><span class="comment">        &gt;&gt;  ç›¸å½“äº /2</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">        0000 0000 0</span></span><br><span class="line"><span class="comment">        0000 0001 1</span></span><br><span class="line"><span class="comment">        0000 0010 2</span></span><br><span class="line"><span class="comment">        0000 0011 3</span></span><br><span class="line"><span class="comment">        0000 0100 4</span></span><br><span class="line"><span class="comment">        0000 1000 8</span></span><br><span class="line"><span class="comment">        0001 0000 16</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println(<span class="number">2</span>&lt;&lt;<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å­—ç¬¦ä¸²æ“ä½œ"><a href="#å­—ç¬¦ä¸²æ“ä½œ" class="headerlink" title="å­—ç¬¦ä¸²æ“ä½œ"></a>å­—ç¬¦ä¸²æ“ä½œ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> operator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo07</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line">        a += b; <span class="comment">//a = a+b</span></span><br><span class="line">        a -= b;<span class="comment">// a = a-b</span></span><br><span class="line">        System.out.println(a);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å­—ç¬¦ä¸²è¿æ¥ç¬¦ + ï¼Œ String</span></span><br><span class="line">        <span class="comment">// æ³¨æ„ç¬¬ä¸€ä¸ªæ˜¯ä»€ä¹ˆå°±ä¼šè¿è¡Œä»€ä¹ˆæ ·å­çš„æ“ä½œ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;&quot;</span> + a + b);</span><br><span class="line">        System.out.println(a + b + <span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆifçš„æ›´ç®€å•çš„å†™æ³•å½¢å¼ï¼‰"><a href="#ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆifçš„æ›´ç®€å•çš„å†™æ³•å½¢å¼ï¼‰" class="headerlink" title="ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆifçš„æ›´ç®€å•çš„å†™æ³•å½¢å¼ï¼‰"></a>ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆifçš„æ›´ç®€å•çš„å†™æ³•å½¢å¼ï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> operator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo08</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//x?y:z</span></span><br><span class="line">        <span class="comment">//å¦‚æœx==trueï¼Œåˆ™ç»“æœä¸ºyï¼Œå¦åˆ™ç»“æœä¸ºz</span></span><br><span class="line">        <span class="keyword">int</span> score = <span class="number">80</span>;</span><br><span class="line">        String type = score &lt; <span class="number">60</span> ? <span class="string">&quot;ä¸åŠæ ¼&quot;</span>:<span class="string">&quot;åŠæ ¼&quot;</span>; <span class="comment">//å¿…é¡»æŒæ¡ï¼Œè®©ä»£ç æ›´åŠ ç²¾ç®€ï¼Œä¸”å®¹æ˜“æŒæ¡</span></span><br><span class="line">        System.out.println(type);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="javadoc"><a href="#javadoc" class="headerlink" title="javadoc"></a>javadoc</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.base;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Doc</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@authore</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">(String name)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é€šè¿‡å‘½ä»¤è¡Œç”ŸæˆJavaDocæ–‡æ¡£ï¼ </span></span><br><span class="line"><span class="comment">// å‘½ä»¤è¡Œè¿›å…¥åˆ°åŒ…æ‰€åœ¨çš„åœ°å€ï¼Œç„¶åè¾“å…¥ï¼šjavadoc -encoding UTF-8 -charset UTF-8 Doc.java </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="Scanner-å¯¹è±¡"><a href="#Scanner-å¯¹è±¡" class="headerlink" title="Scanner å¯¹è±¡"></a>Scanner å¯¹è±¡</h3><p>Next():</p>
<pre><code>1. ä¸€å®šè¦è¯»å–åˆ°æœ‰æ•ˆå­—ç¬¦åèœå¯ä»¥ç»“æŸè¾“å…¥
2. å¯¹è¾“å…¥æœ‰æ•ˆå­—ç¬¦ä¹‹å‰é‡åˆ°çš„ç©ºç™½ï¼Œnextï¼ˆï¼‰ä¼šå°†å…¶è‡ªåŠ¨å»æ‰
3. åªæœ‰è¾“å…¥æœ‰æ•ˆå­—ç¬¦åæ‰è®²å…¶åé¢è¾“å…¥çš„ç©ºç™½ä½œä¸ºåˆ†éš”ç¬¦æˆ–è€…ç»“æŸç¬¦å·
4. nextï¼ˆï¼‰ä¸èƒ½å¾—åˆ°å¸¦æœ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²</code></pre>
<p>nextLineï¼ˆï¼‰ï¼š</p>
<ol>
<li>ä»¥enterä½œä¸ºç»“æŸç¬¦å·ï¼Œä¹Ÿå°±æ˜¯è¯´nexlineï¼ˆï¼‰æ–¹æ³•è¿”å›çš„æ˜¯å›è½¦ä¹‹å‰çš„å­—æ¯</li>
<li>å¯ä»¥è·å¾—ç©ºç™½</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªæ‰«æå™¨å¯¹è±¡ï¼Œç”¨äºæ¥å—é”®ç›˜æ•°æ®</span></span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;ä½¿ç”¨nextæ–¹å¼æ¥æ¥å—ï¼š &quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(scanner.hasNext())&#123;</span><br><span class="line">            String str = scanner.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;è¾“å‡ºå†…å®¹æ˜¯ï¼š &quot;</span>+str);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å‡¡æ˜¯å±äºIOæµçš„ç±»å¦‚æœä¸å…³é—­ä¼šä¸€ç›´å ç”¨èµ„æºï¼Œè¦å…»æˆå¥½ä¹ æƒ¯ç”¨å®Œå°±å…³é—­</span></span><br><span class="line">        scanner.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>




<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä½¿ç”¨nextLineæ–¹å¼æ¥æ¥å—ï¼š &quot;</span>);</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">if</span> (scanner.hasNextLine())&#123;</span><br><span class="line">            String s = scanner.nextLine();</span><br><span class="line">            System.out.println(<span class="string">&quot;è¾“å‡ºçš„å†…å®¹ä¸ºï¼š&quot;</span> + s);</span><br><span class="line">        &#125;</span><br><span class="line">        scanner.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h3 id="Switch-case-è¯­å¥"><a href="#Switch-case-è¯­å¥" class="headerlink" title="Switch case è¯­å¥"></a>Switch case è¯­å¥</h3><p>æ³¨æ„caseçš„ç©¿é€ç‰¹æ€§ï¼Œå»ºè®®åŠ ä¸Šbreak</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.struct;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwitchDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//case ç©¿é€ //switch åŒ¹é…ä¸€ä¸ªå…·ä½“çš„å€¼</span></span><br><span class="line">        <span class="keyword">char</span> grade = <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line">        <span class="keyword">switch</span> (grade)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;a&#x27;</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;ä¼˜ç§€&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// å¯é€‰ ï¼Œä½†æ˜¯å»ºè®®åŠ ä¸Šï¼Œå¦åˆ™å®¹æ˜“ç©¿é€</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;b&#x27;</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;è‰¯å¥½&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// å¯é€‰ ï¼Œä½†æ˜¯å»ºè®®åŠ ä¸Šï¼Œå¦åˆ™å®¹æ˜“ç©¿é€</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;c&#x27;</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;åŠæ ¼&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// å¯é€‰ ï¼Œä½†æ˜¯å»ºè®®åŠ ä¸Šï¼Œå¦åˆ™å®¹æ˜“ç©¿é€</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;d&#x27;</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;å†æ¥å†å‰&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// å¯é€‰ ï¼Œä½†æ˜¯å»ºè®®åŠ ä¸Šï¼Œå¦åˆ™å®¹æ˜“ç©¿é€</span></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;æœªçŸ¥ç­‰çº§&quot;</span>);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æ–¹æ³•ï¼ˆmethodsï¼‰"><a href="#æ–¹æ³•ï¼ˆmethodsï¼‰" class="headerlink" title="æ–¹æ³•ï¼ˆmethodsï¼‰"></a>æ–¹æ³•ï¼ˆmethodsï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        System.out.println(max(1, 2));</span></span><br><span class="line">        <span class="keyword">int</span> max = max(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">        System.out.println(max );</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> num1, <span class="keyword">int</span> num2)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (num1 == num2) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;num1==num2&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//ç»ˆæ­¢æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (num1 &gt; num2) &#123;</span><br><span class="line">            result = num1;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            result = num2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>Java éƒ½æ˜¯å€¼ä¼ é€’</strong></p>
<h3 id="æ–¹æ³•çš„é‡è½½ï¼ˆoverrideï¼‰"><a href="#æ–¹æ³•çš„é‡è½½ï¼ˆoverrideï¼‰" class="headerlink" title="æ–¹æ³•çš„é‡è½½ï¼ˆoverrideï¼‰"></a>æ–¹æ³•çš„é‡è½½ï¼ˆoverrideï¼‰</h3><ul>
<li>é‡è½½å°±æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œæœ‰ç›¸åŒçš„å‡½æ•°åç§°ï¼Œä½†æ˜¯å½¢å¼å‚æ•°ä¸åŒçš„å‡½æ•°</li>
<li>æ–¹æ³•çš„é‡è½½è§„åˆ™ï¼š<ul>
<li>æ–¹æ³•åç§°å¿…é¡»ç›¸åŒ</li>
<li>å‚æ•°åˆ—è¡¨å¿…é¡»ä¸åŒï¼ˆä¸ªæ•°ä¸åŒï¼Œæˆ–è€…ç±»å‹ä¸åŒï¼Œå‚æ•°æ’åˆ—é¡ºåºä¸åŒç­‰ï¼‰</li>
<li>æ–¹æ³•çš„è¿”å›ç±»å‹å¯ä»¥ç›¸åŒä¹Ÿå¯ä»¥ä¸ç›¸åŒ</li>
<li>ä»…ä»…è¿”å›ç±»å‹ä¸åŒä¸è¶³ä»¥æˆä¸ºæ–¹æ³•çš„é‡è½½</li>
</ul>
</li>
</ul>
<h3 id="å‘½ä»¤è¡Œä¼ å‚æ•°"><a href="#å‘½ä»¤è¡Œä¼ å‚æ•°" class="headerlink" title="å‘½ä»¤è¡Œä¼ å‚æ•°"></a>å‘½ä»¤è¡Œä¼ å‚æ•°</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//args.length æ•°ç»„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;args[&quot;</span> + i + <span class="string">&quot;]: &quot;</span> + args[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…ˆç”¨javac æ‰“åŒ…æˆä¸€ä¸ªclassæ–‡ä»¶</p>
<p>ç„¶åæ³¨æ„è¦é€€å›åˆ°srcæ–‡ä»¶æ‰å¯ä»¥è°ƒç”¨ï¼Œå› ä¸ºé‡Œé¢æœ‰ä¸€ä¸ªåŒ…çš„æˆåˆ†</p>
<h3 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a>å¯å˜å‚æ•°</h3><p>åœ¨æ–¹æ³•å£°æ˜ä¸­ï¼Œåœ¨æŒ‡å®šå‚æ•°ç±»å‹ååŠ ä¸€ä¸ªçœç•¥å¥½ï¼ˆâ€¦ï¼‰</p>
<p>ä¸€ä¸ªæ–¹æ³•ä¸­åªèƒ½æŒ‡å®šä¸€ä¸ªå¯å˜å‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯æ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°ï¼Œä»»ä½•æ™®é€šçš„å‚æ•°éƒ½å¿…é¡»åœ¨å®ƒä¹‹å‰å£°æ˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        printMax(<span class="number">34</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">56.5</span>);</span><br><span class="line">        printMax(<span class="keyword">new</span> <span class="keyword">double</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printMax</span><span class="params">(<span class="keyword">double</span>... numbers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (numbers.length == <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;no argument passed&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> result = numbers[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numbers.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (numbers[i] &gt; result) &#123;</span><br><span class="line">                result = numbers[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;The max value is &quot;</span> + result);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h3 id="é€’å½’ï¼š"><a href="#é€’å½’ï¼š" class="headerlink" title="é€’å½’ï¼š"></a>é€’å½’ï¼š</h3><ul>
<li>é€’å½’å¤´ï¼šä»€ä¹ˆæ—¶å€™<strong>ä¸è°ƒç”¨è‡ªèº«æ–¹æ³•</strong>ã€‚å¦‚æœæ²¡æœ‰å¤´ï¼Œå°±ä¼šé™·å…¥æ­»å¾ªç¯</li>
<li>é€’å½’ä½“ï¼šä»€ä¹ˆæ—¶å€™éœ€è¦è°ƒç”¨è‡ªèº«çš„æ–¹æ³•</li>
</ul>
<p>åŸºæ•°æ¯”è¾ƒå°çš„æ•°å­—å»ºè®®ç”¨é€’å½’ï¼Œå¦‚æœæ•°å­—å¤ªå¤šï¼Œä¼šå‡ºç°å‹æ ˆï¼Œç„¶åå†…å­˜æº¢å‡º</p>
<h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><ul>
<li>æ•°ç»„æ˜¯ç›¸åŒç±»å‹æ•°æ®çš„æœ‰åºé›†åˆ</li>
<li>æ•°ç»„æè¿°çš„æ˜¯ç›¸åŒç±»å‹çš„è‹¥å¹²æ•°æ®ï¼ŒæŒ‰ç…§ä¸€å®šçš„å…ˆåæ¬¡åºæ’åˆ—ç»„åˆè€Œæˆ</li>
<li>å…¶ä¸­ä¸€ä¸ªæ•°æ®ç§°ä½œä¸€ä¸ªæ•°ç»„å…ƒç´ ï¼Œæ¯ä¸ªæ•°ç»„å…ƒç´ å¯ä»¥é€šè¿‡ä¸€ä¸ªä¸‹æ ‡æ¥è¿›è¡Œè®¿é—®ï¼ˆä»0å¼€å§‹ï¼‰</li>
</ul>
<p>æ•°ç»„çš„å£°æ˜ä»¥åŠåˆ›å»º</p>
<ul>
<li>é¦–å…ˆå¿…é¡»å£°æ˜æ•°ç»„å˜é‡ï¼Œæ‰èƒ½åœ¨ç¨‹åºä¸­ä½¿ç”¨æ•°ç»„</li>
<li>javaä½¿ç”¨newæ¥åˆ›å»ºæ•°ç»„</li>
<li>æ•°ç»„çš„å…ƒç´ æ˜¯é€šè¿‡ç´¢å¼•æ¥è¿›è¡Œè®¿é—®çš„ï¼Œæ•°ç»„ç´¢å¼•ä»</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo01</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å˜é‡çš„ç±»å‹ å˜é‡çš„åå­— = å˜é‡çš„å€¼ï¼›</span></span><br><span class="line">    <span class="comment">// æ•°ç»„çš„ç±»å‹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums; <span class="comment">//1. å®šä¹‰</span></span><br><span class="line"><span class="comment">//        int nums2[]; //2.æ•ˆæœç›¸åŒï¼Œä½†ä¸æ˜¯é¦–é€‰çš„æ–¹æ³•</span></span><br><span class="line">        nums = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>]; <span class="comment">// è¿™é‡Œé¢å¯ä»¥å­˜åœ¨10ä¸ªå˜é‡</span></span><br><span class="line">        <span class="comment">//3. ç»™æ•°ç»„å…ƒç´ æ¥è¿›è¡Œèµ‹å€¼</span></span><br><span class="line">        nums[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        nums[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">        nums[<span class="number">2</span>] = <span class="number">3</span>;</span><br><span class="line">        nums[<span class="number">3</span>] = <span class="number">4</span>;</span><br><span class="line">        nums[<span class="number">4</span>] = <span class="number">5</span>;</span><br><span class="line">        nums[<span class="number">5</span>] = <span class="number">6</span>;</span><br><span class="line">        nums[<span class="number">6</span>] = <span class="number">7</span>;</span><br><span class="line">        nums[<span class="number">7</span>] = <span class="number">8</span>;</span><br><span class="line">        nums[<span class="number">8</span>] = <span class="number">9</span>;</span><br><span class="line">        nums[<span class="number">9</span>] = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//        System.out.println(nums[1]);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            sum = sum + nums[i];</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å†…å­˜åˆ†æ"><a href="#å†…å­˜åˆ†æ" class="headerlink" title="å†…å­˜åˆ†æ"></a>å†…å­˜åˆ†æ</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/image-20210213225954841.11k4g6aaa2cg.png" alt="image-20210213225954841"></p>
<p>Java å†…å­˜</p>
<ul>
<li>å †ï¼š<ul>
<li>å­˜æ”¾newçš„å¯¹è±¡å’Œæ•°ç»„</li>
<li>å¯ä»¥è¢«æ‰€æœ‰çš„çº¿ç¨‹å…±äº«ï¼Œä¸ä¼šå­˜åœ¨åˆ«çš„å¯¹è±¡å¼•ç”¨</li>
</ul>
</li>
<li>æ ˆï¼š<ul>
<li>å­˜æ”¾åŸºæœ¬å˜é‡ç±»å‹ï¼ˆåŒ…å«è¿™ä¸ªåŸºæœ¬ç±»å‹çš„å…·ä½“æ•°å€¼ï¼‰</li>
<li>å¼•ç”¨å¯¹è±¡çš„å˜é‡ï¼ˆä¼šå­˜æ”¾è¿™ä¸ªå¼•ç”¨åœ¨å †é‡Œé¢çš„å…·ä½“åœ°å€ï¼‰</li>
</ul>
</li>
<li>æ–¹æ³•åŒºï¼š<ul>
<li>å¯ä»¥è¢«æ‰€æœ‰çš„çº¿ç¨‹å…±äº«</li>
<li>åŒ…å«äº†æ‰€æœ‰çš„classå’Œstaticçš„å˜é‡</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/image-20210213231032055.57d6zgn6z2g0.png" alt="image-20210213231032055"></p>
<p><strong>æ•°ç»„çš„é»˜è®¤åˆå§‹åŒ–</strong></p>
<p>â€‹    -     æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼Œå®ƒçš„å…ƒç´ ç›¸å½“äºç±»çš„å®ä¾‹å˜é‡ï¼Œå› æ­¤æ•°ç»„ä¸€ç»åˆ†é…ç©ºé—´ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ ä¹Ÿä¼šè¢«æŒ‰ç…§å®ä¾‹å˜é‡åŒæ ·çš„æ–¹å¼è¢«éšå¼åˆå§‹åŒ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// é™æ€åˆå§‹åŒ–ï¼š åˆ›å»º+èµ‹å€¼</span></span><br><span class="line">        <span class="keyword">int</span> a[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;;</span><br><span class="line"><span class="comment">//        System.out.println(a[0]);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// åŠ¨æ€åˆå§‹åŒ– åŒ…å«é»˜è®¤åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">        b[<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line">        System.out.println(b[<span class="number">0</span>]);</span><br><span class="line">        System.out.println(b[<span class="number">1</span>]);</span><br><span class="line">        System.out.println(b[<span class="number">2</span>]);</span><br><span class="line">        System.out.println(b[<span class="number">3</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹"><a href="#æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹" class="headerlink" title="æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹"></a>æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹</h3><ul>
<li>å…¶é•¿åº¦æ˜¯ç¡®å®šçš„ã€‚æ•°ç»„ä¸€æ—¦è¢«åˆ›å»ºï¼Œå®ƒçš„å¤§å°å°±æ˜¯ä¸å¯ä»¥è¢«æ”¹å˜çš„</li>
<li>å…¶å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹çš„ï¼Œä¸å…è®¸å‡ºç°æ··åˆç±»å‹</li>
<li>æ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</li>
<li>æ•°ç»„å˜é‡å±äºå¼•ç”¨ç±»å‹ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯å¯¹è±¡ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ç›¸å½“äºè¯¥å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚æ•°ç»„æœ¬èº«å°±æ˜¯å¯¹è±¡ï¼Œjava çš„å¯¹è±¡éƒ½æ˜¯åœ¨å †ä¸­çš„ï¼Œå› æ­¤æ•°ç»„æ— è®ºä¿å­˜<strong>åŸå§‹ç±»å‹</strong>è¿˜æ˜¯å…¶ä»–<strong>å¯¹è±¡ç±»å‹</strong>ï¼Œ==æ•°ç»„å¯¹è±¡æœ¬èº«æ˜¯åœ¨å †ä¸­çš„==</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] arrays = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">        <span class="comment">// è¿™ç§æ–¹å¼é€‚åˆéå†æ•°ç»„ JDK1.5ï¼Œæ²¡æœ‰ä¸‹æ ‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        for (int array : arrays) &#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(array);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        printArray(arrays);</span></span><br><span class="line">        <span class="keyword">int</span>[] reverse = reverse(arrays);</span><br><span class="line">        printArray(reverse);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å°æ•°ç»„å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printArray</span><span class="params">(<span class="keyword">int</span> []arrays)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arrays.length; i++) &#123;</span><br><span class="line">            System.out.print(arrays[i] + <span class="string">&quot; &quot;</span> );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åè½¬æ•°ç»„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] reverse(<span class="keyword">int</span> arrays[]) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[arrays.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = result.length-<span class="number">1</span>; i &lt; arrays.length; i++,j--) &#123;</span><br><span class="line">            result[j] = arrays[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å¤šç»´æ•°ç»„"><a href="#å¤šç»´æ•°ç»„" class="headerlink" title="å¤šç»´æ•°ç»„"></a>å¤šç»´æ•°ç»„</h3><p>å¤šç»´æ•°ç»„å¯ä»¥çœ‹æˆæ˜¯æ•°ç»„çš„æ•°ç»„ï¼Œæ¯”å¦‚äºŒç»´æ•°ç»„å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸€ç»´æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a[][] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>][<span class="number">5</span>]</span><br><span class="line"> <span class="comment">// ä¸€ä¸ªäºŒè¡Œäº”åˆ—çš„æ•°ç»„</span></span><br></pre></td></tr></table></figure>


<h3 id="Arrays-ç±»"><a href="#Arrays-ç±»" class="headerlink" title="Arrays ç±»"></a>Arrays ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.sun.scenario.effect.impl.sw.sse.SSEBlend_SRC_OUTPeer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo06</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] a = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">9090</span>, <span class="number">32132</span>, <span class="number">543</span>, <span class="number">21</span>, <span class="number">3</span>, <span class="number">23</span>&#125;;</span><br><span class="line"><span class="comment">//        System.out.println(a);</span></span><br><span class="line">        <span class="comment">// ä¸å»ºè®®é‡å¤é€ è½®å­</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å°æ•°ç»„å…ƒç´ Arrays.toString(a)</span></span><br><span class="line">        System.out.println(Arrays.toString(a));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ•°ç»„è¿›è¡Œæ’åº</span></span><br><span class="line"></span><br><span class="line">        Arrays.sort(a);</span><br><span class="line">        System.out.println(Arrays.toString(a));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// fill å¡«å……</span></span><br><span class="line">        Arrays.fill(a,<span class="number">0</span>);</span><br><span class="line">        System.out.println(Arrays.toString(a));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo07</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] a = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">22</span>, <span class="number">34</span>, <span class="number">56</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span>[] sort = sort(a);</span><br><span class="line">        System.out.println(Arrays.toString(sort));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†’æ³¡æ’åº</span></span><br><span class="line">    <span class="comment">// 1. æ¯”è¾ƒæ•°ç»„ä¸­ä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ•°æ¯”ç¬¬äºŒä¸ªæ•°å¤§ï¼Œæˆ‘ä»¬å°±äº¤æ¢ä»–ä»¬çš„ä½ç½®</span></span><br><span class="line">    <span class="comment">// 2. æ¯ä¸€æ¬¡æ¯”è¾ƒï¼Œéƒ½ä¼šäº§ç”Ÿå‡ºä¸€ä¸ªæœ€å¤§æˆ–è€…æœ€å°çš„æ•°å­—</span></span><br><span class="line">    <span class="comment">// 3. ä¸‹ä¸€æ¬¡å¯ä»¥å°‘ä¸€æ¬¡æ’åº</span></span><br><span class="line">    <span class="comment">// 4. ä»¥æ­¤å¾ªç¯ï¼Œç›´åˆ°ç»“æŸ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] sort(<span class="keyword">int</span>[] array ) &#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> flag = <span class="keyword">false</span>; <span class="comment">//é€šè¿‡flagæ ‡è¯†ç¬¦æ¥å‡å°‘æ²¡æœ‰æ„ä¹‰æ¯”è¾ƒ</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; array.length-<span class="number">1</span>-i; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (array[j + <span class="number">1</span>] &lt; array[j]) &#123;</span><br><span class="line">                    tmp = array[j];</span><br><span class="line">                    array[j] = array[j + <span class="number">1</span>];</span><br><span class="line">                    array[j + <span class="number">1</span>] = tmp;</span><br><span class="line">                    flag = <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (flag == <span class="keyword">false</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çœ‹åˆ°åµŒå¥—å¾ªç¯ï¼Œåº”è¯¥ç«‹é©¬å°±å¯ä»¥å¾—å‡ºè¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n2)</p>
<h3 id="ç¨€ç–æ•°ç»„"><a href="#ç¨€ç–æ•°ç»„" class="headerlink" title="ç¨€ç–æ•°ç»„"></a>ç¨€ç–æ•°ç»„</h3><ul>
<li>å½“ä¸€ä¸ªæ•°ç»„å¤§éƒ¨åˆ†çš„å…ƒç´ ä¸º0ï¼Œæˆ–è€…ä¸ºåŒä¸€å€¼çš„æ•°ç»„æ—¶å€™ï¼Œå¯ä»¥ç”¨ç¨€ç–æ•°ç»„æ¥ä¿å­˜è¯¥æ•°ç»„</li>
<li>ç¨€ç–æ•°ç»„çš„å¤„ç†æ–¹å¼ä¸€èˆ¬æ˜¯ï¼š<ul>
<li>è®°å½•æ•°ç»„ä¸€å…±æœ‰å‡ èˆªå‡ åˆ—ï¼Œæœ‰å¤šå°‘ä¸ªä¸åŒçš„å€¼</li>
<li>æŠŠå…·æœ‰ä¸åŒå€¼çš„å…ƒç´ å’Œè¡Œåˆ—åŠå€¼è®°å½•åœ¨ä¸€ä¸ªå°è§„æ¨¡çš„æ•°ç»„ä¸­ï¼Œä»è€Œç¼©å°ç¨‹åºçš„è§„æ¨¡</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo08</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„11*11ï¼Œ 0 æ²¡æœ‰æ£‹å­ï¼Œ 1ï¼šé»‘æ£‹ï¼Œ2ï¼šç™½æ£‹</span></span><br><span class="line">        <span class="keyword">int</span>[][] array1 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">11</span>][<span class="number">11</span>];</span><br><span class="line">        array1[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">        array1[<span class="number">2</span>][<span class="number">3</span>] = <span class="number">2</span>;</span><br><span class="line"><span class="comment">//        è¾“å‡ºåŸå§‹æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] ints : array1) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> anInt : ints) &#123;</span><br><span class="line">                System.out.print(anInt + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è½¬æ¢ä¸ºç¨€ç–æ•°ç»„</span></span><br><span class="line">        <span class="comment">// è·å–æœ‰æ•ˆå€¼çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">11</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (array1[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                    sum++;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;æœ‰æ•ˆå€¼çš„ä¸ªæ•°æ˜¯ï¼š&quot;</span> + sum);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. åˆ›å»ºä¸€ä¸ªç¨€ç–æ•°ç»„</span></span><br><span class="line">        <span class="keyword">int</span>[][] array2 = <span class="keyword">new</span> <span class="keyword">int</span>[sum + <span class="number">1</span>][<span class="number">3</span>];</span><br><span class="line">        array2[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">11</span>;</span><br><span class="line">        array2[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">11</span>;</span><br><span class="line">        array2[<span class="number">0</span>][<span class="number">2</span>] = sum;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éå†äºŒç»´æ•°ç»„ï¼Œå°†éé›¶çš„å€¼ï¼Œå­˜æ”¾åœ¨ç¨€ç–æ•°ç»„ä¸­</span></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array1.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; array1[i].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (array1[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                    count++;</span><br><span class="line">                    array2[count][<span class="number">0</span>] = i;</span><br><span class="line">                    array2[count][<span class="number">1</span>] = j;</span><br><span class="line">                    array2[count][<span class="number">2</span>] = array1[i][j];</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;==========&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¾“å‡ºç¨€ç–æ•°ç»„&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array2.length; i++) &#123;</span><br><span class="line">            System.out.println(array2[i][<span class="number">0</span>] + <span class="string">&quot;\t&quot;</span> +</span><br><span class="line">                    array2[i][<span class="number">1</span>] + <span class="string">&quot;\t&quot;</span> +</span><br><span class="line">                    array2[i][<span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;==========&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿˜åŸ&quot;</span>);</span><br><span class="line">        <span class="comment">// 1. è¯»å–ç¨€ç–æ•°ç»„</span></span><br><span class="line">        <span class="keyword">int</span> [][] array3 = <span class="keyword">new</span> <span class="keyword">int</span>[array2[<span class="number">0</span>][<span class="number">0</span>]][array2[<span class="number">0</span>][<span class="number">1</span>]];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. ç»™å…¶ä¸­çš„å…ƒç´ è¿˜åŸå®ƒçš„å€¼</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; array2.length; i++) &#123;</span><br><span class="line">            array3[array2[i][<span class="number">0</span>]][array2[i][<span class="number">1</span>]] = array2[i][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3. æ‰“å°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] ints : array3) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> anInt : ints) &#123;</span><br><span class="line">                System.out.print(anInt + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><ul>
<li>é¢å‘è¿‡ç¨‹æ€æƒ³ ï¼ˆçº¿æ€§æ€ç»´ï¼‰<ul>
<li>æ­¥éª¤æ¸…æ™°ç®€å•ï¼Œç¬¬ä¸€æ­¥åšä»€ä¹ˆç¬¬äºŒéƒ¨åšä»€ä¹ˆ</li>
<li>é¢å¯¹è¿‡ç¨‹é€‚åˆå¤„ç†ä¸€äº›è¾ƒä¸ºç®€å•çš„é—®é¢˜</li>
</ul>
</li>
<li>é¢å‘å¯¹è±¡æ€æƒ³<ul>
<li>ç‰©ä»¥ç±»èšï¼Œåˆ†ç±»çš„æ€ç»´æ¨¡å¼ï¼Œæ€è€ƒé—®é¢˜é¦–å…ˆä¼šè§£å†³é—®é¢˜éœ€è¦å“ªäº›åˆ†ç±»ï¼Œç„¶åå¯¹è¿™äº›ç±»è¿›è¡Œå•ç‹¬æ€è€ƒï¼Œæœ€åæ‰å¯¹æŸä¸ªåˆ†ç±»ä¸‹çš„ç»†èŠ‚è¿›è¡Œé¢å‘è¿‡ç¨‹çš„æ€ç´¢</li>
<li>é¢å‘å¯¹è±¡é€‚åˆå¤„ç†å¤æ‚çš„é—®é¢˜ï¼Œé€‚åˆå¤„ç†éœ€è¦å¤šäººåä½œçš„é—®é¢˜</li>
<li>å±æ€§+æ–¹æ³•å°±æ˜¯ä¸€ä¸ªç±»</li>
</ul>
</li>
<li>å¯¹äºæè¿°å¤æ‚çš„äº‹ç‰©ï¼Œä¸ºäº†ä»å®è§‚ä¸Šè¿›è¡ŒæŠŠæ¡ï¼Œä»æ•´ä½“ä¸Šè¿›è¡Œåˆç†åˆ†æï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ€è·¯æ¥åˆ†ææ•´ä¸ªç³»ç»Ÿã€‚ä½†æ˜¯ï¼Œå…·ä½“åˆ°å›´è§‚æ“ä½œï¼Œèè‹’éœ€è¦ä½¿ç”¨é¢å‘è¿‡ç¨‹çš„æ€è·¯æ¥è¿›è¡Œå¤„ç†</li>
</ul>
<p>OOPæœ¬è´¨ï¼š==ä»¥ç±»çš„æ–¹å¼ç»„ç»‡ä»£ç ï¼Œä»¥å¯¹è±¡çš„ç»„ç»‡ï¼ˆå°è£…ï¼‰æ•°æ®==</p>
<p>ä¸‰å¤§ç‰¹æ€§ï¼š</p>
<ul>
<li>å°è£…</li>
<li>ç»§æ‰¿</li>
<li>å¤šæ€</li>
</ul>
<p>ä»è®¤è¯†è§’åº¦è€ƒè™‘æ˜¯å…ˆæœ‰å¯¹è±¡ï¼Œåæœ‰ç±»</p>
<p>å¯¹è±¡ï¼Œæ˜¯å…·ä½“çš„äº‹ç‰©</p>
<p>ç±»ï¼Œæ˜¯æŠ½è±¡çš„ï¼Œæ˜¯å¯¹å¯¹è±¡çš„æŠ½è±¡</p>
<p><strong>ç±»æ˜¯ä¸€ç§æŠ½è±¡çš„æ•°æ®ç±»å‹ï¼Œå®ƒæ˜¯å¯¹æŸä¸€ç±»é£Ÿç‰©çš„æ•´ä½“æè¿°/å®šä¹‰ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ä»£è¡¨æŸä¸€ä¸ªå…·ä½“çš„äº‹ç‰©</strong></p>
<ul>
<li>åŠ¨ç‰©ï¼Œæ¤ç‰©ï¼Œæ‰‹æœºï¼Œç”µè„‘</li>
<li>Person ç±»ï¼ŒPetç±»ï¼ŒCarç±»ï¼Œè¿™äº›ç±»æ˜¯ç”¨æ¥æè¿°/å®šä¹‰æŸä¸€ç±»å…·ä½“çš„äº‹ç‰©åº”è¯¥å…·å¤‡çš„ç‰¹ç‚¹å’Œè¡Œä¸º</li>
</ul>
<p><strong>å¯¹è±¡æ˜¯æŠ½è±¡æ¦‚å¿µçš„å…·ä½“å®ä¾‹</strong></p>
<ul>
<li>å¼ ä¸‰æ˜¯äººçš„ä¸€ä¸ªå…·ä½“å®ä¾‹ï¼Œå¼ ä¸‰å®¶é‡Œçš„æ—ºè´¢å°±æ˜¯ç‹—çš„ä¸€ä¸ªå…·ä½“å®ä¾‹</li>
<li>èƒ½ç‹—ä½“ç°å‡ºç‰¹ç‚¹ï¼Œå±•ç°å‡ºåŠŸèƒ½çš„æ˜¯å…·ä½“çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µ</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é™æ€æ–¹æ³• static</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Student.say();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éé™æ€æ–¹æ³•</span></span><br><span class="line">    <span class="comment">// å®ä¾‹åŒ–è¿™ä¸ªç±» new</span></span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        student.say02();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// static æ˜¯å’Œç±»ä¸€èµ·åŠ è½½çš„</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">a</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//        b(); //ä¼šæŠ¥é”™ ï¼ˆä½†å¦‚æœä¸¤ä¸ªmethodéƒ½æ˜¯staticä¸ä¼šï¼Œéƒ½ä¸æ˜¯ï¼Œä¹Ÿä¸ä¼šï¼›åªæœ‰ä¸€ä¸ªæ˜¯å¦ä¸€ä¸ªä¸æ˜¯æ‰å‡ºé”™ï¼‰</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç±»å®ä¾‹åŒ–ä¹‹åæ‰å­˜åœ¨çš„</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">b</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo01;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­¦ç”Ÿç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­¦ç”Ÿè¯´è¯äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">say02</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­¦ç”Ÿè¯´è¯äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å®é™…å‚æ•°å’Œå½¢å¼å‚æ•°çš„å€¼éœ€è¦ä¿æŒä¸€è‡´</span></span><br><span class="line">        <span class="keyword">int</span> add = Demo03.add(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">        System.out.println(add);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>  <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å€¼ä¼ é€’"><a href="#å€¼ä¼ é€’" class="headerlink" title="å€¼ä¼ é€’"></a>å€¼ä¼ é€’</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo01;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å€¼ä¼ é€’</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line">        System.out.println(a);</span><br><span class="line">        Demo04.change(a);</span><br><span class="line">        System.out.println(a);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿”å›å€¼æ˜¯ç©º</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">        a = <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å¼•ç”¨ä¼ é€’"><a href="#å¼•ç”¨ä¼ é€’" class="headerlink" title="å¼•ç”¨ä¼ é€’"></a>å¼•ç”¨ä¼ é€’</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo01;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•ç”¨ä¼ é€’ï¼šå¯¹è±¡ï¼Œ æœ¬è´¨è¿˜æ˜¯å€¼ä¼ é€’</span></span><br><span class="line"><span class="comment">// å¼•ç”¨ä¼ é€’æ˜¯ä¼ é€’çš„ç±»çš„åœ°å€</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¹è±¡ï¼Œå†…å­˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo05</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        System.out.println(person.name);</span><br><span class="line"></span><br><span class="line">        Demo05.change(person);</span><br><span class="line">        System.out.println(person.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(Person person)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// person æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼šæŒ‡å‘çš„æ˜¯---&gt; Person person = new Person() è¿™æ˜¯ä¸€ä¸ªå…·ä½“çš„äººï¼Œå±æ€§å¯ä»¥æ”¹å˜</span></span><br><span class="line">        person.name = <span class="string">&quot;yuxuan&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰äº†ä¸€ä¸ªPerson ç±»ï¼Œæœ‰ä¸€ä¸ªå±æ€§ï¼šname</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name; <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="åˆ›å»ºä¸åˆå§‹åŒ–å¯¹è±¡"><a href="#åˆ›å»ºä¸åˆå§‹åŒ–å¯¹è±¡" class="headerlink" title="åˆ›å»ºä¸åˆå§‹åŒ–å¯¹è±¡"></a>åˆ›å»ºä¸åˆå§‹åŒ–å¯¹è±¡</h3><ul>
<li><strong>ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå¯¹è±¡</strong></li>
<li>ä½¿ç”¨newå…³é”®å­—åˆ›å»ºçš„æ—¶å€™ï¼Œé™¤äº†åˆ†é…å†…å­˜ç©ºé—´ä¹‹å¤–ï¼Œè¿˜ä¼šç»™åˆ›å»ºå¥½çš„å¯¹è±¡è¿›è¡Œé»˜è®¤çš„åˆå§‹åŒ–ä»¥åŠç±»ä¸­æ„é€ å™¨çš„è°ƒç”¨</li>
<li>ç±»ä¸­æ„é€ å™¨ä¹Ÿè¢«ç§°ä¸ºæ„é€ æ–¹æ³•ï¼Œå®åœ¨è¿›è¡Œç©¿ä»¶å¯¹è±¡çš„æ—¶å€™å¿…é¡»è¦è°ƒç”¨çš„ã€‚å¹¶ä¸”æ„é€ å™¨æœ‰ä¸€ä¸‹å‡ ä¸ªç‰¹ç‚¹<ul>
<li>å¿…é¡»å’Œç±»çš„åå­—ç›¸åŒ</li>
<li>å¿…é¡»æ²¡æœ‰è¿”å›ç±»å‹ï¼Œä¹Ÿä¸èƒ½å†™void</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo02;</span><br><span class="line"><span class="comment">// ä¸€ä¸ªé¡¹ç›®æœ€å¥½åªæœ‰ä¸€ä¸ªmainæ–¹æ³•ï¼Œæµ‹è¯•ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ç±»æŠ½è±¡çš„ï¼Œéœ€è¦å®ä¾‹åŒ–</span></span><br><span class="line">        <span class="comment">// ç±»å®ä¾‹åŒ–åä¼šè¿”å›ä¸€ä¸ªè‡ªå·±çš„å¯¹è±¡ï¼</span></span><br><span class="line">        <span class="comment">// student å¯¹è±¡å°±æ˜¯ä¸€ä¸ªStudentç±»çš„å…·ä½“å®ä¾‹ï¼</span></span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        Student xiaoming = <span class="keyword">new</span> Student();</span><br><span class="line"></span><br><span class="line">        System.out.println(xiaoming.age);</span><br><span class="line">        System.out.println(xiaoming.name);</span><br><span class="line"></span><br><span class="line">        xiaoming.name = <span class="string">&quot;å°æ˜&quot;</span>;</span><br><span class="line">        xiaoming.age = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        System.out.println(xiaoming.age);</span><br><span class="line">        System.out.println(xiaoming.name);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æ„é€ å™¨"><a href="#æ„é€ å™¨" class="headerlink" title="æ„é€ å™¨"></a>æ„é€ å™¨</h3><p><strong>æ„é€ å™¨</strong><br>    1. å’Œç±»åç›¸åŒ<br>    2. æ²¡æœ‰è¿”å›å€¼<br><strong>ä½œç”¨</strong><br>    1. new æœ¬è´¨åœ¨è°ƒç”¨æ„é€ æ–¹æ³•<br>    2. åˆå§‹åŒ–å¯¹è±¡çš„å€¼<br><strong>æ³¨æ„ç‚¹ï¼š</strong><br>    1. å®šä¹‰æœ‰å‚æ„é€ åï¼Œå¦‚æœæƒ³ä½¿ç”¨æ— å‚æ„é€ ï¼Œæ˜¾ç¤ºçš„å®šä¹‰ä¸€ä¸ªæ— å‚çš„æ„é€ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä¸€ä¸ªç±»å³ä½¿ä»€ä¹ˆéƒ½ä¸å†™ï¼Œä¹Ÿä¼šå­˜åœ¨ä¸€ä¸ªæ–¹æ³•</span></span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºçš„å®šä¹‰ä¸€ä¸ªæ„é€ å™¨</span></span><br><span class="line"></span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®ä¾‹åŒ–åˆå§‹å€¼</span></span><br><span class="line">    <span class="comment">// 1. ä½¿ç”¨newå…³é”®å­—ï¼Œå¿…é¡»æ˜¯åœ¨è°ƒç”¨æ„é€ å™¨</span></span><br><span class="line">    <span class="comment">// 2. ç”¨æ¥åˆå§‹åŒ–å€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//        this.name = &quot;yuxuan&quot;;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ‰å‚æ„é€ :ä¸€æ—¦å®šä¹‰äº†æœ‰å‚æ„é€ ï¼Œæ— å‚å°±å¿…é¡»æ˜¾ç¤ºå®šä¹‰</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//control + N è‡ªåŠ¨ç”Ÿæˆæ„é€ å™¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//        Person person = new Person();</span></span><br><span class="line"><span class="comment">        Person person = new Person(&quot;yuxuan&quot;);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        System.out.println(person.name);</span></span><br><span class="line"><span class="comment"> æ„é€ å™¨ï¼š</span></span><br><span class="line"><span class="comment"> 1ã€‚ å’Œç±»åç›¸åŒ</span></span><br><span class="line"><span class="comment"> 2ã€‚ æ²¡æœ‰è¿”å›å€¼</span></span><br><span class="line"><span class="comment"> ä½œç”¨</span></span><br><span class="line"><span class="comment"> 1ã€‚ new æœ¬è´¨åœ¨è°ƒç”¨æ„é€ æ–¹æ³•</span></span><br><span class="line"><span class="comment"> 2ã€‚ åˆå§‹åŒ–å¯¹è±¡çš„å€¼</span></span><br><span class="line"><span class="comment"> æ³¨æ„ç‚¹ï¼š</span></span><br><span class="line"><span class="comment"> 1ã€‚ å®šä¹‰æœ‰å‚æ„é€ åï¼Œå¦‚æœæƒ³ä½¿ç”¨æ— å‚æ„é€ ï¼Œæ˜¾ç¤ºçš„å®šä¹‰ä¸€ä¸ªæ— å‚çš„æ„é€ </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> alt+ N</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> this. = å‚æ•°ä¼ è¿›æ¥çš„å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>


<h3 id="åˆ›å»ºå¯¹è±¡å†…å­˜ä¸åˆ†æ"><a href="#åˆ›å»ºå¯¹è±¡å†…å­˜ä¸åˆ†æ" class="headerlink" title="åˆ›å»ºå¯¹è±¡å†…å­˜ä¸åˆ†æ"></a>åˆ›å»ºå¯¹è±¡å†…å­˜ä¸åˆ†æ</h3><p>å †ï¼šå­˜å‚¨å¯¹è±¡å’Œæ•°ç»„å…ƒç´ ï¼Œæ ˆï¼šå­˜å‚¨ç³»ç»Ÿè°ƒç”¨å˜é‡ï¼ˆä¾‹å¦‚å¼•ç”¨ï¼‰</p>
<p>å †ï¼šå­˜æ”¾newçš„æ•°ç»„å’Œå¯¹è±¡ï¼Œæ ˆï¼šå­˜æ”¾åŸºæœ¬å˜é‡ç±»å‹å’Œå¼•ç”¨å˜é‡</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/image-20210214170938226.us87tdkrnv4.png" alt="image-20210214170938226"></p>
<h3 id="ç±»ä¸å¯¹è±¡çš„å°ç»“"><a href="#ç±»ä¸å¯¹è±¡çš„å°ç»“" class="headerlink" title="ç±»ä¸å¯¹è±¡çš„å°ç»“"></a>ç±»ä¸å¯¹è±¡çš„å°ç»“</h3><ol>
<li>ç±»ä¸å¯¹è±¡<ol>
<li>ç±»æ˜¯ä¸€ä¸ªæ¨¡ç‰ˆï¼Œå¯¹è±¡æ˜¯ä¸€ä¸ªå…·ä½“çš„å®ä¾‹</li>
</ol>
</li>
<li>æ–¹æ³•<ol>
<li>å®šä¹‰ï¼Œè°ƒç”¨</li>
</ol>
</li>
<li>å¯¹è±¡çš„å¼•ç”¨<ol>
<li>å¼•ç”¨ç±»å‹ï¼šå…«å¤§åŸºæœ¬ç±»å‹ï¼ˆ8ï¼‰</li>
<li>å¯¹è±¡æ˜¯é€šè¿‡å¼•ç”¨æ¥æ“ä½œçš„ï¼šæ ˆâ€“ã€‹å †</li>
</ol>
</li>
<li>å±æ€§ï¼šå­—æ®µfield æˆå‘˜å˜é‡<ol>
<li>é»˜è®¤åˆå§‹åŒ–<ol>
<li>æ•°å­—ï¼š 0ï¼Œ 0.0</li>
<li>charï¼š u0000</li>
<li>booleanï¼šfalse</li>
<li>å¼•ç”¨ï¼š null</li>
<li>ä¿®é¥°ç¬¦ å±æ€§ç±»å‹ å±æ€§å = å±æ€§å€¼</li>
</ol>
</li>
</ol>
</li>
<li>å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨<ol>
<li><ul>
<li>å¿…é¡»ä½¿ç”¨new å…³é”®å­—åˆ›å»ºå¯¹è±¡ æ„é€ å™¨ Person Yuxuan = new Person</li>
<li>å¯¹è±¡çš„å±æ€§ï¼šyuxuan.name</li>
<li>å¯¹è±¡çš„æ–¹æ³•ï¼šyuxuan.sleep()</li>
</ul>
</li>
</ol>
</li>
<li>ç±»<ol>
<li>é™æ€çš„å±æ€§ å±æ€§</li>
<li>åŠ¨æ€çš„è¡Œä¸º æ–¹æ³•</li>
</ol>
</li>
<li>å°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€</li>
</ol>
<h3 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h3><p><code>é«˜å†…èšï¼Œä½è€¦åˆ</code>:</p>
<p>é«˜å†…èšï¼šç±»çš„å†…éƒ¨æ•°æ®æ“ä½œç»†èŠ‚è‡ªå·±å®Œæˆï¼Œä¸å…è®¸å¤–éƒ¨å¹²æ¶‰</p>
<p>ä½è€¦åˆï¼šå°½é‡æš´éœ²å°‘é‡çš„æ–¹æ³•ç»™å¤–éƒ¨ä½¿ç”¨</p>
<p><code>å°è£…</code>ï¼ˆæ•°æ®çš„éšè—ï¼‰</p>
<ul>
<li>é€šå¸¸ï¼Œåº”è¯¥ç¦æ­¢è®¿é—®ä¸€ä¸ªå¯¹è±¡ä¸­æ•°æ®çš„å®é™…è¡¨ç¤ºï¼Œè€Œåº”è¯¥é€šè¿‡æ“ä½œæ¥å£æ¥è¿›è¡Œè®¿é—®ï¼Œè¿™ç§°ä¸ºä¿¡æ¯çš„éšè—</li>
</ul>
<p>==å±æ€§ç§æœ‰ï¼Œget/set==</p>
<p><strong>å¥½å¤„</strong>ï¼š</p>
<ol>
<li>æé«˜ç¨‹åºçš„å®‰å…¨æ€§ï¼Œä¿æŠ¤æ•°æ®</li>
<li>éšè—ä»£ç çš„å®ç°ç»†èŠ‚</li>
<li>ç»Ÿä¸€æ¥å£</li>
<li>æé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§</li>
</ol>
<h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>extends</p>
<ul>
<li>ç»§æ‰¿æ˜¯ç±»å’Œç±»ä¹‹é—´çš„å…³ç³»</li>
<li>ç»§æ‰¿å…³ç³»çš„ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªæ˜¯çˆ¶ç±»ï¼Œä¸€ä¸ªæ˜¯å­ç±»</li>
<li>åœ¨Javaä¸­ï¼Œæ‰€æœ‰çš„ç±»ï¼Œéƒ½é»˜è®¤ç›´æ¥æˆ–è€…é—´æ¥ç»§æ‰¿Objectç±»</li>
</ul>
<p>control+h å¯ä»¥çœ‹ç»“æ„</p>
<p><strong>javaç±»ä¸­åªæœ‰å•ç»§æ‰¿ï¼Œæ²¡æœ‰å¤šç»§æ‰¿</strong></p>
<p>ç§æœ‰çš„å¯ä»¥è¢«ç»§æ‰¿ï¼Œä½†æ‹’ç»è¢«è®¿é—®ï¼ˆæ— æ³•ç»§æ‰¿ï¼‰</p>
<p>è°ƒç”¨å¼—é›·å¾·æ„é€ å™¨ï¼Œå¿…é¡»è¦åœ¨å­ç±»çš„ç¬¬ä¸€è¡Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo05;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­ç±»ç»§æ‰¿äº†çˆ¶ç±»ï¼Œå°±ä¼šæ‹¥æœ‰çˆ¶ç±»çš„å…¨éƒ¨æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name = <span class="string">&quot;dacy&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        System.out.println(name);</span><br><span class="line">        System.out.println(<span class="keyword">this</span>.name);</span><br><span class="line">        System.out.println(<span class="keyword">super</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>super</strong> <strong>æ³¨æ„ç‚¹</strong></p>
<ol>
<li>superè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œå¿…é¡»åœ¨ç‹—ä»”æ–¹æ³•çš„ç¬¬ä¸€ä¸ª</li>
<li>super å¿…é¡»åªèƒ½å‡ºç°åœ¨å­ç±»çš„æ–¹æ³•æˆ–è€…æ„é€ æ–¹æ³•ä¸­ï¼</li>
<li>super å’Œthisä¸èƒ½åŒæ—¶è°ƒç”¨æ„é€ æ–¹å¼</li>
</ol>
<p><strong>VS this:</strong></p>
<ul>
<li><p>ä»£è¡¨çš„å¯¹è±¡ä¸åŒï¼š</p>
<p>this: æœ¬èº«è°ƒç”¨è€…çš„è¿™ä¸ªå¯¹è±¡</p>
<p>superï¼šä»£è¡¨çˆ¶ç±»å¯¹è±¡çš„åº”ç”¨</p>
</li>
<li><p>å‰æ</p>
<p>thisï¼šæ²¡æœ‰ç»§æ‰¿ä¹Ÿå¯ä»¥ä½¿ç”¨</p>
<p>superï¼šåªèƒ½åœ¨ç»§æ‰¿æ¡ä»¶ä¸‹æ‰å¯ä»¥ä½¿ç”¨</p>
</li>
<li><p>æ„é€ æ–¹æ³•</p>
<p>this() æœ¬ç±»çš„æ„é€ </p>
<p>super() :çˆ¶ç±»çš„æ„é€ </p>
</li>
</ul>
<h3 id="é‡å†™"><a href="#é‡å†™" class="headerlink" title="é‡å†™"></a>é‡å†™</h3><p>éœ€è¦æœ‰ç»§æ‰¿å…³ç³»ï¼Œå­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼</p>
<ol>
<li>æ–¹æ³•åç§°å¿…é¡»ç›¸åŒ</li>
<li>å‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒ</li>
<li>ä¿®é¥°ç¬¦ï¼šèŒƒå›´å¯ä»¥æ‰©å¤§ï¼špublic&gt;Protected&gt;default&gt;private</li>
<li>æŠ›å‡ºçš„å¼‚å¸¸:èŒƒå›´ï¼Œå¯ä»¥è¢«ç¼©å°ï¼Œä½†ä¸èƒ½æ‰©å¤§ï¼šClassNotFoundException â€“&gt; Exception</li>
</ol>
<p>é‡å†™ï¼Œå­ç±»çš„æ–¹æ³•å’Œçˆ¶ç±»çš„å¿…é¡»è¦ä¸€è‡´ï¼šæ–¹æ³•ä½“ä¸åŒ</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦é‡å†™ï¼š</p>
<ol>
<li>çˆ¶ç±»çš„åŠŸèƒ½ï¼Œå­ç±»ä¸ä¸€å®šéœ€è¦ï¼Œæˆ–è€…ä¸ä¸€å®šæ»¡è¶³ï¼</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo05;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ–¹æ³•çš„è°ƒç”¨åªå’Œå·¦è¾¹ï¼Œå®šä¹‰çš„æ•°æ®ç±»å‹æœ‰å…³</span></span><br><span class="line">        <span class="comment">// é™æ€æ–¹æ³•ï¼š æ–¹æ³•çš„è°ƒç”¨åªå’Œå·¦è¾¹ï¼Œå®šä¹‰çš„æ•°æ®ç±»å‹æœ‰å…³</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// éé™æ€ï¼šé‡å†™</span></span><br><span class="line">        A a = <span class="keyword">new</span> A();</span><br><span class="line">        a.test();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// çˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘äº†å­ç±»</span></span><br><span class="line">        B b = <span class="keyword">new</span> A(); <span class="comment">// å­ç±»é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line">        b.test();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h3><ul>
<li>åŠ¨æ€ç¼–è¯‘ï¼šç±»å‹ï¼šå¯æ‰©å±•æ€§æ›´å¼º</li>
<li>ç»Ÿä¸€æ–¹æ³•å¯ä»¥æ ¹æ®å‘é€å¯¹è±¡çš„ä¸åŒè€Œé‡‡å–ä¸åŒçš„è¡Œä¸ºæ–¹å¼</li>
<li>ä¸€ä¸ªå¯¹è±¡çš„å®é™…ç±»å‹æ˜¯ç¡®å®šçš„ï¼Œä½†å¯ä»¥æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ç±»å‹æœ‰å¾ˆå¤šï¼ˆçˆ¶ç±»ï¼Œæœ‰å…³ç³»çš„ç±»ï¼‰</li>
</ul>
<p><strong>å¤šæ€å­˜åœ¨çš„æ¡ä»¶</strong></p>
<ol>
<li>æœ‰ç»§æ‰¿çš„å…³ç³»</li>
<li>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•</li>
<li>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡</li>
</ol>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ol>
<li>å¤šæ€æ˜¯æ–¹æ³•çš„å¤šæ€ï¼Œå±æ€§æ²¡æœ‰å¤šæ€</li>
<li>çˆ¶ç±»å’Œå­ç±»ï¼Œæœ‰è”ç³» ç±»å‹è½¬æ¢å¼‚å¸¸ï¼ClassCastException</li>
<li>å­˜åœ¨çš„æ¡ä»¶ï¼šç»§æ‰¿å…³ç³»ï¼Œæ–¹æ³•éœ€è¦é‡å†™ï¼Œçˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡<ol>
<li>static æ–¹æ³•ï¼Œå±äºç´¯ï¼Œå®ƒä¸å±äºå®ä¾‹</li>
<li>final å¸¸é‡</li>
<li>private æ–¹æ³•</li>
</ol>
</li>
</ol>
<p>instanceof ï¼ˆç±»å‹è½¬æ¢ï¼‰ å¼•ç”¨ç±»å‹ï¼Œåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹</p>
<ol>
<li>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡</li>
<li>æŠŠå­ç±»è½¬æ¢ä¸ºçˆ¶ç±»ï¼Œå‘ä¸Šè½¬å‹ï¼›å¯ä»¥ç›´æ¥è½¬è¿‡å»</li>
<li>æŠŠçˆ¶ç±»è½¬æ¢ä¸ºå­ç±»ï¼Œå‘ä¸‹è½¬å‹ï¼Œå¼ºåˆ¶è½¬æ¢</li>
<li>æ–¹ä¾¿æ–¹æ³•çš„è°ƒç”¨ï¼Œå‡å°‘é‡å¤çš„ä»£ç ï¼ç®€æ´</li>
<li>ï¼šæŠ½è±¡ï¼šå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo06;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä¸€ä¸ªå¯¹è±¡çš„å®é™…ç±»å‹æ˜¯ç¡®å®šçš„</span></span><br><span class="line">        <span class="comment">//new Student();</span></span><br><span class="line">        <span class="comment">// new Person();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯ä»¥æŒ‡å‘çš„å¼•ç”¨ç±»å‹å°±ä¸ç¡®å®šäº†ï¼šçˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘äº†å­ç±»</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Student èƒ½è°ƒç”¨çš„æ–¹æ³•éƒ½æ˜¯è‡ªå·±çš„æˆ–è€…ç»§æ‰¿çˆ¶ç±»çš„</span></span><br><span class="line">        Student s1 = <span class="keyword">new</span> Student();</span><br><span class="line">        <span class="comment">//Person çˆ¶ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½è°ƒç”¨å­ç±»ç‹¬æœ‰çš„æ–¹æ³•</span></span><br><span class="line">        Person s2 = <span class="keyword">new</span> Student();</span><br><span class="line">        Object s3 = <span class="keyword">new</span> Student();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯¹è±¡èƒ½æ‰§è¡Œå“ªäº›æ–¹æ³•ï¼Œä¸»è¦çœ‹å¯¹è±¡å·¦è¾¹çš„ç±»å‹ï¼Œå’Œå³è¾¹å…³ç³»ä¸å¤§</span></span><br><span class="line"></span><br><span class="line">        s2.run(); <span class="comment">// å­ç±»é‡å†™äº†çˆ¶äº²çš„æ–¹æ³•ã€‚æ‰§è¡Œå­ç±»çš„æ–¹æ³•</span></span><br><span class="line">        ((Student)s2).eat(); <span class="comment">//å­ç±»é‡å†™ç±»çˆ¶ç±»çš„æ–¹æ³•ï¼Œæ‰§è¡Œäº†å­ç±»çš„æ–¹æ³•</span></span><br><span class="line">        s1.run();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo06;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Object&gt;String</span></span><br><span class="line">        <span class="comment">//Obj&gt;Person&gt;Student</span></span><br><span class="line">        <span class="comment">//Obj&gt;Person&gt;Teacher</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//System.out.println(X instanceof Y); // èƒ½ä¸èƒ½ç¼–è¯‘é€šè¿‡ï¼åˆ¤æ–­Xå’ŒYæ˜¯å¦æœ‰çˆ¶å­å…³ç³»</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=================================&quot;</span>);</span><br><span class="line">        Object object = <span class="keyword">new</span> Student();</span><br><span class="line">        System.out.println(object <span class="keyword">instanceof</span> Student);</span><br><span class="line">        System.out.println(object <span class="keyword">instanceof</span> Person);</span><br><span class="line">        System.out.println(object <span class="keyword">instanceof</span> Object);</span><br><span class="line">        System.out.println(object <span class="keyword">instanceof</span> Teacher);</span><br><span class="line">        System.out.println(object <span class="keyword">instanceof</span> String);</span><br><span class="line">        System.out.println(<span class="string">&quot;=================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Person person = <span class="keyword">new</span> Student();</span><br><span class="line">        System.out.println(person <span class="keyword">instanceof</span> Student);</span><br><span class="line">        System.out.println(person <span class="keyword">instanceof</span> Object);</span><br><span class="line">        System.out.println(person <span class="keyword">instanceof</span> Teacher);</span><br><span class="line"><span class="comment">//        System.out.println(person instanceof String); ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        System.out.println(student <span class="keyword">instanceof</span> Student);</span><br><span class="line">        System.out.println(student <span class="keyword">instanceof</span> Object);</span><br><span class="line"><span class="comment">//        System.out.println(student instanceof Teacher);ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line"><span class="comment">//        System.out.println(student instanceof String); ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo06;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person obj = <span class="keyword">new</span> Student();</span><br><span class="line">        <span class="comment">//obj å°†è¿™ä¸ªå¯¹è±¡è½¬æ¢ä¸ºStudentç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Studentç±»å‹çš„æ–¹æ³•äº†</span></span><br><span class="line">        <span class="comment">// é«˜ &gt; ä½ è½¬éœ€è¦å¼ºåˆ¶è½¬æ¢</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//å­ç±»è½¬æ¢æˆçˆ¶ç±»ï¼Œå¯èƒ½ä¸¢å¤±è‡ªå·±æœ¬æ¥çš„ä¸€äº›æ–¹æ³•</span></span><br><span class="line">        Student student = (Student) obj;</span><br><span class="line">        student.go();</span><br><span class="line"></span><br><span class="line">        ((Student)obj).go(); <span class="comment">// æƒ³è¦ç”¨å­ç±»çš„æ–¹æ³•å°±ç›´æ¥å¼ºåˆ¶è½¬æ¢å°±è¡Œå•¦</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h3><p>ç±»åŠ è½½è¿‡ç¨‹ä¸­å°†é™æ€å˜é‡ï¼Œé™æ€æ–¹æ³•ï¼Œå¸¸é‡å­˜å…¥åˆ°æ–¹æ³•åŒº</p>
<p>é™æ€æ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡</p>
<p>Final åé¢æ–­å­ç»å­™</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo07;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="comment">//2 èµ‹åˆå§‹å€¼</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ä»£ç å—ï¼ˆåŒ¿åï¼‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ä»£ç å¿«&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1 </span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// é™æ€ä»£ç å—</span></span><br><span class="line">        System.out.println(<span class="string">&quot;é™æ€ä»£ç å—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ„é€ æ–¹æ³• &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        Person person2 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>ä½œè€…ï¼šæ„šå…¬è¦ç§»å±±<br>é“¾æ¥ï¼š<a class="link"   href="https://zhuanlan.zhihu.com/p/70110497" >https://zhuanlan.zhihu.com/p/70110497<i class="fas fa-external-link-alt"></i></a><br>æ¥æºï¼šçŸ¥ä¹<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<p><strong>Static å…³é”®å­—</strong></p>
<p><strong>ï¼ˆ1ï¼‰ç‰¹ç‚¹ï¼š</strong></p>
<p>ã€€ã€€1ã€staticæ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦ï¼Œç”¨äºä¿®é¥°æˆå‘˜ã€‚ï¼ˆæˆå‘˜å˜é‡ï¼Œæˆå‘˜å‡½æ•°ï¼‰staticä¿®é¥°çš„æˆå‘˜å˜é‡ ç§°ä¹‹ä¸ºé™æ€å˜é‡æˆ–ç±»å˜é‡ã€‚</p>
<p>ã€€ã€€2ã€staticä¿®é¥°çš„æˆå‘˜è¢«æ‰€æœ‰çš„å¯¹è±¡å…±äº«ã€‚</p>
<p>ã€€ã€€3ã€staticä¼˜å…ˆäºå¯¹è±¡å­˜åœ¨ï¼Œå› ä¸ºstaticçš„æˆå‘˜éšç€ç±»çš„åŠ è½½å°±å·²ç»å­˜åœ¨ã€‚</p>
<p>ã€€ã€€4ã€staticä¿®é¥°çš„æˆå‘˜å¤šäº†ä¸€ç§è°ƒç”¨æ–¹å¼ï¼Œå¯ä»¥ç›´æ¥è¢«ç±»åæ‰€è°ƒç”¨ï¼Œï¼ˆç±»å.é™æ€æˆå‘˜ï¼‰ã€‚</p>
<p>ã€€ã€€5ã€staticä¿®é¥°çš„æ•°æ®æ˜¯å…±äº«æ•°æ®ï¼Œå¯¹è±¡ä¸­çš„å­˜å‚¨çš„æ˜¯ç‰¹æœ‰çš„æ•°æ®ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰æˆå‘˜å˜é‡å’Œé™æ€å˜é‡çš„åŒºåˆ«ï¼š</strong></p>
<p>ã€€ã€€1ã€ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒï¼š</p>
<p>ã€€ã€€ã€€ã€€æˆå‘˜å˜é‡éšç€å¯¹è±¡çš„åˆ›å»ºè€Œå­˜åœ¨éšç€å¯¹è±¡çš„å›æ”¶è€Œé‡Šæ”¾ã€‚</p>
<p>ã€€ã€€ã€€ã€€é™æ€å˜é‡éšç€ç±»çš„åŠ è½½è€Œå­˜åœ¨éšç€ç±»çš„æ¶ˆå¤±è€Œæ¶ˆå¤±ã€‚</p>
<p>ã€€ã€€2ã€è°ƒç”¨æ–¹å¼ä¸åŒï¼š</p>
<p>ã€€ã€€ã€€ã€€æˆå‘˜å˜é‡åªèƒ½è¢«å¯¹è±¡è°ƒç”¨ã€‚</p>
<p>ã€€ã€€ã€€ã€€é™æ€å˜é‡å¯ä»¥è¢«å¯¹è±¡è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨ç±»åè°ƒç”¨ã€‚ï¼ˆæ¨èç”¨ç±»åè°ƒç”¨ï¼‰</p>
<p>ã€€ã€€3ã€åˆ«åä¸åŒï¼š</p>
<p>ã€€ã€€ã€€ã€€æˆå‘˜å˜é‡ä¹Ÿç§°ä¸ºå®ä¾‹å˜é‡ã€‚</p>
<p>ã€€ã€€ã€€ã€€é™æ€å˜é‡ç§°ä¸ºç±»å˜é‡ã€‚</p>
<p>ã€€ã€€4ã€æ•°æ®å­˜å‚¨ä½ç½®ä¸åŒï¼š</p>
<p>ã€€ã€€ã€€ã€€æˆå‘˜å˜é‡æ•°æ®å­˜å‚¨åœ¨å †å†…å­˜çš„å¯¹è±¡ä¸­ï¼Œæ‰€ä»¥ä¹Ÿå«å¯¹è±¡çš„ç‰¹æœ‰æ•°æ®ã€‚</p>
<p>ã€€ã€€ã€€ã€€é™æ€å˜é‡æ•°æ®å­˜å‚¨åœ¨æ–¹æ³•åŒºï¼ˆå…±äº«æ•°æ®åŒºï¼‰çš„é™æ€åŒºï¼Œæ‰€ä»¥ä¹Ÿå«å¯¹è±¡çš„å…±äº«æ•°æ®ã€‚</p>
<p><strong>ï¼ˆ3ï¼‰é™æ€ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„çš„äº‹é¡¹ï¼š</strong></p>
<p>ã€€ã€€1ã€é™æ€æ–¹æ³•åªèƒ½è®¿é—®é™æ€æˆå‘˜ã€‚ï¼ˆéé™æ€æ—¢å¯ä»¥è®¿é—®é™æ€ï¼Œåˆå¯ä»¥è®¿é—®éé™æ€ï¼‰</p>
<p>ã€€ã€€2ã€é™æ€æ–¹æ³•ä¸­ä¸å¯ä»¥ä½¿ç”¨thisæˆ–è€…superå…³é”®å­—ã€‚</p>
<p>ã€€ã€€3ã€ä¸»å‡½æ•°æ˜¯é™æ€çš„</p>
<h3 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1. ä¸èƒ½newè¿™ä¸ªæŠ½è±¡ç±»ï¼Œåªèƒ½é å­ç±»å»å®ç°å®ƒï¼šçº¦æŸ</span></span><br><span class="line"><span class="comment">//2. æŠ½è±¡ç±»ä¸­å¯ä»¥å†™æ™®é€šçš„æ–¹æ³•ï½</span></span><br><span class="line"><span class="comment">//3. æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨æŠ½è±¡ç±»ä¸­ï½</span></span><br><span class="line"><span class="comment">// æŠ½è±¡çš„æŠ½è±¡ï¼šçº¦æŸ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å­˜åœ¨çš„æ„ä¹‰ï¼Œæé«˜å¼€å‘æ•ˆç‡</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.oop.demo08;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; abstract æŠ½è±¡ç±»ï¼šç±» extendsï¼š å•ç»§æ‰¿ ï½ æ¥å£å¯ä»¥å¤šç»§æ‰¿ æ’åº§</span><br><span class="line">public abstract class Action &#123;</span><br><span class="line">    &#x2F;&#x2F; çº¦æŸï½æœ‰äººå¸®æˆ‘å—å®ç°ï½</span><br><span class="line">    &#x2F;&#x2F; abstractï¼ŒæŠ½è±¡æ–¹æ³•ï¼Œåªæœ‰æ–¹æ³•åå­—ï¼Œæ²¡æœ‰æ–¹æ³•çš„å®ç°ï¼</span><br><span class="line">public abstract void doSomething();</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;1. ä¸èƒ½newè¿™ä¸ªæŠ½è±¡ç±»ï¼Œåªèƒ½é å­ç±»å»å®ç°å®ƒï¼šçº¦æŸ</span><br><span class="line">&#x2F;&#x2F;2. æŠ½è±¡ç±»ä¸­å¯ä»¥å†™æ™®é€šçš„æ–¹æ³•ï½</span><br><span class="line">&#x2F;&#x2F;3. æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨æŠ½è±¡ç±»ä¸­ï½</span><br><span class="line">&#x2F;&#x2F; æŠ½è±¡çš„æŠ½è±¡ï¼šçº¦æŸ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><p>æœ¬è´¨ï¼šå¥‘çº¦</p>
<p>æ¥å£ï¼šinterface</p>
<p>ä½œç”¨ï¼š</p>
<ol>
<li>çº¦æŸ</li>
<li>å®šä¹‰ä¸€äº›æ–¹æ³•ï¼Œè®©ä¸åŒçš„äººå®ç°</li>
<li>public abstract final</li>
<li>æ¥å£ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œæ¥å£ä¸­æ²¡æœ‰æ„é€ æ–¹æ³•ï½</li>
<li>implementså¯ä»¥å®ç°å¤šä¸ªæ¥å£</li>
<li>å¿…é¡»è¦é‡å†™æ¥å£ä¸­çš„æ–¹æ³•</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo09;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡ç±»ï¼š extends</span></span><br><span class="line"><span class="comment">// ç±»å¯ä»¥å®ç°æ¥å£ implement æ¥å£</span></span><br><span class="line"><span class="comment">// å®ç°äº†æ¥å£çš„ç±»ï¼Œå°±éœ€è¦é‡å†™æ¥å£ä¸­çš„æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤šç»§æ‰¿ï½åˆ©ç”¨æ¥å£å®ç°å¤šç»§æ‰¿ï½</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span>,<span class="title">TimeService</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">query</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">timer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo09;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡çš„æ€ç»´ Java</span></span><br><span class="line"><span class="comment">// interface æ˜¯å®šä¹‰çš„å…³é”®å­—ï¼Œæ¥å£éƒ½éœ€è¦æœ‰å®ç°çš„ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ¥å£ä¸­çš„æ‰€æœ‰å®šä¹‰å…¶å®éƒ½æ˜¯æŠ½è±¡çš„public</span></span><br><span class="line">    <span class="comment">//å¸¸é‡</span></span><br><span class="line"><span class="comment">//    public static int final AGE = 99;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">(String name)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">delete</span><span class="params">(String name)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(String name)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(String name)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å†…éƒ¨ç±»"><a href="#å†…éƒ¨ç±»" class="headerlink" title="å†…éƒ¨ç±»"></a>å†…éƒ¨ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id=<span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">out</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿™æ˜¯å¤–éƒ¨ç±»çš„æ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">in</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¿™æ˜¯å†…éƒ¨ç±»çš„æ–¹æ³•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è·å¾—å¤–éƒ¨ç±»çš„ç§æœ‰å±æ€§ï½</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getID</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(id);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Outer outer = <span class="keyword">new</span> Outer();</span><br><span class="line">        <span class="comment">// é€šè¿‡è¿™ä¸ªå¤–éƒ¨ç±»æ¥å®ä¾‹åŒ–å†…éƒ¨ç±»</span></span><br><span class="line">        Outer.Inner inner = outer.<span class="function">new <span class="title">Inner</span><span class="params">()</span></span>;</span><br><span class="line">        inner.in();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªjavaç±»ä¸­å¯ä»¥æœ‰å¤šä¸ªclassç±»ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªpublic class</p>
<h3 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/image-20210215111612243.5dlgkhhid0g.png" alt="image-20210215111612243"></p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/image-20210215111941652.79xf5xr1emg0.png" alt="image-20210215111941652"></p>
<h3 id="å¼‚å¸¸çš„å¤„ç†æœºåˆ¶"><a href="#å¼‚å¸¸çš„å¤„ç†æœºåˆ¶" class="headerlink" title="å¼‚å¸¸çš„å¤„ç†æœºåˆ¶"></a>å¼‚å¸¸çš„å¤„ç†æœºåˆ¶</h3><p>æŠ›å‡º/æ•è·å¼‚å¸¸</p>
<p>Idea å¿«æ·é”® option+command+T</p>
<p>ä¸»åŠ¨è·‘å‡ºå¼‚å¸¸</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.oop.demo07.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> Test2().test(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> a ,<span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArithmeticException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>java protectedå…³é”®å­—ï¼š åŒåŒ…ä¸åŒçº§</p>
<ul>
<li>åŸºç±»çš„ protected æˆå‘˜æ˜¯åŒ…å†…å¯è§çš„ï¼Œå¹¶ä¸”å¯¹å­ç±»å¯è§ï¼›</li>
<li>è‹¥å­ç±»ä¸åŸºç±»ä¸åœ¨åŒä¸€åŒ…ä¸­ï¼Œé‚£ä¹ˆåœ¨å­ç±»ä¸­ï¼Œå­ç±»å®ä¾‹å¯ä»¥è®¿é—®å…¶ä»åŸºç±»ç»§æ‰¿è€Œæ¥çš„protectedæ–¹æ³•ï¼Œè€Œä¸èƒ½è®¿é—®åŸºç±»å®ä¾‹çš„protectedæ–¹æ³•</li>
</ul>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL</title>
    <url>/2021/02/15/2021-02-15-MySQL/</url>
    <content><![CDATA[<p>å…¨æ–‡æ˜¯æ ¹æ®ã€ç‹‚ç¥è¯´java MySQLæ•™ç¨‹æ‰€åšçš„ç¬”è®°å’Œèµ„æ–™ï¼Œéå¸¸æ„Ÿè°¢ä»–çš„åˆ†äº«å’Œèµ„æ–™ã€‘</p>
<p><a class="link"   href="https://www.bilibili.com/video/BV1NJ411J79W?p=1" >https://www.bilibili.com/video/BV1NJ411J79W?p=1<i class="fas fa-external-link-alt"></i></a></p>
<p>ç¬”è®°åœ¨</p>
<p><a class="link"   href="https://mp.weixin.qq.com/s/E1PM4EHwU6Joot4OG0gDjw" >https://mp.weixin.qq.com/s/E1PM4EHwU6Joot4OG0gDjw<i class="fas fa-external-link-alt"></i></a></p>
<p>è¿™æ˜¯æˆ‘çš„ç¬”è®°ï¼Œæ‰€ä»¥æœ‰äº›å›¾ç›´æ¥å¼•ç”¨çš„å…¬ä¼—å·çš„åŸå›¾ï¼Œæ‰€ä»¥ä¼šæ˜¾ç¤ºä¸å‡ºï¼Œè¯·å»å…¬ä¼—å·æŸ¥çœ‹ã€‚</p>
<p>ä¾µåˆ </p>
<h2 id="1-åˆå§‹MySQL"><a href="#1-åˆå§‹MySQL" class="headerlink" title="1.åˆå§‹MySQL"></a>1.åˆå§‹MySQL</h2><p>JavaEE: ä¼ä¸šçº§çš„javaå¼€å‘ Web</p>
<p>å‰ç«¯ï¼ˆé¡µé¢ï¼šå±•ç¤ºï¼Œæ•°æ®ï¼ï¼‰</p>
<p>åå° ï¼ˆè¿æ¥ç‚¹ï¼šè¿æ¥æ•°æ®åº“JDBCï¼Œè¿æ¥å‰ç«¯ï¼ˆæ§åˆ¶è§†å›¾è·³è½¬ï¼Œå’Œç»™å‰ç«¯ä¼ é€’æ•°æ®ï¼‰ï¼‰</p>
<p>æ•°æ®åº“ï¼ˆå­˜æ•°æ®ï¼‰</p>
<blockquote>
<p>å¦‚æœä½ åªä¼šå†™ä»£ç çš„æ˜¯ç å†œï¼›è¦å­¦å¥½æ•°æ®åº“ï¼Œæ‰èƒ½åŸºæœ¬èƒ½æ··å£é¥­åƒï¼›åœ¨æ­¤åŸºç¡€ä¸Šå¦‚æœå†å­¦å¥½æ“ä½œç³»ç»Ÿå’Œè®¡ç®—æœºç½‘ç»œï¼Œå°±èƒ½å½“ä¸€ä¸ªä¸é”™çš„ç¨‹åºå‘˜ã€‚å¦‚æœèƒ½å†æŠŠç¦»æ•£æ•°å­¦ã€æ•°å­—ç”µè·¯ã€ä½“ç³»ç»“æ„ã€æ•°æ®ç»“æ„/ç®—æ³•ã€ç¼–è¯‘åŸç†å­¦é€šé€ï¼Œå†åŠ ä¸Šä¸°å¯Œçš„å®è·µç»éªŒä¸é¢†åŸŸç‰¹å®šçŸ¥è¯†ï¼Œå°±èƒ½ç®—æ˜¯ä¸€ä¸ªä¼˜ç§€çš„å·¥ç¨‹å¸ˆäº†ã€‚</p>
</blockquote>
<h2 id="ä¸Šè¯¾è§†é¢‘åŒæ­¥æ–‡æ¡£"><a href="#ä¸Šè¯¾è§†é¢‘åŒæ­¥æ–‡æ¡£" class="headerlink" title="ä¸Šè¯¾è§†é¢‘åŒæ­¥æ–‡æ¡£"></a>ä¸Šè¯¾è§†é¢‘åŒæ­¥æ–‡æ¡£</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JDAlgEhicQfyUeklefrUhYibanXyCIx7b0vsP25gWsA4A2sVibKSbbj0vwUSMZRT6DDdB5kTm22h7YQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<h2 id="åˆè¯†MySQL"><a href="#åˆè¯†MySQL" class="headerlink" title="åˆè¯†MySQL"></a>åˆè¯†MySQL</h2><blockquote>
<p>ä¸ºä»€ä¹ˆå­¦ä¹ æ•°æ®åº“</p>
</blockquote>
<p>1ã€å²—ä½æŠ€èƒ½éœ€æ±‚</p>
<p>2ã€ç°åœ¨çš„ä¸–ç•Œ,å¾—æ•°æ®è€…å¾—å¤©ä¸‹</p>
<p>3ã€å­˜å‚¨æ•°æ®çš„æ–¹æ³•</p>
<p>4ã€ç¨‹åº,ç½‘ç«™ä¸­,å¤§é‡æ•°æ®å¦‚ä½•é•¿ä¹…ä¿å­˜?</p>
<p>==5ã€<strong>æ•°æ®åº“æ˜¯å‡ ä¹è½¯ä»¶ä½“ç³»ä¸­æœ€æ ¸å¿ƒçš„ä¸€ä¸ªå­˜åœ¨ã€‚</strong>==</p>
<blockquote>
<p>ä»€ä¹ˆæ˜¯æ•°æ®åº“</p>
</blockquote>
<p>æ•°æ®åº“ ( <strong>DataBase</strong> , ç®€ç§°<strong>DB</strong> )</p>
<p><strong>æ¦‚å¿µ</strong> : é•¿æœŸå­˜æ”¾åœ¨è®¡ç®—æœºå†…,æœ‰ç»„ç»‡,å¯å…±äº«çš„å¤§é‡æ•°æ®çš„é›†åˆ,æ˜¯ä¸€ä¸ªæ•°æ® â€œä»“åº“â€</p>
<p><strong>ä½œç”¨</strong> : ä¿å­˜,å¹¶èƒ½å®‰å…¨ç®¡ç†æ•°æ®(å¦‚:å¢åˆ æ”¹æŸ¥ç­‰),å‡å°‘å†—ä½™â€¦</p>
<p><strong>æ•°æ®åº“æ€»è§ˆ :</strong></p>
<ul>
<li><p>å…³ç³»å‹æ•°æ®åº“ ( SQL )</p>
</li>
<li><ul>
<li>MySQL , Oracle , SQL Server , SQLite , DB2 , â€¦</li>
<li>å…³ç³»å‹æ•°æ®åº“é€šè¿‡å¤–é”®å…³è”æ¥å»ºç«‹è¡¨ä¸è¡¨ä¹‹é—´çš„å…³ç³»</li>
</ul>
</li>
<li><p>éå…³ç³»å‹æ•°æ®åº“ ( NOSQL )</p>
</li>
<li><ul>
<li>Redis , MongoDB , â€¦</li>
<li>éå…³ç³»å‹æ•°æ®åº“é€šå¸¸æŒ‡æ•°æ®ä»¥å¯¹è±¡çš„å½¢å¼å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œè€Œå¯¹è±¡ä¹‹é—´çš„å…³ç³»é€šè¿‡æ¯ä¸ªå¯¹è±¡è‡ªèº«çš„å±æ€§æ¥å†³å®š</li>
</ul>
</li>
</ul>
<blockquote>
<p>ä»€ä¹ˆæ˜¯DBMS</p>
</blockquote>
<p>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ ( <strong>D</strong>ata<strong>B</strong>ase <strong>M</strong>anagement <strong>S</strong>ystem )</p>
<p>æ•°æ®åº“ç®¡ç†è½¯ä»¶ , ç§‘å­¦ç»„ç»‡å’Œå­˜å‚¨æ•°æ® , é«˜æ•ˆåœ°è·å–å’Œç»´æŠ¤æ•°æ®</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JDAlgEhicQfyUeklefrUhYibIew3vo8N1zoy9ic2nOVVJWtjZsXg7TWsDDGhAI5rSGZ0tnQ6OIO8MBg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>ä¸ºä»€ä¹ˆè¦è¯´è¿™ä¸ªå‘¢?</p>
<p>å› ä¸ºæˆ‘ä»¬è¦å­¦ä¹ çš„MySQLåº”è¯¥ç®—æ˜¯ä¸€ä¸ªæ•°æ®åº“ç®¡ç†ç³»ç»Ÿ.</p>
<blockquote>
<p>MySQLç®€ä»‹</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JDAlgEhicQfyUeklefrUhYibkYI5jfkYj8hphYv7GEdQSczjb1icQwjWGlWqhG26VO1y5tgM2OcStaA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p><strong>æ¦‚å¿µ :</strong> æ˜¯ç°åœ¨<strong>æµè¡Œ</strong>çš„<strong>å¼€æº</strong>çš„,<strong>å…è´¹</strong>çš„ <strong>å…³ç³»å‹</strong>æ•°æ®åº“</p>
<p><strong>å†å² :</strong> ç”±ç‘å…¸MySQL AB å…¬å¸å¼€å‘ï¼Œç›®å‰å±äº Oracle æ——ä¸‹äº§å“ã€‚</p>
<p><strong>ç‰¹ç‚¹ :</strong> </p>
<ul>
<li>å…è´¹ , å¼€æºæ•°æ®åº“</li>
<li>å°å·§ , åŠŸèƒ½é½å…¨</li>
<li>ä½¿ç”¨ä¾¿æ·</li>
<li>å¯è¿è¡ŒäºWindowsæˆ–Linuxæ“ä½œç³»ç»Ÿ</li>
<li>å¯é€‚ç”¨äºä¸­å°å‹ç”šè‡³å¤§å‹ç½‘ç«™åº”ç”¨</li>
</ul>
<p><strong>å®˜ç½‘ :</strong> <strong><a class="link"   href="https://www.mysql.com/" >https://www.mysql.com/<i class="fas fa-external-link-alt"></i></a></strong></p>
<blockquote>
<p>å®‰è£…MySQL</p>
</blockquote>
<p><strong>è¿™é‡Œå»ºè®®å¤§å®¶ä½¿ç”¨å‹ç¼©ç‰ˆ,å®‰è£…å¿«,æ–¹ä¾¿.ä¸å¤æ‚.</strong></p>
<p><strong>è½¯ä»¶ä¸‹è½½</strong></p>
<p>mysql5.7 64ä½ä¸‹è½½åœ°å€:</p>
<p><a class="link"   href="https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.19-winx64.zip" >https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.19-winx64.zip<i class="fas fa-external-link-alt"></i></a></p>
<p>ç”µè„‘æ˜¯64ä½çš„å°±ä¸‹è½½ä½¿ç”¨64ä½ç‰ˆæœ¬çš„ï¼</p>
<blockquote>
<p>å®‰è£…æ­¥éª¤</p>
</blockquote>
<p>1ã€ä¸‹è½½åå¾—åˆ°zipå‹ç¼©åŒ….</p>
<p>2ã€è§£å‹åˆ°è‡ªå·±æƒ³è¦å®‰è£…åˆ°çš„ç›®å½•ï¼Œæœ¬äººè§£å‹åˆ°çš„æ˜¯D:\Environment\mysql-5.7.19</p>
<p>3ã€æ·»åŠ ç¯å¢ƒå˜é‡ï¼šæˆ‘çš„ç”µè„‘-&gt;å±æ€§-&gt;é«˜çº§-&gt;ç¯å¢ƒå˜é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">é€‰æ‹©PATH,åœ¨å…¶åé¢æ·»åŠ : ä½ çš„mysql å®‰è£…æ–‡ä»¶ä¸‹é¢çš„binæ–‡ä»¶å¤¹</span><br></pre></td></tr></table></figure>
<p>4ã€ç¼–è¾‘ my.ini æ–‡ä»¶ ,æ³¨æ„æ›¿æ¢è·¯å¾„ä½ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">basedir&#x3D;D:\Program Files\mysql-5.7\</span><br><span class="line">datadir&#x3D;D:\Program Files\mysql-5.7\data\</span><br><span class="line">port&#x3D;3306</span><br><span class="line">skip-grant-tables</span><br></pre></td></tr></table></figure>
<p>5ã€å¯åŠ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹çš„CMDï¼Œå¹¶å°†è·¯å¾„åˆ‡æ¢è‡³mysqlä¸‹çš„binç›®å½•ï¼Œç„¶åè¾“å…¥mysqld â€“install (å®‰è£…mysql)</p>
<p>6ã€å†è¾“å…¥  mysqld â€“initialize-insecure â€“user=mysql åˆå§‹åŒ–æ•°æ®æ–‡ä»¶</p>
<p>7ã€ç„¶åå†æ¬¡å¯åŠ¨mysql ç„¶åç”¨å‘½ä»¤ mysql â€“u root â€“p è¿›å…¥mysqlç®¡ç†ç•Œé¢ï¼ˆå¯†ç å¯ä¸ºç©ºï¼‰</p>
<p>8ã€è¿›å…¥ç•Œé¢åæ›´æ”¹rootå¯†ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">update mysql.user set authentication_string&#x3D;password(&#39;123456&#39;) where user&#x3D;&#39;root&#39; and Host &#x3D; &#39;localhost&#39;;</span><br></pre></td></tr></table></figure>
<p>9ã€åˆ·æ–°æƒé™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>
<p>10ã€ä¿®æ”¹ my.iniæ–‡ä»¶åˆ é™¤æœ€åä¸€å¥skip-grant-tables</p>
<p>11ã€é‡å¯mysqlå³å¯æ­£å¸¸ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">net stop mysql</span><br><span class="line">net start mysql</span><br></pre></td></tr></table></figure>
<p>12ã€è¿æ¥ä¸Šæµ‹è¯•å‡ºç°ä»¥ä¸‹ç»“æœå°±å®‰è£…å¥½äº†</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JDAlgEhicQfyUeklefrUhYib5jn0ggWLtIrViavAcBpOXW2ick2ibI2un63gLrFMdtviamYxttX2knoPibQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>ä¸€æ­¥æ­¥å»åš , ç†è®ºä¸Šæ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ .</p>
<p>å¦‚æœæ‚¨ä»¥å‰è£…è¿‡,ç°åœ¨éœ€è¦é‡è£…,ä¸€å®šè¦å°†ç¯å¢ƒæ¸…ç†å¹²å‡€ .</p>
<p>å¥½äº†,åˆ°è¿™é‡Œå¤§å®¶éƒ½è£…å¥½äº†,å› ä¸ºåˆšæ¥è§¦,æ‰€ä»¥æˆ‘ä»¬å…ˆä¸å­¦ä¹ å‘½ä»¤.</p>
<hr>
<h3 id="å¦‚æœæ˜¯MACç³»ç»Ÿï¼š"><a href="#å¦‚æœæ˜¯MACç³»ç»Ÿï¼š" class="headerlink" title="å¦‚æœæ˜¯MACç³»ç»Ÿï¼š"></a>å¦‚æœæ˜¯MACç³»ç»Ÿï¼š</h3><p><a class="link"   href="https://zhuanlan.zhihu.com/p/27960044" >https://zhuanlan.zhihu.com/p/27960044<i class="fas fa-external-link-alt"></i></a></p>
<p>è¿™é‡Œç»™å¤§å®¶æ¨èä¸€ä¸ªå·¥å…· : <strong>SQLyog</strong> .</p>
<p>å³ä¾¿æœ‰äº†å¯è§†åŒ–å·¥å…·,å¯æ˜¯åŸºæœ¬çš„DOSå‘½åå¤§å®¶è¿˜æ˜¯è¦è®°ä½!</p>
<blockquote>
<p>SQLyog</p>
</blockquote>
<p>å¯æ‰‹åŠ¨æ“ä½œ,ç®¡ç†MySQLæ•°æ®åº“çš„è½¯ä»¶å·¥å…·</p>
<p>ç‰¹ç‚¹ : ç®€æ´ , æ˜“ç”¨ , å›¾å½¢åŒ–</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JDAlgEhicQfyUeklefrUhYibEvvP8V27JN1wk2BDkph6PCOj45JfcnhJaibHsV6jVewwZZumapwTibicg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JDAlgEhicQfyUeklefrUhYibXng7TQzNhPmic2H3wByaUhebwTKoVDVkHjeRxGx67YxGjlgd13axWVg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>ä½¿ç”¨SQLyogç®¡ç†å·¥å…·è‡ªå·±å®Œæˆä»¥ä¸‹æ“ä½œ :</p>
<ul>
<li><p>è¿æ¥æœ¬åœ°MySQLæ•°æ®åº“</p>
</li>
<li><p>æ–°å»ºMySchoolæ•°æ®åº“</p>
</li>
<li><ul>
<li>å­—æ®µ</li>
<li>GradeID : int(11) , Primary Key (pk)</li>
<li>GradeName : varchar(50)</li>
<li>æ•°æ®åº“åç§°MySchool</li>
<li>æ–°å»ºæ•°æ®åº“è¡¨(grade)</li>
</ul>
</li>
</ul>
<p>åœ¨å†å²è®°å½•ä¸­å¯ä»¥çœ‹åˆ°ç›¸å¯¹åº”çš„æ•°æ®åº“æ“ä½œçš„è¯­å¥ .</p>
<blockquote>
<p>è¿æ¥æ•°æ®åº“</p>
</blockquote>
<p>å‘½ä»¤è¡Œè¿æ¥ï¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql -uroot -p123 </span><br><span class="line"></span><br><span class="line">mysql -u root -p</span><br><span class="line">123</span><br><span class="line">-----------------</span><br><span class="line"># è¿›å…¥mysqlä»¥å,æ‰€æœ‰è¯­å¥çš„ç»“å°¾éƒ½æ˜¯ä»¥; ç»“å°¾çš„</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>æ‰“å¼€MySQLå‘½ä»¤çª—å£</p>
<ul>
<li>åœ¨DOSå‘½ä»¤è¡Œçª—å£è¿›å…¥ <strong>å®‰è£…ç›®å½•\mysql\bin</strong></li>
<li>å¯è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œè®¾ç½®äº†ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥åœ¨ä»»æ„ç›®å½•æ‰“å¼€ï¼</li>
</ul>
<p><strong>è¿æ¥æ•°æ®åº“è¯­å¥ :</strong> mysql -h æœåŠ¡å™¨ä¸»æœºåœ°å€ -u ç”¨æˆ·å -p ç”¨æˆ·å¯†ç </p>
<p>æ³¨æ„ : -påé¢ä¸èƒ½åŠ ç©ºæ ¼,å¦åˆ™ä¼šè¢«å½“åšå¯†ç çš„å†…å®¹,å¯¼è‡´ç™»å½•å¤±è´¥ !</p>
<p><strong>å‡ ä¸ªåŸºæœ¬çš„æ•°æ®åº“æ“ä½œå‘½ä»¤ :</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">update user set password&#x3D;password(&#39;123&#39;)where user&#x3D;&#39;root&#39;; ä¿®æ”¹å¯†ç </span><br><span class="line">flush privileges; åˆ·æ–°æ•°æ®åº“</span><br><span class="line">show databases; æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“</span><br><span class="line">use dbnameï¼›æ‰“å¼€æŸä¸ªæ•°æ®åº“ # use student</span><br><span class="line">show tables; æ˜¾ç¤ºæ•°æ®åº“mysqlä¸­æ‰€æœ‰çš„è¡¨</span><br><span class="line">describe user; æ˜¾ç¤ºè¡¨mysqlæ•°æ®åº“ä¸­userè¡¨çš„åˆ—ä¿¡æ¯ # describe student</span><br><span class="line">create database name; åˆ›å»ºæ•°æ®åº“</span><br><span class="line">use databasename; é€‰æ‹©æ•°æ®åº“</span><br><span class="line"></span><br><span class="line">exit; é€€å‡ºMysql</span><br><span class="line">? å‘½ä»¤å…³é”®è¯ : å¯»æ±‚å¸®åŠ©</span><br><span class="line">-- è¡¨ç¤ºæ³¨é‡Š (sql æœ¬èº«çš„æ³¨é‡Š)</span><br><span class="line">&#x2F;*</span><br><span class="line">*&#x2F; sqlçš„å¤šè¡Œæ³¨é‡Š</span><br></pre></td></tr></table></figure>


<h3 id="ç»“æ„åŒ–æŸ¥è¯¢è¯­å¥åˆ†ç±»"><a href="#ç»“æ„åŒ–æŸ¥è¯¢è¯­å¥åˆ†ç±»" class="headerlink" title="ç»“æ„åŒ–æŸ¥è¯¢è¯­å¥åˆ†ç±»"></a>ç»“æ„åŒ–æŸ¥è¯¢è¯­å¥åˆ†ç±»</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JZX1D0neUIMjSFiazUGK15QOGpDicLzwS6NJVAeLECu2rx2qboGU36S9hXLov0x0c5vzZAceySSXnA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<h3 id="æ•°æ®åº“æ“ä½œ"><a href="#æ•°æ®åº“æ“ä½œ" class="headerlink" title="æ•°æ®åº“æ“ä½œ"></a>æ•°æ®åº“æ“ä½œ</h3><blockquote>
<p>å‘½ä»¤è¡Œæ“ä½œæ•°æ®åº“</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åˆ›å»ºæ•°æ®åº“ :  create database [if not exists] æ•°æ®åº“å;</span><br><span class="line"></span><br><span class="line">åˆ é™¤æ•°æ®åº“ : drop database [if exists] æ•°æ®åº“å;</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹æ•°æ®åº“ : show databases;</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨æ•°æ®åº“ : use æ•°æ®åº“å; # å¦‚æœä½ çš„åç§°æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œå°±è¦å¸¦&#96; &#96;(tabä¸Šé¢çš„)</span><br></pre></td></tr></table></figure>


<blockquote>
<p>å¯¹æ¯”å·¥å…·æ“ä½œæ•°æ®åº“</p>
</blockquote>
<p><strong>å­¦ä¹ æ–¹æ³•ï¼š</strong></p>
<ul>
<li>å¯¹ç…§SQLyogå·¥å…·è‡ªåŠ¨ç”Ÿæˆçš„è¯­å¥å­¦ä¹ </li>
<li>å›ºå®šè¯­æ³•ä¸­çš„å•è¯éœ€è¦è®°å¿†</li>
<li><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JZX1D0neUIMjSFiazUGK15Q2ITxibRRsQuuqibHorhqzYI83QYKRUVpMLCPA1chKQ39eUFQibJ2fwWFg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></li>
</ul>
<h3 id="åˆ›å»ºæ•°æ®è¡¨"><a href="#åˆ›å»ºæ•°æ®è¡¨" class="headerlink" title="åˆ›å»ºæ•°æ®è¡¨"></a>åˆ›å»ºæ•°æ®è¡¨</h3><p>å±äºDDLçš„ä¸€ç§ï¼Œè¯­æ³• :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">create table [if not exists] &#96;è¡¨å&#96;(</span><br><span class="line">   &#39;å­—æ®µå1&#39; åˆ—ç±»å‹ [å±æ€§][ç´¢å¼•][æ³¨é‡Š],</span><br><span class="line">   &#39;å­—æ®µå2&#39; åˆ—ç±»å‹ [å±æ€§][ç´¢å¼•][æ³¨é‡Š],</span><br><span class="line">  #...</span><br><span class="line">   &#39;å­—æ®µån&#39; åˆ—ç±»å‹ [å±æ€§][ç´¢å¼•][æ³¨é‡Š]</span><br><span class="line">)[è¡¨ç±»å‹][è¡¨å­—ç¬¦é›†][æ³¨é‡Š];</span><br></pre></td></tr></table></figure>
<p><strong>è¯´æ˜ :</strong> åå¼•å·ç”¨äºåŒºåˆ«MySQLä¿ç•™å­—ä¸æ™®é€šå­—ç¬¦è€Œå¼•å…¥çš„ (é”®ç›˜escä¸‹é¢çš„é”®).</p>
<h3 id="æ•°æ®å€¼å’Œåˆ—ç±»å‹"><a href="#æ•°æ®å€¼å’Œåˆ—ç±»å‹" class="headerlink" title="æ•°æ®å€¼å’Œåˆ—ç±»å‹"></a>æ•°æ®å€¼å’Œåˆ—ç±»å‹</h3><p>åˆ—ç±»å‹ : è§„å®šæ•°æ®åº“ä¸­è¯¥åˆ—å­˜æ”¾çš„æ•°æ®ç±»å‹</p>
<blockquote>
<p>æ•°å€¼ç±»å‹</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JZX1D0neUIMjSFiazUGK15QLXRrfmQjbUt3O7sLw0KKv9UtriaTr60JspXIZ69HkeOiagz86CE3a9Wg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<blockquote>
<p>å­—ç¬¦ä¸²ç±»å‹</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JZX1D0neUIMjSFiazUGK15QsjOPftNfn1ibXSP8OIYnsJaaPC8da61jCzcbdkqbApibQWgQ7KBjYbuw/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<blockquote>
<p>æ—¥æœŸå’Œæ—¶é—´å‹æ•°å€¼ç±»å‹</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JZX1D0neUIMjSFiazUGK15Qcib3OwGtWEJkEE2biaa4jT3xokY1UicPT1MQcQNsa1EsjiaIqM1vvyUPjg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<blockquote>
<p>NULLå€¼</p>
</blockquote>
<ul>
<li>ç†è§£ä¸º â€œæ²¡æœ‰å€¼â€ æˆ– â€œæœªçŸ¥å€¼â€</li>
<li>ä¸è¦ç”¨NULLè¿›è¡Œç®—æœ¯è¿ç®— , ç»“æœä»ä¸ºNULL</li>
</ul>
<h3 id="æ•°æ®å­—æ®µå±æ€§"><a href="#æ•°æ®å­—æ®µå±æ€§" class="headerlink" title="æ•°æ®å­—æ®µå±æ€§"></a>æ•°æ®å­—æ®µå±æ€§</h3><p><strong>UnSigned</strong></p>
<ul>
<li>æ— ç¬¦å·çš„æ•´æ•°</li>
<li>å£°æ˜è¯¥æ•°æ®åˆ—ä¸å…è®¸è´Ÿæ•° .</li>
</ul>
<p><strong>ZEROFILL</strong></p>
<ul>
<li>0å¡«å……çš„</li>
<li>ä¸è¶³ä½æ•°çš„ç”¨0æ¥å¡«å…… , å¦‚int(3),5åˆ™ä¸º005</li>
</ul>
<p><strong>Auto_InCrement</strong></p>
<ul>
<li><p>è‡ªåŠ¨å¢é•¿çš„ , æ¯æ·»åŠ ä¸€æ¡æ•°æ® , è‡ªåŠ¨åœ¨ä¸Šä¸€ä¸ªè®°å½•æ•°ä¸ŠåŠ  1(é»˜è®¤)</p>
</li>
<li><p>é€šå¸¸ç”¨äºè®¾ç½®<strong>ä¸»é”®</strong> , ä¸”ä¸ºæ•´æ•°ç±»å‹</p>
</li>
<li><p>å¯å®šä¹‰èµ·å§‹å€¼å’Œæ­¥é•¿</p>
</li>
<li><ul>
<li>å½“å‰è¡¨è®¾ç½®æ­¥é•¿(AUTO_INCREMENT=100) : åªå½±å“å½“å‰è¡¨</li>
<li>SET @@auto_increment_increment=5 ; å½±å“æ‰€æœ‰ä½¿ç”¨è‡ªå¢çš„è¡¨(å…¨å±€)</li>
</ul>
</li>
</ul>
<p><strong>NULL å’Œ NOT NULL</strong></p>
<ul>
<li>é»˜è®¤ä¸ºNULL , å³æ²¡æœ‰æ’å…¥è¯¥åˆ—çš„æ•°å€¼</li>
<li>å¦‚æœè®¾ç½®ä¸ºNOT NULL , åˆ™è¯¥åˆ—å¿…é¡»æœ‰å€¼</li>
</ul>
<p><strong>DEFAULT</strong></p>
<ul>
<li>é»˜è®¤çš„</li>
<li>ç”¨äºè®¾ç½®é»˜è®¤å€¼</li>
<li>ä¾‹å¦‚,æ€§åˆ«å­—æ®µ,é»˜è®¤ä¸ºâ€ç”·â€ , å¦åˆ™ä¸º â€œå¥³â€ ; è‹¥æ— æŒ‡å®šè¯¥åˆ—çš„å€¼ , åˆ™é»˜è®¤å€¼ä¸ºâ€ç”·â€çš„å€¼</li>
</ul>
<p>==æ‹“å±•ï¼šå¬å¬å°±å¥½==</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* æ¯ä¸€ä¸ªè¡¨ï¼Œéƒ½å¿…é¡»å­˜åœ¨ä»¥ä¸‹äº”ä¸ªå­—æ®µï¼æœªæ¥åšé¡¹ç›®ç”¨çš„ï¼Œè¡¨ç¤ºä¸€ä¸ªè®°å½•éƒ½å­˜åœ¨æ„ä¹‰ï¼</span><br><span class="line"></span><br><span class="line">id ä¸»é”®</span><br><span class="line">&#96;version&#96; ä¹è§‚é”</span><br><span class="line">is_delete ä¼ªåˆ é™¤</span><br><span class="line">gmt_create åˆ›å»ºæ—¶é—´</span><br><span class="line">gmt_update ä¿®æ”¹æ—¶é—´</span><br><span class="line">&#x2F;*</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- ç›®æ ‡ : åˆ›å»ºä¸€ä¸ªschoolæ•°æ®åº“</span><br><span class="line">-- åˆ›å»ºå­¦ç”Ÿè¡¨(åˆ—,å­—æ®µ)</span><br><span class="line">-- å­¦å·int ç™»å½•å¯†ç varchar(20) å§“å,æ€§åˆ«varchar(2),å‡ºç”Ÿæ—¥æœŸ(datatime),å®¶åº­ä½å€,email</span><br><span class="line">-- æ³¨æ„ç‚¹ï¼Œä½¿ç”¨è‹±æ–‡ï¼ˆï¼‰ï¼Œè¡¨çš„åç§°å’Œå­—æ®µå°½é‡ä½¿ç”¨&#96;&#96; æ‰©èµ·æ¥</span><br><span class="line">-- AUTO_INCREMENT è‡ªå¢</span><br><span class="line">-- å­—ç¬¦ä¸²ä½¿ç”¨ å•å¼•å·æ‰©èµ·æ¥</span><br><span class="line">-- æ‰€æœ‰çš„è¯­å¥åé¢å®¶ï¼Œï¼ˆè‹±æ–‡çš„ï¼‰ï¼Œæœ€åä¸€ä¸ªä¸ç”¨åŠ </span><br><span class="line">-- PRIMARY KEY ä¸»é”®ï¼Œä¸€èˆ¬ä¸€ä¸ªè¡¨åªæœ‰ä¸€ä¸ªå”¯ä¸€çš„ä¸»é”®</span><br><span class="line">-- åˆ›å»ºè¡¨ä¹‹å‰ , ä¸€å®šè¦å…ˆé€‰æ‹©æ•°æ®åº“</span><br><span class="line"></span><br><span class="line">CREATE TABLE IF NOT EXISTS &#96;student&#96; (</span><br><span class="line">&#96;id&#96; int(4) NOT NULL AUTO_INCREMENT COMMENT &#39;å­¦å·&#39;,</span><br><span class="line">&#96;name&#96; varchar(30) NOT NULL DEFAULT &#39;åŒ¿å&#39; COMMENT &#39;å§“å&#39;,</span><br><span class="line">&#96;pwd&#96; varchar(20) NOT NULL DEFAULT &#39;123456&#39; COMMENT &#39;å¯†ç &#39;,</span><br><span class="line">&#96;sex&#96; varchar(2) NOT NULL DEFAULT &#39;ç”·&#39; COMMENT &#39;æ€§åˆ«&#39;,</span><br><span class="line">&#96;birthday&#96; datetime DEFAULT NULL COMMENT &#39;ç”Ÿæ—¥&#39;,</span><br><span class="line">&#96;address&#96; varchar(100) DEFAULT NULL COMMENT &#39;åœ°å€&#39;,</span><br><span class="line">&#96;email&#96; varchar(50) DEFAULT NULL COMMENT &#39;é‚®ç®±&#39;,</span><br><span class="line">PRIMARY KEY (&#96;id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8</span><br><span class="line"></span><br><span class="line">-- æŸ¥çœ‹æ•°æ®åº“çš„å®šä¹‰</span><br><span class="line">SHOW CREATE DATABASE school;</span><br><span class="line">-- æŸ¥çœ‹æ•°æ®è¡¨çš„å®šä¹‰</span><br><span class="line">SHOW CREATE TABLE student;</span><br><span class="line">-- æ˜¾ç¤ºè¡¨ç»“æ„</span><br><span class="line">DESC student;  -- è®¾ç½®ä¸¥æ ¼æ£€æŸ¥æ¨¡å¼(ä¸èƒ½å®¹é”™äº†)SET sql_mode&#x3D;&#39;STRICT_TRANS_TABLES&#39;;</span><br></pre></td></tr></table></figure>


<h3 id="æ•°æ®è¡¨çš„ç±»å‹"><a href="#æ•°æ®è¡¨çš„ç±»å‹" class="headerlink" title="æ•°æ®è¡¨çš„ç±»å‹"></a>æ•°æ®è¡¨çš„ç±»å‹</h3><blockquote>
<p>è®¾ç½®æ•°æ®è¡¨çš„ç±»å‹</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE è¡¨å(</span><br><span class="line">   -- çœç•¥ä¸€äº›ä»£ç </span><br><span class="line">   -- Mysqlæ³¨é‡Š</span><br><span class="line">   -- 1. # å•è¡Œæ³¨é‡Š</span><br><span class="line">   -- 2. &#x2F;*...*&#x2F; å¤šè¡Œæ³¨é‡Š</span><br><span class="line">)ENGINE &#x3D; MyISAM (or InnoDB)</span><br><span class="line"></span><br><span class="line">-- æŸ¥çœ‹mysqlæ‰€æ”¯æŒçš„å¼•æ“ç±»å‹ (è¡¨ç±»å‹)</span><br><span class="line">SHOW ENGINES;</span><br></pre></td></tr></table></figure>
<p>MySQLçš„æ•°æ®è¡¨çš„ç±»å‹ : <strong>MyISAM</strong> , <strong>InnoDB</strong> , HEAP , BOB , CSVç­‰â€¦</p>
<p>å¸¸è§çš„ MyISAM ä¸ InnoDB ç±»å‹ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JZX1D0neUIMjSFiazUGK15QpmSFMlJ4fDFdGoWOsTuNfFZq0XKW1GyibdZHU2F73DTezMYM1K0dc2A/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>ç»éªŒ ( é€‚ç”¨åœºåˆ )  :</p>
<ul>
<li>é€‚ç”¨ MyISAM : èŠ‚çº¦ç©ºé—´åŠç›¸åº”é€Ÿåº¦</li>
<li>é€‚ç”¨ InnoDB : å®‰å…¨æ€§ , äº‹åŠ¡å¤„ç†åŠå¤šç”¨æˆ·æ“ä½œæ•°æ®è¡¨</li>
</ul>
<blockquote>
<p>æ•°æ®è¡¨çš„å­˜å‚¨ä½ç½®</p>
</blockquote>
<ul>
<li><p>MySQLæ•°æ®è¡¨ä»¥æ–‡ä»¶æ–¹å¼å­˜æ”¾åœ¨ç£ç›˜ä¸­</p>
</li>
<li><ul>
<li>åŒ…æ‹¬è¡¨æ–‡ä»¶ , æ•°æ®æ–‡ä»¶ , ä»¥åŠæ•°æ®åº“çš„é€‰é¡¹æ–‡ä»¶</li>
<li>ä½ç½® : Mysqlå®‰è£…ç›®å½•\data\ä¸‹å­˜æ”¾æ•°æ®è¡¨ . ç›®å½•åå¯¹åº”æ•°æ®åº“å , è¯¥ç›®å½•ä¸‹æ–‡ä»¶åå¯¹åº”æ•°æ®è¡¨ . </li>
</ul>
</li>
<li><p>==Mac==ï¼š/usr/local/mysql</p>
</li>
<li><p>æ³¨æ„ :</p>
</li>
<li><ul>
<li><p>* . frm â€“ è¡¨ç»“æ„å®šä¹‰æ–‡ä»¶</p>
</li>
<li><p>* . MYD â€“ æ•°æ®æ–‡ä»¶ ( data )</p>
</li>
<li><p>* . MYI â€“ ç´¢å¼•æ–‡ä»¶ ( index )</p>
</li>
<li><p>InnoDBç±»å‹æ•°æ®è¡¨åªæœ‰ä¸€ä¸ª *.frmæ–‡ä»¶ , ä»¥åŠä¸Šä¸€çº§ç›®å½•çš„ibdata1æ–‡ä»¶</p>
</li>
<li><p>MyISAMç±»å‹æ•°æ®è¡¨å¯¹åº”ä¸‰ä¸ªæ–‡ä»¶ :</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JZX1D0neUIMjSFiazUGK15Q5tk8XtNtNGnUgevhFSzwTUrO7AmbXZFumTibt43SDII9nOQY97OtQdQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>è®¾ç½®æ•°æ®è¡¨å­—ç¬¦é›†</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä¸ºæ•°æ®åº“,æ•°æ®è¡¨,æ•°æ®åˆ—è®¾å®šä¸åŒçš„å­—ç¬¦é›†ï¼Œè®¾å®šæ–¹æ³• :</p>
<ul>
<li>åˆ›å»ºæ—¶é€šè¿‡å‘½ä»¤æ¥è®¾ç½® , å¦‚ : CREATE TABLE è¡¨å()CHARSET = utf8;</li>
<li>å¦‚æ— è®¾å®š , åˆ™æ ¹æ®MySQLæ•°æ®åº“é…ç½®æ–‡ä»¶ my.ini ä¸­çš„å‚æ•°è®¾å®š</li>
<li>è‹¥ä¸è®¾å®šåˆ™ä¸æ”¯æŒä¸­æ–‡</li>
</ul>
<h3 id="ä¿®æ”¹æ•°æ®åº“"><a href="#ä¿®æ”¹æ•°æ®åº“" class="headerlink" title="ä¿®æ”¹æ•°æ®åº“"></a>ä¿®æ”¹æ•°æ®åº“</h3><blockquote>
<p>ä¿®æ”¹è¡¨ ( ALTER TABLE )</p>
</blockquote>
<p>ä¿®æ”¹è¡¨å :ALTER TABLE æ—§è¡¨å RENAME AS æ–°è¡¨å</p>
<p>æ·»åŠ å­—æ®µ : ALTER TABLE è¡¨å ADDå­—æ®µå åˆ—å±æ€§[å±æ€§]</p>
<p>ä¿®æ”¹å­—æ®µ :</p>
<ul>
<li>ALTER TABLE è¡¨å MODIFY å­—æ®µå åˆ—ç±»å‹[å±æ€§]</li>
<li>ALTER TABLE è¡¨å CHANGE æ—§å­—æ®µå æ–°å­—æ®µå åˆ—å±æ€§[å±æ€§]</li>
</ul>
<p>åˆ é™¤å­—æ®µ :  ALTER TABLE è¡¨å DROP å­—æ®µå</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ALTER TABLE teacher RENAME AS teacher1</span><br><span class="line">ALTER TABLE teacher1 ADD age INT(11)</span><br><span class="line">ALTER TABLE teacher1 MODIFY age VARCHAR(11)</span><br><span class="line">ALTER TABLE teacher CHANGE age age1 INT(1)</span><br><span class="line">ALTER TABLE teacher1 DROP age1									</span><br></pre></td></tr></table></figure>


<p><strong>æœ€ç»ˆç»“è®º</strong>ï¼š</p>
<ul>
<li>changeç”¨æ¥å­—æ®µé‡å‘½åï¼Œä¸èƒ½ä¿®æ”¹å­—æ®µç±»å‹å’Œçº¦æŸ</li>
<li>modifyä¸ç”¨æ¥å­—æ®µé‡å‘½åï¼Œåªèƒ½ä¿®æ”¹å­—æ®µç±»å‹å’Œçº¦æŸ</li>
</ul>
<blockquote>
<p>åˆ é™¤æ•°æ®è¡¨</p>
</blockquote>
<p>è¯­æ³•ï¼šDROP TABLE [IF EXISTS] è¡¨å</p>
<ul>
<li>IF EXISTSä¸ºå¯é€‰ , åˆ¤æ–­æ˜¯å¦å­˜åœ¨è¯¥æ•°æ®è¡¨</li>
<li>å¦‚åˆ é™¤ä¸å­˜åœ¨çš„æ•°æ®è¡¨ä¼šæŠ›å‡ºé”™è¯¯</li>
</ul>
<p>==æ‰€æœ‰çš„åˆ›å»ºå’Œåˆ é™¤æ“ä½œå°½é‡åŠ ä¸Šåˆ¤æ–­ï¼Œä»¥å…æŠ¥é”™ï½==</p>
<blockquote>
<p>å…¶ä»–</p>
</blockquote>
<ol>
<li>å¯ç”¨åå¼•å·ï¼ˆ`ï¼‰ä¸ºæ ‡è¯†ç¬¦ï¼ˆåº“åã€è¡¨åã€å­—æ®µåã€ç´¢å¼•ã€åˆ«åï¼‰åŒ…è£¹ï¼Œä»¥é¿å…ä¸å…³é”®å­—é‡åï¼ä¸­æ–‡ä¹Ÿå¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ï¼</li>
<li>æ¯ä¸ªåº“ç›®å½•å­˜åœ¨ä¸€ä¸ªä¿å­˜å½“å‰æ•°æ®åº“çš„é€‰é¡¹æ–‡ä»¶db.optã€‚</li>
<li>æ³¨é‡Šï¼š<br> å•è¡Œæ³¨é‡Š # æ³¨é‡Šå†…å®¹<br> å¤šè¡Œæ³¨é‡Š /* æ³¨é‡Šå†…å®¹ */<br> å•è¡Œæ³¨é‡Š â€“ æ³¨é‡Šå†…å®¹       (æ ‡å‡†SQLæ³¨é‡Šé£æ ¼ï¼Œè¦æ±‚åŒç ´æŠ˜å·ååŠ ä¸€ç©ºæ ¼ç¬¦ï¼ˆç©ºæ ¼ã€TABã€æ¢è¡Œç­‰ï¼‰)</li>
<li>æ¨¡å¼é€šé…ç¬¦ï¼š<br> _   ä»»æ„å•ä¸ªå­—ç¬¦<br> %   ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œç”šè‡³åŒ…æ‹¬é›¶å­—ç¬¦<br> å•å¼•å·éœ€è¦è¿›è¡Œè½¬ä¹‰ &#39;</li>
<li>CMDå‘½ä»¤è¡Œå†…çš„è¯­å¥ç»“æŸç¬¦å¯ä»¥ä¸º â€œ;â€, â€œ\Gâ€, â€œ\gâ€ï¼Œä»…å½±å“æ˜¾ç¤ºç»“æœã€‚å…¶ä»–åœ°æ–¹è¿˜æ˜¯ç”¨åˆ†å·ç»“æŸã€‚delimiter å¯ä¿®æ”¹å½“å‰å¯¹è¯çš„è¯­å¥ç»“æŸç¬¦ã€‚</li>
<li>SQLå¯¹å¤§å°å†™ä¸æ•æ„Ÿ ï¼ˆå…³é”®å­—ï¼‰</li>
<li>æ¸…é™¤å·²æœ‰è¯­å¥ï¼š\c</li>
</ol>
<h3 id="å¤–é”®"><a href="#å¤–é”®" class="headerlink" title="å¤–é”®"></a>å¤–é”®</h3><blockquote>
<p>å¤–é”®æ¦‚å¿µ</p>
</blockquote>
<p>å¦‚æœå…¬å…±å…³é”®å­—åœ¨ä¸€ä¸ªå…³ç³»ä¸­æ˜¯ä¸»å…³é”®å­—ï¼Œé‚£ä¹ˆè¿™ä¸ªå…¬å…±å…³é”®å­—è¢«ç§°ä¸ºå¦ä¸€ä¸ªå…³ç³»çš„å¤–é”®ã€‚ç”±æ­¤å¯è§ï¼Œå¤–é”®è¡¨ç¤ºäº†ä¸¤ä¸ªå…³ç³»ä¹‹é—´çš„ç›¸å…³è”ç³»ã€‚ä»¥å¦ä¸€ä¸ªå…³ç³»çš„å¤–é”®ä½œä¸»å…³é”®å­—çš„è¡¨è¢«ç§°ä¸º<strong>ä¸»è¡¨</strong>ï¼Œå…·æœ‰æ­¤å¤–é”®çš„è¡¨è¢«ç§°ä¸ºä¸»è¡¨çš„<strong>ä»è¡¨</strong>ã€‚</p>
<p>åœ¨å®é™…æ“ä½œä¸­ï¼Œå°†ä¸€ä¸ªè¡¨çš„å€¼æ”¾å…¥ç¬¬äºŒä¸ªè¡¨æ¥è¡¨ç¤ºå…³è”ï¼Œæ‰€ä½¿ç”¨çš„å€¼æ˜¯ç¬¬ä¸€ä¸ªè¡¨çš„ä¸»é”®å€¼(åœ¨å¿…è¦æ—¶å¯åŒ…æ‹¬å¤åˆä¸»é”®å€¼)ã€‚æ­¤æ—¶ï¼Œç¬¬äºŒä¸ªè¡¨ä¸­ä¿å­˜è¿™äº›å€¼çš„å±æ€§ç§°ä¸ºå¤–é”®(<strong>foreign key</strong>)ã€‚</p>
<p><strong>å¤–é”®ä½œç”¨</strong></p>
<p>ä¿æŒæ•°æ®<strong>ä¸€è‡´æ€§</strong>ï¼Œ<strong>å®Œæ•´æ€§</strong>ï¼Œä¸»è¦ç›®çš„æ˜¯æ§åˆ¶å­˜å‚¨åœ¨å¤–é”®è¡¨ä¸­çš„æ•°æ®,<strong>çº¦æŸ</strong>ã€‚ä½¿ä¸¤å¼ è¡¨å½¢æˆå…³è”ï¼Œå¤–é”®åªèƒ½å¼•ç”¨å¤–è¡¨ä¸­çš„åˆ—çš„å€¼æˆ–ä½¿ç”¨ç©ºå€¼ã€‚</p>
<blockquote>
<p>åˆ›å»ºå¤–é”®</p>
</blockquote>
<p>å»ºè¡¨æ—¶æŒ‡å®šå¤–é”®çº¦æŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- åˆ›å»ºå¤–é”®çš„æ–¹å¼ä¸€ : åˆ›å»ºå­è¡¨åŒæ—¶åˆ›å»ºå¤–é”®</span><br><span class="line"></span><br><span class="line">-- å¹´çº§è¡¨ (id\å¹´çº§åç§°)</span><br><span class="line">CREATE TABLE &#96;grade&#96; (</span><br><span class="line">&#96;gradeid&#96; INT(10) NOT NULL AUTO_INCREMENT COMMENT &#39;å¹´çº§ID&#39;,</span><br><span class="line">&#96;gradename&#96; VARCHAR(50) NOT NULL COMMENT &#39;å¹´çº§åç§°&#39;,</span><br><span class="line">PRIMARY KEY (&#96;gradeid&#96;)</span><br><span class="line">) ENGINE&#x3D;INNODB DEFAULT CHARSET&#x3D;utf8</span><br><span class="line"></span><br><span class="line">-- å­¦ç”Ÿä¿¡æ¯è¡¨ (å­¦å·,å§“å,æ€§åˆ«,å¹´çº§,æ‰‹æœº,åœ°å€,å‡ºç”Ÿæ—¥æœŸ,é‚®ç®±,èº«ä»½è¯å·)</span><br><span class="line">CREATE TABLE &#96;student&#96; (</span><br><span class="line">&#96;studentno&#96; INT(4) NOT NULL COMMENT &#39;å­¦å·&#39;,</span><br><span class="line">&#96;studentname&#96; VARCHAR(20) NOT NULL DEFAULT &#39;åŒ¿å&#39; COMMENT &#39;å§“å&#39;,</span><br><span class="line">&#96;sex&#96; TINYINT(1) DEFAULT &#39;1&#39; COMMENT &#39;æ€§åˆ«&#39;,</span><br><span class="line">&#96;gradeid&#96; INT(10) DEFAULT NULL COMMENT &#39;å¹´çº§&#39;,</span><br><span class="line">&#96;phoneNum&#96; VARCHAR(50) NOT NULL COMMENT &#39;æ‰‹æœº&#39;,</span><br><span class="line">&#96;address&#96; VARCHAR(255) DEFAULT NULL COMMENT &#39;åœ°å€&#39;,</span><br><span class="line">&#96;borndate&#96; DATETIME DEFAULT NULL COMMENT &#39;ç”Ÿæ—¥&#39;,</span><br><span class="line">&#96;email&#96; VARCHAR(50) DEFAULT NULL COMMENT &#39;é‚®ç®±&#39;,</span><br><span class="line">&#96;idCard&#96; VARCHAR(18) DEFAULT NULL COMMENT &#39;èº«ä»½è¯å·&#39;,</span><br><span class="line">PRIMARY KEY (&#96;studentno&#96;),</span><br><span class="line">KEY &#96;FK_gradeid&#96; (&#96;gradeid&#96;),</span><br><span class="line">CONSTRAINT &#96;FK_gradeid&#96; FOREIGN KEY (&#96;gradeid&#96;) REFERENCES &#96;grade&#96; (&#96;gradeid&#96;)</span><br><span class="line">) ENGINE&#x3D;INNODB DEFAULT CHARSET&#x3D;utf8</span><br></pre></td></tr></table></figure>
<p>å»ºè¡¨åä¿®æ”¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- åˆ›å»ºå¤–é”®æ–¹å¼äºŒ : åˆ›å»ºå­è¡¨å®Œæ¯•å,ä¿®æ”¹å­è¡¨æ·»åŠ å¤–é”®</span><br><span class="line">ALTER TABLE &#96;student&#96;</span><br><span class="line">ADD CONSTRAINT &#96;FK_gradeid&#96; FOREIGN KEY (&#96;gradeid&#96;) REFERENCES &#96;grade&#96; (&#96;gradeid&#96;);</span><br></pre></td></tr></table></figure>


<blockquote>
<p>åˆ é™¤å¤–é”®</p>
</blockquote>
<p>æ“ä½œï¼šåˆ é™¤ grade è¡¨ï¼Œå‘ç°æŠ¥é”™</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7LCI6xGKJ7bKiaBudOSBHd9dAFiaLn6yfOjQtCB0o2bo5uaJH6GKpmGXVCbrFKSzQOeMKpPbG57dIgA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p><strong>æ³¨æ„</strong> : åˆ é™¤å…·æœ‰ä¸»å¤–é”®å…³ç³»çš„è¡¨æ—¶ , è¦å…ˆåˆ å­è¡¨ , ååˆ ä¸»è¡¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- åˆ é™¤å¤–é”®</span><br><span class="line">ALTER TABLE student DROP FOREIGN KEY FK_gradeid;</span><br><span class="line">-- å‘ç°æ‰§è¡Œå®Œä¸Šé¢çš„,ç´¢å¼•è¿˜åœ¨,æ‰€ä»¥è¿˜è¦åˆ é™¤ç´¢å¼•</span><br><span class="line">-- æ³¨:è¿™ä¸ªç´¢å¼•æ˜¯å»ºç«‹å¤–é”®çš„æ—¶å€™é»˜è®¤ç”Ÿæˆçš„</span><br><span class="line">ALTER TABLE student DROP INDEX FK_gradeid;</span><br></pre></td></tr></table></figure>


<p>ä»¥ä¸Šçš„æ“ä½œéƒ½æ˜¯ç‰©ç†å¤–é”®ï¼Œæ•°æ®åº“çº§åˆ«çš„å¤–é”®ï¼Œæˆ‘ä»¬ä¸å»ºè®®ä½¿ç”¨ï¼ˆé¿å…å› ä¸ºæ•°æ®åº“è¿‡å¤šé€ æˆå›°æ‰°ï¼Œè¿™é‡Œäº†è§£å³å¯ï½ï¼‰</p>
<p>==æœ€ä½³å®è·µ==</p>
<ul>
<li>æ•°æ®åº“å°±æ˜¯å•çº¯çš„è¡¨ï¼Œåªæ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œåªæœ‰è¡Œï¼ˆæ•°æ®ï¼‰å’Œåˆ—ï¼ˆå­—æ®µï¼‰</li>
<li>æˆ‘ä»¬æƒ³ä½¿ç”¨å¤šå¼ è¡¨çš„æ•°æ®ï¼Œæƒ³ä½¿ç”¨å¤–é”®ï¼ˆç¨‹åºå»å®ç°ï¼‰</li>
</ul>
<h3 id="DMLè¯­è¨€"><a href="#DMLè¯­è¨€" class="headerlink" title="DMLè¯­è¨€"></a>DMLè¯­è¨€</h3><p><strong>æ•°æ®åº“æ„ä¹‰</strong> ï¼š æ•°æ®å­˜å‚¨ã€æ•°æ®ç®¡ç†</p>
<p><strong>ç®¡ç†æ•°æ®åº“æ•°æ®æ–¹æ³•ï¼š</strong></p>
<ul>
<li>é€šè¿‡SQLyogç­‰ç®¡ç†å·¥å…·ç®¡ç†æ•°æ®åº“æ•°æ®</li>
<li>é€šè¿‡<strong>DMLè¯­å¥</strong>ç®¡ç†æ•°æ®åº“æ•°æ®</li>
</ul>
<p><strong>DMLè¯­è¨€</strong>  ï¼šæ•°æ®æ“ä½œè¯­è¨€</p>
<ul>
<li><p>ç”¨äºæ“ä½œæ•°æ®åº“å¯¹è±¡ä¸­æ‰€åŒ…å«çš„æ•°æ®</p>
</li>
<li><p>åŒ…æ‹¬ :</p>
</li>
<li><ul>
<li>INSERT (æ·»åŠ æ•°æ®è¯­å¥)</li>
<li>UPDATE (æ›´æ–°æ•°æ®è¯­å¥)</li>
<li>DELETE (åˆ é™¤æ•°æ®è¯­å¥)</li>
</ul>
</li>
</ul>
<h3 id="æ·»åŠ æ•°æ®"><a href="#æ·»åŠ æ•°æ®" class="headerlink" title="æ·»åŠ æ•°æ®"></a>æ·»åŠ æ•°æ®</h3><blockquote>
<p>INSERTå‘½ä»¤</p>
</blockquote>
<p><strong>è¯­æ³•ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INSERT INTO è¡¨å[(å­—æ®µ1,å­—æ®µ2,å­—æ®µ3,...)] VALUES(&#39;å€¼1&#39;,&#39;å€¼2&#39;,&#39;å€¼3&#39;)</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ :</strong> </p>
<ul>
<li>å­—æ®µæˆ–å€¼ä¹‹é—´ç”¨è‹±æ–‡é€—å·éš”å¼€ .</li>
<li>â€˜ å­—æ®µ1,å­—æ®µ2â€¦â€™ è¯¥éƒ¨åˆ†å¯çœç•¥ , ä½†æ·»åŠ çš„å€¼åŠ¡å¿…ä¸è¡¨ç»“æ„,æ•°æ®åˆ—,é¡ºåºç›¸å¯¹åº”,ä¸”æ•°é‡ä¸€è‡´ .</li>
<li>å¯åŒæ—¶æ’å…¥å¤šæ¡æ•°æ® , values åç”¨è‹±æ–‡é€—å·éš”å¼€ .</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- ä½¿ç”¨è¯­å¥å¦‚ä½•å¢åŠ è¯­å¥?</span><br><span class="line">-- è¯­æ³• : INSERT INTO è¡¨å[(å­—æ®µ1,å­—æ®µ2,å­—æ®µ3,...)] VALUES(&#39;å€¼1&#39;,&#39;å€¼2&#39;,&#39;å€¼3&#39;)</span><br><span class="line">INSERT INTO grade(gradename) VALUES (&#39;å¤§ä¸€&#39;);</span><br><span class="line"></span><br><span class="line">-- ä¸»é”®è‡ªå¢,é‚£èƒ½å¦çœç•¥å‘¢?</span><br><span class="line">INSERT INTO grade VALUES (&#39;å¤§äºŒ&#39;);</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢:INSERT INTO grade VALUE (&#39;å¤§äºŒ&#39;)é”™è¯¯ä»£ç ï¼š1136</span><br><span class="line">Column count doesn&#96;t match value count at row 1</span><br><span class="line"></span><br><span class="line">-- ç»“è®º:&#39;å­—æ®µ1,å­—æ®µ2...&#39;è¯¥éƒ¨åˆ†å¯çœç•¥ , ä½†æ·»åŠ çš„å€¼åŠ¡å¿…ä¸è¡¨ç»“æ„,æ•°æ®åˆ—,é¡ºåºç›¸å¯¹åº”,ä¸”æ•°é‡ä¸€è‡´. æ•°æ®å’Œå­—æ®µä¸€å®šçš„è¦ä¸€ä¸€åŒ¹é…</span><br><span class="line"></span><br><span class="line">-- ä¸€æ¬¡æ’å…¥å¤šæ¡æ•°æ®</span><br><span class="line">INSERT INTO grade(gradename) VALUES (&#39;å¤§ä¸‰&#39;),(&#39;å¤§å››&#39;);</span><br></pre></td></tr></table></figure>
<p><strong>ç»ƒä¹ é¢˜ç›®</strong> </p>
<p>è‡ªå·±ä½¿ç”¨INSERTè¯­å¥ä¸ºè¯¾ç¨‹è¡¨subjectæ·»åŠ æ•°æ® . ä½¿ç”¨åˆ°å¤–é”®.</p>
<h3 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h3><blockquote>
<p>updateå‘½ä»¤</p>
</blockquote>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UPDATE è¡¨å SET column_name&#x3D;value [,column_name2&#x3D;value2,...] [WHERE condition];</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ :</strong> </p>
<ul>
<li>column_name ä¸ºè¦æ›´æ”¹çš„æ•°æ®åˆ—, å°½é‡å¸¦ä¸Š``</li>
<li>value ä¸ºä¿®æ”¹åçš„æ•°æ® , å¯ä»¥ä¸ºå˜é‡ , å…·ä½“æŒ‡ , è¡¨è¾¾å¼æˆ–è€…åµŒå¥—çš„SELECTç»“æœ e.g. CURRENT_TIME</li>
<li>condition ä¸ºç­›é€‰æ¡ä»¶ , å¦‚ä¸æŒ‡å®šåˆ™ä¿®æ”¹è¯¥è¡¨çš„æ‰€æœ‰åˆ—æ•°æ®</li>
<li>å¤šä¸ªè®¾ç½®çš„å±æ€§ä¹‹é—´ï¼Œä½¿ç”¨è‹±æ–‡çš„é€—å·éš”å¼€</li>
</ul>
<blockquote>
<p>whereæ¡ä»¶å­å¥</p>
</blockquote>
<p>å¯ä»¥ç®€å•çš„ç†è§£ä¸º : æœ‰æ¡ä»¶åœ°ä»è¡¨ä¸­ç­›é€‰æ•°æ®</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7LCI6xGKJ7bKiaBudOSBHd9dyJWPxp3H9GicphPXMEvCwtUyKX3vibUCESqSaDnKnLzlwYpcRTJsdUIg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡">æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- ä¿®æ”¹å¹´çº§ä¿¡æ¯</span><br><span class="line">UPDATE grade SET gradename &#x3D; &#39;é«˜ä¸­&#39; WHERE gradeid &#x3D; 1;</span><br></pre></td></tr></table></figure>


<h3 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h3><blockquote>
<p>DELETEå‘½ä»¤</p>
</blockquote>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELETE FROM è¡¨å [WHERE condition];</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šconditionä¸ºç­›é€‰æ¡ä»¶ , å¦‚ä¸æŒ‡å®šåˆ™åˆ é™¤è¯¥è¡¨çš„æ‰€æœ‰åˆ—æ•°æ®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- åˆ é™¤æœ€åä¸€ä¸ªæ•°æ®</span><br><span class="line">DELETE FROM grade WHERE gradeid &#x3D; 5</span><br><span class="line"></span><br><span class="line">-- åˆ é™¤æ•°æ®ï¼ˆé¿å…è¿™æ ·å†™ï¼‰è¿™æ ·ä¼šåˆ é™¤å…¨éƒ¨çš„æ•°æ®</span><br><span class="line">DELETE FROM &#96;student&#96;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>TRUNCATEå‘½ä»¤</p>
</blockquote>
<p>ä½œç”¨ï¼šç”¨äºå®Œå…¨æ¸…ç©ºè¡¨æ•°æ® , ä½†è¡¨ç»“æ„ , ç´¢å¼• , çº¦æŸç­‰ä¸å˜ ;</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">TRUNCATE [TABLE] table_name;</span><br><span class="line"></span><br><span class="line">-- æ¸…ç©ºå¹´çº§è¡¨</span><br><span class="line">TRUNCATE grade</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼šåŒºåˆ«äºDELETEå‘½ä»¤</strong></p>
<ul>
<li><p>ç›¸åŒ : éƒ½èƒ½åˆ é™¤æ•°æ® , ä¸åˆ é™¤è¡¨ç»“æ„ , ä½†TRUNCATEé€Ÿåº¦æ›´å¿«</p>
</li>
<li><p>ä¸åŒ :</p>
</li>
<li><ul>
<li>ä½¿ç”¨TRUNCATE TABLE é‡æ–°è®¾ç½®AUTO_INCREMENTè®¡æ•°å™¨</li>
<li>ä½¿ç”¨TRUNCATE TABLEä¸ä¼šå¯¹äº‹åŠ¡æœ‰å½±å“ ï¼ˆäº‹åŠ¡åé¢ä¼šè¯´ï¼‰</li>
</ul>
</li>
</ul>
<p>æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- åˆ›å»ºä¸€ä¸ªæµ‹è¯•è¡¨</span><br><span class="line">CREATE TABLE &#96;test&#96; (</span><br><span class="line">&#96;id&#96; INT(4) NOT NULL AUTO_INCREMENT,</span><br><span class="line">&#96;coll&#96; VARCHAR(20) NOT NULL,</span><br><span class="line">PRIMARY KEY (&#96;id&#96;)</span><br><span class="line">) ENGINE&#x3D;INNODB DEFAULT CHARSET&#x3D;utf8</span><br><span class="line"></span><br><span class="line">-- æ’å…¥å‡ ä¸ªæµ‹è¯•æ•°æ®</span><br><span class="line">INSERT INTO test(coll) VALUES(&#39;row1&#39;),(&#39;row2&#39;),(&#39;row3&#39;);</span><br><span class="line"></span><br><span class="line">-- åˆ é™¤è¡¨æ•°æ®(ä¸å¸¦whereæ¡ä»¶çš„delete)</span><br><span class="line">DELETE FROM test;</span><br><span class="line">-- ç»“è®º:å¦‚ä¸æŒ‡å®šWhereåˆ™åˆ é™¤è¯¥è¡¨çš„æ‰€æœ‰åˆ—æ•°æ®,è‡ªå¢å½“å‰å€¼ä¾ç„¶ä»åŸæ¥åŸºç¡€ä¸Šè¿›è¡Œ,ä¼šè®°å½•æ—¥å¿—.</span><br><span class="line"></span><br><span class="line">-- åˆ é™¤è¡¨æ•°æ®(truncate)</span><br><span class="line">TRUNCATE TABLE test;</span><br><span class="line">-- ç»“è®º:truncateåˆ é™¤æ•°æ®,è‡ªå¢å½“å‰å€¼ä¼šæ¢å¤åˆ°åˆå§‹å€¼é‡æ–°å¼€å§‹;ä¸ä¼šè®°å½•æ—¥å¿—.</span><br><span class="line"></span><br><span class="line">-- åŒæ ·ä½¿ç”¨DELETEæ¸…ç©ºä¸åŒå¼•æ“çš„æ•°æ®åº“è¡¨æ•°æ®.é‡å¯æ•°æ®åº“æœåŠ¡å</span><br><span class="line">-- InnoDB : è‡ªå¢åˆ—ä»åˆå§‹å€¼é‡æ–°å¼€å§‹ (å› ä¸ºæ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­,æ–­ç”µå³å¤±,ä»1å¼€å§‹)</span><br><span class="line">-- MyISAM : è‡ªå¢åˆ—ä¾ç„¶ä»ä¸Šä¸€ä¸ªè‡ªå¢æ•°æ®åŸºç¡€ä¸Šå¼€å§‹ (å­˜åœ¨æ–‡ä»¶ä¸­,ä¸ä¼šä¸¢å¤±)</span><br></pre></td></tr></table></figure>


<h3 id="DQLè¯­è¨€"><a href="#DQLè¯­è¨€" class="headerlink" title="DQLè¯­è¨€"></a>DQLè¯­è¨€</h3><p><strong>DQL( Data Query Language æ•°æ®æŸ¥è¯¢è¯­è¨€ )</strong></p>
<ul>
<li>æŸ¥è¯¢æ•°æ®åº“æ•°æ® , å¦‚<strong>SELECT</strong>è¯­å¥</li>
<li>ç®€å•çš„å•è¡¨æŸ¥è¯¢æˆ–å¤šè¡¨çš„å¤æ‚æŸ¥è¯¢å’ŒåµŒå¥—æŸ¥è¯¢</li>
<li>æ˜¯æ•°æ®åº“è¯­è¨€ä¸­æœ€æ ¸å¿ƒ,æœ€é‡è¦çš„è¯­å¥</li>
<li>ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„è¯­å¥</li>
</ul>
<blockquote>
<p>SELECTè¯­æ³•</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT [ALL | DISTINCT]</span><br><span class="line">&#123;* | table.* | [table.field1[as alias1][,table.field2[as alias2]][,...]]&#125;</span><br><span class="line">FROM table_name [as table_alias]</span><br><span class="line">  [left | right | inner join table_name2]  -- è”åˆæŸ¥è¯¢</span><br><span class="line">  [WHERE ...]  -- æŒ‡å®šç»“æœéœ€æ»¡è¶³çš„æ¡ä»¶</span><br><span class="line">  [GROUP BY ...]  -- æŒ‡å®šç»“æœæŒ‰ç…§å“ªå‡ ä¸ªå­—æ®µæ¥åˆ†ç»„</span><br><span class="line">  [HAVING]  -- è¿‡æ»¤åˆ†ç»„çš„è®°å½•å¿…é¡»æ»¡è¶³çš„æ¬¡è¦æ¡ä»¶</span><br><span class="line">  [ORDER BY ...]  -- æŒ‡å®šæŸ¥è¯¢è®°å½•æŒ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ¡ä»¶æ’åº</span><br><span class="line">  [LIMIT &#123;[offset,]row_count | row_countOFFSET offset&#125;];</span><br><span class="line">   -- æŒ‡å®šæŸ¥è¯¢çš„è®°å½•ä»å“ªæ¡è‡³å“ªæ¡</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ : [ ] æ‹¬å·ä»£è¡¨å¯é€‰çš„ , { }æ‹¬å·ä»£è¡¨å¿…é€‰å¾—</strong></p>
<h3 id="æŒ‡å®šæŸ¥è¯¢å­—æ®µ"><a href="#æŒ‡å®šæŸ¥è¯¢å­—æ®µ" class="headerlink" title="æŒ‡å®šæŸ¥è¯¢å­—æ®µ"></a>æŒ‡å®šæŸ¥è¯¢å­—æ®µ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- æŸ¥è¯¢è¡¨ä¸­æ‰€æœ‰çš„æ•°æ®åˆ—ç»“æœ , é‡‡ç”¨ **&quot; \* &quot;** ç¬¦å·; ä½†æ˜¯æ•ˆç‡ä½ï¼Œä¸æ¨è .</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯</span><br><span class="line">SELECT * FROM student;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢æŒ‡å®šåˆ—(å­¦å· , å§“å)</span><br><span class="line">SELECT studentno,studentname FROM student;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>AS å­å¥ä½œä¸ºåˆ«å</p>
</blockquote>
<p>ä½œç”¨ï¼š</p>
<ul>
<li>å¯ç»™æ•°æ®åˆ—å–ä¸€ä¸ªæ–°åˆ«å</li>
<li>å¯ç»™è¡¨å–ä¸€ä¸ªæ–°åˆ«å</li>
<li>å¯æŠŠç»è®¡ç®—æˆ–æ€»ç»“çš„ç»“æœç”¨å¦ä¸€ä¸ªæ–°åç§°æ¥ä»£æ›¿</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- è¿™é‡Œæ˜¯ä¸ºåˆ—å–åˆ«å(å½“ç„¶aså…³é”®è¯å¯ä»¥çœç•¥)</span><br><span class="line">SELECT studentno AS å­¦å·,studentname AS å§“å FROM student;</span><br><span class="line"></span><br><span class="line">-- ä½¿ç”¨asä¹Ÿå¯ä»¥ä¸ºè¡¨å–åˆ«å</span><br><span class="line">SELECT studentno AS å­¦å·,studentname AS å§“å FROM student AS s;</span><br><span class="line"></span><br><span class="line">-- ä½¿ç”¨as,ä¸ºæŸ¥è¯¢ç»“æœå–ä¸€ä¸ªæ–°åå­—</span><br><span class="line">-- CONCAT()å‡½æ•°æ‹¼æ¥å­—ç¬¦ä¸²</span><br><span class="line">SELECT CONCAT(&#39;å§“å:&#39;,studentname) AS æ–°å§“å FROM student;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>DISTINCTå…³é”®å­—çš„ä½¿ç”¨</p>
</blockquote>
<p>ä½œç”¨ : å»æ‰SELECTæŸ¥è¯¢è¿”å›çš„è®°å½•ç»“æœä¸­é‡å¤çš„è®°å½• ( è¿”å›æ‰€æœ‰åˆ—çš„å€¼éƒ½ç›¸åŒ ) , åªè¿”å›ä¸€æ¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- # æŸ¥çœ‹å“ªäº›åŒå­¦å‚åŠ äº†è€ƒè¯•(å­¦å·) å»é™¤é‡å¤é¡¹</span><br><span class="line">SELECT * FROM result; -- æŸ¥çœ‹è€ƒè¯•æˆç»©</span><br><span class="line">SELECT studentno FROM result; -- æŸ¥çœ‹å“ªäº›åŒå­¦å‚åŠ äº†è€ƒè¯•</span><br><span class="line">SELECT DISTINCT studentno FROM result; -- äº†è§£:DISTINCT å»é™¤é‡å¤é¡¹ , (é»˜è®¤æ˜¯ALL)</span><br></pre></td></tr></table></figure>


<blockquote>
<p>ä½¿ç”¨è¡¨è¾¾å¼çš„åˆ—</p>
</blockquote>
<p>æ•°æ®åº“ä¸­çš„è¡¨è¾¾å¼ : ä¸€èˆ¬ç”±æ–‡æœ¬å€¼ , åˆ—å€¼ , NULL , å‡½æ•°å’Œæ“ä½œç¬¦ç­‰ç»„æˆ</p>
<p>åº”ç”¨åœºæ™¯ :</p>
<ul>
<li><p>SELECTè¯­å¥è¿”å›ç»“æœåˆ—ä¸­ä½¿ç”¨</p>
</li>
<li><p>SELECTè¯­å¥ä¸­çš„ORDER BY , HAVINGç­‰å­å¥ä¸­ä½¿ç”¨</p>
</li>
<li><p>DMLè¯­å¥ä¸­çš„ where æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨è¡¨è¾¾å¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- selcetæŸ¥è¯¢ä¸­å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼</span><br><span class="line">SELECT @@auto_increment_increment; -- æŸ¥è¯¢è‡ªå¢æ­¥é•¿</span><br><span class="line">SELECT VERSION(); -- æŸ¥è¯¢ç‰ˆæœ¬å·</span><br><span class="line">SELECT 100*3-1 AS è®¡ç®—ç»“æœ; -- è¡¨è¾¾å¼</span><br><span class="line"></span><br><span class="line">-- å­¦å‘˜è€ƒè¯•æˆç»©é›†ä½“æåˆ†ä¸€åˆ†æŸ¥çœ‹</span><br><span class="line">SELECT studentno,StudentResult+1 AS &#39;æåˆ†å&#39; FROM result;</span><br></pre></td></tr></table></figure></li>
<li><p>é¿å…SQLè¿”å›ç»“æœä¸­åŒ…å« â€˜ . â€˜ , â€˜ * â€˜ å’Œæ‹¬å·ç­‰å¹²æ‰°å¼€å‘è¯­è¨€ç¨‹åº.</p>
</li>
</ul>
<h3 id="whereæ¡ä»¶è¯­å¥"><a href="#whereæ¡ä»¶è¯­å¥" class="headerlink" title="whereæ¡ä»¶è¯­å¥"></a>whereæ¡ä»¶è¯­å¥</h3><p>ä½œç”¨ï¼šç”¨äºæ£€ç´¢æ•°æ®è¡¨ä¸­ ç¬¦åˆæ¡ä»¶ çš„è®°å½•</p>
<p>æœç´¢æ¡ä»¶å¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªé€»è¾‘è¡¨è¾¾å¼ç»„æˆ , ç»“æœä¸€èˆ¬ä¸ºçœŸæˆ–å‡.</p>
<blockquote>
<p>é€»è¾‘æ“ä½œç¬¦</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7LwfjFbCQXic0pcE21lUFGvDT2GTsOdcj7nOuoXTIgEfrNMN8YGygWdrFUTLe41xNqchhfGdq6CHtw/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>æµ‹è¯•</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ»¡è¶³æ¡ä»¶çš„æŸ¥è¯¢(where)</span></span><br><span class="line"><span class="keyword">SELECT</span> Studentno,StudentResult <span class="keyword">FROM</span> <span class="keyword">result</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢è€ƒè¯•æˆç»©åœ¨95-100ä¹‹é—´çš„</span></span><br><span class="line"><span class="keyword">SELECT</span> Studentno,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> StudentResult<span class="operator">&gt;=</span><span class="number">95</span> <span class="keyword">AND</span> StudentResult<span class="operator">&lt;=</span><span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ANDä¹Ÿå¯ä»¥å†™æˆ &amp;&amp;</span></span><br><span class="line"><span class="keyword">SELECT</span> Studentno,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> StudentResult<span class="operator">&gt;=</span><span class="number">95</span> <span class="operator">&amp;&amp;</span> StudentResult<span class="operator">&lt;=</span><span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ¨¡ç³ŠæŸ¥è¯¢(å¯¹åº”çš„è¯:ç²¾ç¡®æŸ¥è¯¢)</span></span><br><span class="line"><span class="keyword">SELECT</span> Studentno,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> StudentResult <span class="keyword">BETWEEN</span> <span class="number">95</span> <span class="keyword">AND</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- é™¤äº†1000å·åŒå­¦,è¦å…¶ä»–åŒå­¦çš„æˆç»©</span></span><br><span class="line"><span class="keyword">SELECT</span> studentno,studentresult</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> studentno<span class="operator">!=</span><span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä½¿ç”¨NOT</span></span><br><span class="line"><span class="keyword">SELECT</span> studentno,studentresult</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> studentno<span class="operator">=</span><span class="number">1000</span>;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>æ¨¡ç³ŠæŸ¥è¯¢ ï¼šæ¯”è¾ƒæ“ä½œç¬¦</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7LwfjFbCQXic0pcE21lUFGvDk8xl58oP6ch67ZibicU1fn2O7Lk4uLZyiaG8p8Zhkl4oF1GUibbPF0iaxIQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>æ•°å€¼æ•°æ®ç±»å‹çš„è®°å½•ä¹‹é—´æ‰èƒ½è¿›è¡Œç®—æœ¯è¿ç®— ;</li>
<li>ç›¸åŒæ•°æ®ç±»å‹çš„æ•°æ®ä¹‹é—´æ‰èƒ½è¿›è¡Œæ¯”è¾ƒ ;</li>
</ul>
<p>æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- æ¨¡ç³ŠæŸ¥è¯¢ between and \ like \ in \ null</span><br><span class="line"></span><br><span class="line">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">-- LIKE</span><br><span class="line">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">-- æŸ¥è¯¢å§“åˆ˜çš„åŒå­¦çš„å­¦å·åŠå§“å</span><br><span class="line">-- likeç»“åˆä½¿ç”¨çš„é€šé…ç¬¦ : % (ä»£è¡¨0åˆ°ä»»æ„ä¸ªå­—ç¬¦) _ (ä¸€ä¸ªå­—ç¬¦)</span><br><span class="line">SELECT studentno,studentname FROM student</span><br><span class="line">WHERE studentname LIKE &#39;åˆ˜%&#39;;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢å§“åˆ˜çš„åŒå­¦,åé¢åªæœ‰ä¸€ä¸ªå­—çš„</span><br><span class="line">SELECT studentno,studentname FROM student</span><br><span class="line">WHERE studentname LIKE &#39;åˆ˜_&#39;;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢å§“åˆ˜çš„åŒå­¦,åé¢åªæœ‰ä¸¤ä¸ªå­—çš„</span><br><span class="line">SELECT studentno,studentname FROM student</span><br><span class="line">WHERE studentname LIKE &#39;åˆ˜__&#39;;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢å§“åä¸­å«æœ‰ å˜‰ å­—çš„</span><br><span class="line">SELECT studentno,studentname FROM student</span><br><span class="line">WHERE studentname LIKE &#39;%å˜‰%&#39;;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢å§“åä¸­å«æœ‰ç‰¹æ®Šå­—ç¬¦çš„éœ€è¦ä½¿ç”¨è½¬ä¹‰ç¬¦å· &#39;\&#39;</span><br><span class="line">-- è‡ªå®šä¹‰è½¬ä¹‰ç¬¦å…³é”®å­—: ESCAPE &#39;:&#39;</span><br><span class="line"></span><br><span class="line">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">-- IN</span><br><span class="line">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">-- æŸ¥è¯¢å­¦å·ä¸º1000,1001,1002çš„å­¦ç”Ÿå§“å</span><br><span class="line">SELECT studentno,studentname FROM student</span><br><span class="line">WHERE studentno IN (1000,1001,1002);</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢åœ°å€åœ¨åŒ—äº¬,å—äº¬,æ²³å—æ´›é˜³çš„å­¦ç”Ÿ</span><br><span class="line">SELECT studentno,studentname,address FROM student</span><br><span class="line">WHERE address IN (&#39;åŒ—äº¬&#39;,&#39;å—äº¬&#39;,&#39;æ²³å—æ´›é˜³&#39;);</span><br><span class="line"></span><br><span class="line">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">-- NULL ç©º</span><br><span class="line">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">-- æŸ¥è¯¢å‡ºç”Ÿæ—¥æœŸæ²¡æœ‰å¡«å†™çš„åŒå­¦</span><br><span class="line">-- ä¸èƒ½ç›´æ¥å†™&#x3D;NULL , è¿™æ˜¯ä»£è¡¨é”™è¯¯çš„ , ç”¨ is null</span><br><span class="line">SELECT studentname FROM student</span><br><span class="line">WHERE BornDate IS NULL;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢å‡ºç”Ÿæ—¥æœŸå¡«å†™çš„åŒå­¦</span><br><span class="line">SELECT studentname FROM student</span><br><span class="line">WHERE BornDate IS NOT NULL;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢æ²¡æœ‰å†™å®¶åº­ä½å€çš„åŒå­¦(ç©ºå­—ç¬¦ä¸²ä¸ç­‰äºnull)</span><br><span class="line">SELECT studentname FROM student</span><br><span class="line">WHERE Address&#x3D;&#39;&#39; OR Address IS NULL;</span><br></pre></td></tr></table></figure>


<h3 id="è¿æ¥æŸ¥è¯¢"><a href="#è¿æ¥æŸ¥è¯¢" class="headerlink" title="è¿æ¥æŸ¥è¯¢"></a>è¿æ¥æŸ¥è¯¢</h3><blockquote>
<p>JOIN å¯¹æ¯”</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7LwfjFbCQXic0pcE21lUFGvDowQf1HHaYIicELYKnU9kDeaFHnfx0GYW6AsEwoTySywn91ia8Wz2sXiaA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>ä¸ƒç§Joinï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7LwfjFbCQXic0pcE21lUFGvDw5aZLehIYzwLprCfqdxSjsm2wficHrSEzJiaJBGaKWpatQ7sISib9MgCQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p><strong>on å’Œ where çš„åŒºåˆ«</strong></p>
<p>On æ˜¯å…ˆç­›é€‰åå…³è”ï¼Œwhereæ˜¯å…ˆå…³è”åç­›é€‰ã€‚</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/169737345" >https://zhuanlan.zhihu.com/p/169737345<i class="fas fa-external-link-alt"></i></a></p>
<p>â€“ join ï¼ˆè¿æ¥çš„è¡¨ï¼‰on ï¼ˆåˆ¤æ–­çš„æ¡ä»¶ï¼‰è¿æ¥æŸ¥è¯¢</p>
<p>â€“ where ç­‰å€¼æŸ¥è¯¢</p>
<p><strong>ON</strong> should be used to <strong>define the join condition</strong> and WHERE should be used to <strong>filter the data</strong>.</p>
<p><a class="link"   href="https://dataschool.com/how-to-teach-people-sql/difference-between-where-and-on-in-sql/" >https://dataschool.com/how-to-teach-people-sql/difference-between-where-and-on-in-sql/<i class="fas fa-external-link-alt"></i></a></p>
<p>æµ‹è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">è¿æ¥æŸ¥è¯¢</span><br><span class="line">   å¦‚éœ€è¦å¤šå¼ æ•°æ®è¡¨çš„æ•°æ®è¿›è¡ŒæŸ¥è¯¢,åˆ™å¯é€šè¿‡è¿æ¥è¿ç®—ç¬¦å®ç°å¤šä¸ªæŸ¥è¯¢</span><br><span class="line">å†…è¿æ¥ inner join</span><br><span class="line">   æŸ¥è¯¢ä¸¤ä¸ªè¡¨ä¸­çš„ç»“æœé›†ä¸­çš„äº¤é›†</span><br><span class="line">å¤–è¿æ¥ outer join</span><br><span class="line">   å·¦å¤–è¿æ¥ left join</span><br><span class="line">       (ä»¥å·¦è¡¨ä½œä¸ºåŸºå‡†,å³è¾¹è¡¨æ¥ä¸€ä¸€åŒ¹é…,åŒ¹é…ä¸ä¸Šçš„,è¿”å›å·¦è¡¨çš„è®°å½•,å³è¡¨ä»¥NULLå¡«å……)</span><br><span class="line">   å³å¤–è¿æ¥ right join</span><br><span class="line">       (ä»¥å³è¡¨ä½œä¸ºåŸºå‡†,å·¦è¾¹è¡¨æ¥ä¸€ä¸€åŒ¹é…,åŒ¹é…ä¸ä¸Šçš„,è¿”å›å³è¡¨çš„è®°å½•,å·¦è¡¨ä»¥NULLå¡«å……)</span><br><span class="line">       </span><br><span class="line">ç­‰å€¼è¿æ¥å’Œéç­‰å€¼è¿æ¥</span><br><span class="line"></span><br><span class="line">è‡ªè¿æ¥</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢å‚åŠ äº†è€ƒè¯•çš„åŒå­¦ä¿¡æ¯(å­¦å·,å­¦ç”Ÿå§“å,ç§‘ç›®ç¼–å·,åˆ†æ•°)</span><br><span class="line">SELECT * FROM student;</span><br><span class="line">SELECT * FROM result;</span><br><span class="line"></span><br><span class="line">&#x2F;*æ€è·¯:</span><br><span class="line">(1):åˆ†æéœ€æ±‚,ç¡®å®šæŸ¥è¯¢çš„åˆ—æ¥æºäºä¸¤ä¸ªç±»,student result,è¿æ¥æŸ¥è¯¢</span><br><span class="line">(2):ç¡®å®šä½¿ç”¨å“ªç§è¿æ¥æŸ¥è¯¢?(å†…è¿æ¥)</span><br><span class="line">*&#x2F;</span><br><span class="line">SELECT s.studentno,studentname,subjectno,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON r.studentno &#x3D; s.studentno</span><br><span class="line"></span><br><span class="line">-- å³è¿æ¥(ä¹Ÿå¯å®ç°)</span><br><span class="line">SELECT s.studentno,studentname,subjectno,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">RIGHT JOIN result r</span><br><span class="line">ON r.studentno &#x3D; s.studentno</span><br><span class="line"></span><br><span class="line">-- ç­‰å€¼è¿æ¥</span><br><span class="line">SELECT s.studentno,studentname,subjectno,StudentResult</span><br><span class="line">FROM student s , result r</span><br><span class="line">WHERE r.studentno &#x3D; s.studentno</span><br><span class="line"></span><br><span class="line">-- å·¦è¿æ¥ (æŸ¥è¯¢äº†æ‰€æœ‰åŒå­¦,ä¸è€ƒè¯•çš„ä¹Ÿä¼šæŸ¥å‡ºæ¥)</span><br><span class="line">SELECT s.studentno,studentname,subjectno,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">LEFT JOIN result r</span><br><span class="line">ON r.studentno &#x3D; s.studentno</span><br><span class="line"></span><br><span class="line">-- æŸ¥ä¸€ä¸‹ç¼ºè€ƒçš„åŒå­¦(å·¦è¿æ¥åº”ç”¨åœºæ™¯)</span><br><span class="line">SELECT s.studentno,studentname,subjectno,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">LEFT JOIN result r</span><br><span class="line">ON r.studentno &#x3D; s.studentno</span><br><span class="line">WHERE StudentResult IS NULL</span><br><span class="line"></span><br><span class="line">-- æ€è€ƒé¢˜:æŸ¥è¯¢å‚åŠ äº†è€ƒè¯•çš„åŒå­¦ä¿¡æ¯(å­¦å·,å­¦ç”Ÿå§“å,ç§‘ç›®å,åˆ†æ•°)</span><br><span class="line">SELECT s.studentno,studentname,subjectname,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON r.studentno &#x3D; s.studentno</span><br><span class="line">INNER JOIN &#96;subject&#96; sub</span><br><span class="line">ON sub.subjectno &#x3D; r.subjectno</span><br></pre></td></tr></table></figure>


<blockquote>
<p>è‡ªè¿æ¥</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">è‡ªè¿æ¥</span><br><span class="line">   æ•°æ®è¡¨ä¸è‡ªèº«è¿›è¡Œè¿æ¥</span><br><span class="line"></span><br><span class="line">éœ€æ±‚:ä»ä¸€ä¸ªåŒ…å«æ ç›®ID , æ ç›®åç§°å’Œçˆ¶æ ç›®IDçš„è¡¨ä¸­</span><br><span class="line">    æŸ¥è¯¢çˆ¶æ ç›®åç§°å’Œå…¶ä»–å­æ ç›®åç§°</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">-- åˆ›å»ºä¸€ä¸ªè¡¨</span><br><span class="line">CREATE TABLE &#96;category&#96; (</span><br><span class="line">&#96;categoryid&#96; INT(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT &#39;ä¸»é¢˜id&#39;,</span><br><span class="line">&#96;pid&#96; INT(10) NOT NULL COMMENT &#39;çˆ¶id&#39;,</span><br><span class="line">&#96;categoryName&#96; VARCHAR(50) NOT NULL COMMENT &#39;ä¸»é¢˜åå­—&#39;,</span><br><span class="line">PRIMARY KEY (&#96;categoryid&#96;)</span><br><span class="line">) ENGINE&#x3D;INNODB AUTO_INCREMENT&#x3D;9 DEFAULT CHARSET&#x3D;utf8</span><br><span class="line"></span><br><span class="line">-- æ’å…¥æ•°æ®</span><br><span class="line">INSERT INTO &#96;category&#96; (&#96;categoryid&#96;, &#96;pid&#96;, &#96;categoryName&#96;)</span><br><span class="line">VALUES(&#39;2&#39;,&#39;1&#39;,&#39;ä¿¡æ¯æŠ€æœ¯&#39;),</span><br><span class="line">(&#39;3&#39;,&#39;1&#39;,&#39;è½¯ä»¶å¼€å‘&#39;),</span><br><span class="line">(&#39;4&#39;,&#39;3&#39;,&#39;æ•°æ®åº“&#39;),</span><br><span class="line">(&#39;5&#39;,&#39;1&#39;,&#39;ç¾æœ¯è®¾è®¡&#39;),</span><br><span class="line">(&#39;6&#39;,&#39;3&#39;,&#39;webå¼€å‘&#39;),</span><br><span class="line">(&#39;7&#39;,&#39;5&#39;,&#39;psæŠ€æœ¯&#39;),</span><br><span class="line">(&#39;8&#39;,&#39;2&#39;,&#39;åŠå…¬ä¿¡æ¯&#39;);</span><br><span class="line"></span><br><span class="line">-- ç¼–å†™SQLè¯­å¥,å°†æ ç›®çš„çˆ¶å­å…³ç³»å‘ˆç°å‡ºæ¥ (çˆ¶æ ç›®åç§°,å­æ ç›®åç§°)</span><br><span class="line">-- æ ¸å¿ƒæ€æƒ³:æŠŠä¸€å¼ è¡¨çœ‹æˆä¸¤å¼ ä¸€æ¨¡ä¸€æ ·çš„è¡¨,ç„¶åå°†è¿™ä¸¤å¼ è¡¨è¿æ¥æŸ¥è¯¢(è‡ªè¿æ¥)</span><br><span class="line">SELECT a.categoryName AS &#39;çˆ¶æ ç›®&#39;,b.categoryName AS &#39;å­æ ç›®&#39;</span><br><span class="line">FROM category AS a,category AS b</span><br><span class="line">WHERE a.&#96;categoryid&#96;&#x3D;b.&#96;pid&#96;</span><br><span class="line"></span><br><span class="line">-- æ€è€ƒé¢˜:æŸ¥è¯¢å‚åŠ äº†è€ƒè¯•çš„åŒå­¦ä¿¡æ¯(å­¦å·,å­¦ç”Ÿå§“å,ç§‘ç›®å,åˆ†æ•°)</span><br><span class="line">SELECT s.studentno,studentname,subjectname,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON r.studentno &#x3D; s.studentno</span><br><span class="line">INNER JOIN &#96;subject&#96; sub</span><br><span class="line">ON sub.subjectno &#x3D; r.subjectno</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢å­¦å‘˜åŠæ‰€å±çš„å¹´çº§(å­¦å·,å­¦ç”Ÿå§“å,å¹´çº§å)</span><br><span class="line">SELECT studentno AS å­¦å·,studentname AS å­¦ç”Ÿå§“å,gradename AS å¹´çº§åç§°</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN grade g</span><br><span class="line">ON s.&#96;GradeId&#96; &#x3D; g.&#96;GradeID&#96;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢ç§‘ç›®åŠæ‰€å±çš„å¹´çº§(ç§‘ç›®åç§°,å¹´çº§åç§°)</span><br><span class="line">SELECT subjectname AS ç§‘ç›®åç§°,gradename AS å¹´çº§åç§°</span><br><span class="line">FROM SUBJECT sub</span><br><span class="line">INNER JOIN grade g</span><br><span class="line">ON sub.gradeid &#x3D; g.gradeid</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢ æ•°æ®åº“ç»“æ„-1 çš„æ‰€æœ‰è€ƒè¯•ç»“æœ(å­¦å· å­¦ç”Ÿå§“å ç§‘ç›®åç§° æˆç»©)</span><br><span class="line">SELECT s.studentno,studentname,subjectname,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON r.studentno &#x3D; s.studentno</span><br><span class="line">INNER JOIN &#96;subject&#96; sub</span><br><span class="line">ON r.subjectno &#x3D; sub.subjectno</span><br><span class="line">WHERE subjectname&#x3D;&#39;æ•°æ®åº“ç»“æ„-1&#39;</span><br></pre></td></tr></table></figure>


<h3 id="æ’åºå’Œåˆ†é¡µ"><a href="#æ’åºå’Œåˆ†é¡µ" class="headerlink" title="æ’åºå’Œåˆ†é¡µ"></a>æ’åºå’Œåˆ†é¡µ</h3><p>æµ‹è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; æ’åº &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">è¯­æ³• : ORDER BY</span><br><span class="line">   ORDER BY è¯­å¥ç”¨äºæ ¹æ®æŒ‡å®šçš„åˆ—å¯¹ç»“æœé›†è¿›è¡Œæ’åºã€‚</span><br><span class="line">   ORDER BY è¯­å¥é»˜è®¤æŒ‰ç…§ASCå‡åºå¯¹è®°å½•è¿›è¡Œæ’åºã€‚</span><br><span class="line">   å¦‚æœæ‚¨å¸Œæœ›æŒ‰ç…§é™åºå¯¹è®°å½•è¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨ DESC å…³é”®å­—ã€‚</span><br><span class="line">   </span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢ æ•°æ®åº“ç»“æ„-1 çš„æ‰€æœ‰è€ƒè¯•ç»“æœ(å­¦å· å­¦ç”Ÿå§“å ç§‘ç›®åç§° æˆç»©)</span><br><span class="line">-- æŒ‰æˆç»©é™åºæ’åº</span><br><span class="line">SELECT s.studentno,studentname,subjectname,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON r.studentno &#x3D; s.studentno</span><br><span class="line">INNER JOIN &#96;subject&#96; sub</span><br><span class="line">ON r.subjectno &#x3D; sub.subjectno</span><br><span class="line">WHERE subjectname&#x3D;&#39;æ•°æ®åº“ç»“æ„-1&#39;</span><br><span class="line">ORDER BY StudentResult DESC</span><br><span class="line"></span><br><span class="line">&#x2F;*&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; åˆ†é¡µ &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">è¯­æ³• : SELECT * FROM table LIMIT [offset,] rows | rows OFFSET offset</span><br><span class="line">å¥½å¤„ : (ç”¨æˆ·ä½“éªŒ,ç½‘ç»œä¼ è¾“,æŸ¥è¯¢å‹åŠ›)</span><br><span class="line"></span><br><span class="line">æ¨å¯¼:</span><br><span class="line">   ç¬¬ä¸€é¡µ : limit 0,5</span><br><span class="line">   ç¬¬äºŒé¡µ : limit 5,5</span><br><span class="line">   ç¬¬ä¸‰é¡µ : limit 10,5</span><br><span class="line">   ......</span><br><span class="line">   ç¬¬Né¡µ : limit (pageNo-1)*pageSzie,pageSzie</span><br><span class="line">   [pageNo:é¡µç ,</span><br><span class="line">   pageSize:å•é¡µé¢æ˜¾ç¤ºæ¡æ•°,</span><br><span class="line">   (n-1)*pageSize:èµ·å§‹å€¼ï¼Œ</span><br><span class="line">   n:å½“å‰é¡µ</span><br><span class="line">   æ•°æ®æ€»æ•°&#x2F;é¡µé¢å¤§å°&#x3D;æ€»é¡µæ•°]</span><br><span class="line">   </span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">-- æ¯é¡µæ˜¾ç¤º5æ¡æ•°æ®</span><br><span class="line">SELECT s.studentno,studentname,subjectname,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON r.studentno &#x3D; s.studentno</span><br><span class="line">INNER JOIN &#96;subject&#96; sub</span><br><span class="line">ON r.subjectno &#x3D; sub.subjectno</span><br><span class="line">WHERE subjectname&#x3D;&#39;æ•°æ®åº“ç»“æ„-1&#39;</span><br><span class="line">ORDER BY StudentResult DESC , studentno</span><br><span class="line">LIMIT 0,5</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢ JAVAç¬¬ä¸€å­¦å¹´ è¯¾ç¨‹æˆç»©å‰10åå¹¶ä¸”åˆ†æ•°å¤§äº80çš„å­¦ç”Ÿä¿¡æ¯(å­¦å·,å§“å,è¯¾ç¨‹å,åˆ†æ•°)</span><br><span class="line">SELECT s.studentno,studentname,subjectname,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON r.studentno &#x3D; s.studentno</span><br><span class="line">INNER JOIN &#96;subject&#96; sub</span><br><span class="line">ON r.subjectno &#x3D; sub.subjectno</span><br><span class="line">WHERE subjectname&#x3D;&#39;JAVAç¬¬ä¸€å­¦å¹´&#39; AND StudentResult &gt;&#x3D;80</span><br><span class="line">ORDER BY StudentResult DESC</span><br><span class="line">LIMIT 0,10</span><br></pre></td></tr></table></figure>


<h3 id="å­æŸ¥è¯¢"><a href="#å­æŸ¥è¯¢" class="headerlink" title="å­æŸ¥è¯¢"></a>å­æŸ¥è¯¢</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; å­æŸ¥è¯¢ &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">ä»€ä¹ˆæ˜¯å­æŸ¥è¯¢?</span><br><span class="line">   åœ¨æŸ¥è¯¢è¯­å¥ä¸­çš„WHEREæ¡ä»¶å­å¥ä¸­,åˆåµŒå¥—äº†å¦ä¸€ä¸ªæŸ¥è¯¢è¯­å¥</span><br><span class="line">   åµŒå¥—æŸ¥è¯¢å¯ç”±å¤šä¸ªå­æŸ¥è¯¢ç»„æˆ,æ±‚è§£çš„æ–¹å¼æ˜¯ç”±é‡ŒåŠå¤–;</span><br><span class="line">   å­æŸ¥è¯¢è¿”å›çš„ç»“æœä¸€èˆ¬éƒ½æ˜¯é›†åˆ,æ•…è€Œå»ºè®®ä½¿ç”¨INå…³é”®å­—;</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢ æ•°æ®åº“ç»“æ„-1 çš„æ‰€æœ‰è€ƒè¯•ç»“æœ(å­¦å·,ç§‘ç›®ç¼–å·,æˆç»©),å¹¶ä¸”æˆç»©é™åºæ’åˆ—</span><br><span class="line">-- æ–¹æ³•ä¸€:ä½¿ç”¨è¿æ¥æŸ¥è¯¢</span><br><span class="line">SELECT studentno,r.subjectno,StudentResult</span><br><span class="line">FROM result r</span><br><span class="line">INNER JOIN &#96;subject&#96; sub</span><br><span class="line">ON r.&#96;SubjectNo&#96;&#x3D;sub.&#96;SubjectNo&#96;</span><br><span class="line">WHERE subjectname &#x3D; &#39;æ•°æ®åº“ç»“æ„-1&#39;</span><br><span class="line">ORDER BY studentresult DESC;</span><br><span class="line"></span><br><span class="line">-- æ–¹æ³•äºŒ:ä½¿ç”¨å­æŸ¥è¯¢(æ‰§è¡Œé¡ºåº:ç”±é‡ŒåŠå¤–)</span><br><span class="line">SELECT studentno,subjectno,StudentResult</span><br><span class="line">FROM result</span><br><span class="line">WHERE subjectno&#x3D;(</span><br><span class="line">   SELECT subjectno FROM &#96;subject&#96;</span><br><span class="line">   WHERE subjectname &#x3D; &#39;æ•°æ®åº“ç»“æ„-1&#39;</span><br><span class="line">)</span><br><span class="line">ORDER BY studentresult DESC;</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢è¯¾ç¨‹ä¸º é«˜ç­‰æ•°å­¦-2 ä¸”åˆ†æ•°ä¸å°äº80åˆ†çš„å­¦ç”Ÿçš„å­¦å·å’Œå§“å</span><br><span class="line">-- æ–¹æ³•ä¸€:ä½¿ç”¨è¿æ¥æŸ¥è¯¢</span><br><span class="line">SELECT s.studentno,studentname</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON s.&#96;StudentNo&#96; &#x3D; r.&#96;StudentNo&#96;</span><br><span class="line">INNER JOIN &#96;subject&#96; sub</span><br><span class="line">ON sub.&#96;SubjectNo&#96; &#x3D; r.&#96;SubjectNo&#96;</span><br><span class="line">WHERE subjectname &#x3D; &#39;é«˜ç­‰æ•°å­¦-2&#39; AND StudentResult&gt;&#x3D;80</span><br><span class="line"></span><br><span class="line">-- æ–¹æ³•äºŒ:ä½¿ç”¨è¿æ¥æŸ¥è¯¢+å­æŸ¥è¯¢</span><br><span class="line">-- åˆ†æ•°ä¸å°äº80åˆ†çš„å­¦ç”Ÿçš„å­¦å·å’Œå§“å</span><br><span class="line">SELECT r.studentno,studentname FROM student s</span><br><span class="line">INNER JOIN result r ON s.&#96;StudentNo&#96;&#x3D;r.&#96;StudentNo&#96;</span><br><span class="line">WHERE StudentResult&gt;&#x3D;80</span><br><span class="line"></span><br><span class="line">-- åœ¨ä¸Šé¢SQLåŸºç¡€ä¸Š,æ·»åŠ éœ€æ±‚:è¯¾ç¨‹ä¸º é«˜ç­‰æ•°å­¦-2</span><br><span class="line">SELECT r.studentno,studentname FROM student s</span><br><span class="line">INNER JOIN result r ON s.&#96;StudentNo&#96;&#x3D;r.&#96;StudentNo&#96;</span><br><span class="line">WHERE StudentResult&gt;&#x3D;80 AND subjectno&#x3D;(</span><br><span class="line">   SELECT subjectno FROM &#96;subject&#96;</span><br><span class="line">   WHERE subjectname &#x3D; &#39;é«˜ç­‰æ•°å­¦-2&#39;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">-- æ–¹æ³•ä¸‰:ä½¿ç”¨å­æŸ¥è¯¢</span><br><span class="line">-- åˆ†æ­¥å†™ç®€å•sqlè¯­å¥,ç„¶åå°†å…¶åµŒå¥—èµ·æ¥</span><br><span class="line">SELECT studentno,studentname FROM student WHERE studentno IN(</span><br><span class="line">   SELECT studentno FROM result WHERE StudentResult&gt;&#x3D;80 AND subjectno&#x3D;(</span><br><span class="line">       SELECT subjectno FROM &#96;subject&#96; WHERE subjectname &#x3D; &#39;é«˜ç­‰æ•°å­¦-2&#39;</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">ç»ƒä¹ é¢˜ç›®:</span><br><span class="line">   æŸ¥ Cè¯­è¨€-1 çš„å‰5åå­¦ç”Ÿçš„æˆç»©ä¿¡æ¯(å­¦å·,å§“å,åˆ†æ•°)</span><br><span class="line">   ä½¿ç”¨å­æŸ¥è¯¢,æŸ¥è¯¢éƒ­é–åŒå­¦æ‰€åœ¨çš„å¹´çº§åç§°</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure>


<h3 id="å¸¸ç”¨å‡½æ•°"><a href="#å¸¸ç”¨å‡½æ•°" class="headerlink" title="å¸¸ç”¨å‡½æ•°"></a>å¸¸ç”¨å‡½æ•°</h3><p><strong>æ•°æ®å‡½æ•°</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT ABS(-8);  &#x2F;*ç»å¯¹å€¼*&#x2F;</span><br><span class="line">SELECT CEILING(9.4); &#x2F;*å‘ä¸Šå–æ•´*&#x2F;</span><br><span class="line">SELECT FLOOR(9.4);   &#x2F;*å‘ä¸‹å–æ•´*&#x2F;</span><br><span class="line">SELECT RAND();  &#x2F;*éšæœºæ•°,è¿”å›ä¸€ä¸ª0-1ä¹‹é—´çš„éšæœºæ•°*&#x2F;</span><br><span class="line">SELECT SIGN(0); &#x2F;*ç¬¦å·å‡½æ•°: è´Ÿæ•°è¿”å›-1,æ­£æ•°è¿”å›1,0è¿”å›0*&#x2F;</span><br></pre></td></tr></table></figure>
<p><strong>å­—ç¬¦ä¸²å‡½æ•°</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT CHAR_LENGTH(&#39;ç‹‚ç¥è¯´åšæŒå°±èƒ½æˆåŠŸ&#39;); &#x2F;*è¿”å›å­—ç¬¦ä¸²åŒ…å«çš„å­—ç¬¦æ•°*&#x2F;</span><br><span class="line">SELECT CONCAT(&#39;æˆ‘&#39;,&#39;çˆ±&#39;,&#39;ç¨‹åº&#39;);  &#x2F;*åˆå¹¶å­—ç¬¦ä¸²,å‚æ•°å¯ä»¥æœ‰å¤šä¸ª*&#x2F;</span><br><span class="line">SELECT INSERT(&#39;æˆ‘çˆ±ç¼–ç¨‹helloworld&#39;,1,2,&#39;è¶…çº§çƒ­çˆ±&#39;);  &#x2F;*æ›¿æ¢å­—ç¬¦ä¸²,ä»æŸä¸ªä½ç½®å¼€å§‹æ›¿æ¢æŸä¸ªé•¿åº¦*&#x2F;</span><br><span class="line">SELECT LOWER(&#39;KuangShen&#39;); &#x2F;*å°å†™*&#x2F;</span><br><span class="line">SELECT UPPER(&#39;KuangShen&#39;); &#x2F;*å¤§å†™*&#x2F;</span><br><span class="line">SELECT LEFT(&#39;hello,world&#39;,5);   &#x2F;*ä»å·¦è¾¹æˆªå–*&#x2F;</span><br><span class="line">SELECT RIGHT(&#39;hello,world&#39;,5);  &#x2F;*ä»å³è¾¹æˆªå–*&#x2F;</span><br><span class="line">SELECT REPLACE(&#39;ç‹‚ç¥è¯´åšæŒå°±èƒ½æˆåŠŸ&#39;,&#39;åšæŒ&#39;,&#39;åŠªåŠ›&#39;);  &#x2F;*æ›¿æ¢å­—ç¬¦ä¸²*&#x2F;</span><br><span class="line">SELECT SUBSTR(&#39;ç‹‚ç¥è¯´åšæŒå°±èƒ½æˆåŠŸ&#39;,4,6); &#x2F;*æˆªå–å­—ç¬¦ä¸²,å¼€å§‹å’Œé•¿åº¦*&#x2F;</span><br><span class="line">SELECT REVERSE(&#39;ç‹‚ç¥è¯´åšæŒå°±èƒ½æˆåŠŸ&#39;); &#x2F;*åè½¬</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢å§“å‘¨çš„åŒå­¦,æ”¹æˆé‚¹</span><br><span class="line">SELECT REPLACE(studentname,&#39;å‘¨&#39;,&#39;é‚¹&#39;) AS æ–°åå­—</span><br><span class="line">FROM student WHERE studentname LIKE &#39;å‘¨%&#39;;</span><br></pre></td></tr></table></figure>
<p><strong>æ—¥æœŸå’Œæ—¶é—´å‡½æ•°</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT CURRENT_DATE();   &#x2F;*è·å–å½“å‰æ—¥æœŸ*&#x2F;</span><br><span class="line">SELECT CURDATE();   &#x2F;*è·å–å½“å‰æ—¥æœŸ*&#x2F;</span><br><span class="line">SELECT NOW();   &#x2F;*è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´*&#x2F;</span><br><span class="line">SELECT LOCALTIME();   &#x2F;*è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´*&#x2F;</span><br><span class="line">SELECT SYSDATE();   &#x2F;*è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´*&#x2F;</span><br><span class="line"></span><br><span class="line">-- è·å–å¹´æœˆæ—¥,æ—¶åˆ†ç§’</span><br><span class="line">SELECT YEAR(NOW());</span><br><span class="line">SELECT MONTH(NOW());</span><br><span class="line">SELECT DAY(NOW());</span><br><span class="line">SELECT HOUR(NOW());</span><br><span class="line">SELECT MINUTE(NOW());</span><br><span class="line">SELECT SECOND(NOW());</span><br></pre></td></tr></table></figure>
<p><strong>ç³»ç»Ÿä¿¡æ¯å‡½æ•°</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT VERSION();  &#x2F;*ç‰ˆæœ¬*&#x2F;</span><br><span class="line">SELECT USER();     &#x2F;*ç”¨æˆ·*&#x2F;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="èšåˆå‡½æ•°"><a href="#èšåˆå‡½æ•°" class="headerlink" title="èšåˆå‡½æ•°"></a>èšåˆå‡½æ•°</h3><table>
<thead>
<tr>
<th>å‡½æ•°åç§°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>COUNT()</td>
<td>è¿”å›æ»¡è¶³Selectæ¡ä»¶çš„è®°å½•æ€»å’Œæ•°ï¼Œå¦‚ select count(*) ã€ä¸å»ºè®®ä½¿ç”¨ *ï¼Œæ•ˆç‡ä½ã€‘</td>
</tr>
<tr>
<td>SUM()</td>
<td>è¿”å›æ•°å­—å­—æ®µæˆ–è¡¨è¾¾å¼åˆ—ä½œç»Ÿè®¡ï¼Œè¿”å›ä¸€åˆ—çš„æ€»å’Œã€‚</td>
</tr>
<tr>
<td>AVG()</td>
<td>é€šå¸¸ä¸ºæ•°å€¼å­—æ®µæˆ–è¡¨è¾¾åˆ—ä½œç»Ÿè®¡ï¼Œè¿”å›ä¸€åˆ—çš„å¹³å‡å€¼</td>
</tr>
<tr>
<td>MAX()</td>
<td>å¯ä»¥ä¸ºæ•°å€¼å­—æ®µï¼Œå­—ç¬¦å­—æ®µæˆ–è¡¨è¾¾å¼åˆ—ä½œç»Ÿè®¡ï¼Œè¿”å›æœ€å¤§çš„å€¼ã€‚</td>
</tr>
<tr>
<td>MIN()</td>
<td>å¯ä»¥ä¸ºæ•°å€¼å­—æ®µï¼Œå­—ç¬¦å­—æ®µæˆ–è¡¨è¾¾å¼åˆ—ä½œç»Ÿè®¡ï¼Œè¿”å›æœ€å°çš„å€¼ã€‚</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- èšåˆå‡½æ•°</span><br><span class="line">&#x2F;*COUNT:éç©ºçš„*&#x2F;</span><br><span class="line">SELECT COUNT(studentname) FROM student;</span><br><span class="line">SELECT COUNT(*) FROM student;</span><br><span class="line">SELECT COUNT(1) FROM student;  &#x2F;*æ¨è*&#x2F;</span><br><span class="line"></span><br><span class="line">-- ä»å«ä¹‰ä¸Šè®²ï¼Œcount(1) ä¸ count(*) éƒ½è¡¨ç¤ºå¯¹å…¨éƒ¨æ•°æ®è¡Œçš„æŸ¥è¯¢ã€‚</span><br><span class="line">-- count(å­—æ®µ) ä¼šç»Ÿè®¡è¯¥å­—æ®µåœ¨è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œå¿½ç•¥å­—æ®µä¸ºnull çš„æƒ…å†µã€‚å³ä¸ç»Ÿè®¡å­—æ®µä¸ºnull çš„è®°å½•ã€‚</span><br><span class="line">-- count(*) åŒ…æ‹¬äº†æ‰€æœ‰çš„åˆ—ï¼Œç›¸å½“äºè¡Œæ•°ï¼Œåœ¨ç»Ÿè®¡ç»“æœçš„æ—¶å€™ï¼ŒåŒ…å«å­—æ®µä¸ºnull çš„è®°å½•ï¼›</span><br><span class="line">-- count(1) ç”¨1ä»£è¡¨ä»£ç è¡Œï¼Œåœ¨ç»Ÿè®¡ç»“æœçš„æ—¶å€™ï¼ŒåŒ…å«å­—æ®µä¸ºnull çš„è®°å½• ã€‚</span><br><span class="line">&#x2F;*</span><br><span class="line">å¾ˆå¤šäººè®¤ä¸ºcount(1)æ‰§è¡Œçš„æ•ˆç‡ä¼šæ¯”count(*)é«˜ï¼ŒåŸå› æ˜¯count(*)ä¼šå­˜åœ¨å…¨è¡¨æ‰«æï¼Œè€Œcount(1)å¯ä»¥é’ˆå¯¹ä¸€ä¸ªå­—æ®µè¿›è¡ŒæŸ¥è¯¢ã€‚å…¶å®ä¸ç„¶ï¼Œcount(1)å’Œcount(*)éƒ½ä¼šå¯¹å…¨è¡¨è¿›è¡Œæ‰«æï¼Œç»Ÿè®¡æ‰€æœ‰è®°å½•çš„æ¡æ•°ï¼ŒåŒ…æ‹¬é‚£äº›ä¸ºnullçš„è®°å½•ï¼Œå› æ­¤ï¼Œå®ƒä»¬çš„æ•ˆç‡å¯ä»¥è¯´æ˜¯ç›¸å·®æ— å‡ ã€‚è€Œcount(å­—æ®µ)åˆ™ä¸å‰ä¸¤è€…ä¸åŒï¼Œå®ƒä¼šç»Ÿè®¡è¯¥å­—æ®µä¸ä¸ºnullçš„è®°å½•æ¡æ•°ã€‚</span><br><span class="line"></span><br><span class="line">ä¸‹é¢å®ƒä»¬ä¹‹é—´çš„ä¸€äº›å¯¹æ¯”ï¼š</span><br><span class="line"></span><br><span class="line">1ï¼‰åœ¨è¡¨æ²¡æœ‰ä¸»é”®æ—¶ï¼Œcount(1)æ¯”count(*)å¿«</span><br><span class="line">2ï¼‰æœ‰ä¸»é”®æ—¶ï¼Œä¸»é”®ä½œä¸ºè®¡ç®—æ¡ä»¶ï¼Œcount(ä¸»é”®)æ•ˆç‡æœ€é«˜ï¼›</span><br><span class="line">3ï¼‰è‹¥è¡¨æ ¼åªæœ‰ä¸€ä¸ªå­—æ®µï¼Œåˆ™count(*)æ•ˆç‡è¾ƒé«˜ã€‚</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">SELECT SUM(StudentResult) AS æ€»å’Œ FROM result;</span><br><span class="line">SELECT AVG(StudentResult) AS å¹³å‡åˆ† FROM result;</span><br><span class="line">SELECT MAX(StudentResult) AS æœ€é«˜åˆ† FROM result;</span><br><span class="line">SELECT MIN(StudentResult) AS æœ€ä½åˆ† FROM result;</span><br></pre></td></tr></table></figure>
<p><strong>é¢˜ç›®ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- æŸ¥è¯¢ä¸åŒè¯¾ç¨‹çš„å¹³å‡åˆ†,æœ€é«˜åˆ†,æœ€ä½åˆ†</span><br><span class="line">-- å‰æ:æ ¹æ®ä¸åŒçš„è¯¾ç¨‹è¿›è¡Œåˆ†ç»„</span><br><span class="line"></span><br><span class="line">SELECT subjectname,AVG(studentresult) AS å¹³å‡åˆ†,MAX(StudentResult) AS æœ€é«˜åˆ†,MIN(StudentResult) AS æœ€ä½åˆ†</span><br><span class="line">FROM result AS r</span><br><span class="line">INNER JOIN &#96;subject&#96; AS s</span><br><span class="line">ON r.subjectno &#x3D; s.subjectno</span><br><span class="line">GROUP BY r.subjectno</span><br><span class="line">HAVING å¹³å‡åˆ†&gt;80;</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">where çš„æ¡ä»¶ä¸èƒ½ä½¿ç”¨èšåˆå‡½æ•°</span><br><span class="line">whereå†™åœ¨group byå‰é¢.</span><br><span class="line">è¦æ˜¯æ”¾åœ¨åˆ†ç»„åé¢çš„ç­›é€‰</span><br><span class="line">è¦ä½¿ç”¨HAVING..</span><br><span class="line">å› ä¸ºhavingæ˜¯ä»å‰é¢ç­›é€‰çš„å­—æ®µå†ç­›é€‰ï¼Œè€Œwhereæ˜¯ä»æ•°æ®è¡¨ä¸­çš„&gt;å­—æ®µç›´æ¥è¿›è¡Œçš„ç­›é€‰çš„</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>MD5 åŠ å¯†</p>
</blockquote>
<p><strong>ä¸€ã€MD5ç®€ä»‹</strong></p>
<p>MD5å³Message-Digest Algorithm 5ï¼ˆä¿¡æ¯-æ‘˜è¦ç®—æ³•5ï¼‰ï¼Œç”¨äºç¡®ä¿ä¿¡æ¯ä¼ è¾“å®Œæ•´ä¸€è‡´ã€‚æ˜¯è®¡ç®—æœºå¹¿æ³›ä½¿ç”¨çš„æ‚å‡‘ç®—æ³•ä¹‹ä¸€ï¼ˆåˆè¯‘æ‘˜è¦ç®—æ³•ã€å“ˆå¸Œç®—æ³•ï¼‰ï¼Œä¸»æµç¼–ç¨‹è¯­è¨€æ™®éå·²æœ‰MD5å®ç°ã€‚å°†æ•°æ®ï¼ˆå¦‚æ±‰å­—ï¼‰è¿ç®—ä¸ºå¦ä¸€å›ºå®šé•¿åº¦å€¼ï¼Œæ˜¯æ‚å‡‘ç®—æ³•çš„åŸºç¡€åŸç†ï¼ŒMD5çš„å‰èº«æœ‰MD2ã€MD3å’ŒMD4ã€‚</p>
<p><strong>äºŒã€å®ç°æ•°æ®åŠ å¯†</strong></p>
<p>æ–°å»ºä¸€ä¸ªè¡¨ testmd5</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE &#96;testmd5&#96; (</span><br><span class="line"> &#96;id&#96; INT(4) NOT NULL,</span><br><span class="line"> &#96;name&#96; VARCHAR(20) NOT NULL,</span><br><span class="line"> &#96;pwd&#96; VARCHAR(50) NOT NULL,</span><br><span class="line"> PRIMARY KEY (&#96;id&#96;)</span><br><span class="line">) ENGINE&#x3D;INNODB DEFAULT CHARSET&#x3D;utf8</span><br></pre></td></tr></table></figure>
<p>æ’å…¥ä¸€äº›æ•°æ®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INSERT INTO testmd5 VALUES(1,&#39;kuangshen&#39;,&#39;123456&#39;),(2,&#39;qinjiang&#39;,&#39;456789&#39;)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬è¦å¯¹pwdè¿™ä¸€åˆ—æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œè¯­æ³•æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">update testmd5 set pwd &#x3D; md5(pwd);</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå•ç‹¬å¯¹æŸä¸ªç”¨æˆ·(å¦‚kuangshen)çš„å¯†ç åŠ å¯†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INSERT INTO testmd5 VALUES(3,&#39;kuangshen2&#39;,&#39;123456&#39;)</span><br><span class="line">update testmd5 set pwd &#x3D; md5(pwd) where name &#x3D; &#39;kuangshen2&#39;;</span><br></pre></td></tr></table></figure>
<p>æ’å…¥æ–°çš„æ•°æ®è‡ªåŠ¨åŠ å¯†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INSERT INTO testmd5 VALUES(4,&#39;kuangshen3&#39;,md5(&#39;123456&#39;));</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢ç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼ˆmd5å¯¹æ¯”ä½¿ç”¨ï¼ŒæŸ¥çœ‹ç”¨æˆ·è¾“å…¥åŠ å¯†åçš„å¯†ç è¿›è¡Œæ¯”å¯¹ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT * FROM testmd5 WHERE &#96;name&#96;&#x3D;&#39;kuangshen&#39; AND pwd&#x3D;MD5(&#39;123456&#39;);</span><br></pre></td></tr></table></figure>




<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/mysql/image-20210217103312123.59blg5gt2fs0.png" alt="image-20210217103312123"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; å†…ç½®å‡½æ•° &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">-- æ•°å€¼å‡½æ•°</span><br><span class="line">abs(x)            -- ç»å¯¹å€¼ abs(-10.9) &#x3D; 10</span><br><span class="line">format(x, d)    -- æ ¼å¼åŒ–åƒåˆ†ä½æ•°å€¼ format(1234567.456, 2) &#x3D; 1,234,567.46</span><br><span class="line">ceil(x)            -- å‘ä¸Šå–æ•´ ceil(10.1) &#x3D; 11</span><br><span class="line">floor(x)        -- å‘ä¸‹å–æ•´ floor (10.1) &#x3D; 10</span><br><span class="line">round(x)        -- å››èˆäº”å…¥å»æ•´</span><br><span class="line">mod(m, n)        -- m%n m mod n æ±‚ä½™ 10%3&#x3D;1</span><br><span class="line">pi()            -- è·å¾—åœ†å‘¨ç‡</span><br><span class="line">pow(m, n)        -- m^n</span><br><span class="line">sqrt(x)            -- ç®—æœ¯å¹³æ–¹æ ¹</span><br><span class="line">rand()            -- éšæœºæ•°</span><br><span class="line">truncate(x, d)    -- æˆªå–dä½å°æ•°</span><br><span class="line"></span><br><span class="line">-- æ—¶é—´æ—¥æœŸå‡½æ•°</span><br><span class="line">now(), current_timestamp();     -- å½“å‰æ—¥æœŸæ—¶é—´</span><br><span class="line">current_date();                    -- å½“å‰æ—¥æœŸ</span><br><span class="line">current_time();                    -- å½“å‰æ—¶é—´</span><br><span class="line">date(&#39;yyyy-mm-dd hh:ii:ss&#39;);    -- è·å–æ—¥æœŸéƒ¨åˆ†</span><br><span class="line">time(&#39;yyyy-mm-dd hh:ii:ss&#39;);    -- è·å–æ—¶é—´éƒ¨åˆ†</span><br><span class="line">date_format(&#39;yyyy-mm-dd hh:ii:ss&#39;, &#39;%d %y %a %d %m %b %j&#39;);    -- æ ¼å¼åŒ–æ—¶é—´</span><br><span class="line">unix_timestamp();                -- è·å¾—unixæ—¶é—´æˆ³</span><br><span class="line">from_unixtime();                -- ä»æ—¶é—´æˆ³è·å¾—æ—¶é—´</span><br><span class="line"></span><br><span class="line">-- å­—ç¬¦ä¸²å‡½æ•°</span><br><span class="line">length(string)            -- stringé•¿åº¦ï¼Œå­—èŠ‚</span><br><span class="line">char_length(string)        -- stringçš„å­—ç¬¦ä¸ªæ•°</span><br><span class="line">substring(str, position [,length])        -- ä»strçš„positionå¼€å§‹,å–lengthä¸ªå­—ç¬¦</span><br><span class="line">replace(str ,search_str ,replace_str)    -- åœ¨strä¸­ç”¨replace_stræ›¿æ¢search_str</span><br><span class="line">instr(string ,substring)    -- è¿”å›substringé¦–æ¬¡åœ¨stringä¸­å‡ºç°çš„ä½ç½®</span><br><span class="line">concat(string [,...])    -- è¿æ¥å­—ä¸²</span><br><span class="line">charset(str)            -- è¿”å›å­—ä¸²å­—ç¬¦é›†</span><br><span class="line">lcase(string)            -- è½¬æ¢æˆå°å†™</span><br><span class="line">left(string, length)    -- ä»string2ä¸­çš„å·¦è¾¹èµ·å–lengthä¸ªå­—ç¬¦</span><br><span class="line">load_file(file_name)    -- ä»æ–‡ä»¶è¯»å–å†…å®¹</span><br><span class="line">locate(substring, string [,start_position])    -- åŒinstr,ä½†å¯æŒ‡å®šå¼€å§‹ä½ç½®</span><br><span class="line">lpad(string, length, pad)    -- é‡å¤ç”¨padåŠ åœ¨stringå¼€å¤´,ç›´åˆ°å­—ä¸²é•¿åº¦ä¸ºlength</span><br><span class="line">ltrim(string)            -- å»é™¤å‰ç«¯ç©ºæ ¼</span><br><span class="line">repeat(string, count)    -- é‡å¤countæ¬¡</span><br><span class="line">rpad(string, length, pad)    --åœ¨stråç”¨padè¡¥å……,ç›´åˆ°é•¿åº¦ä¸ºlength</span><br><span class="line">rtrim(string)            -- å»é™¤åç«¯ç©ºæ ¼</span><br><span class="line">strcmp(string1 ,string2)    -- é€å­—ç¬¦æ¯”è¾ƒä¸¤å­—ä¸²å¤§å°</span><br><span class="line"></span><br><span class="line">-- èšåˆå‡½æ•°</span><br><span class="line">count()</span><br><span class="line">sum();</span><br><span class="line">max();</span><br><span class="line">min();</span><br><span class="line">avg();</span><br><span class="line">group_concat()</span><br><span class="line"></span><br><span class="line">-- å…¶ä»–å¸¸ç”¨å‡½æ•°</span><br><span class="line">md5();</span><br><span class="line">default();</span><br></pre></td></tr></table></figure>


<h2 id="äº‹åŠ¡-transaction"><a href="#äº‹åŠ¡-transaction" class="headerlink" title="äº‹åŠ¡(transaction)"></a>äº‹åŠ¡(transaction)</h2><blockquote>
<p>ä»€ä¹ˆæ˜¯äº‹åŠ¡</p>
</blockquote>
<ul>
<li>äº‹åŠ¡å°±æ˜¯å°†ä¸€ç»„SQLè¯­å¥æ”¾åœ¨åŒä¸€æ‰¹æ¬¡å†…å»æ‰§è¡Œ</li>
<li>å¦‚æœä¸€ä¸ªSQLè¯­å¥å‡ºé”™,åˆ™è¯¥æ‰¹æ¬¡å†…çš„æ‰€æœ‰SQLéƒ½å°†è¢«å–æ¶ˆæ‰§è¡Œ</li>
<li>MySQLäº‹åŠ¡å¤„ç†åªæ”¯æŒInnoDBå’ŒBDBæ•°æ®è¡¨ç±»å‹</li>
</ul>
<blockquote>
<p>äº‹åŠ¡çš„ACIDåŸåˆ™  ç™¾åº¦ ACID</p>
</blockquote>
<p><strong>åŸå­æ€§(Atomic)</strong></p>
<ul>
<li>æ•´ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸å¯èƒ½åœæ»åœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ã€‚äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¢«å›æ»šï¼ˆROLLBACKï¼‰åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œå°±åƒè¿™ä¸ªäº‹åŠ¡ä»æ¥æ²¡æœ‰æ‰§è¡Œè¿‡ä¸€æ ·ã€‚</li>
</ul>
<p><strong>ä¸€è‡´æ€§(Consist)</strong></p>
<ul>
<li>ä¸€ä¸ªäº‹åŠ¡å¯ä»¥å°è£…çŠ¶æ€æ”¹å˜ï¼ˆé™¤éå®ƒæ˜¯ä¸€ä¸ªåªè¯»çš„ï¼‰ã€‚äº‹åŠ¡å¿…é¡»å§‹ç»ˆä¿æŒç³»ç»Ÿå¤„äºä¸€è‡´çš„çŠ¶æ€ï¼Œä¸ç®¡åœ¨ä»»ä½•ç»™å®šçš„æ—¶é—´å¹¶å‘äº‹åŠ¡æœ‰å¤šå°‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šå¦‚æœäº‹åŠ¡æ˜¯å¹¶å‘å¤šä¸ªï¼Œç³»ç»Ÿä¹Ÿå¿…é¡»å¦‚åŒä¸²è¡Œäº‹åŠ¡ä¸€æ ·æ“ä½œã€‚å…¶ä¸»è¦ç‰¹å¾æ˜¯ä¿æŠ¤æ€§å’Œä¸å˜æ€§(Preserving an Invariant)ï¼Œä»¥è½¬è´¦æ¡ˆä¾‹ä¸ºä¾‹ï¼Œå‡è®¾æœ‰äº”ä¸ªè´¦æˆ·ï¼Œæ¯ä¸ªè´¦æˆ·ä½™é¢æ˜¯100å…ƒï¼Œé‚£ä¹ˆäº”ä¸ªè´¦æˆ·æ€»é¢æ˜¯500å…ƒï¼Œå¦‚æœåœ¨è¿™ä¸ª5ä¸ªè´¦æˆ·ä¹‹é—´åŒæ—¶å‘ç”Ÿå¤šä¸ªè½¬è´¦ï¼Œæ— è®ºå¹¶å‘å¤šå°‘ä¸ªï¼Œæ¯”å¦‚åœ¨Aä¸Bè´¦æˆ·ä¹‹é—´è½¬è´¦5å…ƒï¼Œåœ¨Cä¸Dè´¦æˆ·ä¹‹é—´è½¬è´¦10å…ƒï¼Œåœ¨Bä¸Eä¹‹é—´è½¬è´¦15å…ƒï¼Œäº”ä¸ªè´¦æˆ·æ€»é¢ä¹Ÿåº”è¯¥è¿˜æ˜¯500å…ƒï¼Œè¿™å°±æ˜¯ä¿æŠ¤æ€§å’Œä¸å˜æ€§ã€‚</li>
</ul>
<p><strong>éš”ç¦»æ€§(Isolated)</strong></p>
<ul>
<li>éš”ç¦»çŠ¶æ€æ‰§è¡Œäº‹åŠ¡ï¼Œä½¿å®ƒä»¬å¥½åƒæ˜¯ç³»ç»Ÿåœ¨ç»™å®šæ—¶é—´å†…æ‰§è¡Œçš„å”¯ä¸€æ“ä½œã€‚å¦‚æœæœ‰ä¸¤ä¸ªäº‹åŠ¡ï¼Œè¿è¡Œåœ¨ç›¸åŒçš„æ—¶é—´å†…ï¼Œæ‰§è¡Œç›¸åŒçš„åŠŸèƒ½ï¼Œäº‹åŠ¡çš„éš”ç¦»æ€§å°†ç¡®ä¿æ¯ä¸€äº‹åŠ¡åœ¨ç³»ç»Ÿä¸­è®¤ä¸ºåªæœ‰è¯¥äº‹åŠ¡åœ¨ä½¿ç”¨ç³»ç»Ÿã€‚è¿™ç§å±æ€§æœ‰æ—¶ç§°ä¸ºä¸²è¡ŒåŒ–ï¼Œä¸ºäº†é˜²æ­¢äº‹åŠ¡æ“ä½œé—´çš„æ··æ·†ï¼Œå¿…é¡»ä¸²è¡ŒåŒ–æˆ–åºåˆ—åŒ–è¯·æ±‚ï¼Œä½¿å¾—åœ¨åŒä¸€æ—¶é—´ä»…æœ‰ä¸€ä¸ªè¯·æ±‚ç”¨äºåŒä¸€æ•°æ®ã€‚</li>
</ul>
<p><strong>æŒä¹…æ€§(Durable)</strong></p>
<ul>
<li>åœ¨äº‹åŠ¡å®Œæˆä»¥åï¼Œè¯¥äº‹åŠ¡å¯¹æ•°æ®åº“æ‰€ä½œçš„æ›´æ”¹ä¾¿æŒä¹…çš„ä¿å­˜åœ¨æ•°æ®åº“ä¹‹ä¸­ï¼Œå¹¶ä¸ä¼šè¢«å›æ»šã€‚</li>
</ul>
<blockquote>
<p>ä¸€å¥è¯è§£é‡Šï¼š</p>
</blockquote>
<p><strong>åŸå­æ€§</strong>ï¼šè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥</p>
<p><strong>ä¸€è‡´æ€§</strong>ï¼šäº‹ç‰©å‰åçš„æ•°æ®å®Œæ•´æ€§è¦ä¿è¯ä¸€è‡´ï¼Œ1000</p>
<p><strong>æŒä¹…æ€§</strong>ï¼šäº‹ç‰©ä¸€æ—¦æäº¤å°±ä¸å¯é€†ï¼Œè¢«æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­</p>
<p><strong>éš”ç¦»æ€§</strong>ï¼šäº‹ç‰©çš„éš”ç¦»æ€§æ˜¯æŒ‡å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œæ•°æ®åº“ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·å¼€å¯çš„äº‹ç‰©ï¼Œä¸èƒ½è¢«å…¶ä»–äº‹ç‰©çš„æ“ä½œæ•°æ®æ‰€å¹²æ‰°ï¼Œäº‹åŠ¡ä¹‹é—´éœ€è¦äº’ç›¸éš”ç¦»</p>
<blockquote>
<p>éš”ç¦»æ‰€å¯¼è‡´çš„ä¸€äº›é—®é¢˜</p>
</blockquote>
<p><strong>ï¼ˆè„è¯»ï¼‰dirty read</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/mysql/image-20210217104017748.7k5ocwq7meg0.png" alt="image-20210217104017748"></p>
<p><strong>ä¸å¯é‡å¤è¯»ï¼š</strong></p>
<p>åœ¨ä¸€ä¸ªäº‹åŠ¡å“ªè¯»åŒºåˆ—è¡¨ä¸­çš„æŸä¸€è¡Œæ•°æ®ï¼Œå¤šæ¬¡è¯»åŒºç»“æœä¸ç›¸åŒï¼ˆè¿™ä¸ªä¸ä¸€å®šæ˜¯é”™çš„ï¼Œåªæ˜¯æŸäº›åœºåˆä¸åˆé€‚ï¼‰</p>
<p><strong>è™šè¯»ï¼ˆå¹»è¯»ï¼‰</strong></p>
<p>æ˜¯æŒ‡åœ¨ä¸€ä¸ªäº‹åŠ¡é‚£è¯»åŒºåˆ°äº†åˆ«çš„äº‹ç‰©æ’å…¥çš„æ•°æ®ï¼Œå¯¼è‡´å‰åè¯»å–ä¸ä¸€è‡´</p>
<h3 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h3><p>mysqlæ˜¯é»˜è®¤å¼€å¯äº‹åŠ¡è‡ªåŠ¨æäº¤çš„</p>
<blockquote>
<p><strong>åŸºæœ¬è¯­æ³•</strong></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- ä½¿ç”¨setè¯­å¥æ¥æ”¹å˜è‡ªåŠ¨æäº¤æ¨¡å¼</span><br><span class="line">SET autocommit &#x3D; 0;   &#x2F;*å…³é—­*&#x2F;</span><br><span class="line">SET autocommit &#x3D; 1;   &#x2F;*å¼€å¯*&#x2F;</span><br><span class="line"></span><br><span class="line">-- æ³¨æ„:</span><br><span class="line">--- 1.MySQLä¸­é»˜è®¤æ˜¯è‡ªåŠ¨æäº¤</span><br><span class="line">--- 2.ä½¿ç”¨äº‹åŠ¡æ—¶åº”å…ˆå…³é—­è‡ªåŠ¨æäº¤</span><br><span class="line"></span><br><span class="line">-- å¼€å§‹ä¸€ä¸ªäº‹åŠ¡,æ ‡è®°äº‹åŠ¡çš„èµ·å§‹ç‚¹</span><br><span class="line">START TRANSACTION  </span><br><span class="line"></span><br><span class="line">-- æäº¤ä¸€ä¸ªäº‹åŠ¡ç»™æ•°æ®åº“</span><br><span class="line">COMMIT</span><br><span class="line"></span><br><span class="line">-- å°†äº‹åŠ¡å›æ»š,æ•°æ®å›åˆ°æœ¬æ¬¡äº‹åŠ¡çš„åˆå§‹çŠ¶æ€</span><br><span class="line">ROLLBACK</span><br><span class="line"></span><br><span class="line">-- è¿˜åŸMySQLæ•°æ®åº“çš„è‡ªåŠ¨æäº¤</span><br><span class="line">SET autocommit &#x3D;1;</span><br><span class="line"></span><br><span class="line">-- ä¿å­˜ç‚¹</span><br><span class="line">SAVEPOINT ä¿å­˜ç‚¹åç§° -- è®¾ç½®ä¸€ä¸ªäº‹åŠ¡ä¿å­˜ç‚¹</span><br><span class="line">ROLLBACK TO SAVEPOINT ä¿å­˜ç‚¹åç§° -- å›æ»šåˆ°ä¿å­˜ç‚¹</span><br><span class="line">RELEASE SAVEPOINT ä¿å­˜ç‚¹åç§° -- åˆ é™¤ä¿å­˜ç‚¹</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/mysql/image-20210218091458193.rikanbyaiy8.png" alt="image-20210218091458193"></p>
<blockquote>
<p>æµ‹è¯•</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">è¯¾å ‚æµ‹è¯•é¢˜ç›®</span><br><span class="line"></span><br><span class="line">Aåœ¨çº¿ä¹°ä¸€æ¬¾ä»·æ ¼ä¸º500å…ƒå•†å“,ç½‘ä¸Šé“¶è¡Œè½¬è´¦.</span><br><span class="line">Açš„é“¶è¡Œå¡ä½™é¢ä¸º2000,ç„¶åç»™å•†å®¶Bæ”¯ä»˜500.</span><br><span class="line">å•†å®¶Bä¸€å¼€å§‹çš„é“¶è¡Œå¡ä½™é¢ä¸º10000</span><br><span class="line"></span><br><span class="line">åˆ›å»ºæ•°æ®åº“shopå’Œåˆ›å»ºè¡¨accountå¹¶æ’å…¥2æ¡æ•°æ®</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">CREATE DATABASE &#96;shop&#96;CHARACTER SET utf8 COLLATE utf8_general_ci;</span><br><span class="line">USE &#96;shop&#96;;</span><br><span class="line"></span><br><span class="line">CREATE TABLE &#96;account&#96; (</span><br><span class="line">&#96;id&#96; INT(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">&#96;name&#96; VARCHAR(32) NOT NULL,</span><br><span class="line">&#96;cash&#96; DECIMAL(9,2) NOT NULL,</span><br><span class="line">PRIMARY KEY (&#96;id&#96;)</span><br><span class="line">) ENGINE&#x3D;INNODB DEFAULT CHARSET&#x3D;utf8</span><br><span class="line"></span><br><span class="line">INSERT INTO account (&#96;name&#96;,&#96;cash&#96;)</span><br><span class="line">VALUES(&#39;A&#39;,2000.00),(&#39;B&#39;,10000.00)</span><br><span class="line"></span><br><span class="line">-- è½¬è´¦å®ç°</span><br><span class="line">SET autocommit &#x3D; 0; -- å…³é—­è‡ªåŠ¨æäº¤</span><br><span class="line">START TRANSACTION;  -- å¼€å§‹ä¸€ä¸ªäº‹åŠ¡,æ ‡è®°äº‹åŠ¡çš„èµ·å§‹ç‚¹</span><br><span class="line">UPDATE account SET cash&#x3D;cash-500 WHERE &#96;name&#96;&#x3D;&#39;A&#39;;</span><br><span class="line">UPDATE account SET cash&#x3D;cash+500 WHERE &#96;name&#96;&#x3D;&#39;B&#39;;</span><br><span class="line">COMMIT; -- æäº¤äº‹åŠ¡</span><br><span class="line"># rollback;</span><br><span class="line">SET autocommit &#x3D; 1; -- æ¢å¤è‡ªåŠ¨æäº¤</span><br></pre></td></tr></table></figure>


<h2 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h2><p><a class="link"   href="https://blog.codinglabs.org/articles/theory-of-mysql-index.html" >MySQLç´¢å¼•èƒŒåçš„æ•°æ®ç»“æ„åŠç®—æ³•åŸç†<i class="fas fa-external-link-alt"></i></a></p>
<blockquote>
<p>MySQL å®˜æ–¹å¯¹ç´¢å¼•çš„å®šä¹‰ä¸ºï¼šç´¢å¼•ï¼ˆindexï¼‰æ˜¯å¸®åŠ©MySQLæç¬‘è·å–æ•°æ®çš„æ•°æ®ç»“æ„ã€‚</p>
<p>æå–å¥å­çš„ä¸»å¹²ï¼Œå°±å¯ä»¥å¾—åˆ°ç´¢å¼•çš„æœ¬è´¨ï¼Œç´¢å¼•å°±æ˜¯æ•°æ®ç»“æ„</p>
</blockquote>
<blockquote>
<p>ç´¢å¼•çš„ä½œç”¨</p>
</blockquote>
<ul>
<li>æé«˜æŸ¥è¯¢é€Ÿåº¦</li>
<li>ç¡®ä¿æ•°æ®çš„å”¯ä¸€æ€§</li>
<li>å¯ä»¥åŠ é€Ÿè¡¨å’Œè¡¨ä¹‹é—´çš„è¿æ¥ , å®ç°è¡¨ä¸è¡¨ä¹‹é—´çš„å‚ç…§å®Œæ•´æ€§</li>
<li>ä½¿ç”¨åˆ†ç»„å’Œæ’åºå­å¥è¿›è¡Œæ•°æ®æ£€ç´¢æ—¶ , å¯ä»¥æ˜¾è‘—å‡å°‘åˆ†ç»„å’Œæ’åºçš„æ—¶é—´</li>
<li>å…¨æ–‡æ£€ç´¢å­—æ®µè¿›è¡Œæœç´¢ä¼˜åŒ–.</li>
</ul>
<blockquote>
<p>åˆ†ç±»</p>
</blockquote>
<ul>
<li>ä¸»é”®ç´¢å¼• (Primary Key)</li>
<li>å”¯ä¸€ç´¢å¼• (Unique)</li>
<li>å¸¸è§„ç´¢å¼• (Index)</li>
<li>å…¨æ–‡ç´¢å¼• (FullText)</li>
</ul>
<blockquote>
<p>ä¸»é”®ç´¢å¼•</p>
</blockquote>
<p>ä¸»é”® : æŸä¸€ä¸ªå±æ€§ç»„èƒ½<strong>å”¯ä¸€æ ‡è¯†</strong>ä¸€æ¡è®°å½•ï¼ˆä¸å¯é‡å¤ï¼Œåªèƒ½æœ‰ä¸€ä¸ªåˆ—ï¼‰</p>
<p>ç‰¹ç‚¹ :</p>
<ul>
<li>æœ€å¸¸è§çš„ç´¢å¼•ç±»å‹</li>
<li>ç¡®ä¿æ•°æ®è®°å½•çš„å”¯ä¸€æ€§</li>
<li>ç¡®å®šç‰¹å®šæ•°æ®è®°å½•åœ¨æ•°æ®åº“ä¸­çš„ä½ç½®</li>
</ul>
<blockquote>
<p>å”¯ä¸€ç´¢å¼•</p>
</blockquote>
<p>ä½œç”¨ : <strong>é¿å…åŒä¸€ä¸ªè¡¨ä¸­æŸæ•°æ®åˆ—ä¸­çš„å€¼é‡å¤</strong></p>
<p>ä¸ä¸»é”®ç´¢å¼•çš„åŒºåˆ«</p>
<ul>
<li>ä¸»é”®ç´¢å¼•åªèƒ½æœ‰ä¸€ä¸ª</li>
<li>å”¯ä¸€ç´¢å¼•å¯èƒ½æœ‰å¤šä¸ª</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE &#96;Grade&#96;(</span><br><span class="line">  &#96;GradeID&#96; INT(11) AUTO_INCREMENT PRIMARYKEY,</span><br><span class="line">  &#96;GradeName&#96; VARCHAR(32) NOT NULL UNIQUE</span><br><span class="line">   -- æˆ– UNIQUE KEY &#96;GradeID&#96; (&#96;GradeID&#96;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¸¸è§„ç´¢å¼•</p>
</blockquote>
<p>ä½œç”¨ : å¿«é€Ÿå®šä½ç‰¹å®šæ•°æ®</p>
<p>æ³¨æ„ :</p>
<ul>
<li>index å’Œ key å…³é”®å­—éƒ½å¯ä»¥è®¾ç½®å¸¸è§„ç´¢å¼•</li>
<li>åº”åŠ åœ¨æŸ¥è¯¢æ‰¾æ¡ä»¶çš„å­—æ®µ</li>
<li>ä¸å®œæ·»åŠ å¤ªå¤šå¸¸è§„ç´¢å¼•,å½±å“æ•°æ®çš„æ’å…¥,åˆ é™¤å’Œä¿®æ”¹æ“ä½œ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE &#96;result&#96;(</span><br><span class="line">   -- çœç•¥ä¸€äº›ä»£ç </span><br><span class="line">  INDEX&#x2F;KEY &#96;ind&#96; (&#96;studentNo&#96;,&#96;subjectNo&#96;) -- åˆ›å»ºè¡¨æ—¶æ·»åŠ </span><br><span class="line">)</span><br><span class="line">-- åˆ›å»ºåæ·»åŠ </span><br><span class="line">ALTER TABLE &#96;result&#96; ADD INDEX &#96;ind&#96;(&#96;studentNo&#96;,&#96;subjectNo&#96;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…¨æ–‡ç´¢å¼•</p>
</blockquote>
<p>ç™¾åº¦æœç´¢ï¼šå…¨æ–‡ç´¢å¼•</p>
<p>ä½œç”¨ : å¿«é€Ÿå®šä½ç‰¹å®šæ•°æ®</p>
<p>æ³¨æ„ :</p>
<ul>
<li>åªèƒ½ç”¨äºMyISAMç±»å‹çš„æ•°æ®è¡¨</li>
<li>åªèƒ½ç”¨äºCHAR , VARCHAR , TEXTæ•°æ®åˆ—ç±»å‹</li>
<li>é€‚åˆå¤§å‹æ•°æ®é›†</li>
</ul>
<h3 id="ç´¢å¼•çš„ä½¿ç”¨ï¼š"><a href="#ç´¢å¼•çš„ä½¿ç”¨ï¼š" class="headerlink" title="ç´¢å¼•çš„ä½¿ç”¨ï¼š"></a>ç´¢å¼•çš„ä½¿ç”¨ï¼š</h3><ul>
<li>åˆ›å»ºè¡¨çš„æ—¶å€™ç»™å­—æ®µå¢åŠ ç´¢å¼•</li>
<li>åˆ›å»ºå®Œè¡¨åï¼Œå¢åŠ ç´¢å¼•</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">#æ–¹æ³•ä¸€ï¼šåˆ›å»ºè¡¨æ—¶</span><br><span class="line">  ã€€ã€€CREATE TABLE è¡¨å (</span><br><span class="line">               å­—æ®µå1 æ•°æ®ç±»å‹ [å®Œæ•´æ€§çº¦æŸæ¡ä»¶â€¦],</span><br><span class="line">               å­—æ®µå2 æ•°æ®ç±»å‹ [å®Œæ•´æ€§çº¦æŸæ¡ä»¶â€¦],</span><br><span class="line">               [UNIQUE | FULLTEXT | SPATIAL ]   INDEX | KEY</span><br><span class="line">               [ç´¢å¼•å] (å­—æ®µå[(é•¿åº¦)] [ASC |DESC])</span><br><span class="line">               );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#æ–¹æ³•äºŒï¼šCREATEåœ¨å·²å­˜åœ¨çš„è¡¨ä¸Šåˆ›å»ºç´¢å¼•</span><br><span class="line">       CREATE [UNIQUE | FULLTEXT | SPATIAL ] INDEX ç´¢å¼•å</span><br><span class="line">                    ON è¡¨å (å­—æ®µå[(é•¿åº¦)] [ASC |DESC]) ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#æ–¹æ³•ä¸‰ï¼šALTER TABLEåœ¨å·²å­˜åœ¨çš„è¡¨ä¸Šåˆ›å»ºç´¢å¼•</span><br><span class="line">       ALTER TABLE è¡¨å ADD [UNIQUE | FULLTEXT | SPATIAL ] INDEX</span><br><span class="line">                            ç´¢å¼•å (å­—æ®µå[(é•¿åº¦)] [ASC |DESC]) ;</span><br><span class="line">                           </span><br><span class="line">                           </span><br><span class="line">#åˆ é™¤ç´¢å¼•ï¼šDROP INDEX ç´¢å¼•å ON è¡¨åå­—;</span><br><span class="line">#åˆ é™¤ä¸»é”®ç´¢å¼•: ALTER TABLE è¡¨å DROP PRIMARY KEY;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#æ˜¾ç¤ºç´¢å¼•ä¿¡æ¯: SHOW INDEX FROM student;</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;*å¢åŠ å…¨æ–‡ç´¢å¼•*&#x2F;</span><br><span class="line">ALTER TABLE &#96;school&#96;.&#96;student&#96; ADD FULLTEXT INDEX &#96;studentname&#96; (&#96;StudentName&#96;);</span><br><span class="line"></span><br><span class="line">&#x2F;*EXPLAIN : åˆ†æSQLè¯­å¥æ‰§è¡Œæ€§èƒ½*&#x2F;</span><br><span class="line">EXPLAIN SELECT * FROM student WHERE studentno&#x3D;&#39;1000&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;*ä½¿ç”¨å…¨æ–‡ç´¢å¼•*&#x2F;</span><br><span class="line">-- å…¨æ–‡æœç´¢é€šè¿‡ MATCH() å‡½æ•°å®Œæˆã€‚</span><br><span class="line">-- æœç´¢å­—ç¬¦ä¸²ä½œä¸º against() çš„å‚æ•°è¢«ç»™å®šã€‚æœç´¢ä»¥å¿½ç•¥å­—æ¯å¤§å°å†™çš„æ–¹å¼æ‰§è¡Œã€‚å¯¹äºè¡¨ä¸­çš„æ¯ä¸ªè®°å½•è¡Œï¼ŒMATCH() è¿”å›ä¸€ä¸ªç›¸å…³æ€§å€¼ã€‚å³ï¼Œåœ¨æœç´¢å­—ç¬¦ä¸²ä¸è®°å½•è¡Œåœ¨ MATCH() åˆ—è¡¨ä¸­æŒ‡å®šçš„åˆ—çš„æ–‡æœ¬ä¹‹é—´çš„ç›¸ä¼¼æ€§å°ºåº¦ã€‚</span><br><span class="line">EXPLAIN SELECT *FROM student WHERE MATCH(studentname) AGAINST(&#39;love&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">å¼€å§‹ä¹‹å‰ï¼Œå…ˆè¯´ä¸€ä¸‹å…¨æ–‡ç´¢å¼•çš„ç‰ˆæœ¬ã€å­˜å‚¨å¼•æ“ã€æ•°æ®ç±»å‹çš„æ”¯æŒæƒ…å†µ</span><br><span class="line"></span><br><span class="line">MySQL 5.6 ä»¥å‰çš„ç‰ˆæœ¬ï¼Œåªæœ‰ MyISAM å­˜å‚¨å¼•æ“æ”¯æŒå…¨æ–‡ç´¢å¼•ï¼›</span><br><span class="line">MySQL 5.6 åŠä»¥åçš„ç‰ˆæœ¬ï¼ŒMyISAM å’Œ InnoDB å­˜å‚¨å¼•æ“å‡æ”¯æŒå…¨æ–‡ç´¢å¼•;</span><br><span class="line">åªæœ‰å­—æ®µçš„æ•°æ®ç±»å‹ä¸º charã€varcharã€text åŠå…¶ç³»åˆ—æ‰å¯ä»¥å»ºå…¨æ–‡ç´¢å¼•ã€‚</span><br><span class="line">æµ‹è¯•æˆ–ä½¿ç”¨å…¨æ–‡ç´¢å¼•æ—¶ï¼Œè¦å…ˆçœ‹ä¸€ä¸‹è‡ªå·±çš„ MySQL ç‰ˆæœ¬ã€å­˜å‚¨å¼•æ“å’Œæ•°æ®ç±»å‹æ˜¯å¦æ”¯æŒå…¨æ–‡ç´¢å¼•ã€‚</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‹“å±•ï¼šæµ‹è¯•ç´¢å¼•</p>
</blockquote>
<p><strong>å»ºè¡¨app_userï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE &#96;app_user&#96; (</span><br><span class="line">&#96;id&#96; bigint(20) unsigned NOT NULL AUTO_INCREMENT,</span><br><span class="line">&#96;name&#96; varchar(50) DEFAULT &#39;&#39; COMMENT &#39;ç”¨æˆ·æ˜µç§°&#39;,</span><br><span class="line">&#96;email&#96; varchar(50) NOT NULL COMMENT &#39;ç”¨æˆ·é‚®ç®±&#39;,</span><br><span class="line">&#96;phone&#96; varchar(20) DEFAULT &#39;&#39; COMMENT &#39;æ‰‹æœºå·&#39;,</span><br><span class="line">&#96;gender&#96; tinyint(4) unsigned DEFAULT &#39;0&#39; COMMENT &#39;æ€§åˆ«ï¼ˆ0:ç”·ï¼›1ï¼šå¥³ï¼‰&#39;,</span><br><span class="line">&#96;password&#96; varchar(100) NOT NULL COMMENT &#39;å¯†ç &#39;,</span><br><span class="line">&#96;age&#96; tinyint(4) DEFAULT &#39;0&#39; COMMENT &#39;å¹´é¾„&#39;,</span><br><span class="line">&#96;create_time&#96; datetime DEFAULT CURRENT_TIMESTAMP,</span><br><span class="line">&#96;update_time&#96; timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATECURRENT_TIMESTAMP,</span><br><span class="line">PRIMARY KEY (&#96;id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8mb4 COMMENT&#x3D;&#39;appç”¨æˆ·è¡¨&#39;</span><br></pre></td></tr></table></figure>
<p><strong>æ‰¹é‡æ’å…¥æ•°æ®ï¼š100w</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DROP FUNCTION IF EXISTS mock_data;</span><br><span class="line">DELIMITER $$ -- å†™å‡½æ•°ä¹‹å‰å¿…é¡»è¦å†™ï¼Œæ ‡å¿—</span><br><span class="line">CREATE FUNCTION mock_data()</span><br><span class="line">RETURNS INT</span><br><span class="line">BEGIN</span><br><span class="line">DECLARE num INT DEFAULT 1000000;</span><br><span class="line">DECLARE i INT DEFAULT 0;</span><br><span class="line">WHILE i &lt; num DO</span><br><span class="line">-- æ’å…¥è¯­å¥</span><br><span class="line">  INSERT INTO app_user(&#96;name&#96;, &#96;email&#96;, &#96;phone&#96;, &#96;gender&#96;, &#96;password&#96;, &#96;age&#96;)</span><br><span class="line">   VALUES(CONCAT(&#39;ç”¨æˆ·&#39;, i), &#39;24736743@qq.com&#39;, CONCAT(&#39;18&#39;, FLOOR(RAND()*(999999999-100000000)+100000000)),FLOOR(RAND()*2),UUID(), FLOOR(RAND()*100));</span><br><span class="line">  SET i &#x3D; i + 1;</span><br><span class="line">END WHILE;</span><br><span class="line">RETURN i;</span><br><span class="line">END;</span><br><span class="line">SELECT mock_data();</span><br></pre></td></tr></table></figure>
<p><strong>ç´¢å¼•æ•ˆç‡æµ‹è¯•</strong></p>
<p>æ— ç´¢å¼•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT * FROM app_user WHERE name &#x3D; &#39;ç”¨æˆ·9999&#39;; -- æŸ¥çœ‹è€—æ—¶</span><br><span class="line">SELECT * FROM app_user WHERE name &#x3D; &#39;ç”¨æˆ·9999&#39;;</span><br><span class="line">SELECT * FROM app_user WHERE name &#x3D; &#39;ç”¨æˆ·9999&#39;;</span><br><span class="line"></span><br><span class="line">mysql&gt; EXPLAIN SELECT * FROM app_user WHERE name &#x3D; &#39;ç”¨æˆ·9999&#39;\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">          id: 1</span><br><span class="line">select_type: SIMPLE</span><br><span class="line">       table: app_user</span><br><span class="line">  partitions: NULL</span><br><span class="line">        type: ALL</span><br><span class="line">possible_keys: NULL</span><br><span class="line">        key: NULL</span><br><span class="line">    key_len: NULL</span><br><span class="line">        ref: NULL</span><br><span class="line">        rows: 992759</span><br><span class="line">    filtered: 10.00</span><br><span class="line">      Extra: Using where</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºç´¢å¼•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE INDEX idx_app_user_name ON app_user(name);</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•æ™®é€šç´¢å¼•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT * FROM app_user WHERE name &#x3D; &#39;ç”¨æˆ·9999&#39;\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">          id: 1</span><br><span class="line">select_type: SIMPLE</span><br><span class="line">       table: app_user</span><br><span class="line">  partitions: NULL</span><br><span class="line">        type: ref</span><br><span class="line">possible_keys: idx_app_user_name</span><br><span class="line">        key: idx_app_user_name</span><br><span class="line">    key_len: 203</span><br><span class="line">        ref: const</span><br><span class="line">        rows: 1</span><br><span class="line">    filtered: 100.00</span><br><span class="line">      Extra: NULL</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT * FROM app_user WHERE name &#x3D; &#39;ç”¨æˆ·9999&#39;;</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT * FROM app_user WHERE name &#x3D; &#39;ç”¨æˆ·9999&#39;;</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT * FROM app_user WHERE name &#x3D; &#39;ç”¨æˆ·9999&#39;;</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<p>ç´¢å¼•åœ¨å°æ•°æ®é‡çš„æ—¶å€™ï¼Œç”¨å¤„ä¸å¤§ï¼Œä½†æ˜¯åœ¨å¤§æ•°æ®çš„æ—¶å€™ï¼ŒåŒºåˆ«ååˆ†æ˜æ˜¾ï½</p>
<blockquote>
<p>ç´¢å¼•å‡†åˆ™</p>
</blockquote>
<ul>
<li>ç´¢å¼•ä¸æ˜¯è¶Šå¤šè¶Šå¥½</li>
<li>ä¸è¦å¯¹ç»å¸¸å˜åŠ¨çš„æ•°æ®åŠ ç´¢å¼•</li>
<li>å°æ•°æ®é‡çš„è¡¨å»ºè®®ä¸è¦åŠ ç´¢å¼•</li>
<li>ç´¢å¼•ä¸€èˆ¬åº”åŠ åœ¨æŸ¥æ‰¾æ¡ä»¶çš„å­—æ®µ</li>
</ul>
<blockquote>
<p>ç´¢å¼•çš„æ•°æ®ç»“æ„</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- æˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºä¸Šè¿°ç´¢å¼•çš„æ—¶å€™ï¼Œä¸ºå…¶æŒ‡å®šç´¢å¼•ç±»å‹ï¼Œåˆ†ä¸¤ç±»</span><br><span class="line">hashç±»å‹çš„ç´¢å¼•ï¼šæŸ¥è¯¢å•æ¡å¿«ï¼ŒèŒƒå›´æŸ¥è¯¢æ…¢</span><br><span class="line">btreeç±»å‹çš„ç´¢å¼•ï¼šb+æ ‘ï¼Œå±‚æ•°è¶Šå¤šï¼Œæ•°æ®é‡æŒ‡æ•°çº§å¢é•¿ï¼ˆæˆ‘ä»¬å°±ç”¨å®ƒï¼Œå› ä¸ºinnodbé»˜è®¤æ”¯æŒå®ƒï¼‰</span><br><span class="line"></span><br><span class="line">-- ä¸åŒçš„å­˜å‚¨å¼•æ“æ”¯æŒçš„ç´¢å¼•ç±»å‹ä¹Ÿä¸ä¸€æ ·</span><br><span class="line">InnoDB æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡Œçº§åˆ«é”å®šï¼Œæ”¯æŒ B-treeã€Full-text ç­‰ç´¢å¼•ï¼Œä¸æ”¯æŒ Hash ç´¢å¼•ï¼›</span><br><span class="line">MyISAM ä¸æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡¨çº§åˆ«é”å®šï¼Œæ”¯æŒ B-treeã€Full-text ç­‰ç´¢å¼•ï¼Œä¸æ”¯æŒ Hash ç´¢å¼•ï¼›</span><br><span class="line">Memory ä¸æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡¨çº§åˆ«é”å®šï¼Œæ”¯æŒ B-treeã€Hash ç­‰ç´¢å¼•ï¼Œä¸æ”¯æŒ Full-text ç´¢å¼•ï¼›</span><br><span class="line">NDB æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡Œçº§åˆ«é”å®šï¼Œæ”¯æŒ Hash ç´¢å¼•ï¼Œä¸æ”¯æŒ B-treeã€Full-text ç­‰ç´¢å¼•ï¼›</span><br><span class="line">Archive ä¸æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡¨çº§åˆ«é”å®šï¼Œä¸æ”¯æŒ B-treeã€Hashã€Full-text ç­‰ç´¢å¼•ï¼›</span><br></pre></td></tr></table></figure>
<h3 id="ç”¨æˆ·ç®¡ç†"><a href="#ç”¨æˆ·ç®¡ç†" class="headerlink" title="ç”¨æˆ·ç®¡ç†"></a>ç”¨æˆ·ç®¡ç†</h3><blockquote>
<p>ä½¿ç”¨SQLyog åˆ›å»ºç”¨æˆ·ï¼Œå¹¶æˆäºˆæƒé™æ¼”ç¤º</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7Jf7deolwQa44rXvicIhXZ0NGL4sZKg8nicBGrYlEBJh1V3ymJ4WzBx9zXsIZyPYFADJBzn0ibCmgiauA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<blockquote>
<p>åŸºæœ¬å‘½ä»¤</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* ç”¨æˆ·å’Œæƒé™ç®¡ç† *&#x2F; ------------------</span><br><span class="line">ç”¨æˆ·ä¿¡æ¯è¡¨ï¼šmysql.user</span><br><span class="line"></span><br><span class="line">-- åˆ·æ–°æƒé™</span><br><span class="line">FLUSH PRIVILEGES</span><br><span class="line"></span><br><span class="line">-- å¢åŠ ç”¨æˆ· CREATE USER kuangshen IDENTIFIED BY &#39;123456&#39;</span><br><span class="line">CREATE USER ç”¨æˆ·å IDENTIFIED BY [PASSWORD] å¯†ç (å­—ç¬¦ä¸²)</span><br><span class="line">  - å¿…é¡»æ‹¥æœ‰mysqlæ•°æ®åº“çš„å…¨å±€CREATE USERæƒé™ï¼Œæˆ–æ‹¥æœ‰INSERTæƒé™ã€‚</span><br><span class="line">  - åªèƒ½åˆ›å»ºç”¨æˆ·ï¼Œä¸èƒ½èµ‹äºˆæƒé™ã€‚</span><br><span class="line">  - ç”¨æˆ·åï¼Œæ³¨æ„å¼•å·ï¼šå¦‚ &#39;user_name&#39;@&#39;192.168.1.1&#39;</span><br><span class="line">  - å¯†ç ä¹Ÿéœ€å¼•å·ï¼Œçº¯æ•°å­—å¯†ç ä¹Ÿè¦åŠ å¼•å·</span><br><span class="line">  - è¦åœ¨çº¯æ–‡æœ¬ä¸­æŒ‡å®šå¯†ç ï¼Œéœ€å¿½ç•¥PASSWORDå…³é”®è¯ã€‚è¦æŠŠå¯†ç æŒ‡å®šä¸ºç”±PASSWORD()å‡½æ•°è¿”å›çš„æ··ç¼–å€¼ï¼Œéœ€åŒ…å«å…³é”®å­—PASSWORD</span><br><span class="line"></span><br><span class="line">-- é‡å‘½åç”¨æˆ· RENAME USER kuangshen TO kuangshen2</span><br><span class="line">RENAME USER old_user TO new_user</span><br><span class="line"></span><br><span class="line">-- è®¾ç½®å¯†ç </span><br><span class="line">SET PASSWORD &#x3D; PASSWORD(&#39;å¯†ç &#39;)    -- ä¸ºå½“å‰ç”¨æˆ·è®¾ç½®å¯†ç </span><br><span class="line">SET PASSWORD FOR ç”¨æˆ·å &#x3D; PASSWORD(&#39;å¯†ç &#39;)    -- ä¸ºæŒ‡å®šç”¨æˆ·è®¾ç½®å¯†ç </span><br><span class="line"></span><br><span class="line">-- åˆ é™¤ç”¨æˆ· DROP USER kuangshen2</span><br><span class="line">DROP USER ç”¨æˆ·å</span><br><span class="line"></span><br><span class="line">-- åˆ†é…æƒé™&#x2F;æ·»åŠ ç”¨æˆ·</span><br><span class="line">GRANT æƒé™åˆ—è¡¨ ON è¡¨å TO ç”¨æˆ·å [IDENTIFIED BY [PASSWORD] &#39;password&#39;]</span><br><span class="line">  - all privileges è¡¨ç¤ºæ‰€æœ‰æƒé™</span><br><span class="line">  - *.* è¡¨ç¤ºæ‰€æœ‰åº“çš„æ‰€æœ‰è¡¨</span><br><span class="line">  - åº“å.è¡¨å è¡¨ç¤ºæŸåº“ä¸‹é¢çš„æŸè¡¨</span><br><span class="line"></span><br><span class="line">-- æŸ¥çœ‹æƒé™   SHOW GRANTS FOR root@localhost;</span><br><span class="line">SHOW GRANTS FOR ç”¨æˆ·å</span><br><span class="line">   -- æŸ¥çœ‹å½“å‰ç”¨æˆ·æƒé™</span><br><span class="line">  SHOW GRANTS; æˆ– SHOW GRANTS FOR CURRENT_USER; æˆ– SHOW GRANTS FOR CURRENT_USER();</span><br><span class="line"></span><br><span class="line">-- æ’¤æ¶ˆæƒé™</span><br><span class="line">REVOKE æƒé™åˆ—è¡¨ ON è¡¨å FROM ç”¨æˆ·å</span><br><span class="line">REVOKE ALL PRIVILEGES, GRANT OPTION FROM ç”¨æˆ·å    -- æ’¤é”€æ‰€æœ‰æƒé™</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æƒé™è§£é‡Š</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- æƒé™åˆ—è¡¨</span><br><span class="line">ALL [PRIVILEGES]    -- è®¾ç½®é™¤GRANT OPTIONä¹‹å¤–çš„æ‰€æœ‰ç®€å•æƒé™</span><br><span class="line">ALTER    -- å…è®¸ä½¿ç”¨ALTER TABLE</span><br><span class="line">ALTER ROUTINE    -- æ›´æ”¹æˆ–å–æ¶ˆå·²å­˜å‚¨çš„å­ç¨‹åº</span><br><span class="line">CREATE    -- å…è®¸ä½¿ç”¨CREATE TABLE</span><br><span class="line">CREATE ROUTINE    -- åˆ›å»ºå·²å­˜å‚¨çš„å­ç¨‹åº</span><br><span class="line">CREATE TEMPORARY TABLES        -- å…è®¸ä½¿ç”¨CREATE TEMPORARY TABLE</span><br><span class="line">CREATE USER        -- å…è®¸ä½¿ç”¨CREATE USER, DROP USER, RENAME USERå’ŒREVOKE ALL PRIVILEGESã€‚</span><br><span class="line">CREATE VIEW        -- å…è®¸ä½¿ç”¨CREATE VIEW</span><br><span class="line">DELETE    -- å…è®¸ä½¿ç”¨DELETE</span><br><span class="line">DROP    -- å…è®¸ä½¿ç”¨DROP TABLE</span><br><span class="line">EXECUTE        -- å…è®¸ç”¨æˆ·è¿è¡Œå·²å­˜å‚¨çš„å­ç¨‹åº</span><br><span class="line">FILE    -- å…è®¸ä½¿ç”¨SELECT...INTO OUTFILEå’ŒLOAD DATA INFILE</span><br><span class="line">INDEX     -- å…è®¸ä½¿ç”¨CREATE INDEXå’ŒDROP INDEX</span><br><span class="line">INSERT    -- å…è®¸ä½¿ç”¨INSERT</span><br><span class="line">LOCK TABLES        -- å…è®¸å¯¹æ‚¨æ‹¥æœ‰SELECTæƒé™çš„è¡¨ä½¿ç”¨LOCK TABLES</span><br><span class="line">PROCESS     -- å…è®¸ä½¿ç”¨SHOW FULL PROCESSLIST</span><br><span class="line">REFERENCES    -- æœªè¢«å®æ–½</span><br><span class="line">RELOAD    -- å…è®¸ä½¿ç”¨FLUSH</span><br><span class="line">REPLICATION CLIENT    -- å…è®¸ç”¨æˆ·è¯¢é—®ä»å±æœåŠ¡å™¨æˆ–ä¸»æœåŠ¡å™¨çš„åœ°å€</span><br><span class="line">REPLICATION SLAVE    -- ç”¨äºå¤åˆ¶å‹ä»å±æœåŠ¡å™¨ï¼ˆä»ä¸»æœåŠ¡å™¨ä¸­è¯»å–äºŒè¿›åˆ¶æ—¥å¿—äº‹ä»¶ï¼‰</span><br><span class="line">SELECT    -- å…è®¸ä½¿ç”¨SELECT</span><br><span class="line">SHOW DATABASES    -- æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“</span><br><span class="line">SHOW VIEW    -- å…è®¸ä½¿ç”¨SHOW CREATE VIEW</span><br><span class="line">SHUTDOWN    -- å…è®¸ä½¿ç”¨mysqladmin shutdown</span><br><span class="line">SUPER    -- å…è®¸ä½¿ç”¨CHANGE MASTER, KILL, PURGE MASTER LOGSå’ŒSET GLOBALè¯­å¥ï¼Œmysqladmin debugå‘½ä»¤ï¼›å…è®¸æ‚¨è¿æ¥ï¼ˆä¸€æ¬¡ï¼‰ï¼Œå³ä½¿å·²è¾¾åˆ°max_connectionsã€‚</span><br><span class="line">UPDATE    -- å…è®¸ä½¿ç”¨UPDATE</span><br><span class="line">USAGE    -- â€œæ— æƒé™â€çš„åŒä¹‰è¯</span><br><span class="line">GRANT OPTION    -- å…è®¸æˆäºˆæƒé™</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;* è¡¨ç»´æŠ¤ *&#x2F;</span><br><span class="line"></span><br><span class="line">-- åˆ†æå’Œå­˜å‚¨è¡¨çš„å…³é”®å­—åˆ†å¸ƒ</span><br><span class="line">ANALYZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE è¡¨å ...</span><br><span class="line">-- æ£€æŸ¥ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨æ˜¯å¦æœ‰é”™è¯¯</span><br><span class="line">CHECK TABLE tbl_name [, tbl_name] ... [option] ...</span><br><span class="line">option &#x3D; &#123;QUICK | FAST | MEDIUM | EXTENDED | CHANGED&#125;</span><br><span class="line">-- æ•´ç†æ•°æ®æ–‡ä»¶çš„ç¢ç‰‡</span><br><span class="line">OPTIMIZE [LOCAL | NO_WRITE_TO_BINLOG] TABLE tbl_name [, tbl_name] ...</span><br></pre></td></tr></table></figure>


<h3 id="MySQLå¤‡ä»½"><a href="#MySQLå¤‡ä»½" class="headerlink" title="MySQLå¤‡ä»½"></a>MySQLå¤‡ä»½</h3><p>æ•°æ®åº“å¤‡ä»½å¿…è¦æ€§</p>
<ul>
<li>ä¿è¯é‡è¦æ•°æ®ä¸ä¸¢å¤±</li>
<li>æ•°æ®è½¬ç§»</li>
</ul>
<p>MySQLæ•°æ®åº“å¤‡ä»½æ–¹æ³•</p>
<ul>
<li>mysqldumpå¤‡ä»½å·¥å…·</li>
<li>æ•°æ®åº“ç®¡ç†å·¥å…·,å¦‚SQLyog</li>
<li>ç›´æ¥æ‹·è´æ•°æ®åº“æ–‡ä»¶å’Œç›¸å…³é…ç½®æ–‡ä»¶</li>
</ul>
<p><strong>mysqldumpå®¢æˆ·ç«¯</strong></p>
<p>ä½œç”¨ :</p>
<ul>
<li>è½¬å‚¨æ•°æ®åº“</li>
<li>æœé›†æ•°æ®åº“è¿›è¡Œå¤‡ä»½</li>
<li>å°†æ•°æ®è½¬ç§»åˆ°å¦ä¸€ä¸ªSQLæœåŠ¡å™¨,ä¸ä¸€å®šæ˜¯MySQLæœåŠ¡å™¨</li>
</ul>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7Jf7deolwQa44rXvicIhXZ0NzgWJWeyYYcf1Dy3ibfN66SiaZQmqTF3Hv8HBjr1zIowXh201pEjUzyJw/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-- å¯¼å‡º</span><br><span class="line">1. å¯¼å‡ºä¸€å¼ è¡¨ -- mysqldump -uroot -p123456 school student &gt;D:&#x2F;a.sql</span><br><span class="line">ã€€ã€€mysqldump -uç”¨æˆ·å -på¯†ç  åº“å è¡¨å &gt; æ–‡ä»¶å(D:&#x2F;a.sql)</span><br><span class="line">2. å¯¼å‡ºå¤šå¼ è¡¨ -- mysqldump -uroot -p123456 school student result &gt;D:&#x2F;a.sql</span><br><span class="line">ã€€ã€€mysqldump -uç”¨æˆ·å -på¯†ç  åº“å è¡¨1 è¡¨2 è¡¨3 &gt; æ–‡ä»¶å(D:&#x2F;a.sql)</span><br><span class="line">3. å¯¼å‡ºæ‰€æœ‰è¡¨ -- mysqldump -uroot -p123456 school &gt;D:&#x2F;a.sql</span><br><span class="line">ã€€ã€€mysqldump -uç”¨æˆ·å -på¯†ç  åº“å &gt; æ–‡ä»¶å(D:&#x2F;a.sql)</span><br><span class="line">4. å¯¼å‡ºä¸€ä¸ªåº“ -- mysqldump -uroot -p123456 -B school &gt;D:&#x2F;a.sql</span><br><span class="line">ã€€ã€€mysqldump -uç”¨æˆ·å -på¯†ç  -B åº“å &gt; æ–‡ä»¶å(D:&#x2F;a.sql)</span><br><span class="line"></span><br><span class="line">å¯ä»¥-wæºå¸¦å¤‡ä»½æ¡ä»¶</span><br><span class="line"></span><br><span class="line">-- å¯¼å…¥</span><br><span class="line">1. åœ¨ç™»å½•mysqlçš„æƒ…å†µä¸‹ï¼š-- source D:&#x2F;a.sql</span><br><span class="line">ã€€ã€€source å¤‡ä»½æ–‡ä»¶</span><br><span class="line">2. åœ¨ä¸ç™»å½•çš„æƒ…å†µä¸‹</span><br><span class="line">ã€€ã€€mysql -uç”¨æˆ·å -på¯†ç  åº“å &lt; å¤‡ä»½æ–‡ä»¶</span><br></pre></td></tr></table></figure>


<h2 id="è§„èŒƒåŒ–æ•°æ®åº“è®¾è®¡"><a href="#è§„èŒƒåŒ–æ•°æ®åº“è®¾è®¡" class="headerlink" title="è§„èŒƒåŒ–æ•°æ®åº“è®¾è®¡"></a>è§„èŒƒåŒ–æ•°æ®åº“è®¾è®¡</h2><h3 id="ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®åº“è®¾è®¡"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®åº“è®¾è®¡" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®åº“è®¾è®¡"></a>ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®åº“è®¾è®¡</h3><p><strong>å½“æ•°æ®åº“æ¯”è¾ƒå¤æ‚æ—¶æˆ‘ä»¬éœ€è¦è®¾è®¡æ•°æ®åº“</strong></p>
<p><strong>ç³Ÿç³•çš„æ•°æ®åº“è®¾è®¡ :</strong> </p>
<ul>
<li>æ•°æ®å†—ä½™,å­˜å‚¨ç©ºé—´æµªè´¹</li>
<li>æ•°æ®æ›´æ–°å’Œæ’å…¥çš„å¼‚å¸¸</li>
<li>ç¨‹åºæ€§èƒ½å·®</li>
</ul>
<p><strong>è‰¯å¥½çš„æ•°æ®åº“è®¾è®¡ :</strong> </p>
<ul>
<li>èŠ‚çœæ•°æ®çš„å­˜å‚¨ç©ºé—´</li>
<li>èƒ½å¤Ÿä¿è¯æ•°æ®çš„å®Œæ•´æ€§</li>
<li>æ–¹ä¾¿è¿›è¡Œæ•°æ®åº“åº”ç”¨ç³»ç»Ÿçš„å¼€å‘</li>
</ul>
<p> <strong>è½¯ä»¶é¡¹ç›®å¼€å‘å‘¨æœŸä¸­æ•°æ®åº“è®¾è®¡ :</strong></p>
<ul>
<li>éœ€æ±‚åˆ†æé˜¶æ®µ: åˆ†æå®¢æˆ·çš„ä¸šåŠ¡å’Œæ•°æ®å¤„ç†éœ€æ±‚</li>
<li>æ¦‚è¦è®¾è®¡é˜¶æ®µ:è®¾è®¡æ•°æ®åº“çš„E-Ræ¨¡å‹å›¾ , ç¡®è®¤éœ€æ±‚ä¿¡æ¯çš„æ­£ç¡®å’Œå®Œæ•´.</li>
</ul>
<p><strong>è®¾è®¡æ•°æ®åº“æ­¥éª¤</strong></p>
<ul>
<li><p>æ”¶é›†ä¿¡æ¯</p>
</li>
<li><ul>
<li>ä¸è¯¥ç³»ç»Ÿæœ‰å…³äººå‘˜è¿›è¡Œäº¤æµ , åº§è°ˆ , å……åˆ†äº†è§£ç”¨æˆ·éœ€æ±‚ , ç†è§£æ•°æ®åº“éœ€è¦å®Œæˆçš„ä»»åŠ¡.</li>
</ul>
</li>
<li><p>æ ‡è¯†å®ä½“[Entity]</p>
</li>
<li></li>
<li><ul>
<li>æ ‡è¯†æ•°æ®åº“è¦ç®¡ç†çš„å…³é”®å¯¹è±¡æˆ–å®ä½“,å®ä½“ä¸€èˆ¬æ˜¯åè¯</li>
</ul>
</li>
<li><p>æ ‡è¯†æ¯ä¸ªå®ä½“éœ€è¦å­˜å‚¨çš„è¯¦ç»†ä¿¡æ¯[Attribute]</p>
</li>
<li><p>æ ‡è¯†å®ä½“ä¹‹é—´çš„å…³ç³»[Relationship]</p>
</li>
</ul>
<h3 id="ä¸‰å¤§èŒƒå¼"><a href="#ä¸‰å¤§èŒƒå¼" class="headerlink" title="ä¸‰å¤§èŒƒå¼"></a>ä¸‰å¤§èŒƒå¼</h3><p><strong>é—®é¢˜ : ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®è§„èŒƒåŒ–?</strong></p>
<p>ä¸åˆè§„èŒƒçš„è¡¨è®¾è®¡ä¼šå¯¼è‡´çš„é—®é¢˜ï¼š</p>
<ul>
<li><p>ä¿¡æ¯é‡å¤</p>
</li>
<li><p>æ›´æ–°å¼‚å¸¸</p>
</li>
<li><p>æ’å…¥å¼‚å¸¸</p>
</li>
<li><ul>
<li>æ— æ³•æ­£ç¡®è¡¨ç¤ºä¿¡æ¯</li>
</ul>
</li>
<li><p>åˆ é™¤å¼‚å¸¸</p>
</li>
<li><ul>
<li>ä¸¢å¤±æœ‰æ•ˆä¿¡æ¯</li>
</ul>
</li>
</ul>
<blockquote>
<p>ä¸‰å¤§èŒƒå¼</p>
</blockquote>
<p><strong>ç¬¬ä¸€èŒƒå¼ (1st NF)</strong></p>
<p>ç¬¬ä¸€èŒƒå¼çš„ç›®æ ‡æ˜¯ç¡®ä¿æ¯åˆ—çš„åŸå­æ€§,å¦‚æœæ¯åˆ—éƒ½æ˜¯ä¸å¯å†åˆ†çš„æœ€å°æ•°æ®å•å…ƒ,åˆ™æ»¡è¶³ç¬¬ä¸€èŒƒå¼</p>
<p><strong>åŸå­æ€§</strong>ï¼š<strong>ä¿è¯æ¯ä¸€åˆ—ä¸å¯å†åˆ†</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/mysql/image-20210218115552323.1o92uy9a94ww.png" alt="image-20210218115552323"></p>
<p><strong>ç¬¬äºŒèŒƒå¼(2nd NF)</strong></p>
<p><strong>å‰æ</strong>ï¼šæ»¡è¶³ç¬¬ä¸€èŒƒå¼</p>
<p>ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰æ˜¯åœ¨ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰çš„åŸºç¡€ä¸Šå»ºç«‹èµ·æ¥çš„ï¼Œå³æ»¡è¶³ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰å¿…é¡»å…ˆæ»¡è¶³ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ã€‚</p>
<p>ç¬¬äºŒèŒƒå¼è¦æ±‚<strong>æ¯ä¸ªè¡¨åªæè¿°ä¸€ä»¶äº‹æƒ…</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/mysql/image-20210218115144469.1y2662u0gh6o.png" alt="image-20210218115144469"></p>
<p><strong>ç¬¬ä¸‰èŒƒå¼(3rd NF)</strong></p>
<p>å‰æï¼šæ»¡è¶³ç¬¬ä¸€èŒƒå¼å’Œç¬¬äºŒèŒƒå¼</p>
<p>å¦‚æœä¸€ä¸ªå…³ç³»æ»¡è¶³ç¬¬äºŒèŒƒå¼,å¹¶ä¸”é™¤äº†ä¸»é”®ä»¥å¤–çš„å…¶ä»–åˆ—éƒ½ä¸ä¼ é€’ä¾èµ–äºä¸»é”®åˆ—,åˆ™æ»¡è¶³ç¬¬ä¸‰èŒƒå¼.</p>
<p>ç¬¬ä¸‰èŒƒå¼éœ€è¦ç¡®ä¿æ•°æ®è¡¨ä¸­çš„æ¯ä¸€åˆ—æ•°æ®éƒ½å’Œä¸»é”®ç›´æ¥ç›¸å…³ï¼Œè€Œä¸èƒ½é—´æ¥ç›¸å…³ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/mysql/image-20210218115523217.3ooi64tynew0.png" alt="image-20210218115523217"></p>
<p><strong>è§„èŒƒåŒ–å’Œæ€§èƒ½çš„å…³ç³»</strong></p>
<p>ä¸ºæ»¡è¶³æŸç§å•†ä¸šç›®æ ‡ , æ•°æ®åº“æ€§èƒ½æ¯”è§„èŒƒåŒ–æ•°æ®åº“æ›´é‡è¦</p>
<p>åœ¨æ•°æ®è§„èŒƒåŒ–çš„åŒæ—¶ , è¦ç»¼åˆè€ƒè™‘æ•°æ®åº“çš„æ€§èƒ½</p>
<p>é€šè¿‡åœ¨ç»™å®šçš„è¡¨ä¸­æ·»åŠ é¢å¤–çš„å­—æ®µ,ä»¥å¤§é‡å‡å°‘éœ€è¦ä»ä¸­æœç´¢ä¿¡æ¯æ‰€éœ€çš„æ—¶é—´</p>
<p>é€šè¿‡åœ¨ç»™å®šçš„è¡¨ä¸­æ’å…¥è®¡ç®—åˆ—,ä»¥æ–¹ä¾¿æŸ¥è¯¢</p>
<h3 id="JDBCï¼ˆé‡ç‚¹ï¼‰"><a href="#JDBCï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="JDBCï¼ˆé‡ç‚¹ï¼‰"></a>JDBCï¼ˆé‡ç‚¹ï¼‰</h3><h4 id="10-1æ•°æ®åº“é©±åŠ¨"><a href="#10-1æ•°æ®åº“é©±åŠ¨" class="headerlink" title="10.1æ•°æ®åº“é©±åŠ¨"></a>10.1æ•°æ®åº“é©±åŠ¨</h4><p>é©±åŠ¨ï¼šå£°å¡ï¼Œæ˜¾å¡ï¼Œæ•°æ®åº“</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/mysql/image-20210218125024282.28vw3vtf76kg.png" alt="image-20210218125024282"></p>
<p>æˆ‘ä»¬çš„ç¨‹åºä¼šé€šè¿‡æ•°æ®åº“é©±åŠ¨ï¼Œå’Œæ•°æ®åº“æ‰“äº¤é“</p>
<h4 id="10-2-JDBC"><a href="#10-2-JDBC" class="headerlink" title="10.2 JDBC"></a>10.2 JDBC</h4><p>SUN å…¬å¸ä¸ºäº†ç®€åŒ– å¼€å‘äººå‘˜çš„å¯¹æ•°æ®åº“ç»Ÿä¸€çš„æ“ä½œï¼Œæä¾›äº†ä¸€ä¸ªï¼ˆjavaæ•°æ®åº“æ“ä½œçš„ï¼‰è§„èŒƒï¼Œä¿—ç§°JDBCã€‚è¿™äº›è§„èŒƒçš„å®ç°æ˜¯ç”±å…·ä½“çš„å‚å•†å»åšã€‚</p>
<p>å¯¹äºå¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬åªéœ€è¦åŠ ä¸€å±‚JDBCå°±å¯ä»¥äº†</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/mysql/image-20210218125439332.2jbc2bzvs7m0.png" alt="image-20210218125439332"></p>
<p>Java.sql</p>
<p>Javax.sql</p>
<p>è¿˜éœ€è¦å¯¼å…¥ä¸€ä¸ªæ•°æ®åº“é©±åŠ¨çš„åŒ…</p>
<h4 id="10-3-ç¬¬ä¸€ä¸ªjdbc-ç¨‹åº"><a href="#10-3-ç¬¬ä¸€ä¸ªjdbc-ç¨‹åº" class="headerlink" title="10.3 ç¬¬ä¸€ä¸ªjdbc ç¨‹åº"></a>10.3 ç¬¬ä¸€ä¸ªjdbc ç¨‹åº</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.Driver;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Deom01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException,SQLException</span>&#123;</span><br><span class="line">        <span class="comment">//1. åŠ è½½é©±åŠ¨</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>); <span class="comment">//å›ºå®šå†™æ³•ï¼ŒåŠ è½½é©±åŠ¨</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. ç”¨æˆ·ä¿¡æ¯å’Œurl useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true</span></span><br><span class="line">        String url = <span class="string">&quot;jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&quot;</span>;</span><br><span class="line">        String usename = <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3. è¿æ¥æˆåŠŸï¼Œæ•°æ®åº“å¯¹è±¡</span></span><br><span class="line">        Connection connection = DriverManager.getConnection(url, usename, password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.æ‰§è¡Œsqlçš„å¯¹è±¡ Statement æ‰§è¡Œsqlçš„å¯¹è±¡</span></span><br><span class="line">        Statement statement = connection.createStatement();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.æ‰§è¡Œsqlçš„å¯¹è±¡å»æ‰§è¡Œsqlï¼Œå¯èƒ½å­˜åœ¨ç»“æœï¼Œè¿”å›</span></span><br><span class="line">        String sql = <span class="string">&quot;select * from users&quot;</span>;</span><br><span class="line">        ResultSet resultSet = statement.executeQuery(sql); <span class="comment">//è¿”å›çš„ç»“æœé›†,ç»“æœå°è£…äº†æˆ‘ä»¬å…¨éƒ¨çš„æŸ¥è¯¢ç»“æœ</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (resultSet.next()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;id=&quot;</span>+resultSet.getObject(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;name=&quot;</span>+resultSet.getObject(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;pwd=&quot;</span>+resultSet.getObject(<span class="string">&quot;PASSWORD&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;email=&quot;</span>+resultSet.getObject(<span class="string">&quot;email&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;birth=&quot;</span>+resultSet.getObject(<span class="string">&quot;birthday&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.é‡Šæ”¾è¿æ¥</span></span><br><span class="line">        resultSet.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¥éª¤æ€»ç»“ï¼š</p>
<ol>
<li>åŠ è½½é©±åŠ¨</li>
<li>è¿æ¥æ•°æ®åº“DriverManager</li>
<li>è·å¾—æ‰§è¡Œsqlçš„å¯¹è±¡ Statement</li>
<li>è·å¾—è¿”å›çš„ç»“æœåŠ</li>
<li>é‡Šæ”¾è¿æ¥</li>
</ol>
<blockquote>
<p>DriverManager </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">//1. åŠ è½½é©±åŠ¨</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>); <span class="comment">//å›ºå®šå†™æ³•ï¼ŒåŠ è½½é©±åŠ¨</span></span><br><span class="line"></span><br><span class="line">        Connection connection = DriverManager.getConnection(url, usename, password);</span><br><span class="line"></span><br><span class="line"><span class="comment">// connection ä»£è¡¨æ•°æ®åº“</span></span><br><span class="line"><span class="comment">// æ•°æ®åº“è®¾ç½®è‡ªåŠ¨æäº¤</span></span><br><span class="line"><span class="comment">// äº‹åŠ¡æäº¤</span></span><br><span class="line"><span class="comment">// äº‹åŠ¡å›æ»š</span></span><br><span class="line"></span><br><span class="line">connection.rollback();</span><br><span class="line">connection.commit();</span><br><span class="line">connection.setAutoCommit();</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<blockquote>
<p>URL</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//2. ç”¨æˆ·ä¿¡æ¯å’Œurl useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true</span></span><br><span class="line">        String url = <span class="string">&quot;jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&quot;</span>;</span><br><span class="line">        String usename = <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        String password = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mysql é»˜è®¤ç«¯å£æ˜¯3306</span></span><br><span class="line"><span class="comment">//jdbc:mysql://ä¸»æœºåœ°å€ï¼šç«¯å£å·/æ•°æ®åº“åï¼Ÿå‚æ•°1&amp;å‚æ•°2&amp;å‚æ•°3</span></span><br><span class="line"><span class="comment">//oracle -1521</span></span><br><span class="line"><span class="comment">//jdbc:oracle:thin:@localhost:8521:sid </span></span><br></pre></td></tr></table></figure>


<blockquote>
<p>Statement æ‰§è¡Œsqlçš„å¯¹è±¡ PrepareStatement æ‰§è¡Œsqlçš„å¯¹è±¡</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String sql = <span class="string">&quot;select * from users&quot;</span>;</span><br><span class="line"></span><br><span class="line">statement.executeQuery(); <span class="comment">//æŸ¥è¯¢æ“ä½œè¿”å›ResultSet</span></span><br><span class="line">statement.execute(); <span class="comment">//æ‰§è¡Œä»»ä½•sql</span></span><br><span class="line">statement.executeUpdate(); <span class="comment">//æ›´æ–°æ’å…¥åˆ é™¤éƒ½æ˜¯ç”¨è¿™ä¸ªï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå—å½±å“çš„è¡Œæ•°</span></span><br></pre></td></tr></table></figure>


<blockquote>
<p>ResultSet æŸ¥è¯¢çš„ç»“æœé›†ï¼šå°è£…äº†æ‰€æœ‰çš„æŸ¥è¯¢ç»“æœ</p>
</blockquote>
<p>è·å¾—æŒ‡å®šçš„æ•°æ®ç±»å‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">resultSet.getObject(); <span class="comment">// åœ¨ä¸çŸ¥é“ç±»å‹çš„æƒ…å†µä¸‹ä½¿ç”¨</span></span><br><span class="line"><span class="comment">// å¦‚æœçŸ¥é“åˆ—çš„ç±»å‹å°±ä½¿ç”¨æŒ‡å®šçš„ç±»å‹</span></span><br><span class="line">resultSet.getString();</span><br><span class="line">resultSet.getInt();</span><br><span class="line">resultSet.getFloat();</span><br><span class="line">resultSet.getDate();</span><br></pre></td></tr></table></figure>
<p>éå†ï¼ŒæŒ‡é’ˆ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">resultSet.beforeFirst(); <span class="comment">// ç§»åŠ¨åˆ°æœ€å‰é¢</span></span><br><span class="line">resultSet.afterLast(); <span class="comment">// ç§»åŠ¨åˆ°æœ€åä¸€ä¸ªæ•°æ®</span></span><br><span class="line">resultSet.next(); <span class="comment">// ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">resultSet.previous(); <span class="comment">// ç§»åŠ¨åˆ°å‰ä¸€è¡Œ</span></span><br><span class="line">resultSet.absolute(row); <span class="comment">//ç§»åŠ¨åˆ°æŒ‡å®šçš„è¡Œæ•°</span></span><br></pre></td></tr></table></figure>


<blockquote>
<p>é‡Šæ”¾èµ„æº</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//6.é‡Šæ”¾è¿æ¥</span></span><br><span class="line">resultSet.close();</span><br><span class="line">statement.close();</span><br><span class="line">connection.close(); <span class="comment">// è€—èµ„æºï¼Œç”¨å®Œå°±å…³æ‰</span></span><br></pre></td></tr></table></figure>


<h3 id="statementå¯¹è±¡"><a href="#statementå¯¹è±¡" class="headerlink" title="statementå¯¹è±¡"></a>statementå¯¹è±¡</h3><p>Jdbc ä¸­çš„ statementå¯¹è±¡ç”¨äºå‘æ•°æ®åº“å‘é€SQLè¯­å¥ï¼Œæƒ³å®Œæˆå¯¹æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥è¯­å¥å³å¯</p>
<p>Statementå¯¹è±¡çš„executeUpdate æ–¹æ³•ï¼Œç”¨äºå‘æ•°æ®åº“å‘é€å¢åˆ æ”¹æŸ¥çš„sqlè¯­å¥ï¼ŒexecuteUpdateæ‰§è¡Œå®Œåï¼Œå°†ä¼šè¿”å›ä¸€ä¸ªæ•´æ•°ï¼ˆå³å¢åˆ æ”¹æŸ¥è¯­å¥å¯¼è‡´äº†æ•°æ®åº“å‡ è¡Œæ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼‰</p>
<p>Statement.executeQuery æ–¹æ³•ç”¨äºå‘æ•°æ®åº“å‘é€æŸ¥è¯¢è¯­å¥ï¼ŒexecuteQuery æ–¹æ³•è¿”å›ä»£è¡¨æŸ¥è¯¢ç»“æœçš„ResultSetå¯¹è±¡</p>
<blockquote>
<p>CRUD æ“ä½œ-create</p>
<p>ä½¿ç”¨executeUpdate(String sql)æ–¹æ³•å®Œæˆæ•°æ®æ·»åŠ æ“ä½œï¼Œå®ä¾‹æ“ä½œï¼š</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Statement st =conn.createStatement();</span><br><span class="line">String sql = <span class="string">&quot;insert into user (...) values (...)&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> num = st.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span>(num&gt;<span class="number">0</span>)&#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;æ’å…¥æˆåŠŸï¼&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>CRUD æ“ä½œ-delete</p>
<p>ä½¿ç”¨executeUpdate(String sql)æ–¹æ³•å®Œæˆæ•°æ®æ·»åŠ æ“ä½œï¼Œå®ä¾‹æ“ä½œï¼š</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Statement st =conn.createStatement();</span><br><span class="line">String sql = <span class="string">&quot;delete from user where id=1;</span></span><br><span class="line"><span class="string">int num = st.executeUpdate(sql);</span></span><br><span class="line"><span class="string">if(num&gt;0)&#123;</span></span><br><span class="line"><span class="string">  System.out.println(&quot;</span>åˆ é™¤æˆåŠŸï¼<span class="string">&quot;)</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>CRUD æ“ä½œ-update</p>
<p>ä½¿ç”¨executeUpdate(String sql)æ–¹æ³•å®Œæˆæ•°æ®æ·»åŠ æ“ä½œï¼Œå®ä¾‹æ“ä½œï¼š</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Statement st =conn.createStatement();</span><br><span class="line">String sql = <span class="string">&quot;update user set name=&#x27;&#x27; where name=&#x27;&#x27;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> num = st.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span>(num&gt;<span class="number">0</span>)&#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;æ’å…¥æˆåŠŸï¼&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>CRUD æ“ä½œ-read </p>
<p>ä½¿ç”¨executeUpdate(String sql)æ–¹æ³•å®Œæˆæ•°æ®æ·»åŠ æ“ä½œï¼Œå®ä¾‹æ“ä½œï¼š</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Statement st =conn.createStatement();</span><br><span class="line">String sql = <span class="string">&quot;select * from user where id=1&quot;</span>;</span><br><span class="line">ResultSet rs = st.executeQuery(sql); <span class="comment">// ä»æŸ¥è¯¢é€Ÿç‡æ¥è€ƒè™‘</span></span><br><span class="line"><span class="keyword">while</span>(rs.next)&#123;</span><br><span class="line">  <span class="comment">// æ ¹æ®è·å–åˆ—çš„æ•°æ®ç±»å‹ï¼Œåˆ†åˆ«è°ƒç”¨rsçš„ç›¸åº”æ–¹æ³•æ˜ å°„åˆ°javaå¯¹è±¡ä¸­</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>ä»£ç å®ç°</p>
</blockquote>
<ol>
<li>æå–å·¥å…·ç±»</li>
<li>ç¼–å†™å¢åˆ æ”¹æŸ¥çš„æ–¹æ³•executeUpdate</li>
</ol>
<p><strong>å·¥å…·ç±»</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> lesson02.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String driver = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String url = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String username = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String password = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">            BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">&quot;/Users/yuxuan/coding/IDEA/JDBC_demo1/src/db.properties&quot;</span>));</span><br><span class="line">            properties.load(bufferedReader);</span><br><span class="line"></span><br><span class="line">            driver = properties.getProperty(<span class="string">&quot;driver&quot;</span>);</span><br><span class="line">            url = properties.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">            username = properties.getProperty(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">            password = properties.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 1. é©±åŠ¨åªç”¨åŠ è½½ä¸€æ¬¡</span></span><br><span class="line">            Class.forName(driver);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–è¿æ¥</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> DriverManager.getConnection(url, username, password);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">release</span><span class="params">(Connection conn, Statement st, ResultSet rs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (rs != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (st != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                st.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (conn != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                conn.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><strong>æ“ä½œç±»</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> lesson02;<span class="comment">//import lesson02.utils.JdbcUtils;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInsert</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line"></span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        Statement st = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = JdbcUtils.getConnection(); <span class="comment">// è·å–æ•°æ®åº“çš„è¿æ¥</span></span><br><span class="line">            st = conn.createStatement(); <span class="comment">// è·å–sqlçš„æ‰§è¡Œå¯¹è±¡</span></span><br><span class="line">            <span class="comment">// æ’å…¥è¯­å¥</span></span><br><span class="line"><span class="comment">//            String sql = &quot;INSERT INTO `users`(id,NAME,PASSWORD,email,birthday)&quot; +</span></span><br><span class="line"><span class="comment">//                    &quot;VALUES(1,&#x27;yuxuan&#x27;,&#x27;123456&#x27;,&#x27;zs@sina.com&#x27;,&#x27;1980-12-04&#x27;)&quot;;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ é™¤è¯­å¥</span></span><br><span class="line"><span class="comment">//            String sql = &quot;delete from `users` where id = 1&quot;;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ›´æ–°è¯­å¥</span></span><br><span class="line"></span><br><span class="line">            String sql = <span class="string">&quot;update `users` set `name`=&#x27;yuxuan&#x27;,`email`=&#x27;624677306@qq.com&#x27; where id =1&quot;</span>;</span><br><span class="line">            <span class="keyword">int</span> i = st.executeUpdate(sql);</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="comment">//                System.out.println(&quot;æ’å…¥æˆåŠŸ&quot;);</span></span><br><span class="line"><span class="comment">//                System.out.println(&quot;åˆ é™¤æˆåŠŸ&quot;);</span></span><br><span class="line">                System.out.println(<span class="string">&quot;æ›´æ–°æˆåŠŸ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn, st, rs);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>æŸ¥è¯¢</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> lesson02;<span class="comment">//import lesson02.utils.JdbcUtils;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSelect</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line"></span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        Statement st = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = JdbcUtils.getConnection(); <span class="comment">// è·å–æ•°æ®åº“çš„è¿æ¥</span></span><br><span class="line">            st = conn.createStatement(); <span class="comment">// è·å–sqlçš„æ‰§è¡Œå¯¹è±¡</span></span><br><span class="line">            String sql = <span class="string">&quot;select * from `users` where id =1&quot;</span>;</span><br><span class="line">            rs = st.executeQuery(sql);</span><br><span class="line">            <span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">                System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn, st, rs);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>SQL æ³¨å…¥çš„é—®é¢˜</p>
</blockquote>
<p>sql å­˜åœ¨æ¼æ´ï¼Œä¼šè¢«æ”»å‡»å¯¼è‡´æ³„æ¼,æ¬ºéª—word</p>
<p><a class="link"   href="https://www.jianshu.com/p/078df7a35671" >https://www.jianshu.com/p/078df7a35671<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">sql_injection</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        logging(&quot;yuxuan&quot;,&quot;123456&quot;); // æ­£å¸¸ç™»é™†</span></span><br><span class="line">        logging(<span class="string">&quot;&#x27;or &#x27;1=1&quot;</span>,<span class="string">&quot;123456&quot;</span>); <span class="comment">// sql æ³¨å…¥</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç™»é™†ä¸šåŠ¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">logging</span><span class="params">(String username, String password)</span> </span>&#123;</span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        Statement st = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = JdbcUtils.getConnection(); <span class="comment">// è·å–æ•°æ®åº“çš„è¿æ¥</span></span><br><span class="line">            st = conn.createStatement(); <span class="comment">// è·å–sqlçš„æ‰§è¡Œå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            select * from `users` where `NAME` =&#x27;&#x27;or &#x27;1=1&#x27; and `password`=&#x27;123456&#x27; æ€»ä¼šæ˜¯true</span></span><br><span class="line">            String sql = <span class="string">&quot;select * from `users` where `NAME` =&#x27;&quot;</span>+username+<span class="string">&quot;&#x27; and `password`=&#x27;&quot;</span>+password+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">            System.out.println(sql);</span><br><span class="line">            System.out.println(<span class="string">&quot;===============&quot;</span>);</span><br><span class="line">            rs = st.executeQuery(sql);</span><br><span class="line">            <span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">                System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">                System.out.println(rs.getString(<span class="string">&quot;password&quot;</span>));</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn, st, rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="PreparedStatementå¯¹è±¡"><a href="#PreparedStatementå¯¹è±¡" class="headerlink" title="PreparedStatementå¯¹è±¡"></a>PreparedStatementå¯¹è±¡</h3><p>PreparedStatement å¯ä»¥é˜²æ­¢SQLæ³¨å…¥ï¼Œä¸”æ•ˆç‡æ›´é«˜</p>
<p><strong>æ’å…¥</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> lesson03;</span><br><span class="line"><span class="keyword">import</span> lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInsert</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement st = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = JdbcUtils.getConnection();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åŒºåˆ«</span></span><br><span class="line">            <span class="comment">// ä½¿ç”¨ï¼Ÿå ä½ç¬¦æ¥ä»£æ›¿å‚æ•°</span></span><br><span class="line">            String sql = <span class="string">&quot;INSERT INTO `users`(id,NAME,PASSWORD,email,birthday)&quot;</span> +</span><br><span class="line">                    <span class="string">&quot;VALUES(?,?,?,?,?)&quot;</span>;</span><br><span class="line"></span><br><span class="line">            st = conn.prepareStatement(sql); <span class="comment">//é¢„ç¼–è¯‘sqlï¼Œç„¶åä¸æ‰§è¡Œ</span></span><br><span class="line">            <span class="comment">// æ‰‹åŠ¨ç»™å‚æ•°èµ‹å€¼</span></span><br><span class="line">            st.setInt(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">            st.setString(<span class="number">2</span>,<span class="string">&quot;yuxuan&quot;</span>);</span><br><span class="line">            st.setString(<span class="number">3</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">            st.setString(<span class="number">4</span>,<span class="string">&quot;624677306@qq.com&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ³¨æ„ç‚¹ï¼šsql.Date æ•°æ®åº“ç”¨çš„</span></span><br><span class="line"><span class="comment">//            util.Date java ä¸‹é¢ä½¿ç”¨çš„ new Date().getTime() è·å¾—æ—¶é—´æˆ³</span></span><br><span class="line">            st.setDate(<span class="number">5</span>, <span class="keyword">new</span> java.sql.Date(<span class="keyword">new</span> Date().getTime()));</span><br><span class="line">            <span class="keyword">int</span> i = st.executeUpdate();</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ’å…¥æˆåŠŸ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn,st,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>åˆ é™¤</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDelete</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement st = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = JdbcUtils.getConnection();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åŒºåˆ«</span></span><br><span class="line">            <span class="comment">// ä½¿ç”¨ï¼Ÿå ä½ç¬¦æ¥ä»£æ›¿å‚æ•°</span></span><br><span class="line">            String sql =<span class="string">&quot;delete from `users` where id =?&quot;</span>;</span><br><span class="line"></span><br><span class="line">            st = conn.prepareStatement(sql); <span class="comment">//é¢„ç¼–è¯‘sqlï¼Œç„¶åä¸æ‰§è¡Œ</span></span><br><span class="line">            <span class="comment">// æ‰‹åŠ¨ç»™å‚æ•°èµ‹å€¼</span></span><br><span class="line">            st.setInt(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> i = st.executeUpdate();</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn,st,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ›´æ–°</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestUpdate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement st = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = JdbcUtils.getConnection();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åŒºåˆ«</span></span><br><span class="line">            <span class="comment">// ä½¿ç”¨ï¼Ÿå ä½ç¬¦æ¥ä»£æ›¿å‚æ•°</span></span><br><span class="line">            String sql =<span class="string">&quot;update `users` set `name`=? where id =?&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            st = conn.prepareStatement(sql); <span class="comment">//é¢„ç¼–è¯‘sqlï¼Œç„¶åä¸æ‰§è¡Œ</span></span><br><span class="line">            <span class="comment">// æ‰‹åŠ¨ç»™å‚æ•°èµ‹å€¼</span></span><br><span class="line">            st.setString(<span class="number">1</span>,<span class="string">&quot;å®‡è½©&quot;</span>);</span><br><span class="line">            st.setString(<span class="number">2</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> i = st.executeUpdate();</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ›´æ–°æˆåŠŸ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn,st,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æŸ¥è¯¢</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSelect</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement st = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = JdbcUtils.getConnection();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åŒºåˆ«</span></span><br><span class="line">            <span class="comment">// ä½¿ç”¨ï¼Ÿå ä½ç¬¦æ¥ä»£æ›¿å‚æ•°</span></span><br><span class="line">            String sql =<span class="string">&quot;select * from `users` where id = ?;&quot;</span>;</span><br><span class="line"></span><br><span class="line">            st = conn.prepareStatement(sql); <span class="comment">//é¢„ç¼–è¯‘sqlï¼Œç„¶åä¸æ‰§è¡Œ</span></span><br><span class="line">            <span class="comment">// æ‰‹åŠ¨ç»™å‚æ•°èµ‹å€¼</span></span><br><span class="line">            st.setInt(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">            <span class="comment">//æ‰§è¡Œ</span></span><br><span class="line">            rs = st.executeQuery();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (rs.next()) &#123;</span><br><span class="line"><span class="comment">//                System.out.println(&quot;æŸ¥è¯¢æˆåŠŸæˆåŠŸ&quot;);</span></span><br><span class="line">                System.out.println(rs.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">                System.out.println(rs.getString(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn,st,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å®Œæ•´çš„æŸ¥è¯¢ä¸šåŠ¡</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInjectSolved</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        logging(&quot;yuxuan&quot;,&quot;123456&quot;); // æ­£å¸¸ç™»é™†</span></span><br><span class="line">        logging(<span class="string">&quot;&#x27;or &#x27;1=1&quot;</span>,<span class="string">&quot;123456&quot;</span>); <span class="comment">// sql æ³¨å…¥</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç™»é™†ä¸šåŠ¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">logging</span><span class="params">(String username, String password)</span> </span>&#123;</span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement st = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = JdbcUtils.getConnection(); <span class="comment">// è·å–æ•°æ®åº“çš„è¿æ¥</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// preparedStatement é˜²æ­¢SQL æ³¨å…¥çš„æœ¬è´¨ï¼ŒæŠŠä¼ é€’è¿›æ¥çš„å‚æ•°å½“ä½œå­—ç¬¦</span></span><br><span class="line">            <span class="comment">// å‡è®¾å…¶ä¸­å­˜åœ¨è½¬ä¹‰å­—ç¬¦ï¼Œå°±ç›´æ¥å¿½ç•¥ï¼Œæ¯”å¦‚ &#x27; ï¼Œä¼šè¢«ç›´æ¥è½¬ä¹‰</span></span><br><span class="line">            String sql = <span class="string">&quot;select * from `users` where `NAME` =? and `password`=?&quot;</span>;</span><br><span class="line">            st = conn.prepareStatement(sql);</span><br><span class="line">            st.setString(<span class="number">1</span>,username);</span><br><span class="line">            st.setString(<span class="number">2</span>,password);</span><br><span class="line"></span><br><span class="line">            rs = st.executeQuery();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">                System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">                System.out.println(rs.getString(<span class="string">&quot;password&quot;</span>));</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn, st, rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="äº‹åŠ¡-1"><a href="#äº‹åŠ¡-1" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h3><p>==è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥==</p>
<blockquote>
<p>ACID åŸåˆ™</p>
</blockquote>
<p>åŸå­æ€§ï¼šè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆéƒ½ä¸å®Œæˆ</p>
<p>ä¸€è‡´æ€§ï¼šæ€»æ•°ä¸å˜</p>
<p><strong>éš”ç¦»æ€§ï¼šå¤šä¸ªè¿›ç¨‹äº’ä¸å¹²æ‰°</strong></p>
<p>æŒä¹…æ€§ï¼šä¸€æ—¦æäº¤å°±ä¸å¯é€†äº†ï¼ŒæŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­</p>
<p>éš”ç¦»æ€§çš„é—®é¢˜ï¼š</p>
<p>è„è¯»ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªæ²¡æœ‰æäº¤çš„äº‹åŠ¡</p>
<p>ä¸å¯é‡å¤è¯»ï¼šåœ¨åŒä¸€ä¸ªäº‹åŠ¡å†…ï¼Œé‡å¤è¯»å–è¡¨ä¸­çš„æ•°æ®ï¼Œè¡¨æ•°æ®å‘ç”Ÿäº†æ”¹å˜</p>
<p>è™šè¯»ï¼ˆå¹»è¯»ï¼‰ï¼šåœ¨ä¸€ä¸ªäº‹åŠ¡å†…ï¼Œè¯»å–åˆ°äº†åˆ«äººæ’å…¥çš„æ•°æ®ï¼Œå¯¼è‡´å‰åè¯»å–å‡ºæ¥ä¸ä¸€è‡´</p>
<blockquote>
<p>ä»£ç å®ç°</p>
</blockquote>
<ol>
<li>å¼€å¯äº‹åŠ¡ï¼š<code>conn.setAutoCommit(false);</code></li>
<li>ä¸€ç»„ä¸šåŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œæäº¤äº‹åŠ¡</li>
<li>å¯ä»¥catchè¯­å¥ä¸­æ˜¾ç¤ºçš„å®šä¹‰ï¼Œå›æ»šè¯­å¥ï¼Œä½†é»˜è®¤å¤±è´¥å°±ä¼šå›æ»š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> lesson04;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTransaction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement st = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = JdbcUtils.getConnection();</span><br><span class="line">            <span class="comment">// å…³é—­æ•°æ®åº“çš„è‡ªåŠ¨æäº¤,è‡ªåŠ¨ä¼šå¼€å¯äº‹åŠ¡</span></span><br><span class="line">            conn.setAutoCommit(<span class="keyword">false</span>); <span class="comment">//å¼€å¯äº‹åŠ¡</span></span><br><span class="line"></span><br><span class="line">            String sql1 = <span class="string">&quot;update `account` set money=money-100 where name = &#x27;A&#x27;&quot;</span>;</span><br><span class="line">            st = conn.prepareStatement(sql1);</span><br><span class="line">            st.executeUpdate();</span><br><span class="line"></span><br><span class="line">            String sql2 = <span class="string">&quot;update account set money=money+100 where name = &#x27;B&#x27;&quot;</span>;</span><br><span class="line">            st = conn.prepareStatement(sql2);</span><br><span class="line">            st.executeUpdate();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ä¸šåŠ¡å®Œæ¯•ï¼Œæäº¤äº‹åŠ¡</span></span><br><span class="line">            conn.commit();</span><br><span class="line">            System.out.println(<span class="string">&quot;æˆåŠŸï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                conn.rollback();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e1) &#123;</span><br><span class="line">                e1.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn,st,rs);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ•°æ®åº“è¿æ¥æ± -ï¼ˆæš‚æ—¶ä¸å­¦ä¹ ï¼Œè¿‡äºéš¾ï¼Œä»¥åè¡¥ä¸Šï¼‰"><a href="#æ•°æ®åº“è¿æ¥æ± -ï¼ˆæš‚æ—¶ä¸å­¦ä¹ ï¼Œè¿‡äºéš¾ï¼Œä»¥åè¡¥ä¸Šï¼‰" class="headerlink" title="æ•°æ®åº“è¿æ¥æ±  ï¼ˆæš‚æ—¶ä¸å­¦ä¹ ï¼Œè¿‡äºéš¾ï¼Œä»¥åè¡¥ä¸Šï¼‰"></a>æ•°æ®åº“è¿æ¥æ±  ï¼ˆæš‚æ—¶ä¸å­¦ä¹ ï¼Œè¿‡äºéš¾ï¼Œä»¥åè¡¥ä¸Šï¼‰</h3><p>æ•°æ®åº“è¿æ¥-æ‰§è¡Œå®Œæ¯•-é‡Šæ”¾</p>
<p>è¿æ¥â€“é‡Šæ”¾ æ˜¯ä¸€ç§ååˆ†æµªè´¹èµ„æºçš„</p>
<p><strong>æ± åŒ–æŠ€æœ¯ï¼šå‡†å¤‡ä¸€äº›é¢„å…ˆçš„èµ„æºï¼Œè¿‡æ¥å°±è¿æ¥æå‰å‡†å¤‡å¥½çš„</strong></p>
]]></content>
      <categories>
        <category>Databases</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>Java</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>(CSE201) Advanced Databases</title>
    <url>/2021/02/19/2021-02-19-(CSE201)-Advanced-Databases/</url>
    <content><![CDATA[<h2 id="Storage"><a href="#Storage" class="headerlink" title="Storage"></a>Storage</h2><h3 id="Building-a-Database-High-Level"><a href="#Building-a-Database-High-Level" class="headerlink" title="Building a Database: High-Level"></a>Building a Database: High-Level</h3><ul>
<li><p>Design conceptual schema using a data model.</p>
<ul>
<li> Design relational schema, e.g., student(sid, name)</li>
</ul>
</li>
<li><p>Data Definition Language <strong>(DDL)</strong></p>
<ul>
<li>CREATE TABLE student (sid char(8) primary key, name varchar(32))</li>
</ul>
</li>
<li><p>Data Manipulation Language <strong>(DML)</strong></p>
<ul>
<li>INSERT INTO student VALUES (â€˜00112233â€™, â€˜Paulâ€™)</li>
</ul>
</li>
</ul>
<h3 id="Access-Time"><a href="#Access-Time" class="headerlink" title="Access Time"></a>Access Time</h3><p>Access time is the time it takes from when a read or write a block request is issued to when data transfer begins (or ends).</p>
<p><strong>Access time = Seek time + Rotational latency + (Transfer time)</strong></p>
<ul>
<li><p>Seek time â€“ time it takes to position the arm over the right track.</p>
<ul>
<li>Average seek time is about <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.781ex" xmlns="http://www.w3.org/2000/svg" width="1.795ex" height="2.737ex" role="img" focusable="false" viewBox="0 -864.9 793.6 1209.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(220, 394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mn" transform="translate(220, -345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><rect width="553.6" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container> of the worst case seek time (e.g., from the innermost to the outermost)</li>
</ul>
</li>
<li><p>Rotational latency â€“ time it takes for the sector to be accessed to appear under the head.</p>
<ul>
<li>Average latency is 1/2 of the worst case latency (e.g., nearly 360 degree rotation)</li>
</ul>
</li>
<li><p>Transfer time â€“ time to actually read/write the data in the sector once the head is positioned, that is, the time for the disk to rotate over the sectors.</p>
<ul>
<li> In most cases, transfer time is much less than the seek time and rotational latency.</li>
</ul>
</li>
</ul>
<h3 id="Disk-Block"><a href="#Disk-Block" class="headerlink" title="Disk Block"></a>Disk Block</h3><ul>
<li><p>A contiguous sequence of sectors from a single track</p>
</li>
<li><p>Data is transferred between disk and main memory in blocks</p>
</li>
<li><p>Sizes range from 512 bytes to several kilobytes</p>
</li>
</ul>
<h3 id="Organization-of-Records-in-Files"><a href="#Organization-of-Records-in-Files" class="headerlink" title="Organization of Records in Files"></a>Organization of Records in Files</h3><p><strong>Heap</strong> â€“ a record can be placed anywhere in the file where there is space</p>
<p><strong>Sequential</strong> â€“ store records in sequential order, based on the value of the search key of each record</p>
<p><strong>Hashing</strong> â€“ a hash function computed on some attribute of each record; the result specifies in which block of the file the record should be placed</p>
<blockquote>
<p>Records of each relation may be stored in a separate file. In a multi-table clustering file organization records of several different relations can be stored in the same file </p>
</blockquote>
<p>Motivation: store related records on the same block to minimize I/O</p>
<p>![image-20210219194326826](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210219194326826.png)</p>
<h2 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h2><p>Indexing mechanisms used to speed up access to the desired data.</p>
<p><strong>Indexing</strong> is a <strong>data structure technique</strong> which allows you to <strong>quickly retrieve records from a database file</strong>. </p>
<p>An Index is a small table having only two columns. </p>
<ul>
<li>The first column comprises a copy of the primary or candidate key of a table. </li>
<li>Its second column contains a set of pointers for holding the address of the disk block where that specific key value stored.</li>
</ul>
<h3 id="Types-of-Indexing"><a href="#Types-of-Indexing" class="headerlink" title="Types of Indexing"></a>Types of Indexing</h3><p><img src="https://www.guru99.com/images/1/070119_0833_IndexinginD1.png" alt="img"></p>
<h3 id="The-Structure-of-Index"><a href="#The-Structure-of-Index" class="headerlink" title="The Structure of Index"></a>The Structure of Index</h3><p><strong>Data file:</strong> collection of blocks holding records on disk</p>
<p><strong>Index file:</strong> a data structure allowing the DBMS to find particular records in a data file more efficiently.</p>
<ul>
<li><p>An index file consists of records (called index entries) of the form:</p>
<ul>
<li><strong>Search-key - pointer</strong></li>
</ul>
</li>
<li><p><strong>Search Key:</strong> one or set of attributes used to look up records in a file.</p>
</li>
</ul>
<p><strong>Relationship</strong>: a <strong>search key K</strong> in the index file is associated with a <strong>pointer to a data-file record</strong> that has search key K.</p>
<h3 id="Index-Techniques"><a href="#Index-Techniques" class="headerlink" title="Index Techniques"></a>Index Techniques</h3><ul>
<li>Depending on the organisation of index file, an index can be:<ul>
<li>an <strong>ordered Index</strong> where index entries <strong>are sorted on the search key value.</strong> (Primary indexing)</li>
<li>a <strong>hashing Index</strong> where <strong>hashing technique</strong> is employed to organize index entries (Secondary indexing)</li>
</ul>
</li>
</ul>
<h4 id="Ordered-Indices-Primary-index"><a href="#Ordered-Indices-Primary-index" class="headerlink" title="Ordered Indices (Primary index)"></a>Ordered Indices (Primary index)</h4><ul>
<li><p><strong>Dense index</strong>: index record appears for <strong>every search-key</strong> value in the file.</p>
</li>
<li><p><strong>Sparse Index:</strong> contains index records for <strong>only some</strong> search-key values.</p>
</li>
</ul>
<h4 id="Dense-Index-vs-Sparse-Index"><a href="#Dense-Index-vs-Sparse-Index" class="headerlink" title="Dense Index vs. Sparse Index"></a>Dense Index vs. Sparse Index</h4><ul>
<li><p>Index size</p>
<ul>
<li>Sparse index is smaller</li>
</ul>
</li>
<li><p>Requirement on data file</p>
<ul>
<li>The data file must be sequential file</li>
</ul>
</li>
<li><p>Lookup</p>
<ul>
<li>Sparse index is smaller and may fit in memory</li>
<li>Dense index can directly tell if a record exists.</li>
</ul>
</li>
<li><p>Update</p>
<ul>
<li>Sparse index requires less space and maintenance for insertion and deletion.</li>
</ul>
</li>
<li><p>Good tradeoff: sparse index with an index entry for every block in file, corresponding to least search-keyvalue in the block.</p>
</li>
</ul>
<h4 id="Dense-index-files"><a href="#Dense-index-files" class="headerlink" title="Dense index files"></a>Dense index files</h4><p>![image-20210219210300684](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210219210300684.png)</p>
<h4 id="Sparse-index-files"><a href="#Sparse-index-files" class="headerlink" title="Sparse index files"></a>Sparse index files</h4><p>![image-20210219210345875](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210219210345875.png)</p>
<h4 id="An-ordered-index-can-also-be"><a href="#An-ordered-index-can-also-be" class="headerlink" title="An ordered index can also be:"></a>An ordered index can also be:</h4><ul>
<li><p><strong>Primary index:</strong> in a sequentially ordered file, the index whose search key specifies the sequential order of the file.</p>
<ul>
<li>Also called <strong>clustering index.</strong> The search key of a primary index is usually but not necessarily the primary key.</li>
<li> Can be sparse</li>
</ul>
</li>
<li><p><strong>Secondary index:</strong> an index whose search key specifies an order different from the sequential order of the file.</p>
<ul>
<li><p>Also called non-clustering index.</p>
</li>
<li><p>Can not be sparse</p>
</li>
</ul>
</li>
<li><p>Index-sequential file: ordered sequential file with a primary index.</p>
</li>
</ul>
<p>![image-20210219211429706](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210219211429706.png)</p>
<ul>
<li>Index record points to a bucket that contains pointers to all the actual records with that particular search-key value.</li>
<li>Secondary indices have to be dense</li>
</ul>
<h4 id="Primary-and-Secondary-Indices"><a href="#Primary-and-Secondary-Indices" class="headerlink" title="Primary and Secondary Indices"></a>Primary and Secondary Indices</h4><ul>
<li><p>Indices offer substantial benefits when searching for records.</p>
</li>
<li><p>But: updating indices imposes overhead on database modification - when a file is modified, every index on the file must be updated,</p>
</li>
<li><p>Sequential scan using primary index is efficient</p>
</li>
<li><p>But a sequential scan using a secondary index is expensive</p>
<ul>
<li>Each record access may fetch a new block from disk    </li>
<li>Block fetch requires about 5 to 10 milliseconds; versus about 100 nanoseconds for memory access</li>
</ul>
</li>
</ul>
<h4 id="Clustering-Index"><a href="#Clustering-Index" class="headerlink" title="Clustering Index"></a>Clustering Index</h4><p>In a clustered index, records themselves are stored in the Index and not pointers. Sometimes the Index is created on non-primary key columns which might not be unique for each record. In such a situation, you can group two or more columns to get the unique values and create an index which is called clustered Index. This also helps you to identify the record faster.</p>
<p><strong>Example:</strong></p>
<p>Letâ€™s assume that a company recruited many employees in various departments. In this case, clustering indexing in DBMS should be created for all employees who belong to the same dept.</p>
<p>It is considered in a single cluster, and index points point to the cluster as a whole. Here, Department _no is a non-unique key.</p>
<h4 id="What-is-Multilevel-Index"><a href="#What-is-Multilevel-Index" class="headerlink" title="What is Multilevel Index?"></a>What is Multilevel Index?</h4><p>Multilevel Indexing in Database is created when a primary index does not fit in memory. In this type of indexing method, you can reduce the number of disk accesses to short any record and kept on a disk as a sequential file and create a sparse base on that file.</p>
<p><a href="https://www.guru99.com/images/1/070119_0833_IndexinginD5.png"><img src="https://www.guru99.com/images/1/070119_0833_IndexinginD5.png" alt="img"></a></p>
<h4 id="B-Tree-Index"><a href="#B-Tree-Index" class="headerlink" title="B-Tree Index"></a>B-Tree Index</h4><p>B-tree index is the widely used data structures for tree based indexing in DBMS. It is a multilevel format of tree based indexing in DBMS technique which has balanced binary search trees. All leaf nodes of the B tree signify actual data pointers.</p>
<p>Moreover, all leaf nodes are interlinked with a link list, which allows a B tree to support both random and sequential access.</p>
<p><a href="https://www.guru99.com/images/1/070119_0833_IndexinginD6.png"><img src="https://www.guru99.com/images/1/070119_0833_IndexinginD6.png" alt="img"></a></p>
<ul>
<li>Lead nodes must have between 2 and 4 values.</li>
<li>Every path from the root to leaf are mostly on an equal length.</li>
<li>Non-leaf nodes apart from the root node have between 3 and 5 children nodes.</li>
<li>Every node which is not a root or a leaf has between n/2] and n children.</li>
</ul>
<h4 id="Index-Definition-in-SQL"><a href="#Index-Definition-in-SQL" class="headerlink" title="Index Definition in SQL"></a>Index Definition in SQL</h4><ul>
<li>Create an index</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> index <span class="operator">&lt;</span>index<span class="operator">-</span>name<span class="operator">&gt;</span> <span class="keyword">on</span> <span class="operator">&lt;</span>relation<span class="operator">-</span>name<span class="operator">&gt;</span>(<span class="operator">&lt;</span>attribute<span class="operator">-</span>list<span class="operator">&gt;</span>)</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">create</span> index b<span class="operator">-</span>index <span class="keyword">on</span> branch(branch_name)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>To drop an index</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">n <span class="keyword">drop</span> index <span class="operator">&lt;</span>index<span class="operator">-</span>name<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Most database systems allow specification of type of index.</li>
</ul>
<h4 id="Advantages-of-Indexing"><a href="#Advantages-of-Indexing" class="headerlink" title="Advantages of Indexing"></a>Advantages of Indexing</h4><p>Important pros/ advantage of Indexing are:</p>
<ul>
<li>It helps you to reduce the total number of I/O operations needed to retrieve that data, so you donâ€™t need to access a row in the database from an index structure.</li>
<li>Offers Faster search and retrieval of data to users.</li>
<li>Indexing also helps you to reduce tablespace as you donâ€™t need to link to a row in a table, as there is no need to store the ROWID in the Index. Thus you will able to reduce the tablespace.</li>
<li>You canâ€™t sort data in the lead nodes as the value of the primary key classifies it.</li>
</ul>
<h4 id="Disadvantages-of-Indexing"><a href="#Disadvantages-of-Indexing" class="headerlink" title="Disadvantages of Indexing"></a>Disadvantages of Indexing</h4><p>Important drawbacks/cons of Indexing are:</p>
<ul>
<li>To perform the indexing database management system, you need a primary key on the table with a unique value.</li>
<li>You canâ€™t perform any other indexes in Database on the Indexed data.</li>
<li>You are not allowed to partition an index-organized table.</li>
<li>SQL Indexing Decrease performance in INSERT, DELETE, and UPDATE query.</li>
</ul>
<h4 id="Summary"><a href="#Summary" class="headerlink" title="Summary:"></a>Summary:</h4><ul>
<li>Indexing is a small table which is consist of two columns.</li>
<li>Two main types of indexing methods are 1)Primary Indexing 2) Secondary Indexing.</li>
<li>Primary Index is an ordered file which is fixed length size with two fields.</li>
<li>The primary Indexing is also further divided into two types 1)Dense Index 2)Sparse Index.</li>
<li>In a dense index, a record is created for every search key valued in the database.</li>
<li>A sparse indexing method helps you to resolve the issues of dense Indexing.</li>
<li>The secondary Index in DBMS is an indexing method whose search key specifies an order different from the sequential order of the file.</li>
<li>Clustering index is defined as an order data file.</li>
<li>Multilevel Indexing is created when a primary index does not fit in memory.</li>
<li>The biggest benefit of Indexing is that it helps you to reduce the total number of I/O operations needed to retrieve that data.</li>
<li>The biggest drawback to performing the indexing database management system, you need a primary key on the table with a unique value.</li>
</ul>
<h3 id="B-tree-index"><a href="#B-tree-index" class="headerlink" title="B+ tree index"></a>B+ tree index</h3><p>B+-Tree is â€œshortâ€ and â€œFatâ€:</p>
<ul>
<li><p>Disk-based: one node per block; large fan-out</p>
</li>
<li><p>Balanced (more or less): good performance guarantee</p>
</li>
</ul>
<p><a class="link" href="https://www.guru99.com/introduction-b-plus-tree.html">https://www.guru99.com/introduction-b-plus-tree.html<i class="fas fa-external-link-alt"></i></a></p>
<h4 id="Rules-for-B-Tree"><a href="#Rules-for-B-Tree" class="headerlink" title="Rules for B+ Tree"></a>Rules for B+ Tree</h4><p>Here are essential rules for B+ Tree.</p>
<ul>
<li>Leaves are used to store data records.</li>
<li>It stored in the internal nodes of the Tree.</li>
<li>If a target key value is less than the internal node, then the point just to its left side is followed.</li>
<li>If a target key value is greater than or equal to the internal node, then the point just to its right side is followed.</li>
<li>The root has a minimum of two children.</li>
</ul>
<table>
<thead>
<tr>
<th><strong>B + Tree</strong></th>
<th><strong>B Tree</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Search keys can be repeated.</td>
<td>Search keys cannot be redundant.</td>
</tr>
<tr>
<td>Data is only saved on the leaf nodes.</td>
<td>Both leaf nodes and internal nodes can store data</td>
</tr>
<tr>
<td>Data stored on the leaf node makes the search more accurate and faster.</td>
<td>Searching is slow due to data stored on Leaf and internal nodes.</td>
</tr>
<tr>
<td>Deletion is not difficult as an element is only removed from a leaf node.</td>
<td>Deletion of elements is a complicated and time-consuming process.</td>
</tr>
<tr>
<td>Linked leaf nodes make the search efficient and quick.</td>
<td>You cannot link leaf nodes.</td>
</tr>
</tbody></table>
<p>In a B+-Tree:</p>
<ul>
<li><p>n is the number of pointers in a <strong>node</strong>; <strong>pointers</strong>: P1, P2, â€¦Pn</p>
</li>
<li><p>Search keys: K1 &lt; K2 &lt; K3 &lt; . . . &lt; Knâ€“1</p>
</li>
<li><p>All paths (from root to leaf) have same length (<strong>balanced trees specific character</strong>)</p>
</li>
<li><p>Root must have at least two children</p>
</li>
<li><p>In each non-leaf node (inner node), more than half (â‰¥â¡n/2â¤ ) pointers must be used</p>
</li>
<li><p>Each leaf node must contain at least â¡(n-1)/2)â¤ keys</p>
</li>
</ul>
<p>![image-20210219214406436](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210219214406436.png)</p>
<p><strong>Example</strong></p>
<p>![image-20210219214509314](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210219214509314.png)</p>
<h4 id="Characters-of-the-B-trees"><a href="#Characters-of-the-B-trees" class="headerlink" title="Characters of the B+ trees"></a>Characters of the B+ trees</h4><ul>
<li><p>Since the inner-node connections are done by pointers, â€œlogicallyâ€ close blocks need not be â€œphysicallyâ€ close.</p>
</li>
<li><p>The non-leaf levels of the B+-tree form <strong>a hierarchy of sparse indices.</strong></p>
</li>
<li><p>If there are K search-key values in the file </p>
<ul>
<li><p>The <strong>B+-tree height</strong> is no more than <strong>â¡logâ¡n/2â¤(K)â¤</strong> .</p>
</li>
<li><p>Level below root has at least 2* â¡n/2â¤ values</p>
</li>
<li><p>Next level has at least 2* â¡n/2â¤ * â¡n/2â¤ values</p>
</li>
</ul>
</li>
<li><p>Searching can be conducted efficiently</p>
</li>
<li><p>Insertion and deletion to the main file can be handled efficiently, as the index can be restructured in logarithmic time</p>
</li>
</ul>
<h4 id="Search-operation"><a href="#Search-operation" class="headerlink" title="Search operation"></a>Search operation</h4><ul>
<li>To find the required record, you need to execute the binary search on the available records in the Tree.</li>
<li>In case of an exact match with the search key, the corresponding record is returned to the user.</li>
<li>In case the exact key is not located by the search in the parent, current, or leaf node, then a â€œnot found messageâ€ is displayed to the user.</li>
<li>The search process can be re-run for better and more accurate results.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. Call the binary search method on the records in the B+ Tree.</span><br><span class="line">2. If the search parameters match the exact key</span><br><span class="line">           The accurate result is returned and displayed to the user</span><br><span class="line">         Else, if the node being searched is the current and the exact key is not found by the algorithm</span><br><span class="line">           Display the statement "Recordset cannot be found.</span><br></pre></td></tr></table></figure>


<h4 id="Procedure-in-updates-on-B-tree"><a href="#Procedure-in-updates-on-B-tree" class="headerlink" title="Procedure in updates on B+ tree"></a>Procedure in updates on B+ tree</h4><ol>
<li><p>Find the leaf node in which the search-key value would appear</p>
</li>
<li><p>If the search-key value is already present in the leaf node</p>
<p>2.1. Add record to the file</p>
<p>2.2. If necessary add a pointer to the bucket.</p>
</li>
<li><p>If the search-key value is not present, then</p>
<p>3.1. add the record to the main file (and create a bucket if necessary)</p>
<p>3.2. If there is room in the leaf node, insert (key-value, pointer) pair in the leaf node</p>
<p>3.3. Otherwise, split the node (along with the new (key-value, pointer) entry) </p>
</li>
<li><p>Splitting a leaf node:</p>
<p>4.1.  take the n (search-key value, pointer) pairs (including the one being inserted) an in-memory area M <strong>in sorted order</strong>. Place the first â¡n/2â¤ in the original node, and the rest in a new node.</p>
<p>4.2. let the new node be p, and let k be the least key value in p. Insert (k,p) in the parent of the node being split.</p>
<p>4.3. If the parent is full, split it and propagate the split further up. </p>
</li>
<li><p>Splitting of nodes proceeds upwards till a node that is not full is found.</p>
<ul>
<li>In the worst case the root node may be split increasing the height of the tree by 1</li>
</ul>
</li>
</ol>
<p><img src="https://www.guru99.com/images/1/120319_1235_BTREESearc1.png" alt="img"></p>
<p>![image-20210220082907159](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210220082907159.png)</p>
<p>![image-20210220082923546](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210220082923546.png)</p>
<h4 id="Delete-Operation"><a href="#Delete-Operation" class="headerlink" title="Delete Operation"></a>Delete Operation</h4><p>The complexity of the delete procedure in the B+ Tree surpasses that of the insert and search functionality.</p>
<p>The following algorithm is applicable while deleting an element from the B+ Tree:</p>
<ul>
<li>Firstly, we need to locate a leaf entry in the Tree that is holding the key and pointer. , delete the leaf entry from the Tree if the Leaf fulfills the exact conditions of record deletion.</li>
<li>In case the leaf node only meets the satisfactory factor of being half full, then the operation is completed; otherwise, the Leaf node has minimum entries and cannot be deleted.</li>
<li>The other linked nodes on the right and left can vacate any entries then move them to the Leaf. If these criteria is not fulfilled, then they should combine the leaf node and its linked node in the tree hierarchy.</li>
<li>Upon merging of leaf node with its neighbors on the right or left, entries of values in the leaf node or linked neighbor pointing to the top-level node are deleted.</li>
</ul>
<p><img src="https://www.guru99.com/images/1/120319_1235_BTREESearc2.png" alt="img"></p>
<p>The example above illustrates the procedure to remove an element from the B+ Tree of a specific order.</p>
<ul>
<li>Firstly, the exact locations of the element to be deleted are identified in the Tree.</li>
<li>Here the element to be deleted can only be accurately identified at the leaf level and not at the index placement. Hence, the element can be deleted without affecting the rules of deletion, which is the value of the bare-minimum key.</li>
</ul>
<p><a href="https://www.guru99.com/images/1/120319_1235_BTREESearc3.png"><img src="https://www.guru99.com/images/1/120319_1235_BTREESearc3.png" alt="img"></a></p>
<ul>
<li>In the above example, we have to delete 31 from the Tree.</li>
<li>We need to locate the instances of 31 in Index and Leaf.</li>
<li>We can see that 31 is available in both Index and Leaf node level. Hence, we delete it from both instances.</li>
<li>But, we have to fill the index pointing to 42. We will now look at the right child under 25 and take the minimum value and place it as an index. So, 42 being the only value present, it will become the index.</li>
</ul>
<h4 id="Delete-Operation-Algorithm"><a href="#Delete-Operation-Algorithm" class="headerlink" title="Delete Operation Algorithm"></a>Delete Operation Algorithm</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1) Start at the root and go up to leaf node containing the key K</span><br><span class="line">2) Find the node n on the path from the root to the leaf node containing K</span><br><span class="line">    A. If n is root, remove K</span><br><span class="line">         a. if root has more than one key, done</span><br><span class="line">         b. if root has only K</span><br><span class="line">            i) if any of its child nodes can lend a node</span><br><span class="line">               Borrow key from the child and adjust child links</span><br><span class="line">            ii) Otherwise merge the children nodes. It will be a new root</span><br><span class="line">         c. If n is an internal node, remove K</span><br><span class="line">            i) If n has at least ceil(m/2) keys, done!</span><br><span class="line">            ii) If n has less than ceil(m/2) keys,</span><br><span class="line">                If a sibling can lend a key,</span><br><span class="line">                Borrow key from the sibling and adjust keys in n and the parent node</span><br><span class="line">                    Adjust child links</span><br><span class="line">                Else</span><br><span class="line">                    Merge n with its sibling</span><br><span class="line">                    Adjust child links</span><br><span class="line">         d. If n is a leaf node, remove K</span><br><span class="line">            i) If n has at least ceil(M/2) elements, done!</span><br><span class="line">                In case the smallest key is deleted, push up the next key</span><br><span class="line">            ii) If n has less than ceil(m/2) elements</span><br><span class="line">            If the sibling can lend a key</span><br><span class="line">                Borrow key from a sibling and adjust keys in n and its parent node</span><br><span class="line">            Else</span><br><span class="line">                Merge n and its sibling</span><br><span class="line">                Adjust keys in the parent node</span><br></pre></td></tr></table></figure>
<p><strong>Output</strong>:</p>
<p>The Key â€œKâ€ is deleted, and keys are borrowed from siblings for adjusting values in n and its parent nodes if needed.</p>
<h4 id="Summary-1"><a href="#Summary-1" class="headerlink" title="Summary:"></a>Summary:</h4><ul>
<li>B+ Tree is a self-balancing data structure for executing accurate and faster searching, inserting and deleting procedures on data</li>
<li>We can easily retrieve complete data or partial data because going through the linked tree structure makes it efficient.</li>
<li>The B+ tree structure grows and shrinks with an increase/decrease in the number of stored records.</li>
<li>Storage of data on the leaf nodes and subsequent branching of internal nodes evidently shortens the tree height, which reduces the disk input and output operations, ultimately consuming much less space on the storage devices.</li>
</ul>
<h3 id="Hash-Index"><a href="#Hash-Index" class="headerlink" title="Hash Index"></a>Hash Index</h3><h4 id="What-is-Hashing-in-DBMS"><a href="#What-is-Hashing-in-DBMS" class="headerlink" title="What is Hashing in DBMS?"></a>What is Hashing in DBMS?</h4><ul>
<li><p>In DBMS, hashing is a technique to directly search the location of desired data on the disk without using index structure. </p>
</li>
<li><p>Hashing method is used to index and retrieve items in a database as it is faster to search that specific item using the shorter hashed key instead of using its original value. </p>
</li>
<li><p>Data is stored in the form of data blocks whose address is generated by applying a hash function in the memory location where these records are stored known as a <strong>data block or data bucket</strong>.</p>
</li>
</ul>
<h4 id="Why-do-we-need-Hashing"><a href="#Why-do-we-need-Hashing" class="headerlink" title="Why do we need Hashing?"></a>Why do we need Hashing?</h4><p>Here, are the situations in the DBMS where you need to apply the Hashing method:</p>
<ul>
<li>For a huge database structure, itâ€™s tough to search all the index values through all its level and then you need to reach the destination data block to get the desired data.</li>
<li>Hashing method is used to index and retrieve items in a database as it is faster to search that specific item using the shorter hashed key instead of using its original value.</li>
<li>Hashing is an ideal method to calculate the direct location of a data record on the disk without using index structure.</li>
<li>It is also a helpful technique for implementing dictionaries</li>
</ul>
<h4 id="Structure-of-Static-Hashing"><a href="#Structure-of-Static-Hashing" class="headerlink" title="Structure of Static Hashing"></a>Structure of Static Hashing</h4><ul>
<li><p>A <strong>bucket</strong> is a unit of storage containing one or more records (a bucket is typically a disk block).</p>
</li>
<li><p><strong>Hash function h</strong> is a function from the set of all search-key values K to the set of all bucket addresses B.</p>
</li>
<li><p>Hash function is used to locate records for access, insertion as well as deletion.</p>
</li>
<li><p>Records with different search-key values may be mapped to the same bucket; thus entire bucket has to be searched sequentially to locate a record.</p>
</li>
</ul>
<h4 id="Important-Terminologies-using-in-Hashing"><a href="#Important-Terminologies-using-in-Hashing" class="headerlink" title="Important Terminologies using in Hashing"></a>Important Terminologies using in Hashing</h4><p>Here, are important terminologies which are used in Hashing:</p>
<ul>
<li><strong>Data bucket</strong> â€“ Data buckets are memory locations where the records are stored. It is also known as Unit Of Storage.</li>
<li><strong>Key</strong>: A DBMS key is an attribute or set of an attribute which helps you to identify a row(tuple) in a relation(table). This allows you to find the relationship between two tables.</li>
<li><strong>Hash function</strong>: A hash function, is a mapping function which maps all the set of search keys to the address where actual records are placed.</li>
<li><strong>Linear Probing</strong> â€“ Linear probing is a fixed interval between probes. In this method, the next available data block is used to enter the new record, instead of overwriting on the older record.</li>
<li><strong>Quadratic probing</strong>- It helps you to determine the new bucket address. It helps you to add Interval between probes by adding the consecutive output of quadratic polynomial to starting value given by the original computation.</li>
<li><strong>Hash index</strong> â€“ It is an address of the data block. A hash function could be a simple mathematical function to even a complex mathematical function.</li>
<li><strong>Double Hashing</strong> â€“Double hashing is a computer programming method used in hash tables to resolve the issues of has a collision.</li>
<li><strong>Bucket Overflow</strong>: The condition of bucket-overflow is called collision. This is a fatal stage for any static has to function.</li>
</ul>
<p>There are mainly two types of SQL hashing methods:</p>
<ol>
<li>Static Hashing</li>
<li>Dynamic Hashing</li>
</ol>
<h4 id="Static-Hashing"><a href="#Static-Hashing" class="headerlink" title="Static Hashing"></a>Static Hashing</h4><p>In the static hashing, the resultant data bucket address will always remain the same.</p>
<p>Therefore, if you generate an address for say <strong>Student_ID = 10</strong> using hashing function <strong>mod(3)</strong>, the resultant bucket address will always be <strong>1</strong>. So, you will not see any change in the bucket address.</p>
<p>Therefore, in this static hashing method, the number of data buckets in memory always remains constant.</p>
<h4 id="Static-Hash-Functions"><a href="#Static-Hash-Functions" class="headerlink" title="Static Hash Functions"></a>Static Hash Functions</h4><ul>
<li><strong>Inserting a record</strong>: When a new record requires to be inserted into the table, you can generate an address for the new record using its hash key. When the address is generated, the record is automatically stored in that location.</li>
<li><strong>Searching</strong>: When you need to retrieve the record, the same hash function should be helpful to retrieve the address of the bucket where data should be stored.</li>
<li><strong>Delete a record</strong>: Using the hash function, you can first fetch the record which is you wants to delete. Then you can remove the records for that address in memory.</li>
</ul>
<p>Static hashing is further divided into</p>
<ol>
<li>Open hashing</li>
<li>Close hashing.</li>
</ol>
<h4 id="Open-Hashing"><a href="#Open-Hashing" class="headerlink" title="Open Hashing"></a>Open Hashing</h4><p>In Open hashing method, Instead of overwriting older one the next available data block is used to enter the new record, This method is also known as linear probing.</p>
<p>For example, A2 is a new record which you wants to insert. The hash function generates address as 222. But it is already occupied by some other value. Thatâ€™s why the system looks for the next data bucket 501 and assigns A2 to it.</p>
<p><a href="https://www.guru99.com/images/1/042919_0419_HashinginDB1.png"><img src="https://www.guru99.com/images/1/042919_0419_HashinginDB1.png" alt="img"></a>How Open Hash Works</p>
<h4 id="Close-Hashing"><a href="#Close-Hashing" class="headerlink" title="Close Hashing"></a>Close Hashing</h4><p>In the close hashing method, when buckets are full, a new bucket is allocated for the same hash and result are linked after the previous one.</p>
<h4 id="Dynamic-Hashing"><a href="#Dynamic-Hashing" class="headerlink" title="Dynamic Hashing"></a>Dynamic Hashing</h4><p>Dynamic hashing offers a mechanism in which data buckets are added and removed dynamically and on demand. In this hashing, the hash function helps you to create a large number of values.</p>
<h4 id="Comparison-of-Ordered-Indexing-and-Hashing"><a href="#Comparison-of-Ordered-Indexing-and-Hashing" class="headerlink" title="Comparison of Ordered Indexing and Hashing"></a>Comparison of Ordered Indexing and Hashing</h4><table>
<thead>
<tr>
<th><strong>Parameters</strong></th>
<th><strong>Order Indexing</strong></th>
<th><strong>Hashing</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Storing of address</td>
<td>Addresses in the memory are sorted according to a key value called the primary key</td>
<td>Addresses are always generated using a hash function on the key value.</td>
</tr>
<tr>
<td>Performance</td>
<td>It can decrease when the data increases in the hash file. As it stores the data in a sorted form when there is any (insert/delete/update) operation performed which decreases its performance.</td>
<td>Performance of hashing will be best when there is a constant addition and deletion of data. However, when the database is huge, then hash file organization and its maintenance will be costlier.</td>
</tr>
<tr>
<td>Use for</td>
<td>Preferred for range retrieval of data- which means whenever there is retrieval data for a particular range, this method is an ideal option.</td>
<td>This is an ideal method when you want to retrieve a particular record based on the search key. However, it will only perform well when the hash function is on the search key.</td>
</tr>
<tr>
<td>Memory management</td>
<td>There will be many unused data blocks because of the delete/update operation. These data blocks canâ€™t be released for re-use. Thatâ€™s why regular maintenance of the memory is required.</td>
<td>In static and dynamic hashing methods, memory is always managed. Bucket overflow is also handled perfectly to extend static hashing.</td>
</tr>
</tbody></table>
<h4 id="What-is-Collision-Bucket-Overflow"><a href="#What-is-Collision-Bucket-Overflow" class="headerlink" title="What is Collision (Bucket Overflow)?"></a>What is Collision (Bucket Overflow)?</h4><p>Hash collision is a state when the resultant hashes from two or more data in the data set, wrongly map the same place in the hash table.</p>
<h4 id="Bucket-overflow-can-occur-because-of"><a href="#Bucket-overflow-can-occur-because-of" class="headerlink" title="Bucket overflow can occur because of"></a>Bucket overflow can occur because of</h4><ul>
<li><p>Insufficient buckets</p>
</li>
<li><p>Skew in distribution of records. This can occur due to two reasons:</p>
<ul>
<li>multiple records have same search-key value</li>
<li>chosen hash function produces non-uniform distribution of key value</li>
</ul>
</li>
</ul>
<p>Overflow chaining â€“ the overflow buckets of a given bucket are chained together in a linked list.</p>
<h4 id="Hash-Indices"><a href="#Hash-Indices" class="headerlink" title="Hash Indices"></a>Hash Indices</h4><ul>
<li><p>Hashing can be used not only for file organization, but also for index-structure creation.</p>
</li>
<li><p>A hash index organizes the search keys, with their associated record pointers, into a hash file structure.</p>
</li>
<li><p>Strictly speaking, hash indices are always <strong>secondary indices</strong>.</p>
</li>
<li><p>We use the term hash index to refer to both secondary index structures and hash organized files.</p>
</li>
</ul>
<h4 id="How-to-deal-with-Hashing-Collision"><a href="#How-to-deal-with-Hashing-Collision" class="headerlink" title="How to deal with Hashing Collision?"></a>How to deal with Hashing Collision?</h4><p>There are two technique which you can use to avoid a hash collision:</p>
<ol>
<li><strong>Rehashing</strong>: This method, invokes a secondary hash function, which is applied continuously until an empty slot is found, where a record should be placed.</li>
<li><strong>Chaining</strong>: Chaining method builds a Linked list of items whose key hashes to the same value. This method requires an extra link field to each table position.</li>
</ol>
<h4 id="Deficiencies-of-Static-Hashing"><a href="#Deficiencies-of-Static-Hashing" class="headerlink" title="Deficiencies of Static Hashing"></a>Deficiencies of Static Hashing</h4><ul>
<li><p>In static hashing, function h maps search-key values to a fixed set of B of bucket addresses. Databases grow or shrink with time.</p>
<ul>
<li>If initial number of buckets is too small, and file grows, performance will degrade due to too many overflows.</li>
<li>If space is allocated for anticipated growth, a significant amount of space will be wasted initially (and buckets will be underfull).</li>
<li>If database shrinks, again space will be wasted.</li>
</ul>
</li>
<li><p>One solution: periodic re-organisation of the file with a new hash function</p>
<ul>
<li>Expensive, disrupts normal operations</li>
</ul>
</li>
<li><p>Better solution: allow the number of buckets to be modified dynamically - Dynamic Hashing!</p>
</li>
</ul>
<h4 id="Dynamic-Hashing-1"><a href="#Dynamic-Hashing-1" class="headerlink" title="Dynamic Hashing"></a>Dynamic Hashing</h4><ul>
<li><p>Good for database that <strong>grows and shrinks in size</strong></p>
</li>
<li><p>Allows the hash function to be <strong>modified dynamically</strong></p>
</li>
<li><p><strong>Extendable hashing</strong> â€“ one form of dynamic hashing</p>
<ul>
<li><p>Hash function generates values over a large range â€” typically b-bit integers, with b = 32.</p>
</li>
<li><p>At any time use only a prefix of the hash function to index into a table of bucket addresses.</p>
</li>
<li><p>Let the length of the prefix be i bits, 0 â‰¤ i â‰¤ 32.</p>
</li>
<li><p>Bucket address table size = 2i. Initially i = 0</p>
</li>
<li><p>Value of i grows and shrinks as the size of the database grows and shrinks.</p>
</li>
<li><p>Multiple entries in the bucket address table may point to the same bucket</p>
</li>
<li><p>Thus, actual number of buckets is &lt; 2i</p>
</li>
<li><p>The number of buckets also changes dynamically due to <strong>coalescing</strong> and <strong>splitting</strong> of buckets.</p>
</li>
</ul>
</li>
</ul>
<p>![image-20210220111058629](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210220111058629.png)</p>
<h4 id="Summary-2"><a href="#Summary-2" class="headerlink" title="Summary:"></a>Summary:</h4><ul>
<li>In DBMS, hashing is a technique to directly search the location of desired data on the disk without using index structure.</li>
<li>Hashing method is used to index and retrieve items in a database as it is faster to search that specific item using the shorter hashed key instead of using its original value.</li>
<li>Data bucket, Key , Hash function, Linear Probing, Quadratic probing , Hash index, Double Hashing, Bucket Overflow are important terminologies used in hashing</li>
<li>Two types of hashing methods are 1) static hashing 2) dynamic hashing</li>
<li>In the static hashing, the resultant data bucket address will always remain the same.</li>
<li>Dynamic hashing offers a mechanism in which data buckets are added and removed dynamically and on demand.</li>
<li>In order Indexing addresses in the memory are sorted according to a critical value while in hashing addresses are always generated using a hash function on the key value.</li>
<li>Hash collision is a state when the resultant hashes from two or more data in the data set, wrongly map the same place in the hash table.</li>
<li>Rehashing and chaining are two methods which help you to avoid hashing collision.</li>
</ul>
]]></content>
      <categories>
        <category>Databases</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux æ–‡ä»¶ç³»ç»Ÿ</title>
    <url>/2021/02/10/2021-02-10-Linux-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<h2 id="èµ°è¿›Linuxç³»ç»Ÿ"><a href="#èµ°è¿›Linuxç³»ç»Ÿ" class="headerlink" title="èµ°è¿›Linuxç³»ç»Ÿ"></a>èµ°è¿›Linuxç³»ç»Ÿ</h2><p><img src="https://media.geeksforgeeks.org/wp-content/uploads/linuxDir.jpg" alt="Image result for linux file system hierarchy"></p>
<ul>
<li><strong>/bin</strong>ï¼šbinæ˜¯Binaryçš„ç¼©å†™, è¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤ã€‚</li>
<li><strong>/bootï¼š</strong> è¿™é‡Œå­˜æ”¾çš„æ˜¯å¯åŠ¨Linuxæ—¶ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€äº›è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶ã€‚ (ä¸è¦åŠ¨)</li>
<li><strong>/dev ï¼š</strong> devæ˜¯Device(è®¾å¤‡)çš„ç¼©å†™, å­˜æ”¾çš„æ˜¯Linuxçš„å¤–éƒ¨è®¾å¤‡ï¼Œåœ¨Linuxä¸­è®¿é—®è®¾å¤‡çš„æ–¹å¼å’Œè®¿é—®æ–‡ä»¶çš„æ–¹å¼æ˜¯ç›¸åŒçš„ã€‚</li>
<li>==<strong>/etcï¼š</strong> è¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•ã€‚== </li>
<li>==<strong>/home</strong>ï¼šç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨Linuxä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä»¥ç”¨æˆ·çš„è´¦å·å‘½åçš„ã€‚==</li>
<li><strong>/lib</strong>ï¼šè¿™ä¸ªç›®å½•é‡Œå­˜æ”¾ç€ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“ï¼Œå…¶ä½œç”¨ç±»ä¼¼äºWindowsé‡Œçš„DLLæ–‡ä»¶ã€‚ï¼ˆä¸è¦åŠ¨ï¼‰</li>
<li><strong>/lost+found</strong>ï¼šè¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç©ºçš„ï¼Œå½“ç³»ç»Ÿéæ³•å…³æœºåï¼Œè¿™é‡Œå°±å­˜æ”¾äº†ä¸€äº›æ–‡ä»¶ã€‚ï¼ˆå­˜æ”¾çªç„¶å…³æœºçš„æ–‡ä»¶ï¼‰</li>
<li><strong>/media</strong>ï¼šlinuxç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ç­‰ç­‰ï¼Œå½“è¯†åˆ«åï¼Œlinuxä¼šæŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚</li>
<li><strong>/mnt</strong>ï¼šç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…‰é©±æŒ‚è½½åœ¨/mnt/ä¸Šï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹å…‰é©±é‡Œçš„å†…å®¹äº†ã€‚ï¼ˆæˆ‘ä»¬ä¼šæŠŠä¸€äº›æœ¬åœ°æ–‡ä»¶æŒ‚è½½åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼‰</li>
<li>==<strong>/opt</strong>ï¼šè¿™æ˜¯ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚æ¯”å¦‚ä½ å®‰è£…ä¸€ä¸ªORACLEæ•°æ®åº“åˆ™å°±å¯ä»¥æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚é»˜è®¤æ˜¯ç©ºçš„ã€‚==</li>
<li><strong>/proc</strong>ï¼šè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯ã€‚ï¼ˆä¸ç”¨ç®¡ï¼‰</li>
<li><strong>/root</strong>ï¼šè¯¥ç›®å½•ä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿç§°ä½œè¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•ã€‚</li>
<li><strong>/sbin</strong>ï¼šså°±æ˜¯Super Userçš„æ„æ€ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åºã€‚</li>
<li><strong>/srv</strong>ï¼šè¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®ã€‚</li>
<li><strong>/sys</strong>ï¼šè¿™æ˜¯linux2.6å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº†2.6å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ sysfs ã€‚</li>
<li>==<strong>/tmp</strong>ï¼šè¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ã€‚ç”¨å®Œå³ä¸¢çš„æ–‡ä»¶ï¼Œå¯ä»¥æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œå®‰è£…åŒ…ï¼==</li>
<li>==<strong>/usr</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç”¨æˆ·çš„å¾ˆå¤šåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œç±»ä¼¼äºwindowsä¸‹çš„program filesç›®å½•ã€‚==</li>
<li><strong>/usr/binï¼š</strong> ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åºã€‚</li>
<li><strong>/usr/sbinï¼š</strong> ï¼ˆsuperï¼‰è¶…çº§ç”¨æˆ·ä½¿ç”¨çš„æ¯”è¾ƒé«˜çº§çš„ç®¡ç†ç¨‹åºå’Œç³»ç»Ÿå®ˆæŠ¤ç¨‹åºã€‚</li>
<li><strong>/usr/srcï¼š</strong> å†…æ ¸æºä»£ç é»˜è®¤çš„æ”¾ç½®ç›®å½•ã€‚</li>
<li>==<strong>/var</strong>ï¼šè¿™ä¸ªç›®å½•ä¸­å­˜æ”¾ç€åœ¨ä¸æ–­æ‰©å……ç€çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ä¹ æƒ¯å°†é‚£äº›ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚åŒ…æ‹¬å„ç§æ—¥å¿—æ–‡ä»¶ã€‚==</li>
<li><strong>/run</strong>ï¼šæ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜å‚¨ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„ä¿¡æ¯ã€‚å½“ç³»ç»Ÿé‡å¯æ—¶ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶åº”è¯¥è¢«åˆ æ‰æˆ–æ¸…é™¤ã€‚</li>
<li>==<strong>/wwwï¼šå­˜æ”¾æœåŠ¡å™¨ç½‘ç«™ç›¸å…³çš„èµ„æºï¼Œç¯å¢ƒï¼Œç½‘ç«™çš„é¡¹ç›®</strong>==</li>
</ul>
<h2 id="å¸¸ç”¨çš„åŸºæœ¬å‘½ä»¤"><a href="#å¸¸ç”¨çš„åŸºæœ¬å‘½ä»¤" class="headerlink" title="å¸¸ç”¨çš„åŸºæœ¬å‘½ä»¤"></a>å¸¸ç”¨çš„åŸºæœ¬å‘½ä»¤</h2><h3 id="ç›®å½•ç®¡ç†"><a href="#ç›®å½•ç®¡ç†" class="headerlink" title="ç›®å½•ç®¡ç†"></a>ç›®å½•ç®¡ç†</h3><blockquote>
<p>ç»å¯¹è·¯å¾„ï¼Œç›¸å¯¹è·¯å¾„</p>
</blockquote>
<p>ç»å¯¹è·¯å¾„ï¼š/Users/yuxuan/Desktop/GraphProt2.pdf </p>
<p>ç›¸å¯¹è·¯å¾„ï¼šåœ¨å½“å‰æ–‡ä»¶ä¸‹çš„xxx.xxæ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd: åˆ‡æ¢ç›®å½•å‘½ä»¤</span><br><span class="line"></span><br><span class="line">./ ï¼šå½“å‰ç›®å½•</span><br><span class="line"></span><br><span class="line">cd.. è¿”å›ä¸Šä¸€çº§ç›®å½•</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ls(åˆ—å‡ºç›®å½•ï¼)</p>
</blockquote>
<p>åœ¨Linuxä¸­lsæ˜¯æœ€å¸¸ç”¨çš„</p>
<p>-a å‚æ•°ï¼šallï¼ŒæŸ¥çœ‹å…¨éƒ¨çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—çš„æ–‡ä»¶</p>
<p>-l å‚æ•°ï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ï¼ŒåŒ…å«æ–‡ä»¶çš„å±æ€§å’Œæƒé™ï¼Œæ²¡æœ‰éšè—æ–‡ä»¶</p>
<p>æ‰€æœ‰linuxè¯­å¥å¯ä»¥åŒæ—¶ä½¿ç”¨ (ls -al)</p>
<blockquote>
<p>cd å‘½ä»¤</p>
</blockquote>
<p>![image-20210210192207429](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210210192207429.png)</p>
<blockquote>
<p>mkdir åˆ›å»ºç›®å½•</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åˆ›å»ºå¤šçº§ç›®å½•</span></span><br><span class="line">mkdir -p test1/test2/test3</span><br></pre></td></tr></table></figure>
<blockquote>
<p>rmdiråˆ é™¤ç›®å½•</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> rmdir ä»…èƒ½åˆ é™¤ç©ºçš„ç›®å½•ï¼Œå¦‚æœä¸‹é¢å­˜åœ¨æ–‡ä»¶ï¼Œéœ€è¦å…ˆåˆ é™¤æ–‡ä»¶ï¼Œé€’å½’åˆ é™¤å¤šä¸ªç›®å½• -p</span></span><br><span class="line">rmdir -p test1/test2/test3</span><br></pre></td></tr></table></figure>
<blockquote>
<p>cp (å¤åˆ¶æ–‡ä»¶æˆ–è€…ç›®å½•)</p>
</blockquote>
<p>cp åŸæ¥çš„åœ°æ–¹ æ–°çš„åœ°æ–¹ï¼</p>
<blockquote>
<p>rm(ç§»é™¤æ–‡ä»¶æˆ–è€…ç›®å½•ï¼ )</p>
</blockquote>
<p>-f å¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œä¸ä¼šå‡ºç°è­¦å‘Šï¼Œå¼ºåˆ¶åˆ é™¤</p>
<p>-r é€’å½’åˆ é™¤ç›®å½•ï¼</p>
<p>-I äº’åŠ¨ï¼Œåˆ é™¤è¯¢é—®æ˜¯å¦åˆ é™¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">rm -rf / ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ–‡ä»¶éƒ½è¢«åˆ é™¤äº†ï¼Œåˆ åº“è·‘è·¯çš„æ“ä½œ</span><br></pre></td></tr></table></figure>


<blockquote>
<p>mv ç§»åŠ¨æ–‡ä»¶æˆ–è€…ç›®å½•ï¼é‡å‘½åæ–‡ä»¶</p>
</blockquote>
<p>-f å¼ºåˆ¶</p>
<p>-u åªæ›¿æ¢å·²ç»æ›´æ–°è¿‡çš„æ–‡ä»¶</p>
<p>![image-20210210195051021](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210210195051021.png)</p>
<h3 id="åŸºæœ¬å±æ€§"><a href="#åŸºæœ¬å±æ€§" class="headerlink" title="åŸºæœ¬å±æ€§"></a>åŸºæœ¬å±æ€§</h3><p>åä¸ªå­—æ¯ï¼Œ1 ç±»å‹</p>
<blockquote>
<p>çœ‹æ‡‚æ–‡ä»¶å±æ€§</p>
</blockquote>
<p>Linuxç³»ç»Ÿæ˜¯ä¸€ç§å…¸å‹çš„å¤šç”¨æˆ·ç³»ç»Ÿï¼Œä¸åŒçš„ç”¨æˆ·å¤„äºä¸åŒçš„åœ°ä½ï¼Œæ‹¥æœ‰ä¸åŒçš„æƒé™ã€‚ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼ŒLinuxç³»ç»Ÿå¯¹ä¸åŒçš„ç”¨æˆ·è®¿é—®åŒä¸€æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•æ–‡ä»¶ï¼‰çš„æƒé™åšäº†ä¸åŒçš„è§„å®šã€‚</p>
<p>åœ¨Linuxä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>ll</code>æˆ–è€…<code>ls â€“l</code>å‘½ä»¤æ¥æ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶çš„å±æ€§ä»¥åŠæ–‡ä»¶æ‰€å±çš„ç”¨æˆ·å’Œç»„ï¼Œå¦‚ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JGpeIS4j9q3B4LQhsQkFiauXAQN0qOnVCYvj7Cm1oQbvexVDFqPhUIeTe83BdAHlXCJhGoNabSFKQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>å®ä¾‹ä¸­ï¼Œbootæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªå±æ€§ç”¨â€dâ€è¡¨ç¤ºã€‚â€dâ€åœ¨Linuxä¸­ä»£è¡¨è¯¥æ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶ã€‚</p>
<p>åœ¨Linuxä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ä»£è¡¨è¿™ä¸ªæ–‡ä»¶æ˜¯ç›®å½•ã€æ–‡ä»¶æˆ–é“¾æ¥æ–‡ä»¶ç­‰ç­‰ï¼š</p>
<ul>
<li>==å½“ä¸º[ <strong>d</strong> ]åˆ™æ˜¯ç›®å½•==</li>
<li>==å½“ä¸º[ <strong>-</strong> ]åˆ™æ˜¯æ–‡ä»¶ï¼›==</li>
<li>==è‹¥æ˜¯[ <strong>l</strong> ]åˆ™è¡¨ç¤ºä¸ºé“¾æ¥æ–‡æ¡£ ( link file )ï¼›==</li>
<li>è‹¥æ˜¯[ <strong>b</strong> ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„å¯ä¾›å‚¨å­˜çš„æ¥å£è®¾å¤‡ ( å¯éšæœºå­˜å–è£…ç½® )ï¼›</li>
<li>è‹¥æ˜¯[ <strong>c</strong> ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„ä¸²è¡Œç«¯å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡ ( ä¸€æ¬¡æ€§è¯»å–è£…ç½® )ã€‚</li>
</ul>
<p>æ¥ä¸‹æ¥çš„å­—ç¬¦ä¸­ï¼Œä»¥ä¸‰ä¸ªä¸ºä¸€ç»„ï¼Œä¸”å‡ä¸ºã€rwxã€ çš„ä¸‰ä¸ªå‚æ•°çš„ç»„åˆã€‚</p>
<p>å…¶ä¸­ï¼Œ[ r ]ä»£è¡¨å¯è¯»(read)ã€[ w ]ä»£è¡¨å¯å†™(write)ã€[ x ]ä»£è¡¨å¯æ‰§è¡Œ(execute)ã€‚</p>
<p>è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸‰ä¸ªæƒé™çš„ä½ç½®ä¸ä¼šæ”¹å˜ï¼Œå¦‚æœæ²¡æœ‰æƒé™ï¼Œå°±ä¼šå‡ºç°å‡å·[ - ]è€Œå·²ã€‚</p>
<p>æ¯ä¸ªæ–‡ä»¶çš„å±æ€§ç”±å·¦è¾¹ç¬¬ä¸€éƒ¨åˆ†çš„10ä¸ªå­—ç¬¦æ¥ç¡®å®šï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JGpeIS4j9q3B4LQhsQkFiauEybzG2XIdlOMLyO13lMfPKUWRpGJGgyxCAJ9mics9dTZ1qrWDIvleYQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>ä»å·¦è‡³å³ç”¨0-9è¿™äº›æ•°å­—æ¥è¡¨ç¤ºã€‚</p>
<p>ç¬¬0ä½ç¡®å®šæ–‡ä»¶ç±»å‹ï¼Œç¬¬1-3ä½ç¡®å®šå±ä¸»ï¼ˆè¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ã€‚ç¬¬4-6ä½ç¡®å®šå±ç»„ï¼ˆæ‰€æœ‰è€…çš„åŒç»„ç”¨æˆ·ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ï¼Œç¬¬7-9ä½ç¡®å®šå…¶ä»–ç”¨æˆ·æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ã€‚</p>
<p>å…¶ä¸­ï¼š</p>
<p>ç¬¬1ã€4ã€7ä½è¡¨ç¤ºè¯»æƒé™ï¼Œå¦‚æœç”¨â€râ€å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰è¯»æƒé™ï¼Œå¦‚æœç”¨â€-â€œå­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æ²¡æœ‰è¯»æƒé™ï¼›</p>
<p>ç¬¬2ã€5ã€8ä½è¡¨ç¤ºå†™æƒé™ï¼Œå¦‚æœç”¨â€wâ€å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰å†™æƒé™ï¼Œå¦‚æœç”¨â€-â€œå­—ç¬¦è¡¨ç¤ºæ²¡æœ‰å†™æƒé™ï¼›</p>
<p>ç¬¬3ã€6ã€9ä½è¡¨ç¤ºå¯æ‰§è¡Œæƒé™ï¼Œå¦‚æœç”¨â€xâ€å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰æ‰§è¡Œæƒé™ï¼Œå¦‚æœç”¨â€-â€œå­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æ²¡æœ‰æ‰§è¡Œæƒé™ã€‚</p>
<p>å¯¹äºæ–‡ä»¶æ¥è¯´ï¼Œå®ƒéƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„æ‰€æœ‰è€…ï¼Œä¹Ÿå°±æ˜¯å¯¹è¯¥æ–‡ä»¶å…·æœ‰æ‰€æœ‰æƒçš„ç”¨æˆ·ã€‚</p>
<p>åŒæ—¶ï¼Œåœ¨Linuxç³»ç»Ÿä¸­ï¼Œç”¨æˆ·æ˜¯æŒ‰ç»„åˆ†ç±»çš„ï¼Œä¸€ä¸ªç”¨æˆ·å±äºä¸€ä¸ªæˆ–å¤šä¸ªç»„ã€‚</p>
<p>æ–‡ä»¶æ‰€æœ‰è€…ä»¥å¤–çš„ç”¨æˆ·åˆå¯ä»¥åˆ†ä¸ºæ–‡ä»¶æ‰€æœ‰è€…çš„åŒç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·ã€‚</p>
<p>å› æ­¤ï¼ŒLinuxç³»ç»ŸæŒ‰æ–‡ä»¶æ‰€æœ‰è€…ã€æ–‡ä»¶æ‰€æœ‰è€…åŒç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·æ¥è§„å®šäº†ä¸åŒçš„æ–‡ä»¶è®¿é—®æƒé™ã€‚</p>
<p>åœ¨ä»¥ä¸Šå®ä¾‹ä¸­ï¼Œboot æ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œå±ä¸»å’Œå±ç»„éƒ½ä¸º rootã€‚</p>
<blockquote>
<p>ä¿®æ”¹æ–‡ä»¶å±æ€§</p>
</blockquote>
<p><strong>1ã€chgrpï¼šæ›´æ”¹æ–‡ä»¶å±ç»„</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chgrp [-R] å±ç»„å æ–‡ä»¶å</span><br></pre></td></tr></table></figure>
<p>-Rï¼šé€’å½’æ›´æ”¹æ–‡ä»¶å±ç»„ï¼Œå°±æ˜¯åœ¨æ›´æ”¹æŸä¸ªç›®å½•æ–‡ä»¶çš„å±ç»„æ—¶ï¼Œå¦‚æœåŠ ä¸Š-Rçš„å‚æ•°ï¼Œé‚£ä¹ˆè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶çš„å±ç»„éƒ½ä¼šæ›´æ”¹ã€‚</p>
<p><strong>2ã€chownï¼šæ›´æ”¹æ–‡ä»¶å±ä¸»ï¼Œä¹Ÿå¯ä»¥åŒæ—¶æ›´æ”¹æ–‡ä»¶å±ç»„</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chown [â€“R] å±ä¸»å æ–‡ä»¶å</span><br><span class="line">chown [-R] å±ä¸»åï¼šå±ç»„å æ–‡ä»¶å</span><br></pre></td></tr></table></figure>
<p>==<strong>3ã€chmodï¼šæ›´æ”¹æ–‡ä»¶9ä¸ªå±æ€§</strong>==</p>
<p>ä½ æ²¡æœ‰æƒé™æ“ä½œæ­¤æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod [-R] xyz æ–‡ä»¶æˆ–ç›®å½•</span><br></pre></td></tr></table></figure>
<p>Linuxæ–‡ä»¶å±æ€§æœ‰ä¸¤ç§è®¾ç½®æ–¹æ³•ï¼Œä¸€ç§æ˜¯æ•°å­—ï¼ˆå¸¸ç”¨çš„æ˜¯æ•°å­—ï¼‰ï¼Œä¸€ç§æ˜¯ç¬¦å·ã€‚</p>
<p>Linuxæ–‡ä»¶çš„åŸºæœ¬æƒé™å°±æœ‰ä¹ä¸ªï¼Œåˆ†åˆ«æ˜¯owner/group/othersä¸‰ç§èº«ä»½å„æœ‰è‡ªå·±çš„read/write/executeæƒé™ã€‚</p>
<p>å…ˆå¤ä¹ ä¸€ä¸‹åˆšåˆšä¸Šé¢æåˆ°çš„æ•°æ®ï¼šæ–‡ä»¶çš„æƒé™å­—ç¬¦ä¸ºï¼šã€-rwxrwxrwxã€ï¼Œ è¿™ä¹ä¸ªæƒé™æ˜¯ä¸‰ä¸ªä¸‰ä¸ªä¸€ç»„çš„ï¼å…¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°å­—æ¥ä»£è¡¨å„ä¸ªæƒé™ï¼Œå„æƒé™çš„åˆ†æ•°å¯¹ç…§è¡¨å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">r:4     w:2         x:1</span><br><span class="line"></span><br><span class="line">å¯è¯»å¯å†™ä¸å¯æ‰§è¡Œ rw- 6</span><br><span class="line">å¯è¯»å¯å†™ä¸å¯æ‰§è¡Œ rwx  7</span><br><span class="line"></span><br><span class="line">chmod 777 æ–‡ä»¶å¯è¯»å¯å†™å¯æ‰§è¡Œ</span><br></pre></td></tr></table></figure>
<p>æ¯ç§èº«ä»½(owner/group/others)å„è‡ªçš„ä¸‰ä¸ªæƒé™(r/w/x)åˆ†æ•°æ˜¯éœ€è¦ç´¯åŠ çš„ï¼Œä¾‹å¦‚å½“æƒé™ä¸ºï¼š[-rwxrwxâ€”] åˆ†æ•°åˆ™æ˜¯ï¼š</p>
<ul>
<li>owner = rwx = 4+2+1 = 7</li>
<li>group = rwx = 4+2+1 = 7</li>
<li>others= â€” = 0+0+0 = 0</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 770 filename</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥è‡ªå·±ä¸‹å»å¤šè¿›è¡Œæµ‹è¯•ï¼</p>
<h3 id="æ–‡ä»¶å†…å®¹æŸ¥çœ‹"><a href="#æ–‡ä»¶å†…å®¹æŸ¥çœ‹" class="headerlink" title="æ–‡ä»¶å†…å®¹æŸ¥çœ‹"></a>æ–‡ä»¶å†…å®¹æŸ¥çœ‹</h3><blockquote>
<p>æ¦‚è¿°</p>
</blockquote>
<p>æˆ‘ä»¬ä¼šç»å¸¸æŸ¥çœ‹æ–‡ä»¶å†…å®¹</p>
<p>Linuxç³»ç»Ÿä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ï¼š</p>
<ul>
<li><p>==cat ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œç”¨æ¥è¯»æ–‡ç« ï¼Œæˆ–è€…è¯»å–é…ç½®æ–‡ä»¶å•Šï¼Œéƒ½æ˜¯ç”¨catå‘½ä»¤==</p>
</li>
<li><p>tac ä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œå¯ä»¥çœ‹å‡º tac æ˜¯ cat çš„å€’ç€å†™ï¼</p>
</li>
<li><p>==nl  æ˜¾ç¤ºçš„æ—¶å€™ï¼Œé¡ºé“è¾“å‡ºè¡Œå·ï¼ çœ‹ä»£ç çš„æ—¶å€™å¸Œæœ›å¸¦è¡Œå·ï¼å¸¸ç”¨==</p>
<p>![image-20210210210000612](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210210210000612.png)</p>
</li>
<li><p>more ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ çœ‹ä½™ä¸‹å†…å®¹çš„ï¼ˆç©ºæ ¼ä»£è¡¨ç¿»é¡µï¼Œenterä»£è¡¨å‘ä¸‹çœ‹ä¸€è¡Œï¼Œï¼šfçœ‹è¡Œå·ï¼‰</p>
</li>
<li><p>==less ä¸ more ç±»ä¼¼ï¼Œä½†æ˜¯æ¯” more æ›´å¥½çš„æ˜¯ï¼Œä»–å¯ä»¥å¾€å‰ç¿»é¡µï¼ï¼ˆç©ºæ ¼ç¿»é¡µï¼Œä¸Šä¸‹é”®ä»£è¡¨ç¿»åŠ¨é¡µé¢ï¼Œé€€å‡ºæ˜¯qå‘½ä»¤ï¼ŒæŸ¥æ‰¾å­—ç¬¦ä¸² /è¦æŸ¥è¯¢çš„å­—ç¬¦å‘ä¸‹æŸ¥è¯¢ï¼Œå‘ä¸ŠæŸ¥è¯¢ç”¨ï¼Ÿnä»£è¡¨ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªï¼ŒNå‘ä¸Šå¯»æ‰¾ï¼‰==</p>
</li>
<li><p>head åªçœ‹å¤´å‡ è¡Œ -n å‚æ•°æ¥çœ‹å‰é¢nè¡Œ</p>
</li>
<li><p>tail åªçœ‹å°¾å·´å‡ è¡Œ -n å‚æ•°æ¥çœ‹åé¢nè¡Œ</p>
</li>
</ul>
<p>ä½ å¯ä»¥ä½¿ç”¨ *man [å‘½ä»¤]*æ¥æŸ¥çœ‹å„ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ–‡æ¡£ï¼Œå¦‚ ï¼šman cpã€‚</p>
<p>ç½‘ç»œé…ç½®ç›®å½•ï¼š<code>cd /etc/sysconfig/network-scripts</code> <strong>ï¼ˆcentos7ï¼‰</strong></p>
<p>![image-20210210205649801](/Users/yuxuan/Library/Application Support/typora-user-images/image-20210210205649801.png)</p>
<p>ifconfig å‘½ä»¤æŸ¥çœ‹ç½‘ç»œé…ç½®</p>
<blockquote>
<p>cat ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</p>
</blockquote>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat [-AbEnTv]</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul>
<li>-A ï¼šç›¸å½“æ–¼ -vET çš„æ•´åˆé€‰é¡¹ï¼Œå¯åˆ—å‡ºä¸€äº›ç‰¹æ®Šå­—ç¬¦è€Œä¸æ˜¯ç©ºç™½è€Œå·²ï¼›</li>
<li>-b ï¼šåˆ—å‡ºè¡Œå·ï¼Œä»…é’ˆå¯¹éç©ºç™½è¡Œåšè¡Œå·æ˜¾ç¤ºï¼Œç©ºç™½è¡Œä¸æ ‡è¡Œå·ï¼</li>
<li>-E ï¼šå°†ç»“å°¾çš„æ–­è¡Œå­—èŠ‚ $ æ˜¾ç¤ºå‡ºæ¥ï¼›</li>
<li>-n ï¼šåˆ—å°å‡ºè¡Œå·ï¼Œè¿åŒç©ºç™½è¡Œä¹Ÿä¼šæœ‰è¡Œå·ï¼Œä¸ -b çš„é€‰é¡¹ä¸åŒï¼›</li>
<li>-T ï¼šå°† [tab] æŒ‰é”®ä»¥ ^I æ˜¾ç¤ºå‡ºæ¥ï¼›</li>
<li>-v ï¼šåˆ—å‡ºä¸€äº›çœ‹ä¸å‡ºæ¥çš„ç‰¹æ®Šå­—ç¬¦</li>
</ul>
<p>æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æŸ¥çœ‹ç½‘ç»œé…ç½®: æ–‡ä»¶åœ°å€ &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;</span><br><span class="line">[root@kuangshen ~]# cat &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-eth0</span><br><span class="line">DEVICE&#x3D;eth0</span><br><span class="line">BOOTPROTO&#x3D;dhcp</span><br><span class="line">ONBOOT&#x3D;yes</span><br></pre></td></tr></table></figure>
<blockquote>
<p>tac</p>
</blockquote>
<p>tacä¸catå‘½ä»¤åˆšå¥½ç›¸åï¼Œæ–‡ä»¶å†…å®¹ä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œå¯ä»¥çœ‹å‡º tac æ˜¯ cat çš„å€’ç€å†™ï¼å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@kuangshen ~]# tac &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-eth0</span><br><span class="line">ONBOOT&#x3D;yes</span><br><span class="line">BOOTPROTO&#x3D;dhcp</span><br><span class="line">DEVICE&#x3D;eth0</span><br></pre></td></tr></table></figure>


<blockquote>
<p>nl  æ˜¾ç¤ºè¡Œå·</p>
</blockquote>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nl [-bnw] æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul>
<li>-b ï¼šæŒ‡å®šè¡Œå·æŒ‡å®šçš„æ–¹å¼ï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š-b a ï¼šè¡¨ç¤ºä¸è®ºæ˜¯å¦ä¸ºç©ºè¡Œï¼Œä¹ŸåŒæ ·åˆ—å‡ºè¡Œå·(ç±»ä¼¼ cat -n)ï¼›-b t ï¼šå¦‚æœæœ‰ç©ºè¡Œï¼Œç©ºçš„é‚£ä¸€è¡Œä¸è¦åˆ—å‡ºè¡Œå·(é»˜è®¤å€¼)ï¼›</li>
<li>-n ï¼šåˆ—å‡ºè¡Œå·è¡¨ç¤ºçš„æ–¹æ³•ï¼Œä¸»è¦æœ‰ä¸‰ç§ï¼š-n ln ï¼šè¡Œå·åœ¨è§å¹•çš„æœ€å·¦æ–¹æ˜¾ç¤ºï¼›-n rn ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”ä¸åŠ  0 ï¼›-n rz ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”åŠ  0 ï¼›</li>
<li>-w ï¼šè¡Œå·æ ä½çš„å ç”¨çš„ä½æ•°ã€‚</li>
</ul>
<p>æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@kuangshen ~]# nl &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-eth0</span><br><span class="line">1DEVICE&#x3D;eth0</span><br><span class="line">2BOOTPROTO&#x3D;dhcp</span><br><span class="line">3ONBOOT&#x3D;yes</span><br></pre></td></tr></table></figure>


<blockquote>
<p>more  ä¸€é¡µä¸€é¡µç¿»åŠ¨</p>
</blockquote>
<p>åœ¨ more è¿™ä¸ªç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä½ æœ‰å‡ ä¸ªæŒ‰é”®å¯ä»¥æŒ‰çš„ï¼š</p>
<ul>
<li>ç©ºç™½é”® (space)ï¼šä»£è¡¨å‘ä¸‹ç¿»ä¸€é¡µï¼›</li>
<li>Enter   ï¼šä»£è¡¨å‘ä¸‹ç¿»ã€ä¸€è¡Œã€ï¼›</li>
<li>/å­—ä¸²   ï¼šä»£è¡¨åœ¨è¿™ä¸ªæ˜¾ç¤ºçš„å†…å®¹å½“ä¸­ï¼Œå‘ä¸‹æœå¯»ã€å­—ä¸²ã€è¿™ä¸ªå…³é”®å­—ï¼›</li>
<li>:f    ï¼šç«‹åˆ»æ˜¾ç¤ºå‡ºæ¡£åä»¥åŠç›®å‰æ˜¾ç¤ºçš„è¡Œæ•°ï¼›</li>
<li>q    ï¼šä»£è¡¨ç«‹åˆ»ç¦»å¼€ more ï¼Œä¸å†æ˜¾ç¤ºè¯¥æ–‡ä»¶å†…å®¹ã€‚</li>
<li>b æˆ– [ctrl]-b ï¼šä»£è¡¨å¾€å›ç¿»é¡µï¼Œä¸è¿‡è¿™åŠ¨ä½œåªå¯¹æ–‡ä»¶æœ‰ç”¨ï¼Œå¯¹ç®¡çº¿æ— ç”¨ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@kuangshen etc]# more &#x2F;etc&#x2F;csh.login</span><br><span class="line">....(ä¸­é—´çœç•¥)....</span><br><span class="line">--More--(28%) # é‡ç‚¹åœ¨è¿™ä¸€è¡Œå–”ï¼ä½ çš„å…‰æ ‡ä¹Ÿä¼šåœ¨è¿™é‡Œç­‰å¾…ä½ çš„å‘½ä»¤</span><br></pre></td></tr></table></figure>


<blockquote>
<p>less  ä¸€é¡µä¸€é¡µç¿»åŠ¨ï¼Œä»¥ä¸‹å®ä¾‹è¾“å‡º/etc/man.configæ–‡ä»¶çš„å†…å®¹ï¼š</p>
</blockquote>
<p>lessè¿è¡Œæ—¶å¯ä»¥è¾“å…¥çš„å‘½ä»¤æœ‰ï¼š</p>
<ul>
<li>ç©ºç™½é”®  ï¼šå‘ä¸‹ç¿»åŠ¨ä¸€é¡µï¼›</li>
<li>[pagedown]ï¼šå‘ä¸‹ç¿»åŠ¨ä¸€é¡µï¼›</li>
<li>[pageup] ï¼šå‘ä¸Šç¿»åŠ¨ä¸€é¡µï¼›</li>
<li>/å­—ä¸²  ï¼šå‘ä¸‹æœå¯»ã€å­—ä¸²ã€çš„åŠŸèƒ½ï¼›</li>
<li>?å­—ä¸²  ï¼šå‘ä¸Šæœå¯»ã€å­—ä¸²ã€çš„åŠŸèƒ½ï¼›</li>
<li>n   ï¼šé‡å¤å‰ä¸€ä¸ªæœå¯» (ä¸ / æˆ– ? æœ‰å…³ï¼)</li>
<li>N   ï¼šåå‘çš„é‡å¤å‰ä¸€ä¸ªæœå¯» (ä¸ / æˆ– ? æœ‰å…³ï¼)</li>
<li>q   ï¼šç¦»å¼€ less è¿™ä¸ªç¨‹åºï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@kuangshen etc]# more &#x2F;etc&#x2F;csh.login</span><br><span class="line">....(ä¸­é—´çœç•¥)....</span><br><span class="line">:   # è¿™é‡Œå¯ä»¥ç­‰å¾…ä½ è¾“å…¥å‘½ä»¤ï¼</span><br></pre></td></tr></table></figure>


<blockquote>
<p>head  å–å‡ºæ–‡ä»¶å‰é¢å‡ è¡Œ</p>
</blockquote>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">head [-n number] æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š**-n** åé¢æ¥æ•°å­—ï¼Œä»£è¡¨æ˜¾ç¤ºå‡ è¡Œçš„æ„æ€ï¼</p>
<p>é»˜è®¤çš„æƒ…å†µä¸­ï¼Œæ˜¾ç¤ºå‰é¢ 10 è¡Œï¼è‹¥è¦æ˜¾ç¤ºå‰ 20 è¡Œï¼Œå°±å¾—è¦è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@kuangshen etc]# head -n 20 &#x2F;etc&#x2F;csh.login</span><br></pre></td></tr></table></figure>


<blockquote>
<p>tail  å–å‡ºæ–‡ä»¶åé¢å‡ è¡Œ</p>
</blockquote>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tail [-n number] æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul>
<li>-n ï¼šåé¢æ¥æ•°å­—ï¼Œä»£è¡¨æ˜¾ç¤ºå‡ è¡Œçš„æ„æ€</li>
</ul>
<p>é»˜è®¤çš„æƒ…å†µä¸­ï¼Œæ˜¾ç¤ºæœ€å 10 è¡Œï¼è‹¥è¦æ˜¾ç¤ºæœ€å 20 è¡Œï¼Œå°±å¾—è¦è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@kuangshen etc]# tail -n 20 &#x2F;etc&#x2F;csh.login</span><br></pre></td></tr></table></figure>


<blockquote>
<p>æ‹“å±•ï¼šLinux é“¾æ¥æ¦‚å¿µ</p>
</blockquote>
<p>Linux é“¾æ¥åˆ†ä¸¤ç§ï¼Œä¸€ç§è¢«ç§°ä¸ºç¡¬é“¾æ¥ï¼ˆHard Linkï¼‰ï¼Œå¦ä¸€ç§è¢«ç§°ä¸ºç¬¦å·é“¾æ¥ï¼ˆSymbolic Linkï¼‰ã€‚</p>
<p>æƒ…å†µä¸‹ï¼Œ<strong>ln</strong> å‘½ä»¤äº§ç”Ÿç¡¬é“¾æ¥ã€‚</p>
<p><strong>ç¡¬è¿æ¥</strong></p>
<p>ç¡¬è¿æ¥æŒ‡é€šè¿‡ç´¢å¼•èŠ‚ç‚¹æ¥è¿›è¡Œè¿æ¥ã€‚åœ¨ Linux çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¿å­˜åœ¨ç£ç›˜åˆ†åŒºä¸­çš„æ–‡ä»¶ä¸ç®¡æ˜¯ä»€ä¹ˆç±»å‹éƒ½ç»™å®ƒåˆ†é…ä¸€ä¸ªç¼–å·ï¼Œç§°ä¸ºç´¢å¼•èŠ‚ç‚¹å·(Inode Index)ã€‚åœ¨ Linux ä¸­ï¼Œå¤šä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ç´¢å¼•èŠ‚ç‚¹æ˜¯å­˜åœ¨çš„ã€‚æ¯”å¦‚ï¼š<strong>A æ˜¯ B çš„ç¡¬é“¾æ¥ï¼ˆA å’Œ B éƒ½æ˜¯æ–‡ä»¶åï¼‰ï¼Œåˆ™ A çš„ç›®å½•é¡¹ä¸­çš„ inode èŠ‚ç‚¹å·ä¸ B çš„ç›®å½•é¡¹ä¸­çš„ inode èŠ‚ç‚¹å·ç›¸åŒ</strong>ï¼Œå³ä¸€ä¸ª inode èŠ‚ç‚¹å¯¹åº”ä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶åï¼Œä¸¤ä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶ï¼ŒA å’Œ B å¯¹æ–‡ä»¶ç³»ç»Ÿæ¥è¯´æ˜¯å®Œå…¨å¹³ç­‰çš„ã€‚åˆ é™¤å…¶ä¸­ä»»ä½•ä¸€ä¸ªéƒ½ä¸ä¼šå½±å“å¦å¤–ä¸€ä¸ªçš„è®¿é—®ã€‚==ï¼ˆå…è®¸ä¸€ä¸ªæ–‡ä»¶å«æœ‰å¤šç§è·¯å¾„ï¼‰==</p>
<p>ç¡¬è¿æ¥çš„ä½œç”¨æ˜¯å…è®¸ä¸€ä¸ªæ–‡ä»¶æ‹¥æœ‰å¤šä¸ªæœ‰æ•ˆè·¯å¾„åï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥å»ºç«‹ç¡¬è¿æ¥åˆ°é‡è¦æ–‡ä»¶ï¼Œä»¥é˜²æ­¢â€œè¯¯åˆ â€çš„åŠŸèƒ½ã€‚å…¶åŸå› å¦‚ä¸Šæ‰€è¿°ï¼Œå› ä¸ºå¯¹åº”è¯¥ç›®å½•çš„ç´¢å¼•èŠ‚ç‚¹æœ‰ä¸€ä¸ªä»¥ä¸Šçš„è¿æ¥ã€‚åªåˆ é™¤ä¸€ä¸ªè¿æ¥å¹¶ä¸å½±å“ç´¢å¼•èŠ‚ç‚¹æœ¬èº«å’Œå…¶å®ƒçš„è¿æ¥ï¼Œåªæœ‰å½“æœ€åä¸€ä¸ªè¿æ¥è¢«åˆ é™¤åï¼Œæ–‡ä»¶çš„æ•°æ®å—åŠç›®å½•çš„è¿æ¥æ‰ä¼šè¢«é‡Šæ”¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–‡ä»¶çœŸæ­£åˆ é™¤çš„æ¡ä»¶æ˜¯ä¸ä¹‹ç›¸å…³çš„æ‰€æœ‰ç¡¬è¿æ¥æ–‡ä»¶å‡è¢«åˆ é™¤ã€‚</p>
<p><strong>è½¯è¿æ¥</strong></p>
<p>å¦å¤–ä¸€ç§è¿æ¥ç§°ä¹‹ä¸ºç¬¦å·è¿æ¥ï¼ˆSymbolic Linkï¼‰ï¼Œä¹Ÿå«è½¯è¿æ¥ã€‚==è½¯é“¾æ¥æ–‡ä»¶æœ‰ç±»ä¼¼äº Windows çš„å¿«æ·æ–¹å¼ã€‚åˆ é™¤æºæ–‡ä»¶ï¼Œå¿«æ·æ–¹å¼ä¹Ÿè®¿é—®ä¸äº†äº†==å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ã€‚åœ¨ç¬¦å·è¿æ¥ä¸­ï¼Œæ–‡ä»¶å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«çš„æœ‰å¦ä¸€æ–‡ä»¶çš„ä½ç½®ä¿¡æ¯ã€‚æ¯”å¦‚ï¼šA æ˜¯ B çš„è½¯é“¾æ¥ï¼ˆA å’Œ B éƒ½æ˜¯æ–‡ä»¶åï¼‰ï¼ŒA çš„ç›®å½•é¡¹ä¸­çš„ inode èŠ‚ç‚¹å·ä¸ B çš„ç›®å½•é¡¹ä¸­çš„ inode èŠ‚ç‚¹å·ä¸ç›¸åŒï¼ŒA å’Œ B æŒ‡å‘çš„æ˜¯ä¸¤ä¸ªä¸åŒçš„ inodeï¼Œç»§è€ŒæŒ‡å‘ä¸¤å—ä¸åŒçš„æ•°æ®å—ã€‚ä½†æ˜¯ A çš„æ•°æ®å—ä¸­å­˜æ”¾çš„åªæ˜¯ B çš„è·¯å¾„åï¼ˆå¯ä»¥æ ¹æ®è¿™ä¸ªæ‰¾åˆ° B çš„ç›®å½•é¡¹ï¼‰ã€‚A å’Œ B ä¹‹é—´æ˜¯â€œä¸»ä»â€å…³ç³»ï¼Œå¦‚æœ B è¢«åˆ é™¤äº†ï¼ŒA ä»ç„¶å­˜åœ¨ï¼ˆå› ä¸ºä¸¤ä¸ªæ˜¯ä¸åŒçš„æ–‡ä»¶ï¼‰ï¼Œä½†æŒ‡å‘çš„æ˜¯ä¸€ä¸ªæ— æ•ˆçš„é“¾æ¥ã€‚</p>
<p><strong>æµ‹è¯•ï¼š</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@kuangshen /]# cd /home</span><br><span class="line">[root@kuangshen home]# touch f1 # åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶f1</span><br><span class="line">[root@kuangshen home]# ls</span><br><span class="line">f1</span><br><span class="line">[root@kuangshen home]# ln f1 f2     # åˆ›å»ºf1çš„ä¸€ä¸ªç¡¬è¿æ¥æ–‡ä»¶f2</span><br><span class="line">[root@kuangshen home]# ln -s f1 f3   # åˆ›å»ºf1çš„ä¸€ä¸ªç¬¦å·è¿æ¥æ–‡ä»¶f3</span><br><span class="line">[root@kuangshen home]# ls -li       # -iå‚æ•°æ˜¾ç¤ºæ–‡ä»¶çš„inodeèŠ‚ç‚¹ä¿¡æ¯</span><br><span class="line">397247 -rw-r--r-- 2 root root     0 Mar 13 00:50 f1</span><br><span class="line">397247 -rw-r--r-- 2 root root     0 Mar 13 00:50 f2</span><br><span class="line">397248 lrwxrwxrwx 1 root root     2 Mar 13 00:50 f3 -&gt; f1</span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢çš„ç»“æœä¸­å¯ä»¥çœ‹å‡ºï¼Œç¡¬è¿æ¥æ–‡ä»¶ f2 ä¸åŸæ–‡ä»¶ f1 çš„ inode èŠ‚ç‚¹ç›¸åŒï¼Œå‡ä¸º 397247ï¼Œç„¶è€Œç¬¦å·è¿æ¥æ–‡ä»¶çš„ inode èŠ‚ç‚¹ä¸åŒã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span> å­—ç¬¦ä¸²è¾“å‡º &gt;&gt; f1 è¾“å‡ºåˆ° f1æ–‡ä»¶</span></span><br><span class="line">[root@kuangshen home]# echo &quot;I am f1 file&quot; &gt;&gt;f1 # ç»™f1è¾“å…¥äº›å­—ç¬¦</span><br><span class="line">[root@kuangshen home]# cat f1</span><br><span class="line">I am f1 file</span><br><span class="line">[root@kuangshen home]# cat f2</span><br><span class="line">I am f1 file</span><br><span class="line">[root@kuangshen home]# cat f3</span><br><span class="line">I am f1 file</span><br><span class="line">[root@kuangshen home]# rm -f f1</span><br><span class="line">[root@kuangshen home]# cat f2</span><br><span class="line">I am f1 file</span><br><span class="line">[root@kuangshen home]# cat f3</span><br><span class="line">cat: f3: No such file or directory</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä¸Šé¢çš„æµ‹è¯•å¯ä»¥çœ‹å‡ºï¼šå½“åˆ é™¤åŸå§‹æ–‡ä»¶ f1 åï¼Œç¡¬è¿æ¥ f2 ä¸å—å½±å“ï¼Œä½†æ˜¯ç¬¦å·è¿æ¥ f1 æ–‡ä»¶æ— æ•ˆï¼›</p>
<p>ä¾æ­¤æ‚¨å¯ä»¥åšä¸€äº›ç›¸å…³çš„æµ‹è¯•ï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹å…¨éƒ¨ç»“è®ºï¼š</p>
<ul>
<li>åˆ é™¤ç¬¦å·è¿æ¥f3,å¯¹f1,f2æ— å½±å“ï¼›</li>
<li>åˆ é™¤ç¡¬è¿æ¥f2ï¼Œå¯¹f1,f3ä¹Ÿæ— å½±å“ï¼›</li>
<li>åˆ é™¤åŸæ–‡ä»¶f1ï¼Œå¯¹ç¡¬è¿æ¥f2æ²¡æœ‰å½±å“ï¼Œå¯¼è‡´ç¬¦å·è¿æ¥f3å¤±æ•ˆï¼›</li>
<li>åŒæ—¶åˆ é™¤åŸæ–‡ä»¶f1,ç¡¬è¿æ¥f2ï¼Œæ•´ä¸ªæ–‡ä»¶ä¼šçœŸæ­£çš„è¢«åˆ é™¤ã€‚</li>
</ul>
<h3 id="Vim-ç¼–è¾‘å™¨"><a href="#Vim-ç¼–è¾‘å™¨" class="headerlink" title="Vim ç¼–è¾‘å™¨"></a>Vim ç¼–è¾‘å™¨</h3><blockquote>
<p>ä»€ä¹ˆæ˜¯Vimç¼–è¾‘å™¨</p>
</blockquote>
<p>Vim é€šè¿‡ä¸€äº›æ’ä»¶å¯ä»¥å®ç°å’ŒIDEä¸€æ ·çš„åŠŸèƒ½</p>
<p>Vimæ˜¯ä» vi å‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ä»£ç è¡¥å®Œã€ç¼–è¯‘åŠé”™è¯¯è·³è½¬ç­‰æ–¹ä¾¿ç¼–ç¨‹çš„åŠŸèƒ½ç‰¹åˆ«ä¸°å¯Œï¼Œåœ¨ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚å°¤å…¶æ˜¯åœ¨Linuxç¯å¢ƒä¸­ï¼Œå¿…é¡»è¦ä¼šä½¿ç”¨Vim ==æŸ¥çœ‹å†…å®¹ï¼Œç¼–è¾‘å†…å®¹ï¼Œä¿å­˜å†…å®¹ï¼==</p>
<p>ç®€å•çš„æ¥è¯´ï¼Œ vi æ˜¯è€å¼çš„å­—å¤„ç†å™¨ï¼Œä¸è¿‡åŠŸèƒ½å·²ç»å¾ˆé½å…¨äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¯ä»¥è¿›æ­¥çš„åœ°æ–¹ã€‚</p>
<p>vim åˆ™å¯ä»¥è¯´æ˜¯ç¨‹åºå¼€å‘è€…çš„ä¸€é¡¹å¾ˆå¥½ç”¨çš„å·¥å…·ã€‚</p>
<p>æ‰€æœ‰çš„ Unix Like ç³»ç»Ÿéƒ½ä¼šå†…å»º vi æ–‡ä¹¦ç¼–è¾‘å™¨ï¼Œå…¶ä»–çš„æ–‡ä¹¦ç¼–è¾‘å™¨åˆ™ä¸ä¸€å®šä¼šå­˜åœ¨ã€‚</p>
<p>è¿ vim çš„å®˜æ–¹ç½‘ç«™ (<a class="link"   href="http://www.vim.org/" >http://www.vim.org<i class="fas fa-external-link-alt"></i></a>) è‡ªå·±ä¹Ÿè¯´ vim æ˜¯ä¸€ä¸ªç¨‹åºå¼€å‘å·¥å…·è€Œä¸æ˜¯æ–‡å­—å¤„ç†è½¯ä»¶ã€‚</p>
<p>vim é”®ç›˜å›¾ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7L1I72C1HrwJ9bG6XAbVggM4RsQuEaoMI78gr3jGxkVH7ONWyDHmremOHiaUibc3sqPRfEuVuHqicfqA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<blockquote>
<p>ä¸‰ç§ä½¿ç”¨æ¨¡å¼</p>
</blockquote>
<p>åŸºæœ¬ä¸Š vi/vim å…±åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯<strong>å‘½ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰</strong>ï¼Œ<strong>è¾“å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰</strong>å’Œ<strong>åº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰</strong>ã€‚è¿™ä¸‰ç§æ¨¡å¼çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š</p>
<p><strong>å‘½ä»¤æ¨¡å¼ï¼š</strong></p>
<p>ç”¨æˆ·åˆšåˆšå¯åŠ¨ vi/vimï¼Œä¾¿è¿›å…¥äº†å‘½ä»¤æ¨¡å¼ã€‚</p>
<p>æ­¤çŠ¶æ€ä¸‹æ•²å‡»é”®ç›˜åŠ¨ä½œä¼šè¢«Vimè¯†åˆ«ä¸ºå‘½ä»¤ï¼Œè€Œéè¾“å…¥å­—ç¬¦ã€‚æ¯”å¦‚æˆ‘ä»¬æ­¤æ—¶æŒ‰ä¸‹iï¼Œå¹¶ä¸ä¼šè¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œiè¢«å½“ä½œäº†ä¸€ä¸ªå‘½ä»¤ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š</p>
<ul>
<li><strong>i</strong> åˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ï¼Œä»¥è¾“å…¥å­—ç¬¦ã€‚</li>
<li><strong>x</strong> åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦ã€‚</li>
<li><strong>:</strong> åˆ‡æ¢åˆ°åº•çº¿å‘½ä»¤æ¨¡å¼ï¼Œä»¥åœ¨æœ€åº•ä¸€è¡Œè¾“å…¥å‘½ä»¤ã€‚</li>
</ul>
<p>è‹¥æƒ³è¦ç¼–è¾‘æ–‡æœ¬ï¼šå¯åŠ¨Vimï¼Œè¿›å…¥äº†å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ä¸‹iï¼Œåˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ã€‚</p>
<p>å‘½ä»¤æ¨¡å¼åªæœ‰ä¸€äº›æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå› æ­¤ä»è¦ä¾é åº•çº¿å‘½ä»¤æ¨¡å¼è¾“å…¥æ›´å¤šå‘½ä»¤ã€‚</p>
<p><strong>è¾“å…¥æ¨¡å¼ï¼š</strong></p>
<p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹iå°±è¿›å…¥äº†è¾“å…¥æ¨¡å¼ã€‚</p>
<p>åœ¨è¾“å…¥æ¨¡å¼ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‰é”®ï¼š</p>
<ul>
<li><strong>å­—ç¬¦æŒ‰é”®ä»¥åŠShiftç»„åˆ</strong>ï¼Œè¾“å…¥å­—ç¬¦</li>
<li><strong>ENTER</strong>ï¼Œå›è½¦é”®ï¼Œæ¢è¡Œ</li>
<li><strong>BACK SPACE</strong>ï¼Œé€€æ ¼é”®ï¼Œåˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦</li>
<li><strong>DEL</strong>ï¼Œåˆ é™¤é”®ï¼Œåˆ é™¤å…‰æ ‡åä¸€ä¸ªå­—ç¬¦</li>
<li><strong>æ–¹å‘é”®</strong>ï¼Œåœ¨æ–‡æœ¬ä¸­ç§»åŠ¨å…‰æ ‡</li>
<li><strong>HOME</strong>/<strong>END</strong>ï¼Œç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–/è¡Œå°¾</li>
<li><strong>Page Up</strong>/<strong>Page Down</strong>ï¼Œä¸Š/ä¸‹ç¿»é¡µ</li>
<li><strong>Insert</strong>ï¼Œåˆ‡æ¢å…‰æ ‡ä¸ºè¾“å…¥/æ›¿æ¢æ¨¡å¼ï¼Œå…‰æ ‡å°†å˜æˆç«–çº¿/ä¸‹åˆ’çº¿</li>
<li><strong>ESC</strong>ï¼Œé€€å‡ºè¾“å…¥æ¨¡å¼ï¼Œåˆ‡æ¢åˆ°å‘½ä»¤æ¨¡å¼</li>
</ul>
<p><strong>åº•çº¿å‘½ä»¤æ¨¡å¼</strong></p>
<p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹:ï¼ˆè‹±æ–‡å†’å·ï¼‰å°±è¿›å…¥äº†åº•çº¿å‘½ä»¤æ¨¡å¼ã€‚å…‰æ ‡ç§»åŠ¨åˆ°äº†æœ€åº•ä¸‹ï¼Œå°±å¯ä»¥åœ¨è¿™é‡Œè¾“å…¥ä¸€äº›å‘½ä»¤äº†</p>
<p>åº•çº¿å‘½ä»¤æ¨¡å¼å¯ä»¥è¾“å…¥å•ä¸ªæˆ–å¤šä¸ªå­—ç¬¦çš„å‘½ä»¤ï¼Œå¯ç”¨çš„å‘½ä»¤éå¸¸å¤šã€‚</p>
<p>åœ¨åº•çº¿å‘½ä»¤æ¨¡å¼ä¸­ï¼ŒåŸºæœ¬çš„å‘½ä»¤æœ‰ï¼ˆå·²ç»çœç•¥äº†å†’å·ï¼‰ï¼š</p>
<ul>
<li>q é€€å‡ºç¨‹åº</li>
<li>w ä¿å­˜æ–‡ä»¶</li>
</ul>
<p>æŒ‰ESCé”®å¯éšæ—¶é€€å‡ºåº•çº¿å‘½ä»¤æ¨¡å¼ã€‚</p>
<p>ç®€å•çš„è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸‰ä¸ªæ¨¡å¼æƒ³æˆåº•ä¸‹çš„å›¾æ ‡æ¥è¡¨ç¤ºï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7L1I72C1HrwJ9bG6XAbVggMIxVoDyQ4LWxSbHDjAYfHuId7xfHHichtqZK2ehsXvcC9KiaibPf68s9dg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<blockquote>
<p>ä¸Šæ‰‹ä½“éªŒä¸€ä¸‹ï¼Œåœ¨homeç›®å½•ä¸‹æµ‹è¯•</p>
</blockquote>
<p>å¦‚æœä½ æƒ³è¦ä½¿ç”¨ vi æ¥å»ºç«‹ä¸€ä¸ªåä¸º kuangstudy.txt çš„æ–‡ä»¶æ—¶ï¼Œä½ å¯ä»¥è¿™æ ·åšï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@kuangshen home]# vim kuangstudy.txt</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°±ä¼šè¿›å…¥æ–‡ä»¶</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7L1I72C1HrwJ9bG6XAbVggM4461hqusRbQZ32967zqUhChqXbCzJTN3I20RpiaVbFqWvHicvicc9icBUQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p><strong>æŒ‰ä¸‹ i è¿›å…¥è¾“å…¥æ¨¡å¼(ä¹Ÿç§°ä¸ºç¼–è¾‘æ¨¡å¼)ï¼Œå¼€å§‹ç¼–è¾‘æ–‡å­—</strong></p>
<p>åœ¨ä¸€èˆ¬æ¨¡å¼ä¹‹ä¸­ï¼Œåªè¦æŒ‰ä¸‹ i, o, a ç­‰å­—ç¬¦å°±å¯ä»¥è¿›å…¥è¾“å…¥æ¨¡å¼äº†ï¼</p>
<p>åœ¨ç¼–è¾‘æ¨¡å¼å½“ä¸­ï¼Œä½ å¯ä»¥å‘ç°åœ¨å·¦ä¸‹è§’çŠ¶æ€æ ä¸­ä¼šå‡ºç° â€“INSERT- çš„å­—æ ·ï¼Œé‚£å°±æ˜¯å¯ä»¥è¾“å…¥ä»»æ„å­—ç¬¦çš„æç¤ºã€‚</p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œé”®ç›˜ä¸Šé™¤äº† <strong>Esc</strong> è¿™ä¸ªæŒ‰é”®ä¹‹å¤–ï¼Œå…¶ä»–çš„æŒ‰é”®éƒ½å¯ä»¥è§†ä½œä¸ºä¸€èˆ¬çš„è¾“å…¥æŒ‰é’®äº†ï¼Œæ‰€ä»¥ä½ å¯ä»¥è¿›è¡Œä»»ä½•çš„ç¼–è¾‘ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7L1I72C1HrwJ9bG6XAbVggMEarICtkr8ia1N6zqcuv3ROj1TBDoMicM5DoYzaGU29qQ2mbQhlBUbbww/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p><strong>æŒ‰ä¸‹ ESC æŒ‰é’®å›åˆ°ä¸€èˆ¬æ¨¡å¼</strong></p>
<p>å¥½äº†ï¼Œå‡è®¾æˆ‘å·²ç»æŒ‰ç…§ä¸Šé¢çš„æ ·å¼ç»™ä»–ç¼–è¾‘å®Œæ¯•äº†ï¼Œé‚£ä¹ˆåº”è¯¥è¦å¦‚ä½•é€€å‡ºå‘¢ï¼Ÿæ˜¯çš„ï¼æ²¡é”™ï¼å°±æ˜¯ç»™ä»–æŒ‰ä¸‹ <strong>Esc</strong> è¿™ä¸ªæŒ‰é’®å³å¯ï¼é©¬ä¸Šä½ å°±ä¼šå‘ç°ç”»é¢å·¦ä¸‹è§’çš„ â€“ INSERT â€“ ä¸è§äº†ï¼</p>
<p>åœ¨ä¸€èˆ¬æ¨¡å¼ä¸­æŒ‰ä¸‹ <strong>:wq</strong> å‚¨å­˜åç¦»å¼€ vimï¼</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7L1I72C1HrwJ9bG6XAbVggMeA5EoVUt4j2544oibjdoeRah06s2ALh1QDXwep41Mj4ZnhWyb6icdp0w/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>OK! è¿™æ ·æˆ‘ä»¬å°±æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ª kuangstudy.txt çš„æ–‡ä»¶ã€‚</p>
<blockquote>
<p>Vim æŒ‰é”®è¯´æ˜</p>
</blockquote>
<p>é™¤äº†ä¸Šé¢ç®€æ˜“èŒƒä¾‹çš„ i, Esc, :wq ä¹‹å¤–ï¼Œå…¶å® vim è¿˜æœ‰éå¸¸å¤šçš„æŒ‰é”®å¯ä»¥ä½¿ç”¨ã€‚</p>
<p><strong>ç¬¬ä¸€éƒ¨åˆ†ï¼šä¸€èˆ¬æ¨¡å¼å¯ç”¨çš„å…‰æ ‡ç§»åŠ¨ã€å¤åˆ¶ç²˜è´´ã€æœç´¢æ›¿æ¢ç­‰</strong></p>
<table>
<thead>
<tr>
<th align="left">ç§»åŠ¨å…‰æ ‡çš„æ–¹æ³•</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="left">h æˆ– å‘å·¦ç®­å¤´é”®(â†)</td>
<td>å…‰æ ‡å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">j æˆ– å‘ä¸‹ç®­å¤´é”®(â†“)</td>
<td>å…‰æ ‡å‘ä¸‹ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">k æˆ– å‘ä¸Šç®­å¤´é”®(â†‘)</td>
<td>å…‰æ ‡å‘ä¸Šç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">l æˆ– å‘å³ç®­å¤´é”®(â†’)</td>
<td>å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">[Ctrl] + [f]</td>
<td>å±å¹•ã€å‘ä¸‹ã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Down]æŒ‰é”® (å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">[Ctrl] + [b]</td>
<td>å±å¹•ã€å‘ä¸Šã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Up] æŒ‰é”® (å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">[Ctrl] + [d]</td>
<td>å±å¹•ã€å‘ä¸‹ã€ç§»åŠ¨åŠé¡µ</td>
</tr>
<tr>
<td align="left">[Ctrl] + [u]</td>
<td>å±å¹•ã€å‘ä¸Šã€ç§»åŠ¨åŠé¡µ</td>
</tr>
<tr>
<td align="left">+</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°éç©ºæ ¼ç¬¦çš„ä¸‹ä¸€è¡Œ</td>
</tr>
<tr>
<td align="left">-</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°éç©ºæ ¼ç¬¦çš„ä¸Šä¸€è¡Œ</td>
</tr>
<tr>
<td align="left">æ•°å­—&lt; space&gt;</td>
<td>é‚£ä¸ª n è¡¨ç¤ºã€æ•°å­—ã€ï¼Œä¾‹å¦‚ 20 ã€‚æŒ‰ä¸‹æ•°å­—åå†æŒ‰ç©ºæ ¼é”®ï¼Œå…‰æ ‡ä¼šå‘å³ç§»åŠ¨è¿™ä¸€è¡Œçš„ n ä¸ªå­—ç¬¦ã€‚å¿«æ·åˆ‡æ¢å…‰æ ‡</td>
</tr>
<tr>
<td align="left">0 æˆ–åŠŸèƒ½é”®[Home]</td>
<td>è¿™æ˜¯æ•°å­—ã€ 0 ã€ï¼šç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€å‰é¢å­—ç¬¦å¤„ (å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">$ æˆ–åŠŸèƒ½é”®[End]</td>
<td>ç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€åé¢å­—ç¬¦å¤„(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">H</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸Šæ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">M</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„ä¸­å¤®é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">L</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸‹æ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">G</td>
<td>ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„æœ€åä¸€è¡Œ(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">nG</td>
<td>n ä¸ºæ•°å­—ã€‚ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ n è¡Œã€‚ä¾‹å¦‚ 20G åˆ™ä¼šç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ 20 è¡Œ(å¯é…åˆ :set nu)</td>
</tr>
<tr>
<td align="left">gg</td>
<td>ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ä¸€è¡Œï¼Œç›¸å½“äº 1G å•Šï¼(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">n&lt; Enter&gt;</td>
<td>n ä¸ºæ•°å­—ã€‚å…‰æ ‡å‘ä¸‹ç§»åŠ¨ n è¡Œ(å¸¸ç”¨)</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">æœç´¢æ›¿æ¢</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="left">==/word==</td>
<td>å‘å…‰æ ‡ä¹‹ä¸‹å¯»æ‰¾ä¸€ä¸ªåç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚è¦åœ¨æ¡£æ¡ˆå†…æœå¯» vbird è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå°±è¾“å…¥ /vbird å³å¯ï¼(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">?word</td>
<td>å‘å…‰æ ‡ä¹‹ä¸Šå¯»æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²åç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td align="left">n</td>
<td>è¿™ä¸ª n æ˜¯è‹±æ–‡æŒ‰é”®ã€‚ä»£è¡¨é‡å¤å‰ä¸€ä¸ªæœå¯»çš„åŠ¨ä½œã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ å¦‚æœåˆšåˆšæˆ‘ä»¬æ‰§è¡Œ /vbird å»å‘ä¸‹æœå¯» vbird è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™æŒ‰ä¸‹ n åï¼Œä¼šå‘ä¸‹ç»§ç»­æœå¯»ä¸‹ä¸€ä¸ªåç§°ä¸º vbird çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæ˜¯æ‰§è¡Œ ?vbird çš„è¯ï¼Œé‚£ä¹ˆæŒ‰ä¸‹ n åˆ™ä¼šå‘ä¸Šç»§ç»­æœå¯»åç§°ä¸º vbird çš„å­—ç¬¦ä¸²ï¼</td>
</tr>
<tr>
<td align="left">N</td>
<td>è¿™ä¸ª N æ˜¯è‹±æ–‡æŒ‰é”®ã€‚ä¸ n åˆšå¥½ç›¸åï¼Œä¸ºã€åå‘ã€è¿›è¡Œå‰ä¸€ä¸ªæœå¯»åŠ¨ä½œã€‚ä¾‹å¦‚ /vbird åï¼ŒæŒ‰ä¸‹ N åˆ™è¡¨ç¤ºã€å‘ä¸Šã€æœå¯» vbird ã€‚</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">åˆ é™¤ã€å¤åˆ¶ä¸ç²˜è´´</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="left">x, X</td>
<td>åœ¨ä¸€è¡Œå­—å½“ä¸­ï¼Œx ä¸ºå‘ååˆ é™¤ä¸€ä¸ªå­—ç¬¦ (ç›¸å½“äº [del] æŒ‰é”®)ï¼Œ X ä¸ºå‘å‰åˆ é™¤ä¸€ä¸ªå­—ç¬¦(ç›¸å½“äº [backspace] äº¦å³æ˜¯é€€æ ¼é”®) (å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">nx</td>
<td>n ä¸ºæ•°å­—ï¼Œè¿ç»­å‘ååˆ é™¤ n ä¸ªå­—ç¬¦ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘è¦è¿ç»­åˆ é™¤ 10 ä¸ªå­—ç¬¦ï¼Œ ã€10xã€ã€‚</td>
</tr>
<tr>
<td align="left">dd</td>
<td>åˆ é™¤æ¸¸æ ‡æ‰€åœ¨çš„é‚£ä¸€æ•´è¡Œ(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">ndd</td>
<td>n ä¸ºæ•°å­—ã€‚åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œï¼Œä¾‹å¦‚ 20dd åˆ™æ˜¯åˆ é™¤ 20 è¡Œ (å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">d1G</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨åˆ°ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td align="left">dG</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨åˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td align="left">d$</td>
<td>åˆ é™¤æ¸¸æ ‡æ‰€åœ¨å¤„ï¼Œåˆ°è¯¥è¡Œçš„æœ€åä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">d0</td>
<td>é‚£ä¸ªæ˜¯æ•°å­—çš„ 0 ï¼Œåˆ é™¤æ¸¸æ ‡æ‰€åœ¨å¤„ï¼Œåˆ°è¯¥è¡Œçš„æœ€å‰é¢ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">yy</td>
<td>å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨çš„é‚£ä¸€è¡Œ(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">nyy</td>
<td>n ä¸ºæ•°å­—ã€‚å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œï¼Œä¾‹å¦‚ 20yy åˆ™æ˜¯å¤åˆ¶ 20 è¡Œ(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">y1G</td>
<td>å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨è¡Œåˆ°ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td align="left">yG</td>
<td>å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨è¡Œåˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td align="left">y0</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸ªå­—ç¬¦åˆ°è¯¥è¡Œè¡Œé¦–çš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td align="left">y$</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸ªå­—ç¬¦åˆ°è¯¥è¡Œè¡Œå°¾çš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td align="left">p, P</td>
<td>p ä¸ºå°†å·²å¤åˆ¶çš„æ•°æ®åœ¨å…‰æ ‡ä¸‹ä¸€è¡Œè´´ä¸Šï¼ŒP åˆ™ä¸ºè´´åœ¨æ¸¸æ ‡ä¸Šä¸€è¡Œï¼ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ç›®å‰å…‰æ ‡åœ¨ç¬¬ 20 è¡Œï¼Œä¸”å·²ç»å¤åˆ¶äº† 10 è¡Œæ•°æ®ã€‚åˆ™æŒ‰ä¸‹ p åï¼Œ é‚£ 10 è¡Œæ•°æ®ä¼šè´´åœ¨åŸæœ¬çš„ 20 è¡Œä¹‹åï¼Œäº¦å³ç”± 21 è¡Œå¼€å§‹è´´ã€‚ä½†å¦‚æœæ˜¯æŒ‰ä¸‹ P å‘¢ï¼Ÿé‚£ä¹ˆåŸæœ¬çš„ç¬¬ 20 è¡Œä¼šè¢«æ¨åˆ°å˜æˆ 30 è¡Œã€‚(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">J</td>
<td>å°†å…‰æ ‡æ‰€åœ¨è¡Œä¸ä¸‹ä¸€è¡Œçš„æ•°æ®ç»“åˆæˆåŒä¸€è¡Œ</td>
</tr>
<tr>
<td align="left">c</td>
<td>é‡å¤åˆ é™¤å¤šä¸ªæ•°æ®ï¼Œä¾‹å¦‚å‘ä¸‹åˆ é™¤ 10 è¡Œï¼Œ[ 10cj ]</td>
</tr>
<tr>
<td align="left">u</td>
<td>å¤åŸå‰ä¸€ä¸ªåŠ¨ä½œã€‚(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">[Ctrl]+r</td>
<td>é‡åšä¸Šä¸€ä¸ªåŠ¨ä½œã€‚(å¸¸ç”¨)</td>
</tr>
</tbody></table>
<p><strong>ç¬¬äºŒéƒ¨åˆ†ï¼šä¸€èˆ¬æ¨¡å¼åˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼çš„å¯ç”¨çš„æŒ‰é’®è¯´æ˜</strong></p>
<table>
<thead>
<tr>
<th align="left">è¿›å…¥è¾“å…¥æˆ–å–ä»£çš„ç¼–è¾‘æ¨¡å¼</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="left">i, I</td>
<td>è¿›å…¥è¾“å…¥æ¨¡å¼(Insert mode)ï¼ši ä¸ºã€ä»ç›®å‰å…‰æ ‡æ‰€åœ¨å¤„è¾“å…¥ã€ï¼Œ I ä¸ºã€åœ¨ç›®å‰æ‰€åœ¨è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºæ ¼ç¬¦å¤„å¼€å§‹è¾“å…¥ã€ã€‚(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">a, A</td>
<td>è¿›å…¥è¾“å…¥æ¨¡å¼(Insert mode)ï¼ša ä¸ºã€ä»ç›®å‰å…‰æ ‡æ‰€åœ¨çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¤„å¼€å§‹è¾“å…¥ã€ï¼Œ A ä¸ºã€ä»å…‰æ ‡æ‰€åœ¨è¡Œçš„æœ€åä¸€ä¸ªå­—ç¬¦å¤„å¼€å§‹è¾“å…¥ã€ã€‚(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">o, O</td>
<td>è¿›å…¥è¾“å…¥æ¨¡å¼(Insert mode)ï¼šè¿™æ˜¯è‹±æ–‡å­—æ¯ o çš„å¤§å°å†™ã€‚o ä¸ºã€åœ¨ç›®å‰å…‰æ ‡æ‰€åœ¨çš„ä¸‹ä¸€è¡Œå¤„è¾“å…¥æ–°çš„ä¸€è¡Œã€ï¼›O ä¸ºåœ¨ç›®å‰å…‰æ ‡æ‰€åœ¨å¤„çš„ä¸Šä¸€è¡Œè¾“å…¥æ–°çš„ä¸€è¡Œï¼(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">r, R</td>
<td>è¿›å…¥å–ä»£æ¨¡å¼(Replace mode)ï¼šr åªä¼šå–ä»£å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸€ä¸ªå­—ç¬¦ä¸€æ¬¡ï¼›Rä¼šä¸€ç›´å–ä»£å…‰æ ‡æ‰€åœ¨çš„æ–‡å­—ï¼Œç›´åˆ°æŒ‰ä¸‹ ESC ä¸ºæ­¢ï¼›(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">[Esc]</td>
<td>é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œå›åˆ°ä¸€èˆ¬æ¨¡å¼ä¸­(å¸¸ç”¨)</td>
</tr>
</tbody></table>
<p><strong>ç¬¬ä¸‰éƒ¨åˆ†ï¼šä¸€èˆ¬æ¨¡å¼åˆ‡æ¢åˆ°æŒ‡ä»¤è¡Œæ¨¡å¼çš„å¯ç”¨çš„æŒ‰é’®è¯´æ˜</strong></p>
<table>
<thead>
<tr>
<th align="left">æŒ‡ä»¤è¡Œçš„å‚¨å­˜ã€ç¦»å¼€ç­‰æŒ‡ä»¤</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="left">:w</td>
<td>å°†ç¼–è¾‘çš„æ•°æ®å†™å…¥ç¡¬ç›˜æ¡£æ¡ˆä¸­(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">:w!</td>
<td>è‹¥æ–‡ä»¶å±æ€§ä¸ºã€åªè¯»ã€æ—¶ï¼Œå¼ºåˆ¶å†™å…¥è¯¥æ¡£æ¡ˆã€‚ä¸è¿‡ï¼Œåˆ°åº•èƒ½ä¸èƒ½å†™å…¥ï¼Œ è¿˜æ˜¯è·Ÿä½ å¯¹è¯¥æ¡£æ¡ˆçš„æ¡£æ¡ˆæƒé™æœ‰å…³å•Šï¼</td>
</tr>
<tr>
<td align="left">:q</td>
<td>ç¦»å¼€ vi (å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">:q!</td>
<td>è‹¥æ›¾ä¿®æ”¹è¿‡æ¡£æ¡ˆï¼Œåˆä¸æƒ³å‚¨å­˜ï¼Œä½¿ç”¨ ! ä¸ºå¼ºåˆ¶ç¦»å¼€ä¸å‚¨å­˜æ¡£æ¡ˆã€‚</td>
</tr>
<tr>
<td align="left">æ³¨æ„ä¸€ä¸‹å•Šï¼Œé‚£ä¸ªæƒŠå¹å· (!) åœ¨ vi å½“ä¸­ï¼Œå¸¸å¸¸å…·æœ‰ã€å¼ºåˆ¶ã€çš„æ„æ€ï½</td>
<td></td>
</tr>
<tr>
<td align="left">:wq</td>
<td>å‚¨å­˜åç¦»å¼€ï¼Œè‹¥ä¸º :wq! åˆ™ä¸ºå¼ºåˆ¶å‚¨å­˜åç¦»å¼€ (å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">ZZ</td>
<td>è¿™æ˜¯å¤§å†™çš„ Z å–”ï¼è‹¥æ¡£æ¡ˆæ²¡æœ‰æ›´åŠ¨ï¼Œåˆ™ä¸å‚¨å­˜ç¦»å¼€ï¼Œè‹¥æ¡£æ¡ˆå·²ç»è¢«æ›´åŠ¨è¿‡ï¼Œåˆ™å‚¨å­˜åç¦»å¼€ï¼</td>
</tr>
<tr>
<td align="left">:w [filename]</td>
<td>å°†ç¼–è¾‘çš„æ•°æ®å‚¨å­˜æˆå¦ä¸€ä¸ªæ¡£æ¡ˆï¼ˆç±»ä¼¼å¦å­˜æ–°æ¡£ï¼‰</td>
</tr>
<tr>
<td align="left">:r [filename]</td>
<td>åœ¨ç¼–è¾‘çš„æ•°æ®ä¸­ï¼Œè¯»å…¥å¦ä¸€ä¸ªæ¡£æ¡ˆçš„æ•°æ®ã€‚äº¦å³å°† ã€filenameã€ è¿™ä¸ªæ¡£æ¡ˆå†…å®¹åŠ åˆ°æ¸¸æ ‡æ‰€åœ¨è¡Œåé¢</td>
</tr>
<tr>
<td align="left">:n1,n2 w [filename]</td>
<td>å°† n1 åˆ° n2 çš„å†…å®¹å‚¨å­˜æˆ filename è¿™ä¸ªæ¡£æ¡ˆã€‚</td>
</tr>
<tr>
<td align="left">:! command</td>
<td>æš‚æ—¶ç¦»å¼€ vi åˆ°æŒ‡ä»¤è¡Œæ¨¡å¼ä¸‹æ‰§è¡Œ command çš„æ˜¾ç¤ºç»“æœï¼ä¾‹å¦‚ ã€:! ls /homeã€å³å¯åœ¨ vi å½“ä¸­çœ‹ /home åº•ä¸‹ä»¥ ls è¾“å‡ºçš„æ¡£æ¡ˆä¿¡æ¯ï¼</td>
</tr>
<tr>
<td align="left">==:set nu==è®¾ç½®è¡Œå·ï¼Œä»£ç ä¸­ç»å¸¸ä½¿ç”¨ï¼</td>
<td>æ˜¾ç¤ºè¡Œå·ï¼Œè®¾å®šä¹‹åï¼Œä¼šåœ¨æ¯ä¸€è¡Œçš„å‰ç¼€æ˜¾ç¤ºè¯¥è¡Œçš„è¡Œå·</td>
</tr>
<tr>
<td align="left">:set nonu</td>
<td>ä¸ set nu ç›¸åï¼Œä¸ºå–æ¶ˆè¡Œå·ï¼</td>
</tr>
</tbody></table>
<h3 id="è´¦å·ç®¡ç†"><a href="#è´¦å·ç®¡ç†" class="headerlink" title="è´¦å·ç®¡ç†"></a>è´¦å·ç®¡ç†</h3><blockquote>
<p>ç®€ä»‹</p>
</blockquote>
<p>Linuxç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤šç”¨æˆ·å¤šä»»åŠ¡çš„åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªè¦ä½¿ç”¨ç³»ç»Ÿèµ„æºçš„ç”¨æˆ·ï¼Œéƒ½å¿…é¡»é¦–å…ˆå‘ç³»ç»Ÿç®¡ç†å‘˜ç”³è¯·ä¸€ä¸ªè´¦å·ï¼Œç„¶åä»¥è¿™ä¸ªè´¦å·çš„èº«ä»½è¿›å…¥ç³»ç»Ÿã€‚</p>
<p>ç”¨æˆ·çš„è´¦å·ä¸€æ–¹é¢å¯ä»¥å¸®åŠ©ç³»ç»Ÿç®¡ç†å‘˜å¯¹ä½¿ç”¨ç³»ç»Ÿçš„ç”¨æˆ·è¿›è¡Œè·Ÿè¸ªï¼Œå¹¶æ§åˆ¶ä»–ä»¬å¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®ï¼›å¦ä¸€æ–¹é¢ä¹Ÿå¯ä»¥å¸®åŠ©ç”¨æˆ·ç»„ç»‡æ–‡ä»¶ï¼Œå¹¶ä¸ºç”¨æˆ·æä¾›å®‰å…¨æ€§ä¿æŠ¤ã€‚</p>
<p>æ¯ä¸ªç”¨æˆ·è´¦å·éƒ½æ‹¥æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç”¨æˆ·åå’Œå„è‡ªçš„å£ä»¤ã€‚</p>
<p>ç”¨æˆ·åœ¨ç™»å½•æ—¶é”®å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå£ä»¤åï¼Œå°±èƒ½å¤Ÿè¿›å…¥ç³»ç»Ÿå’Œè‡ªå·±çš„ä¸»ç›®å½•ã€‚</p>
<p>å®ç°ç”¨æˆ·è´¦å·çš„ç®¡ç†ï¼Œè¦å®Œæˆçš„å·¥ä½œä¸»è¦æœ‰å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>ç”¨æˆ·è´¦å·çš„æ·»åŠ ã€åˆ é™¤ä¸ä¿®æ”¹ã€‚</li>
<li>ç”¨æˆ·å£ä»¤çš„ç®¡ç†ã€‚</li>
<li>ç”¨æˆ·ç»„çš„ç®¡ç†ã€‚</li>
</ul>
<blockquote>
<p>ç”¨æˆ·è´¦å·çš„ç®¡ç†</p>
</blockquote>
<p>ç”¨æˆ·è´¦å·çš„ç®¡ç†å·¥ä½œä¸»è¦æ¶‰åŠåˆ°ç”¨æˆ·è´¦å·çš„æ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤ã€‚</p>
<p>æ·»åŠ ç”¨æˆ·è´¦å·å°±æ˜¯åœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªæ–°è´¦å·ï¼Œç„¶åä¸ºæ–°è´¦å·åˆ†é…ç”¨æˆ·å·ã€ç”¨æˆ·ç»„ã€ä¸»ç›®å½•å’Œç™»å½•Shellç­‰èµ„æºã€‚</p>
<blockquote>
<p>æ·»åŠ è´¦å· useradd</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">useradd é€‰é¡¹ ç”¨æˆ·å</span><br></pre></td></tr></table></figure>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><p>é€‰é¡¹ :</p>
</li>
<li><ul>
<li>-c comment æŒ‡å®šä¸€æ®µæ³¨é‡Šæ€§æè¿°ã€‚</li>
<li>-d ç›®å½• æŒ‡å®šç”¨æˆ·ä¸»ç›®å½•ï¼Œå¦‚æœæ­¤ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åŒæ—¶ä½¿ç”¨-mé€‰é¡¹ï¼Œå¯ä»¥åˆ›å»ºä¸»ç›®å½•ã€‚</li>
<li>-g ç”¨æˆ·ç»„ æŒ‡å®šç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç»„ã€‚</li>
<li>-G ç”¨æˆ·ç»„ï¼Œç”¨æˆ·ç»„ æŒ‡å®šç”¨æˆ·æ‰€å±çš„é™„åŠ ç»„ã€‚</li>
<li>==-mã€€ä½¿ç”¨è€…ç›®å½•å¦‚ä¸å­˜åœ¨åˆ™è‡ªåŠ¨å»ºç«‹ã€‚(è‡ªåŠ¨åˆ›å»ºè¿™ä¸ªç”¨æˆ·çš„ä¸»ç›®å½• /home/qinjiang)==</li>
<li>-s Shellæ–‡ä»¶ æŒ‡å®šç”¨æˆ·çš„ç™»å½•Shellã€‚</li>
<li>-u ç”¨æˆ·å· æŒ‡å®šç”¨æˆ·çš„ç”¨æˆ·å·ï¼Œå¦‚æœåŒæ—¶æœ‰-oé€‰é¡¹ï¼Œåˆ™å¯ä»¥é‡å¤ä½¿ç”¨å…¶ä»–ç”¨æˆ·çš„æ ‡è¯†å·ã€‚</li>
</ul>
</li>
<li><p>ç”¨æˆ·å :</p>
</li>
<li><ul>
<li>æŒ‡å®šæ–°è´¦å·çš„ç™»å½•åã€‚</li>
</ul>
</li>
</ul>
<p>æµ‹è¯•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ­¤å‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªç”¨æˆ·kuangshenï¼Œå…¶ä¸­-mé€‰é¡¹ç”¨æ¥ä¸ºç™»å½•åkuangshenäº§ç”Ÿä¸€ä¸ªä¸»ç›®å½• /home/kuangshen</span></span><br><span class="line">[root@kuangshen home]# useradd -m kuangshen</span><br></pre></td></tr></table></figure>
<p>å¢åŠ ç”¨æˆ·è´¦å·å°±æ˜¯åœ¨/etc/passwdæ–‡ä»¶ä¸­ä¸ºæ–°ç”¨æˆ·å¢åŠ ä¸€æ¡è®°å½•ï¼ŒåŒæ—¶æ›´æ–°å…¶ä»–ç³»ç»Ÿæ–‡ä»¶å¦‚/etc/shadow, /etc/groupç­‰ã€‚</p>
<p>ç†è§£ä¸€ä¸‹æœ¬è´¨ï¼šLinux ä¸­ä¸€åˆ‡çš†æ–‡ä»¶</p>
<blockquote>
<p>Linuxä¸‹å¦‚ä½•åˆ‡æ¢ç”¨æˆ·</p>
</blockquote>
<p>1.åˆ‡æ¢ç”¨æˆ·çš„å‘½ä»¤ä¸ºï¼šsu username ã€usernameæ˜¯ä½ çš„ç”¨æˆ·åå“¦ã€‘</p>
<p>2.ä»æ™®é€šç”¨æˆ·åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼šsudo su</p>
<p>3.åœ¨ç»ˆç«¯è¾“å…¥exitæˆ–logoutæˆ–ä½¿ç”¨å¿«æ·æ–¹å¼ctrl+dï¼Œå¯ä»¥é€€å›åˆ°åŸæ¥ç”¨æˆ·ï¼Œå…¶å®ctrl+dä¹Ÿæ˜¯æ‰§è¡Œçš„exitå‘½ä»¤</p>
<p>4.åœ¨åˆ‡æ¢ç”¨æˆ·æ—¶ï¼Œå¦‚æœæƒ³åœ¨åˆ‡æ¢ç”¨æˆ·ä¹‹åä½¿ç”¨æ–°ç”¨æˆ·çš„å·¥ä½œç¯å¢ƒï¼Œå¯ä»¥åœ¨suå’Œusernameä¹‹é—´åŠ -ï¼Œä¾‹å¦‚ï¼šã€su - rootã€‘</p>
<p>$è¡¨ç¤ºæ™®é€šç”¨æˆ·</p>
<p>#è¡¨ç¤ºè¶…çº§ç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯rootç”¨æˆ·</p>
<p>æ›´æ”¹æŸ¥çœ‹ä¸»æœºåï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hostname: åå­—</span><br></pre></td></tr></table></figure>


<blockquote>
<p>åˆ é™¤å¸å·</p>
</blockquote>
<p>å¦‚æœä¸€ä¸ªç”¨æˆ·çš„è´¦å·ä¸å†ä½¿ç”¨ï¼Œå¯ä»¥ä»ç³»ç»Ÿä¸­åˆ é™¤ã€‚</p>
<p>åˆ é™¤ç”¨æˆ·è´¦å·å°±æ˜¯è¦å°†/etc/passwdç­‰ç³»ç»Ÿæ–‡ä»¶ä¸­çš„è¯¥ç”¨æˆ·è®°å½•åˆ é™¤ï¼Œå¿…è¦æ—¶è¿˜åˆ é™¤ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚</p>
<p>åˆ é™¤ä¸€ä¸ªå·²æœ‰çš„ç”¨æˆ·è´¦å·ä½¿ç”¨userdelå‘½ä»¤ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">userdel é€‰é¡¹ ç”¨æˆ·å</span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨çš„é€‰é¡¹æ˜¯ <strong>-r</strong>ï¼Œå®ƒçš„ä½œç”¨æ˜¯æŠŠç”¨æˆ·çš„ä¸»ç›®å½•ä¸€èµ·åˆ é™¤ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@kuangshen home]# userdel -r kuangshen</span><br></pre></td></tr></table></figure>
<p>æ­¤å‘½ä»¤åˆ é™¤ç”¨æˆ·kuangshenåœ¨ç³»ç»Ÿæ–‡ä»¶ä¸­ï¼ˆä¸»è¦æ˜¯/etc/passwd, /etc/shadow, /etc/groupç­‰ï¼‰çš„è®°å½•ï¼ŒåŒæ—¶åˆ é™¤ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚</p>
<blockquote>
<p>ä¿®æ”¹å¸å·</p>
</blockquote>
<p>ä¿®æ”¹ç”¨æˆ·è´¦å·å°±æ˜¯æ ¹æ®å®é™…æƒ…å†µæ›´æ”¹ç”¨æˆ·çš„æœ‰å…³å±æ€§ï¼Œå¦‚ç”¨æˆ·å·ã€ä¸»ç›®å½•ã€ç”¨æˆ·ç»„ã€ç™»å½•Shellç­‰ã€‚</p>
<p>ä¿®æ”¹å·²æœ‰ç”¨æˆ·çš„ä¿¡æ¯ä½¿ç”¨usermodå‘½ä»¤ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">usermod é€‰é¡¹ ç”¨æˆ·å</span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨çš„é€‰é¡¹åŒ…æ‹¬-c, -d, -m, -g, -G, -s, -uä»¥åŠ-oç­‰ï¼Œè¿™äº›é€‰é¡¹çš„æ„ä¹‰ä¸useraddå‘½ä»¤ä¸­çš„é€‰é¡¹ä¸€æ ·ï¼Œå¯ä»¥ä¸ºç”¨æˆ·æŒ‡å®šæ–°çš„èµ„æºå€¼ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># usermod -s &#x2F;bin&#x2F;ksh -d &#x2F;home&#x2F;z â€“g developer kuangshen</span><br></pre></td></tr></table></figure>
<p>æ­¤å‘½ä»¤å°†ç”¨æˆ·kuangshençš„ç™»å½•Shellä¿®æ”¹ä¸ºkshï¼Œä¸»ç›®å½•æ”¹ä¸º/home/zï¼Œç”¨æˆ·ç»„æ”¹ä¸ºdeveloperã€‚</p>
<p>ä¿®æ”¹å®Œæ¯•ä¹‹åæŸ¥çœ‹é…ç½®æ–‡ä»¶å³å¯</p>
<blockquote>
<p>ç”¨æˆ·å£ä»¤çš„ç®¡ç†</p>
</blockquote>
<p>ç”¨æˆ·ç®¡ç†çš„ä¸€é¡¹é‡è¦å†…å®¹æ˜¯ç”¨æˆ·å£ä»¤çš„ç®¡ç†ã€‚ç”¨æˆ·è´¦å·åˆšåˆ›å»ºæ—¶æ²¡æœ‰å£ä»¤ï¼Œä½†æ˜¯è¢«ç³»ç»Ÿé”å®šï¼Œæ— æ³•ä½¿ç”¨ï¼Œå¿…é¡»ä¸ºå…¶æŒ‡å®šå£ä»¤åæ‰å¯ä»¥ä½¿ç”¨ï¼Œå³ä½¿æ˜¯æŒ‡å®šç©ºå£ä»¤ã€‚</p>
<p>æŒ‡å®šå’Œä¿®æ”¹ç”¨æˆ·å£ä»¤çš„Shellå‘½ä»¤æ˜¯passwdã€‚è¶…çº§ç”¨æˆ·å¯ä»¥ä¸ºè‡ªå·±å’Œå…¶ä»–ç”¨æˆ·æŒ‡å®šå£ä»¤ï¼Œæ™®é€šç”¨æˆ·åªèƒ½ç”¨å®ƒä¿®æ”¹è‡ªå·±çš„å£ä»¤ã€‚</p>
<p>å‘½ä»¤çš„æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">passwd é€‰é¡¹ ç”¨æˆ·å</span><br></pre></td></tr></table></figure>
<p>å¯ä½¿ç”¨çš„é€‰é¡¹ï¼š</p>
<ul>
<li>-l é”å®šå£ä»¤ï¼Œå³ç¦ç”¨è´¦å·ã€‚</li>
<li>-u å£ä»¤è§£é”ã€‚</li>
<li>-d ä½¿è´¦å·æ— å£ä»¤ã€‚(æ²¡æœ‰å¯†ç ä¹Ÿæ— æ³•æˆåŠŸ)</li>
<li>-f å¼ºè¿«ç”¨æˆ·ä¸‹æ¬¡ç™»å½•æ—¶ä¿®æ”¹å£ä»¤ã€‚</li>
</ul>
<p>å¦‚æœé»˜è®¤ç”¨æˆ·åï¼Œåˆ™ä¿®æ”¹å½“å‰ç”¨æˆ·çš„å£ä»¤ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾å½“å‰ç”¨æˆ·æ˜¯kuangshenï¼Œåˆ™ä¸‹é¢çš„å‘½ä»¤ä¿®æ”¹è¯¥ç”¨æˆ·è‡ªå·±çš„å£ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ passwd </span><br><span class="line">Old password:******</span><br><span class="line">New password:*******</span><br><span class="line">Re-enter new password:*******</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ˜¯è¶…çº§ç”¨æˆ·ï¼Œå¯ä»¥ç”¨ä¸‹åˆ—å½¢å¼æŒ‡å®šä»»ä½•ç”¨æˆ·çš„å£ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># passwd kuangshen</span><br><span class="line">New password:*******</span><br><span class="line">Re-enter new password:*******</span><br></pre></td></tr></table></figure>
<p>æ™®é€šç”¨æˆ·ä¿®æ”¹è‡ªå·±çš„å£ä»¤æ—¶ï¼Œpasswdå‘½ä»¤ä¼šå…ˆè¯¢é—®åŸå£ä»¤ï¼ŒéªŒè¯åå†è¦æ±‚ç”¨æˆ·è¾“å…¥ä¸¤éæ–°å£ä»¤ï¼Œå¦‚æœä¸¤æ¬¡è¾“å…¥çš„å£ä»¤ä¸€è‡´ï¼Œåˆ™å°†è¿™ä¸ªå£ä»¤æŒ‡å®šç»™ç”¨æˆ·ï¼›è€Œè¶…çº§ç”¨æˆ·ä¸ºç”¨æˆ·æŒ‡å®šå£ä»¤æ—¶ï¼Œå°±ä¸éœ€è¦çŸ¥é“åŸå£ä»¤ã€‚</p>
<p>ä¸ºäº†ç³»ç»Ÿå®‰å…¨èµ·è§ï¼Œç”¨æˆ·åº”è¯¥é€‰æ‹©æ¯”è¾ƒå¤æ‚çš„å£ä»¤ï¼Œä¾‹å¦‚æœ€å¥½ä½¿ç”¨8ä½é•¿çš„å£ä»¤ï¼Œå£ä»¤ä¸­åŒ…å«æœ‰å¤§å†™ã€å°å†™å­—æ¯å’Œæ•°å­—ï¼Œå¹¶ä¸”åº”è¯¥ä¸å§“åã€ç”Ÿæ—¥ç­‰ä¸ç›¸åŒã€‚</p>
<p>ä¸ºç”¨æˆ·æŒ‡å®šç©ºå£ä»¤æ—¶ï¼Œæ‰§è¡Œä¸‹åˆ—å½¢å¼çš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># passwd -d kuangshen</span><br></pre></td></tr></table></figure>
<p>æ­¤å‘½ä»¤å°†ç”¨æˆ· kuangshençš„å£ä»¤åˆ é™¤ï¼Œè¿™æ ·ç”¨æˆ· kuangshenä¸‹ä¸€æ¬¡ç™»å½•æ—¶ï¼Œç³»ç»Ÿå°±ä¸å†å…è®¸è¯¥ç”¨æˆ·ç™»å½•äº†ã€‚</p>
<p>passwd å‘½ä»¤è¿˜å¯ä»¥ç”¨ -l(lock) é€‰é¡¹é”å®šæŸä¸€ç”¨æˆ·ï¼Œä½¿å…¶ä¸èƒ½ç™»å½•ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># passwd -l kuangshen</span><br></pre></td></tr></table></figure>


<h3 id="ç”¨æˆ·ç»„ç®¡ç†"><a href="#ç”¨æˆ·ç»„ç®¡ç†" class="headerlink" title="ç”¨æˆ·ç»„ç®¡ç†"></a>ç”¨æˆ·ç»„ç®¡ç†</h3><p>æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªç”¨æˆ·ç»„ï¼Œç³»ç»Ÿå¯ä»¥å¯¹ä¸€ä¸ªç”¨æˆ·ç»„ä¸­çš„æ‰€æœ‰ç”¨æˆ·è¿›è¡Œé›†ä¸­ç®¡ç†ã€‚ä¸åŒLinux ç³»ç»Ÿå¯¹ç”¨æˆ·ç»„çš„è§„å®šæœ‰æ‰€ä¸åŒï¼Œå¦‚Linuxä¸‹çš„ç”¨æˆ·å±äºä¸å®ƒåŒåçš„ç”¨æˆ·ç»„ï¼Œè¿™ä¸ªç”¨æˆ·ç»„åœ¨åˆ›å»ºç”¨æˆ·æ—¶åŒæ—¶åˆ›å»ºã€‚</p>
<p>ç”¨æˆ·ç»„çš„ç®¡ç†æ¶‰åŠç”¨æˆ·ç»„çš„æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹ã€‚ç»„çš„å¢åŠ ã€åˆ é™¤å’Œä¿®æ”¹å®é™…ä¸Šå°±æ˜¯==å¯¹/etc/groupæ–‡ä»¶çš„æ›´æ–°ã€‚==</p>
<blockquote>
<p>å¢åŠ ä¸€ä¸ªæ–°çš„ç”¨æˆ·ç»„ä½¿ç”¨groupaddå‘½ä»¤</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">groupadd é€‰é¡¹ ç”¨æˆ·ç»„</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ä½¿ç”¨çš„é€‰é¡¹æœ‰ï¼š</p>
<ul>
<li>-g GID æŒ‡å®šæ–°ç”¨æˆ·ç»„çš„ç»„æ ‡è¯†å·ï¼ˆGIDï¼‰ã€‚</li>
<li>-o ä¸€èˆ¬ä¸-gé€‰é¡¹åŒæ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºæ–°ç”¨æˆ·ç»„çš„GIDå¯ä»¥ä¸ç³»ç»Ÿå·²æœ‰ç”¨æˆ·ç»„çš„GIDç›¸åŒã€‚</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@yuxuan ~]# groupadd kuangshen</span><br><span class="line">[root@yuxuan ~]# cat /etc/group</span><br></pre></td></tr></table></figure>
<p>å®ä¾‹1ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># groupadd group1</span><br></pre></td></tr></table></figure>
<p>æ­¤å‘½ä»¤å‘ç³»ç»Ÿä¸­å¢åŠ äº†ä¸€ä¸ªæ–°ç»„group1ï¼Œæ–°ç»„çš„ç»„æ ‡è¯†å·æ˜¯åœ¨å½“å‰å·²æœ‰çš„æœ€å¤§ç»„æ ‡è¯†å·çš„åŸºç¡€ä¸ŠåŠ 1ã€‚</p>
<p>å®ä¾‹2ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># groupadd -g 101 group2</span><br></pre></td></tr></table></figure>
<p>æ­¤å‘½ä»¤å‘ç³»ç»Ÿä¸­å¢åŠ äº†ä¸€ä¸ªæ–°ç»„group2ï¼ŒåŒæ—¶æŒ‡å®šæ–°ç»„çš„ç»„æ ‡è¯†å·æ˜¯101ã€‚è‹¥ä¸æŒ‡å®šåˆ™è‡ªå¢1</p>
<blockquote>
<p>å¦‚æœè¦åˆ é™¤ä¸€ä¸ªå·²æœ‰çš„ç”¨æˆ·ç»„ï¼Œä½¿ç”¨groupdelå‘½ä»¤</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">groupdel ç”¨æˆ·ç»„</span><br></pre></td></tr></table></figure>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># groupdel group1</span><br></pre></td></tr></table></figure>
<p>æ­¤å‘½ä»¤ä»ç³»ç»Ÿä¸­åˆ é™¤ç»„group1ã€‚</p>
<blockquote>
<p>ä¿®æ”¹ç”¨æˆ·ç»„çš„å±æ€§ä½¿ç”¨groupmodå‘½ä»¤</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">groupmod é€‰é¡¹ ç”¨æˆ·ç»„</span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨çš„é€‰é¡¹æœ‰ï¼š</p>
<ul>
<li>-g GID ä¸ºç”¨æˆ·ç»„æŒ‡å®šæ–°çš„ç»„æ ‡è¯†å·ã€‚</li>
<li>-o ä¸-gé€‰é¡¹åŒæ—¶ä½¿ç”¨ï¼Œç”¨æˆ·ç»„çš„æ–°GIDå¯ä»¥ä¸ç³»ç»Ÿå·²æœ‰ç”¨æˆ·ç»„çš„GIDç›¸åŒã€‚</li>
<li>-næ–°ç”¨æˆ·ç»„ å°†ç”¨æˆ·ç»„çš„åå­—æ”¹ä¸ºæ–°åå­—</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ­¤å‘½ä»¤å°†ç»„group2çš„ç»„æ ‡è¯†å·ä¿®æ”¹ä¸º102ã€‚</span><br><span class="line">groupmod -g 102 group2</span><br><span class="line"></span><br><span class="line"># å°†ç»„group2çš„æ ‡è¯†å·æ”¹ä¸º10000ï¼Œç»„åä¿®æ”¹ä¸ºgroup3ã€‚</span><br><span class="line">groupmod â€“g 10000 -n group3 group2</span><br></pre></td></tr></table></figure>


<blockquote>
<p>åˆ‡æ¢ç»„</p>
</blockquote>
<p>å¦‚æœä¸€ä¸ªç”¨æˆ·åŒæ—¶å±äºå¤šä¸ªç”¨æˆ·ç»„ï¼Œé‚£ä¹ˆç”¨æˆ·å¯ä»¥åœ¨ç”¨æˆ·ç»„ä¹‹é—´åˆ‡æ¢ï¼Œä»¥ä¾¿å…·æœ‰å…¶ä»–ç”¨æˆ·ç»„çš„æƒé™ã€‚</p>
<p>ç”¨æˆ·å¯ä»¥åœ¨ç™»å½•åï¼Œä½¿ç”¨å‘½ä»¤newgrpåˆ‡æ¢åˆ°å…¶ä»–ç”¨æˆ·ç»„ï¼Œè¿™ä¸ªå‘½ä»¤çš„å‚æ•°å°±æ˜¯ç›®çš„ç”¨æˆ·ç»„ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ newgrp root</span><br></pre></td></tr></table></figure>
<p>è¿™æ¡å‘½ä»¤å°†å½“å‰ç”¨æˆ·åˆ‡æ¢åˆ°rootç”¨æˆ·ç»„ï¼Œå‰ææ¡ä»¶æ˜¯rootç”¨æˆ·ç»„ç¡®å®æ˜¯è¯¥ç”¨æˆ·çš„ä¸»ç»„æˆ–é™„åŠ ç»„ã€‚</p>
<blockquote>
<p>/etc/passwd</p>
</blockquote>
<p>å®Œæˆç”¨æˆ·ç®¡ç†çš„å·¥ä½œæœ‰è®¸å¤šç§æ–¹æ³•ï¼Œä½†æ˜¯æ¯ä¸€ç§æ–¹æ³•å®é™…ä¸Šéƒ½æ˜¯å¯¹æœ‰å…³çš„ç³»ç»Ÿæ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚</p>
<p>ä¸ç”¨æˆ·å’Œç”¨æˆ·ç»„ç›¸å…³çš„ä¿¡æ¯éƒ½å­˜æ”¾åœ¨ä¸€äº›ç³»ç»Ÿæ–‡ä»¶ä¸­ï¼Œè¿™äº›æ–‡ä»¶åŒ…æ‹¬/etc/passwd, /etc/shadow, /etc/groupç­‰ã€‚</p>
<p>ä¸‹é¢åˆ†åˆ«ä»‹ç»è¿™äº›æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<p><strong>/etc/passwdæ–‡ä»¶æ˜¯ç”¨æˆ·ç®¡ç†å·¥ä½œæ¶‰åŠçš„æœ€é‡è¦çš„ä¸€ä¸ªæ–‡ä»¶ã€‚</strong></p>
<p>Linuxç³»ç»Ÿä¸­çš„æ¯ä¸ªç”¨æˆ·éƒ½åœ¨/etc/passwdæ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªå¯¹åº”çš„è®°å½•è¡Œï¼Œå®ƒè®°å½•äº†è¿™ä¸ªç”¨æˆ·çš„ä¸€äº›åŸºæœ¬å±æ€§ã€‚</p>
<p>è¿™ä¸ªæ–‡ä»¶å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½æ˜¯å¯è¯»çš„ã€‚å®ƒçš„å†…å®¹ç±»ä¼¼ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ï¼ƒ cat &#x2F;etc&#x2F;passwd</span><br><span class="line"></span><br><span class="line">root:x:0:0:Superuser:&#x2F;:</span><br><span class="line">daemon:x:1:1:System daemons:&#x2F;etc:</span><br><span class="line">bin:x:2:2:Owner of system commands:&#x2F;bin:</span><br><span class="line">sys:x:3:3:Owner of system files:&#x2F;usr&#x2F;sys:</span><br><span class="line">adm:x:4:4:System accounting:&#x2F;usr&#x2F;adm:</span><br><span class="line">uucp:x:5:5:UUCP administrator:&#x2F;usr&#x2F;lib&#x2F;uucp:</span><br><span class="line">auth:x:7:21:Authentication administrator:&#x2F;tcb&#x2F;files&#x2F;auth:</span><br><span class="line">cron:x:9:16:Cron daemon:&#x2F;usr&#x2F;spool&#x2F;cron:</span><br><span class="line">listen:x:37:4:Network daemon:&#x2F;usr&#x2F;net&#x2F;nls:</span><br><span class="line">lp:x:71:18:Printer administrator:&#x2F;usr&#x2F;spool&#x2F;lp:</span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ/etc/passwdä¸­ä¸€è¡Œè®°å½•å¯¹åº”ç€ä¸€ä¸ªç”¨æˆ·ï¼Œæ¯è¡Œè®°å½•åˆè¢«å†’å·(:)åˆ†éš”ä¸º7ä¸ªå­—æ®µï¼Œå…¶æ ¼å¼å’Œå…·ä½“å«ä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç”¨æˆ·å:å£ä»¤:ç”¨æˆ·æ ‡è¯†å·:ç»„æ ‡è¯†å·:æ³¨é‡Šæ€§æè¿°:ä¸»ç›®å½•:ç™»å½•Shell</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œéƒ½ä»£è¡¨ä¸€ä¸ªç”¨æˆ·ï¼Œæˆ‘ä»¬å¯ä»¥ä»è¿™é‡Œçœ‹å‡ºè¿™ä¸ªç”¨æˆ·çš„ä¸»ç›®å½•åœ¨å“ªé‡Œï¼Œå¯ä»¥çœ‹åˆ°å±äºå“ªä¸€ä¸ªç»„ï¼</p>
<p>ç™»é™†å£ä»¤ï¼š/etc/shadowï¼Œä¿éšœæˆ‘ä»¬å¯†ç çš„å®‰å…¨å‘½ä»¤</p>
<p>1ï¼‰â€ç”¨æˆ·åâ€æ˜¯ä»£è¡¨ç”¨æˆ·è´¦å·çš„å­—ç¬¦ä¸²ã€‚</p>
<p>é€šå¸¸é•¿åº¦ä¸è¶…è¿‡8ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”ç”±å¤§å°å†™å­—æ¯å’Œ/æˆ–æ•°å­—ç»„æˆã€‚ç™»å½•åä¸­ä¸èƒ½æœ‰å†’å·(:)ï¼Œå› ä¸ºå†’å·åœ¨è¿™é‡Œæ˜¯åˆ†éš”ç¬¦ã€‚</p>
<p>ä¸ºäº†å…¼å®¹èµ·è§ï¼Œç™»å½•åä¸­æœ€å¥½ä¸è¦åŒ…å«ç‚¹å­—ç¬¦(.)ï¼Œå¹¶ä¸”ä¸ä½¿ç”¨è¿å­—ç¬¦(-)å’ŒåŠ å·(+)æ‰“å¤´ã€‚</p>
<p>2ï¼‰â€œå£ä»¤â€ä¸€äº›ç³»ç»Ÿä¸­ï¼Œ<strong>å­˜æ”¾ç€åŠ å¯†åçš„ç”¨æˆ·å£ä»¤å­—</strong>(ä¸å¯è§)ã€‚</p>
<p>è™½ç„¶è¿™ä¸ªå­—æ®µå­˜æ”¾çš„åªæ˜¯ç”¨æˆ·å£ä»¤çš„åŠ å¯†ä¸²ï¼Œä¸æ˜¯æ˜æ–‡ï¼Œä½†æ˜¯ç”±äº/etc/passwdæ–‡ä»¶å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½å¯è¯»ï¼Œæ‰€ä»¥è¿™ä»æ˜¯ä¸€ä¸ªå®‰å…¨éšæ‚£ã€‚å› æ­¤ï¼Œç°åœ¨è®¸å¤šLinux ç³»ç»Ÿï¼ˆå¦‚SVR4ï¼‰éƒ½ä½¿ç”¨äº†shadowæŠ€æœ¯ï¼ŒæŠŠçœŸæ­£çš„åŠ å¯†åçš„ç”¨æˆ·å£ä»¤å­—å­˜æ”¾åˆ°/etc/shadowæ–‡ä»¶ä¸­ï¼Œè€Œåœ¨/etc/passwdæ–‡ä»¶çš„å£ä»¤å­—æ®µä¸­åªå­˜æ”¾ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ï¼Œä¾‹å¦‚â€œxâ€æˆ–è€…â€œ*â€ã€‚</p>
<p>3ï¼‰â€œç”¨æˆ·æ ‡è¯†å·â€æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œç³»ç»Ÿå†…éƒ¨ç”¨å®ƒæ¥æ ‡è¯†ç”¨æˆ·ã€‚</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹å®ƒä¸ç”¨æˆ·åæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚å¦‚æœå‡ ä¸ªç”¨æˆ·åå¯¹åº”çš„ç”¨æˆ·æ ‡è¯†å·æ˜¯ä¸€æ ·çš„ï¼Œç³»ç»Ÿå†…éƒ¨å°†æŠŠå®ƒä»¬è§†ä¸ºåŒä¸€ä¸ªç”¨æˆ·ï¼Œä½†æ˜¯å®ƒä»¬å¯ä»¥æœ‰ä¸åŒçš„å£ä»¤ã€ä¸åŒçš„ä¸»ç›®å½•ä»¥åŠä¸åŒçš„ç™»å½•Shellç­‰ã€‚</p>
<p>é€šå¸¸ç”¨æˆ·æ ‡è¯†å·çš„å–å€¼èŒƒå›´æ˜¯0ï½65 535ã€‚0æ˜¯è¶…çº§ç”¨æˆ·rootçš„æ ‡è¯†å·ï¼Œ1ï½99ç”±ç³»ç»Ÿä¿ç•™ï¼Œä½œä¸ºç®¡ç†è´¦å·ï¼Œæ™®é€šç”¨æˆ·çš„æ ‡è¯†å·ä»100å¼€å§‹ã€‚åœ¨Linuxç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªç•Œé™æ˜¯500ã€‚</p>
<p>4ï¼‰â€œç»„æ ‡è¯†å·â€å­—æ®µè®°å½•çš„æ˜¯ç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç»„ã€‚</p>
<p>å®ƒå¯¹åº”ç€/etc/groupæ–‡ä»¶ä¸­çš„ä¸€æ¡è®°å½•ã€‚</p>
<p>5)â€œæ³¨é‡Šæ€§æè¿°â€å­—æ®µè®°å½•ç€ç”¨æˆ·çš„ä¸€äº›ä¸ªäººæƒ…å†µã€‚</p>
<p>ä¾‹å¦‚ç”¨æˆ·çš„çœŸå®å§“åã€ç”µè¯ã€åœ°å€ç­‰ï¼Œè¿™ä¸ªå­—æ®µå¹¶æ²¡æœ‰ä»€ä¹ˆå®é™…çš„ç”¨é€”ã€‚åœ¨ä¸åŒçš„Linux ç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªå­—æ®µçš„æ ¼å¼å¹¶æ²¡æœ‰ç»Ÿä¸€ã€‚åœ¨è®¸å¤šLinuxç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªå­—æ®µå­˜æ”¾çš„æ˜¯ä¸€æ®µä»»æ„çš„æ³¨é‡Šæ€§æè¿°æ–‡å­—ï¼Œç”¨ä½œfingerå‘½ä»¤çš„è¾“å‡ºã€‚</p>
<p>6)â€œä¸»ç›®å½•â€ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·çš„èµ·å§‹å·¥ä½œç›®å½•ã€‚</p>
<p>å®ƒæ˜¯ç”¨æˆ·åœ¨ç™»å½•åˆ°ç³»ç»Ÿä¹‹åæ‰€å¤„çš„ç›®å½•ã€‚åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œå„ç”¨æˆ·çš„ä¸»ç›®å½•éƒ½è¢«ç»„ç»‡åœ¨åŒä¸€ä¸ªç‰¹å®šçš„ç›®å½•ä¸‹ï¼Œè€Œç”¨æˆ·ä¸»ç›®å½•çš„åç§°å°±æ˜¯è¯¥ç”¨æˆ·çš„ç™»å½•åã€‚å„ç”¨æˆ·å¯¹è‡ªå·±çš„ä¸»ç›®å½•æœ‰è¯»ã€å†™ã€æ‰§è¡Œï¼ˆæœç´¢ï¼‰æƒé™ï¼Œå…¶ä»–ç”¨æˆ·å¯¹æ­¤ç›®å½•çš„è®¿é—®æƒé™åˆ™æ ¹æ®å…·ä½“æƒ…å†µè®¾ç½®ã€‚</p>
<p>7)ç”¨æˆ·ç™»å½•åï¼Œè¦å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œè´Ÿè´£å°†ç”¨æˆ·çš„æ“ä½œä¼ ç»™å†…æ ¸ï¼Œè¿™ä¸ªè¿›ç¨‹æ˜¯ç”¨æˆ·ç™»å½•åˆ°ç³»ç»Ÿåè¿è¡Œçš„å‘½ä»¤è§£é‡Šå™¨æˆ–æŸä¸ªç‰¹å®šçš„ç¨‹åºï¼Œå³Shellã€‚</p>
<p>Shellæ˜¯ç”¨æˆ·ä¸Linuxç³»ç»Ÿä¹‹é—´çš„æ¥å£ã€‚Linuxçš„Shellæœ‰è®¸å¤šç§ï¼Œæ¯ç§éƒ½æœ‰ä¸åŒçš„ç‰¹ç‚¹ã€‚å¸¸ç”¨çš„æœ‰sh(Bourne Shell), csh(C Shell), ksh(Korn Shell), tcsh(TENEX/TOPS-20 type C Shell), bash(Bourne Again Shell)ç­‰ã€‚</p>
<p>ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥æ ¹æ®ç³»ç»Ÿæƒ…å†µå’Œç”¨æˆ·ä¹ æƒ¯ä¸ºç”¨æˆ·æŒ‡å®šæŸä¸ªShellã€‚å¦‚æœä¸æŒ‡å®šShellï¼Œé‚£ä¹ˆç³»ç»Ÿä½¿ç”¨shä¸ºé»˜è®¤çš„ç™»å½•Shellï¼Œå³è¿™ä¸ªå­—æ®µçš„å€¼ä¸º/bin/shã€‚</p>
<p>ç”¨æˆ·çš„ç™»å½•Shellä¹Ÿå¯ä»¥æŒ‡å®šä¸ºæŸä¸ªç‰¹å®šçš„ç¨‹åºï¼ˆæ­¤ç¨‹åºä¸æ˜¯ä¸€ä¸ªå‘½ä»¤è§£é‡Šå™¨ï¼‰ã€‚</p>
<p>åˆ©ç”¨è¿™ä¸€ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥é™åˆ¶ç”¨æˆ·åªèƒ½è¿è¡ŒæŒ‡å®šçš„åº”ç”¨ç¨‹åºï¼Œåœ¨è¯¥åº”ç”¨ç¨‹åºè¿è¡Œç»“æŸåï¼Œç”¨æˆ·å°±è‡ªåŠ¨é€€å‡ºäº†ç³»ç»Ÿã€‚æœ‰äº›Linux ç³»ç»Ÿè¦æ±‚åªæœ‰é‚£äº›åœ¨ç³»ç»Ÿä¸­ç™»è®°äº†çš„ç¨‹åºæ‰èƒ½å‡ºç°åœ¨è¿™ä¸ªå­—æ®µä¸­ã€‚</p>
<p>8)ç³»ç»Ÿä¸­æœ‰ä¸€ç±»ç”¨æˆ·ç§°ä¸ºä¼ªç”¨æˆ·ï¼ˆpseudo usersï¼‰ã€‚</p>
<p>è¿™äº›ç”¨æˆ·åœ¨/etc/passwdæ–‡ä»¶ä¸­ä¹Ÿå æœ‰ä¸€æ¡è®°å½•ï¼Œä½†æ˜¯ä¸èƒ½ç™»å½•ï¼Œå› ä¸ºå®ƒä»¬çš„ç™»å½•Shellä¸ºç©ºã€‚å®ƒä»¬çš„å­˜åœ¨ä¸»è¦æ˜¯æ–¹ä¾¿ç³»ç»Ÿç®¡ç†ï¼Œæ»¡è¶³ç›¸åº”çš„ç³»ç»Ÿè¿›ç¨‹å¯¹æ–‡ä»¶å±ä¸»çš„è¦æ±‚ã€‚</p>
<p>å¸¸è§çš„ä¼ªç”¨æˆ·å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¼ª ç”¨ æˆ· å« ä¹‰</span><br><span class="line">bin æ‹¥æœ‰å¯æ‰§è¡Œçš„ç”¨æˆ·å‘½ä»¤æ–‡ä»¶</span><br><span class="line">sys æ‹¥æœ‰ç³»ç»Ÿæ–‡ä»¶</span><br><span class="line">adm æ‹¥æœ‰å¸æˆ·æ–‡ä»¶</span><br><span class="line">uucp UUCPä½¿ç”¨</span><br><span class="line">lp lpæˆ–lpdå­ç³»ç»Ÿä½¿ç”¨</span><br><span class="line">nobody NFSä½¿ç”¨</span><br></pre></td></tr></table></figure>
<blockquote>
<p>/etc/shadow</p>
</blockquote>
<p><strong>1ã€é™¤äº†ä¸Šé¢åˆ—å‡ºçš„ä¼ªç”¨æˆ·å¤–ï¼Œè¿˜æœ‰è®¸å¤šæ ‡å‡†çš„ä¼ªç”¨æˆ·ï¼Œä¾‹å¦‚ï¼šaudit, cron, mail, usenetç­‰ï¼Œå®ƒä»¬ä¹Ÿéƒ½å„è‡ªä¸ºç›¸å…³çš„è¿›ç¨‹å’Œæ–‡ä»¶æ‰€éœ€è¦ã€‚</strong></p>
<p>ç”±äº/etc/passwdæ–‡ä»¶æ˜¯æ‰€æœ‰ç”¨æˆ·éƒ½å¯è¯»çš„ï¼Œå¦‚æœç”¨æˆ·çš„å¯†ç å¤ªç®€å•æˆ–è§„å¾‹æ¯”è¾ƒæ˜æ˜¾çš„è¯ï¼Œä¸€å°æ™®é€šçš„è®¡ç®—æœºå°±èƒ½å¤Ÿå¾ˆå®¹æ˜“åœ°å°†å®ƒç ´è§£ï¼Œå› æ­¤å¯¹å®‰å…¨æ€§è¦æ±‚è¾ƒé«˜çš„Linuxç³»ç»Ÿéƒ½æŠŠåŠ å¯†åçš„å£ä»¤å­—åˆ†ç¦»å‡ºæ¥ï¼Œå•ç‹¬å­˜æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯/etc/shadowæ–‡ä»¶ã€‚æœ‰è¶…çº§ç”¨æˆ·æ‰æ‹¥æœ‰è¯¥æ–‡ä»¶è¯»æƒé™ï¼Œè¿™å°±ä¿è¯äº†ç”¨æˆ·å¯†ç çš„å®‰å…¨æ€§ã€‚</p>
<p><strong>2ã€/etc/shadowä¸­çš„è®°å½•è¡Œä¸/etc/passwdä¸­çš„ä¸€ä¸€å¯¹åº”ï¼Œå®ƒç”±pwconvå‘½ä»¤æ ¹æ®/etc/passwdä¸­çš„æ•°æ®è‡ªåŠ¨äº§ç”Ÿ</strong></p>
<p>å®ƒçš„æ–‡ä»¶æ ¼å¼ä¸/etc/passwdç±»ä¼¼ï¼Œç”±è‹¥å¹²ä¸ªå­—æ®µç»„æˆï¼Œå­—æ®µä¹‹é—´ç”¨â€:â€éš”å¼€ã€‚è¿™äº›å­—æ®µæ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç™»å½•å:åŠ å¯†å£ä»¤:æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´:æœ€å°æ—¶é—´é—´éš”:æœ€å¤§æ—¶é—´é—´éš”:è­¦å‘Šæ—¶é—´:ä¸æ´»åŠ¨æ—¶é—´:å¤±æ•ˆæ—¶é—´:æ ‡å¿—</span><br></pre></td></tr></table></figure>
<ol>
<li>â€œç™»å½•åâ€æ˜¯ä¸/etc/passwdæ–‡ä»¶ä¸­çš„ç™»å½•åç›¸ä¸€è‡´çš„ç”¨æˆ·è´¦å·</li>
<li>â€œå£ä»¤â€å­—æ®µå­˜æ”¾çš„æ˜¯åŠ å¯†åçš„ç”¨æˆ·å£ä»¤å­—ï¼Œé•¿åº¦ä¸º13ä¸ªå­—ç¬¦ã€‚å¦‚æœä¸ºç©ºï¼Œåˆ™å¯¹åº”ç”¨æˆ·æ²¡æœ‰å£ä»¤ï¼Œç™»å½•æ—¶ä¸éœ€è¦å£ä»¤ï¼›å¦‚æœå«æœ‰ä¸å±äºé›†åˆ { ./0-9A-Za-z }ä¸­çš„å­—ç¬¦ï¼Œåˆ™å¯¹åº”çš„ç”¨æˆ·ä¸èƒ½ç™»å½•ã€‚</li>
<li>â€œæœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´â€è¡¨ç¤ºçš„æ˜¯ä»æŸä¸ªæ—¶åˆ»èµ·ï¼Œåˆ°ç”¨æˆ·æœ€åä¸€æ¬¡ä¿®æ”¹å£ä»¤æ—¶çš„å¤©æ•°ã€‚æ—¶é—´èµ·ç‚¹å¯¹ä¸åŒçš„ç³»ç»Ÿå¯èƒ½ä¸ä¸€æ ·ã€‚ä¾‹å¦‚åœ¨SCO Linux ä¸­ï¼Œè¿™ä¸ªæ—¶é—´èµ·ç‚¹æ˜¯1970å¹´1æœˆ1æ—¥ã€‚</li>
<li>â€œæœ€å°æ—¶é—´é—´éš”â€æŒ‡çš„æ˜¯ä¸¤æ¬¡ä¿®æ”¹å£ä»¤ä¹‹é—´æ‰€éœ€çš„æœ€å°å¤©æ•°ã€‚</li>
<li>â€œæœ€å¤§æ—¶é—´é—´éš”â€æŒ‡çš„æ˜¯å£ä»¤ä¿æŒæœ‰æ•ˆçš„æœ€å¤§å¤©æ•°ã€‚</li>
<li>â€œè­¦å‘Šæ—¶é—´â€å­—æ®µè¡¨ç¤ºçš„æ˜¯ä»ç³»ç»Ÿå¼€å§‹è­¦å‘Šç”¨æˆ·åˆ°ç”¨æˆ·å¯†ç æ­£å¼å¤±æ•ˆä¹‹é—´çš„å¤©æ•°ã€‚</li>
<li>â€œä¸æ´»åŠ¨æ—¶é—´â€è¡¨ç¤ºçš„æ˜¯ç”¨æˆ·æ²¡æœ‰ç™»å½•æ´»åŠ¨ä½†è´¦å·ä»èƒ½ä¿æŒæœ‰æ•ˆçš„æœ€å¤§å¤©æ•°ã€‚</li>
<li>â€œå¤±æ•ˆæ—¶é—´â€å­—æ®µç»™å‡ºçš„æ˜¯ä¸€ä¸ªç»å¯¹çš„å¤©æ•°ï¼Œå¦‚æœä½¿ç”¨äº†è¿™ä¸ªå­—æ®µï¼Œé‚£ä¹ˆå°±ç»™å‡ºç›¸åº”è´¦å·çš„ç”Ÿå­˜æœŸã€‚æœŸæ»¡åï¼Œè¯¥è´¦å·å°±ä¸å†æ˜¯ä¸€ä¸ªåˆæ³•çš„è´¦å·ï¼Œä¹Ÿå°±ä¸èƒ½å†ç”¨æ¥ç™»å½•äº†ã€‚</li>
</ol>
<blockquote>
<p>/etc/group</p>
</blockquote>
<p>ç”¨æˆ·ç»„çš„æ‰€æœ‰ä¿¡æ¯éƒ½å­˜æ”¾åœ¨/etc/groupæ–‡ä»¶ä¸­ã€‚</p>
<p>å°†ç”¨æˆ·åˆ†ç»„æ˜¯Linux ç³»ç»Ÿä¸­å¯¹ç”¨æˆ·è¿›è¡Œç®¡ç†åŠæ§åˆ¶è®¿é—®æƒé™çš„ä¸€ç§æ‰‹æ®µã€‚</p>
<p>æ¯ä¸ªç”¨æˆ·éƒ½å±äºæŸä¸ªç”¨æˆ·ç»„ï¼›ä¸€ä¸ªç»„ä¸­å¯ä»¥æœ‰å¤šä¸ªç”¨æˆ·ï¼Œä¸€ä¸ªç”¨æˆ·ä¹Ÿå¯ä»¥å±äºä¸åŒçš„ç»„ã€‚</p>
<p>å½“ä¸€ä¸ªç”¨æˆ·åŒæ—¶æ˜¯å¤šä¸ªç»„ä¸­çš„æˆå‘˜æ—¶ï¼Œåœ¨/etc/passwdæ–‡ä»¶ä¸­è®°å½•çš„æ˜¯ç”¨æˆ·æ‰€å±çš„ä¸»ç»„ï¼Œä¹Ÿå°±æ˜¯ç™»å½•æ—¶æ‰€å±çš„é»˜è®¤ç»„ï¼Œè€Œå…¶ä»–ç»„ç§°ä¸ºé™„åŠ ç»„ã€‚</p>
<p>ç”¨æˆ·è¦è®¿é—®å±äºé™„åŠ ç»„çš„æ–‡ä»¶æ—¶ï¼Œå¿…é¡»é¦–å…ˆä½¿ç”¨newgrpå‘½ä»¤ä½¿è‡ªå·±æˆä¸ºæ‰€è¦è®¿é—®çš„ç»„ä¸­çš„æˆå‘˜ã€‚</p>
<p>ç”¨æˆ·ç»„çš„æ‰€æœ‰ä¿¡æ¯éƒ½å­˜æ”¾åœ¨/etc/groupæ–‡ä»¶ä¸­ã€‚æ­¤æ–‡ä»¶çš„æ ¼å¼ä¹Ÿç±»ä¼¼äº/etc/passwdæ–‡ä»¶ï¼Œç”±å†’å·(:)éš”å¼€è‹¥å¹²ä¸ªå­—æ®µï¼Œè¿™äº›å­—æ®µæœ‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç»„å:å£ä»¤:ç»„æ ‡è¯†å·:ç»„å†…ç”¨æˆ·åˆ—è¡¨</span><br></pre></td></tr></table></figure>
<ol>
<li><p>â€œç»„åâ€æ˜¯ç”¨æˆ·ç»„çš„åç§°ï¼Œç”±å­—æ¯æˆ–æ•°å­—æ„æˆã€‚ä¸/etc/passwdä¸­çš„ç™»å½•åä¸€æ ·ï¼Œç»„åä¸åº”é‡å¤ã€‚</p>
</li>
<li><p>â€œå£ä»¤â€å­—æ®µå­˜æ”¾çš„æ˜¯ç”¨æˆ·ç»„åŠ å¯†åçš„å£ä»¤å­—ã€‚ä¸€èˆ¬Linux ç³»ç»Ÿçš„ç”¨æˆ·ç»„éƒ½æ²¡æœ‰å£ä»¤ï¼Œå³è¿™ä¸ªå­—æ®µä¸€èˆ¬ä¸ºç©ºï¼Œæˆ–è€…æ˜¯*ã€‚</p>
</li>
<li><p>â€œç»„æ ‡è¯†å·â€ä¸ç”¨æˆ·æ ‡è¯†å·ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¢«ç³»ç»Ÿå†…éƒ¨ç”¨æ¥æ ‡è¯†ç»„ã€‚</p>
</li>
<li><p>â€œç»„å†…ç”¨æˆ·åˆ—è¡¨â€æ˜¯å±äºè¿™ä¸ªç»„çš„æ‰€æœ‰ç”¨æˆ·çš„åˆ—è¡¨/b]ï¼Œä¸åŒç”¨æˆ·ä¹‹é—´ç”¨é€—å·(,)åˆ†éš”ã€‚è¿™ä¸ªç”¨æˆ·ç»„å¯èƒ½æ˜¯ç”¨æˆ·çš„ä¸»ç»„ï¼Œä¹Ÿå¯èƒ½æ˜¯é™„åŠ ç»„ã€‚</p>
</li>
</ol>
<h3 id="ç£ç›˜ç®¡ç†"><a href="#ç£ç›˜ç®¡ç†" class="headerlink" title="ç£ç›˜ç®¡ç†"></a>ç£ç›˜ç®¡ç†</h3><blockquote>
<p>æ¦‚è¿°</p>
</blockquote>
<p>Linuxç£ç›˜ç®¡ç†å¥½åç›´æ¥å…³ç³»åˆ°æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ã€‚</p>
<p>Linuxç£ç›˜ç®¡ç†å¸¸ç”¨å‘½ä»¤ä¸º dfã€duã€‚</p>
<ul>
<li>df ï¼šåˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ç£ç›˜ä½¿ç”¨é‡</li>
<li>duï¼šæ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨é‡</li>
</ul>
<blockquote>
<p>df</p>
</blockquote>
<p>dfå‘½ä»¤å‚æ•°åŠŸèƒ½ï¼šæ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´å ç”¨æƒ…å†µã€‚å¯ä»¥åˆ©ç”¨è¯¥å‘½ä»¤æ¥è·å–ç¡¬ç›˜è¢«å ç”¨äº†å¤šå°‘ç©ºé—´ï¼Œç›®å‰è¿˜å‰©ä¸‹å¤šå°‘ç©ºé—´ç­‰ä¿¡æ¯ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df [-ahikHTm] [ç›®å½•æˆ–æ–‡ä»¶å]</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul>
<li>-a ï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬ç³»ç»Ÿç‰¹æœ‰çš„ /proc ç­‰æ–‡ä»¶ç³»ç»Ÿï¼›</li>
<li>-k ï¼šä»¥ KBytes çš„å®¹é‡æ˜¾ç¤ºå„æ–‡ä»¶ç³»ç»Ÿï¼›</li>
<li>-m ï¼šä»¥ MBytes çš„å®¹é‡æ˜¾ç¤ºå„æ–‡ä»¶ç³»ç»Ÿï¼›</li>
<li>-h ï¼šä»¥äººä»¬è¾ƒæ˜“é˜…è¯»çš„ GBytes, MBytes, KBytes ç­‰æ ¼å¼è‡ªè¡Œæ˜¾ç¤ºï¼›</li>
<li>-H ï¼šä»¥ M=1000K å–ä»£ M=1024K çš„è¿›ä½æ–¹å¼ï¼›</li>
<li>-T ï¼šæ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç±»å‹, è¿åŒè¯¥ partition çš„ filesystem åç§° (ä¾‹å¦‚ ext3) ä¹Ÿåˆ—å‡ºï¼›</li>
<li>-i ï¼šä¸ç”¨ç¡¬ç›˜å®¹é‡ï¼Œè€Œä»¥ inode çš„æ•°é‡æ¥æ˜¾ç¤º</li>
</ul>
<p>æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å°†ç³»ç»Ÿå†…æ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿåˆ—å‡ºæ¥ï¼</span><br><span class="line"># åœ¨ Linux åº•ä¸‹å¦‚æœ df æ²¡æœ‰åŠ ä»»ä½•é€‰é¡¹</span><br><span class="line"># é‚£ä¹ˆé»˜è®¤ä¼šå°†ç³»ç»Ÿå†…æ‰€æœ‰çš„ (ä¸å«ç‰¹æ®Šå†…å­˜å†…çš„æ–‡ä»¶ç³»ç»Ÿä¸ swap) éƒ½ä»¥ 1 Kbytes çš„å®¹é‡æ¥åˆ—å‡ºæ¥ï¼</span><br><span class="line">[root@kuangshen &#x2F;]# df</span><br><span class="line">Filesystem     1K-blocks   Used Available Use% Mounted on</span><br><span class="line">devtmpfs          889100       0    889100   0% &#x2F;dev</span><br><span class="line">tmpfs             899460     704    898756   1% &#x2F;dev&#x2F;shm</span><br><span class="line">tmpfs             899460     496    898964   1% &#x2F;run</span><br><span class="line">tmpfs             899460       0    899460   0% &#x2F;sys&#x2F;fs&#x2F;cgroup</span><br><span class="line">&#x2F;dev&#x2F;vda1       41152812 6586736  32662368  17% &#x2F;</span><br><span class="line">tmpfs             179896       0    179896   0% &#x2F;run&#x2F;user&#x2F;0</span><br><span class="line"># å°†å®¹é‡ç»“æœä»¥æ˜“è¯»çš„å®¹é‡æ ¼å¼æ˜¾ç¤ºå‡ºæ¥</span><br><span class="line">[root@kuangshen &#x2F;]# df -h</span><br><span class="line">Filesystem     Size Used Avail Use% Mounted on</span><br><span class="line">devtmpfs       869M     0 869M   0% &#x2F;dev</span><br><span class="line">tmpfs           879M 708K 878M   1% &#x2F;dev&#x2F;shm</span><br><span class="line">tmpfs           879M 496K 878M   1% &#x2F;run</span><br><span class="line">tmpfs           879M     0 879M   0% &#x2F;sys&#x2F;fs&#x2F;cgroup</span><br><span class="line">&#x2F;dev&#x2F;vda1       40G  6.3G   32G  17% &#x2F;</span><br><span class="line">tmpfs           176M     0 176M   0% &#x2F;run&#x2F;user&#x2F;0</span><br><span class="line"># å°†ç³»ç»Ÿå†…çš„æ‰€æœ‰ç‰¹æ®Šæ–‡ä»¶æ ¼å¼åŠåç§°éƒ½åˆ—å‡ºæ¥</span><br><span class="line">[root@kuangshen &#x2F;]# df -aT</span><br><span class="line">Filesystem     Type       1K-blocks   Used Available Use% Mounted on</span><br><span class="line">sysfs         sysfs               0       0         0    - &#x2F;sys</span><br><span class="line">proc           proc                0       0         0    - &#x2F;proc</span><br><span class="line">devtmpfs       devtmpfs       889100       0    889100   0% &#x2F;dev</span><br><span class="line">securityfs     securityfs          0       0         0    - &#x2F;sys&#x2F;kernel&#x2F;security</span><br><span class="line">tmpfs         tmpfs          899460     708    898752   1% &#x2F;dev&#x2F;shm</span><br><span class="line">devpts         devpts              0       0         0    - &#x2F;dev&#x2F;pts</span><br><span class="line">tmpfs         tmpfs          899460     496    898964   1% &#x2F;run</span><br><span class="line">tmpfs         tmpfs          899460       0    899460   0% &#x2F;sys&#x2F;fs&#x2F;cgroup</span><br><span class="line">cgroup         cgroup              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd</span><br><span class="line">pstore         pstore              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;pstore</span><br><span class="line">cgroup         cgroup              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;freezer</span><br><span class="line">cgroup         cgroup              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;cpuset</span><br><span class="line">cgroup         cgroup              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;hugetlb</span><br><span class="line">cgroup         cgroup              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;blkio</span><br><span class="line">cgroup         cgroup              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;net_cls,net_prio</span><br><span class="line">cgroup         cgroup              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory</span><br><span class="line">cgroup         cgroup              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;pids</span><br><span class="line">cgroup         cgroup              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;cpu,cpuacct</span><br><span class="line">cgroup         cgroup              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;devices</span><br><span class="line">cgroup         cgroup              0       0         0    - &#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;perf_event</span><br><span class="line">configfs       configfs            0       0         0    - &#x2F;sys&#x2F;kernel&#x2F;config</span><br><span class="line">&#x2F;dev&#x2F;vda1     ext4         41152812 6586748  32662356  17% &#x2F;</span><br><span class="line">systemd-1      -                   -       -         -    - &#x2F;proc&#x2F;sys&#x2F;fs&#x2F;binfmt_misc</span><br><span class="line">mqueue         mqueue              0       0         0    - &#x2F;dev&#x2F;mqueue</span><br><span class="line">debugfs       debugfs             0       0         0    - &#x2F;sys&#x2F;kernel&#x2F;debug</span><br><span class="line">hugetlbfs     hugetlbfs           0       0         0    - &#x2F;dev&#x2F;hugepages</span><br><span class="line">tmpfs         tmpfs          179896       0    179896   0% &#x2F;run&#x2F;user&#x2F;0</span><br><span class="line">binfmt_misc   binfmt_misc         0       0         0    - &#x2F;proc&#x2F;sys&#x2F;fs&#x2F;binfmt_misc</span><br><span class="line"># å°† &#x2F;etc åº•ä¸‹çš„å¯ç”¨çš„ç£ç›˜å®¹é‡ä»¥æ˜“è¯»çš„å®¹é‡æ ¼å¼æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">[root@kuangshen &#x2F;]# df -h &#x2F;etc</span><br><span class="line">Filesystem     Size Used Avail Use% Mounted on</span><br><span class="line">&#x2F;dev&#x2F;vda1       40G  6.3G   32G  17% &#x2F;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>du</p>
</blockquote>
<p>Linux duå‘½ä»¤ä¹Ÿæ˜¯æŸ¥çœ‹ä½¿ç”¨ç©ºé—´çš„ï¼Œä½†æ˜¯ä¸dfå‘½ä»¤ä¸åŒçš„æ˜¯Linux duå‘½ä»¤æ˜¯å¯¹æ–‡ä»¶å’Œç›®å½•ç£ç›˜ä½¿ç”¨çš„ç©ºé—´çš„æŸ¥çœ‹ï¼Œè¿˜æ˜¯å’Œdfå‘½ä»¤æœ‰ä¸€äº›åŒºåˆ«çš„ï¼Œè¿™é‡Œä»‹ç»Linux duå‘½ä»¤ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">du [-ahskm] æ–‡ä»¶æˆ–ç›®å½•åç§°</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul>
<li>-a ï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ä¸ç›®å½•å®¹é‡ï¼Œå› ä¸ºé»˜è®¤ä»…ç»Ÿè®¡ç›®å½•åº•ä¸‹çš„æ–‡ä»¶é‡è€Œå·²ã€‚</li>
<li>-h ï¼šä»¥äººä»¬è¾ƒæ˜“è¯»çš„å®¹é‡æ ¼å¼ (G/M) æ˜¾ç¤ºï¼›</li>
<li>-s ï¼šåˆ—å‡ºæ€»é‡è€Œå·²ï¼Œè€Œä¸åˆ—å‡ºæ¯ä¸ªå„åˆ«çš„ç›®å½•å ç”¨å®¹é‡ï¼›</li>
<li>-S ï¼šä¸åŒ…æ‹¬å­ç›®å½•ä¸‹çš„æ€»è®¡ï¼Œä¸ -s æœ‰ç‚¹å·®åˆ«ã€‚</li>
<li>-k ï¼šä»¥ KBytes åˆ—å‡ºå®¹é‡æ˜¾ç¤ºï¼›</li>
<li>-m ï¼šä»¥ MBytes åˆ—å‡ºå®¹é‡æ˜¾ç¤ºï¼›</li>
</ul>
<p>æµ‹è¯•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åªåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹å®¹é‡ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶å¤¹ï¼‰:</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç›´æ¥è¾“å…¥ du æ²¡æœ‰åŠ ä»»ä½•é€‰é¡¹æ—¶ï¼Œåˆ™ du ä¼šåˆ†æå½“å‰æ‰€åœ¨ç›®å½•çš„æ–‡ä»¶ä¸ç›®å½•æ‰€å ç”¨çš„ç¡¬ç›˜ç©ºé—´ã€‚</span></span><br><span class="line">[root@kuangshen home]# du</span><br><span class="line">16./redis</span><br><span class="line">8./www/.oracle_jre_usage  # åŒ…æ‹¬éšè—æ–‡ä»¶çš„ç›®å½•</span><br><span class="line">24./www</span><br><span class="line">48.                        # è¿™ä¸ªç›®å½•(.)æ‰€å ç”¨çš„æ€»é‡</span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†æ–‡ä»¶çš„å®¹é‡ä¹Ÿåˆ—å‡ºæ¥</span></span><br><span class="line">[root@kuangshen home]# du -a</span><br><span class="line">4./redis/.bash_profile</span><br><span class="line">4./redis/.bash_logout    </span><br><span class="line">....ä¸­é—´çœç•¥....</span><br><span class="line">4./kuangstudy.txt # æœ‰æ–‡ä»¶çš„åˆ—è¡¨äº†</span><br><span class="line">48.</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ£€æŸ¥æ ¹ç›®å½•åº•ä¸‹æ¯ä¸ªç›®å½•æ‰€å ç”¨çš„å®¹é‡</span></span><br><span class="line">[root@kuangshen home]# du -sm /*</span><br><span class="line">0/bin</span><br><span class="line">146/boot</span><br><span class="line">.....ä¸­é—´çœç•¥....</span><br><span class="line">0/proc</span><br><span class="line">.....ä¸­é—´çœç•¥....</span><br><span class="line">1/tmp</span><br><span class="line">3026/usr  # ç³»ç»ŸåˆæœŸæœ€å¤§å°±æ˜¯ä»–äº†å•¦ï¼å› ä¸ºå¾ˆå¤šç”¨æˆ·æ–‡ä»¶éƒ½åœ¨è¿™é‡Œé¢</span><br><span class="line">513/var</span><br><span class="line">2666/www</span><br></pre></td></tr></table></figure>
<p>é€šé…ç¬¦ * æ¥ä»£è¡¨æ¯ä¸ªç›®å½•ã€‚</p>
<p>ä¸ df ä¸ä¸€æ ·çš„æ˜¯ï¼Œdu è¿™ä¸ªå‘½ä»¤å…¶å®ä¼šç›´æ¥åˆ°æ–‡ä»¶ç³»ç»Ÿå†…å»æœå¯»æ‰€æœ‰çš„æ–‡ä»¶æ•°æ®ã€‚</p>
<blockquote>
<p>ç£ç›˜æŒ‚è½½ä¸å¸é™¤ï¼ˆMacä¹Ÿè¡Œï¼‰</p>
</blockquote>
<p>==æ ¹æ–‡ä»¶ç³»ç»Ÿä¹‹å¤–çš„å…¶ä»–æ–‡ä»¶è¦æƒ³èƒ½å¤Ÿè¢«è®¿é—®==ï¼Œéƒ½å¿…é¡»é€šè¿‡â€œå…³è”â€è‡³æ ¹æ–‡ä»¶ç³»ç»Ÿä¸Šçš„æŸä¸ªç›®å½•æ¥å®ç°ï¼Œæ­¤å…³è”æ“ä½œå³ä¸ºâ€œæŒ‚è½½â€ï¼Œæ­¤ç›®å½•å³ä¸ºâ€œæŒ‚è½½ç‚¹â€,è§£é™¤æ­¤å…³è”å…³ç³»çš„è¿‡ç¨‹ç§°ä¹‹ä¸ºâ€œå¸è½½â€</p>
<p>Linux çš„ç£ç›˜æŒ‚è½½ä½¿ç”¨mountå‘½ä»¤ï¼Œå¸è½½ä½¿ç”¨umountå‘½ä»¤ã€‚</p>
<p>ç£ç›˜æŒ‚è½½è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mount [-t æ–‡ä»¶ç³»ç»Ÿ] [-L Labelå] [-o é¢å¤–é€‰é¡¹] [-n] è£…ç½®æ–‡ä»¶å æŒ‚è½½ç‚¹</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å°† &#x2F;dev&#x2F;hdc6 æŒ‚è½½åˆ° &#x2F;mnt&#x2F;hdc6 ä¸Šé¢ï¼</span><br><span class="line">[root@www ~]# mkdir &#x2F;mnt&#x2F;hdc6</span><br><span class="line">[root@www ~]# mount &#x2F;dev&#x2F;hdc6 &#x2F;mnt&#x2F;hdc6</span><br><span class="line">[root@www ~]# df</span><br><span class="line">Filesystem           1K-blocks     Used Available Use% Mounted on</span><br><span class="line">&#x2F;dev&#x2F;hdc6              1976312     42072   1833836   3% &#x2F;mnt&#x2F;hdc6</span><br></pre></td></tr></table></figure>
<p>ç£ç›˜å¸è½½å‘½ä»¤ umount è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">umount [-fn] è£…ç½®æ–‡ä»¶åæˆ–æŒ‚è½½ç‚¹</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul>
<li>-f ï¼šå¼ºåˆ¶å¸é™¤ï¼å¯ç”¨åœ¨ç±»ä¼¼ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ (NFS) æ— æ³•è¯»å–åˆ°çš„æƒ…å†µä¸‹ï¼›</li>
<li>-n ï¼šä¸å‡çº§ /etc/mtab æƒ…å†µä¸‹å¸é™¤ã€‚</li>
</ul>
<p>å¸è½½/dev/hdc6</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@www ~]# umount &#x2F;dev&#x2F;hdc6</span><br></pre></td></tr></table></figure>


<h3 id="è¿›ç¨‹ç®¡ç†"><a href="#è¿›ç¨‹ç®¡ç†" class="headerlink" title="è¿›ç¨‹ç®¡ç†"></a>è¿›ç¨‹ç®¡ç†</h3><p>å¯¹äºæˆ‘ä»¬å¼€å‘äººå‘˜æ¥è¯´ï¼Œå…¶å®Linuxæ›´å¤šåå‘äºä½¿ç”¨å³å¯</p>
<blockquote>
<p>ä»€ä¹ˆæ˜¯è¿›ç¨‹</p>
</blockquote>
<ol>
<li>åœ¨Linuxä¸­ï¼Œæ¯ä¸€ä¸ªç¨‹åºéƒ½æ˜¯æœ‰è‡ªå·±çš„ä¸€ä¸ªè¿›ç¨‹ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªidå·</li>
<li>æ¯ä¸€ä¸ªè¿›ç¨‹ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªçˆ¶è¿›ç¨‹</li>
<li>è¿›ç¨‹å¯ä»¥æœ‰ä¸¤ç§å­˜åœ¨æ–¹å¼ï¼šå‰å°ï¼åå°è¿è¡Œ</li>
<li>ä¸€èˆ¬çš„æœåŠ¡éƒ½æ˜¯åå°è¿è¡Œçš„ï¼ŒåŸºæœ¬çš„ç¨‹åºéƒ½æ˜¯å‰å°è¿è¡Œçš„</li>
</ol>
<blockquote>
<p>å‘½ä»¤</p>
</blockquote>
<p><strong>ps</strong> æŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸­æ­£åœ¨æ‰§è¡Œçš„å„ç§è¿›ç¨‹çš„ä¿¡æ¯</p>
<p>ps-xx :</p>
<ul>
<li>-a æ˜¾ç¤ºå½“å‰ç»ˆç«¯è¿è¡Œçš„æ‰€æœ‰è¿›ç¨‹ä¿¡æ¯ (å½“å‰çš„è¿›ç¨‹ä¸€ä¸ª)</li>
<li>-u ä»¥ç”¨æˆ·çš„ä¿¡æ¯æ˜¾ç¤ºè¿›ç¨‹</li>
<li>-x æ˜¾ç¤ºåå°è¿è¡Œè¿›ç¨‹çš„å‚æ•°</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ps -aux æŸ¥çœ‹æ‰€æœ‰çš„è¿›ç¨‹</span></span><br><span class="line"></span><br><span class="line">ps -aux|grep mysql</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> | åœ¨Linuxä¸­è¿™ä¸ªå«åšç®¡é“ç¬¦å· Aï½œB</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">grep æŸ¥æ‰¾æ–‡ä»¶ä¸­ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ï¼</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>ps -ef: å¯ä»¥äº§çœ‹åˆ°çˆ¶è¿›ç¨‹çš„ä¿¡æ¯</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ps -ef|grep mysql # å¡çˆ¶è¿›ç¨‹æˆ‘ä»¬ä¸€èˆ¬å¯ä»¥é€šè¿‡ç›®å½•æ ‘ç»“æ„æ¥æŸ¥çœ‹</span><br><span class="line"></span><br><span class="line">pstree -pu</span><br><span class="line">		-p æ˜¾ç¤ºçˆ¶id</span><br><span class="line">		-u æ˜¾ç¤ºç”¨æˆ·ç»„</span><br></pre></td></tr></table></figure>


<p>ç»“æŸè¿›ç¨‹ï¼šæ€æ‰è¿›ç¨‹ï¼Œç­‰ä»·äºWindowsç»“æŸä»»åŠ¡ï¼</p>
<p>kill -9 è¿›ç¨‹çš„id</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å¹³æ—¶å†™çš„ä¸€ä¸ªjavaæ­»å¾ªç¯äº†ï¼Œå¯ä»¥ç”¨è¿™ä¸ªåˆ é™¤</p>
<h2 id="ç¯å¢ƒå®‰è£…"><a href="#ç¯å¢ƒå®‰è£…" class="headerlink" title="ç¯å¢ƒå®‰è£…"></a>ç¯å¢ƒå®‰è£…</h2><p>å®‰è£…è½¯ä»¶ä¸€èˆ¬æœ‰ä¸‰ç§æ–¹å¼ï¼š</p>
<ul>
<li>rpm (Jdk:åœ¨çº¿å‘å¸ƒä¸€ä¸ªSpringBootçš„é¡¹ç›®)</li>
<li>è§£å‹ç¼©ï¼ˆtomcatï¼Œå¯åŠ¨å¹¶å¯ä»¥é€šè¿‡å¤–ç½‘æ¥è¿›è¡Œè®¿é—®ï¼Œå‘å¸ƒç½‘ç«™ï¼‰</li>
<li>yumåœ¨çº¿å®‰è£…ï¼ˆdocker: ç›´æ¥å®‰è£…è¿è¡Œè·‘èµ·æ¥dockerå°±å¯ä»¥ï¼‰</li>
</ul>
<h3 id="jdkå®‰è£…ï¼ˆrpmå®‰è£…ï¼‰"><a href="#jdkå®‰è£…ï¼ˆrpmå®‰è£…ï¼‰" class="headerlink" title="jdkå®‰è£…ï¼ˆrpmå®‰è£…ï¼‰"></a>jdkå®‰è£…ï¼ˆrpmå®‰è£…ï¼‰</h3><p>1ã€rpmä¸‹è½½åœ°å€<a class="link"   href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" >http://www.oracle.com/technetwork/java/javase/downloads/index.html<i class="fas fa-external-link-alt"></i></a></p>
<p>2ã€å¦‚æœæœ‰å®‰è£…openjdk åˆ™å¸è½½</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@kuangshen ~]# java -version</span><br><span class="line">java version &quot;1.8.0_121&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_121-b13)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ£€æŸ¥</span></span><br><span class="line">[root@kuangshen ~]# rpm -qa|grep jdk</span><br><span class="line">jdk1.8.0_121-1.8.0_121-fcs.x86_64</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¸è½½ -e --nodeps å¼ºåˆ¶åˆ é™¤</span></span><br><span class="line">[root@kuangshen ~]# rpm -e --nodeps jdk1.8.0_121-1.8.0_121-fcs.x86_64</span><br><span class="line">[root@kuangshen ~]# java -version</span><br><span class="line">-bash: /usr/bin/java: No such file or directory  # OK</span><br></pre></td></tr></table></figure>
<p>3ã€å®‰è£…JDK</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å®‰è£…java rpm</span><br><span class="line">[root@kuangshen kuangshen]# rpm -ivh jdk-8u221-linux-x64.rpm</span><br><span class="line"></span><br><span class="line"># å®‰è£…å®Œæˆåé…ç½®ç¯å¢ƒå˜é‡ æ–‡ä»¶ï¼š&#x2F;etc&#x2F;profile</span><br><span class="line">JAVA_HOME&#x3D;&#x2F;usr&#x2F;java&#x2F;jdk1.8.0_221-amd64</span><br><span class="line">CLASSPATH&#x3D;%JAVA_HOME%&#x2F;lib:%JAVA_HOME%&#x2F;jre&#x2F;lib</span><br><span class="line">PATH&#x3D;$PATH:$JAVA_HOME&#x2F;bin:$JAVA_HOME&#x2F;jre&#x2F;bin</span><br><span class="line">export PATH CLASSPATH JAVA_HOME</span><br><span class="line"># ä¿å­˜é€€å‡º</span><br><span class="line"></span><br><span class="line"># è®©æ–°å¢çš„ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼</span><br><span class="line">source &#x2F;etc&#x2F;profile</span><br><span class="line"></span><br><span class="line"># æµ‹è¯• java -version</span><br><span class="line">[root@kuangshen java]# java -version</span><br><span class="line">java version &quot;1.8.0_221&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_221-b11)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.221-b11, mixed mode)</span><br></pre></td></tr></table></figure>


<h3 id="Tomcatå®‰è£…ï¼ˆè§£å‹ç¼©å®‰è£…ï¼‰"><a href="#Tomcatå®‰è£…ï¼ˆè§£å‹ç¼©å®‰è£…ï¼‰" class="headerlink" title="Tomcatå®‰è£…ï¼ˆè§£å‹ç¼©å®‰è£…ï¼‰"></a>Tomcatå®‰è£…ï¼ˆè§£å‹ç¼©å®‰è£…ï¼‰</h3><p>1ã€å®‰è£…å¥½äº†Javaç¯å¢ƒåæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸‹Tomcatï¼å‡†å¤‡å¥½Tomcatçš„å®‰è£…åŒ…ï¼</p>
<p>2ã€å°†æ–‡ä»¶ç§»åŠ¨åˆ°/usr/tomcat/ä¸‹ï¼Œå¹¶è§£å‹ï¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@kuangshen kuangshen]# mv apache-tomcat-9.0.22.tar.gz &#x2F;usr</span><br><span class="line">[root@kuangshen kuangshen]# cd &#x2F;usr</span><br><span class="line">[root@kuangshen usr]# ls</span><br><span class="line">apache-tomcat-9.0.22.tar.gz</span><br><span class="line">[root@kuangshen usr]# tar -zxvf apache-tomcat-9.0.22.tar.gz   # è§£å‹</span><br></pre></td></tr></table></figure>
<p>3ã€è¿è¡ŒTomcatï¼Œè¿›å…¥binç›®å½•ï¼Œå’Œæˆ‘ä»¬ä»¥å‰åœ¨Windowsä¸‹çœ‹çš„éƒ½æ˜¯ä¸€æ ·çš„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ‰§è¡Œï¼šstartup.sh --&gt;å¯åŠ¨tomcat</span><br><span class="line"># æ‰§è¡Œï¼šshutdown.sh --&gt;å…³é—­tomcat</span><br><span class="line">.&#x2F;startup.sh</span><br><span class="line">.&#x2F;shutdown.sh</span><br></pre></td></tr></table></figure>
<p>4ã€ç¡®ä¿Linuxçš„é˜²ç«å¢™ç«¯å£æ˜¯å¼€å¯çš„ï¼Œå¦‚æœæ˜¯é˜¿é‡Œäº‘ï¼Œéœ€è¦ä¿è¯é˜¿é‡Œäº‘çš„å®‰å…¨ç»„ç­–ç•¥æ˜¯å¼€æ”¾çš„ï¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æŸ¥çœ‹firewallæœåŠ¡çŠ¶æ€</span><br><span class="line">systemctl status firewalld</span><br><span class="line"></span><br><span class="line"># å¼€å¯ã€é‡å¯ã€å…³é—­ã€firewalld.serviceæœåŠ¡</span><br><span class="line"># å¼€å¯</span><br><span class="line">service firewalld start</span><br><span class="line"># é‡å¯</span><br><span class="line">service firewalld restart</span><br><span class="line"># å…³é—­</span><br><span class="line">service firewalld stop</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™</span><br><span class="line">firewall-cmd --list-all    # æŸ¥çœ‹å…¨éƒ¨ä¿¡æ¯</span><br><span class="line">firewall-cmd --list-ports  # åªçœ‹ç«¯å£ä¿¡æ¯</span><br><span class="line"></span><br><span class="line"># å¼€å¯ç«¯å£</span><br><span class="line">å¼€ç«¯å£å‘½ä»¤ï¼šfirewall-cmd --zone&#x3D;public --add-port&#x3D;80&#x2F;tcp --permanent</span><br><span class="line">é‡å¯é˜²ç«å¢™ï¼šsystemctl restart firewalld.service</span><br><span class="line"></span><br><span class="line">å‘½ä»¤å«ä¹‰ï¼š</span><br><span class="line">--zone #ä½œç”¨åŸŸ</span><br><span class="line">--add-port&#x3D;80&#x2F;tcp  #æ·»åŠ ç«¯å£ï¼Œæ ¼å¼ä¸ºï¼šç«¯å£&#x2F;é€šè®¯åè®®</span><br><span class="line">--permanent   #æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆ</span><br></pre></td></tr></table></figure>


<h3 id="å®‰è£…Dockerï¼ˆyumå®‰è£…ï¼‰"><a href="#å®‰è£…Dockerï¼ˆyumå®‰è£…ï¼‰" class="headerlink" title="å®‰è£…Dockerï¼ˆyumå®‰è£…ï¼‰"></a>å®‰è£…Dockerï¼ˆyumå®‰è£…ï¼‰</h3><blockquote>
<p>åŸºäº CentOS 7 å®‰è£…</p>
</blockquote>
<ol>
<li><p>å®˜ç½‘å®‰è£…å‚è€ƒæ‰‹å†Œï¼š<a class="link"   href="https://docs.docker.com/install/linux/docker-ce/centos/" >https://docs.docker.com/install/linux/docker-ce/centos/<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p>ç¡®å®šä½ æ˜¯CentOS7åŠä»¥ä¸Šç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@192 Desktop]# cat &#x2F;etc&#x2F;redhat-release</span><br><span class="line">CentOS Linux release 7.2.1511 (Core)</span><br></pre></td></tr></table></figure></li>
<li><p>yumå®‰è£…gccç›¸å…³ï¼ˆéœ€è¦ç¡®ä¿ è™šæ‹Ÿæœºå¯ä»¥ä¸Šå¤–ç½‘ ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum -y install gcc</span><br><span class="line">yum -y install gcc-c++</span><br></pre></td></tr></table></figure></li>
<li><p>å¸è½½æ—§ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum -y remove docker docker-common docker-selinux docker-engine</span><br><span class="line"># å®˜ç½‘ç‰ˆæœ¬</span><br><span class="line">yum remove docker \</span><br><span class="line">          docker-client \</span><br><span class="line">          docker-client-latest \</span><br><span class="line">          docker-common \</span><br><span class="line">          docker-latest \</span><br><span class="line">          docker-latest-logrotate \</span><br><span class="line">          docker-logrotate \</span><br><span class="line">          docker-engine</span><br></pre></td></tr></table></figure></li>
<li><p>å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®stableé•œåƒä»“åº“</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># é”™è¯¯</span><br><span class="line">yum-config-manager --add-repo https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;centos&#x2F;docker-ce.repo</span><br><span class="line">## æŠ¥é”™</span><br><span class="line">[Errno 14] curl#35 - TCP connection reset by peer</span><br><span class="line">[Errno 12] curl#35 - Timeout</span><br><span class="line"></span><br><span class="line"># æ­£ç¡®æ¨èä½¿ç”¨å›½å†…çš„</span><br><span class="line">yum-config-manager --add-repo http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;centos&#x2F;docker-ce.repo</span><br></pre></td></tr></table></figure></li>
<li><p>æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum makecache fast</span><br></pre></td></tr></table></figure></li>
<li><p>å®‰è£…Docker CE</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum -y install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure></li>
<li><p>å¯åŠ¨docker</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure></li>
<li><p>æµ‹è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker version</span><br><span class="line"></span><br><span class="line">docker run hello-world</span><br><span class="line"></span><br><span class="line">docker images</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h3 id="å®å¡”é¢æ¿å®‰è£…"><a href="#å®å¡”é¢æ¿å®‰è£…" class="headerlink" title="å®å¡”é¢æ¿å®‰è£…"></a>å®å¡”é¢æ¿å®‰è£…</h3><p><a class="link"   href="https://www.bilibili.com/video/av91821322" >https://www.bilibili.com/video/av91821322<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>Java web å…¥é—¨åˆ°å®æˆ˜</title>
    <url>/2021/02/15/2021-02-15-Java-web-%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E6%88%98/</url>
    <content><![CDATA[<h2 id="Java-Web"><a href="#Java-Web" class="headerlink" title="Java Web"></a>Java Web</h2><h3 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h3><p>webå¼€å‘ï¼š</p>
<ul>
<li>web, ç½‘é¡µçš„æ„æ€</li>
<li>é™æ€web<ul>
<li>html, css</li>
<li>æä¾›ç»™æ‰€æœ‰äººçœ‹çš„æ•°æ®å§‹ç»ˆä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼</li>
</ul>
</li>
<li>åŠ¨æ€web<ul>
<li>æä¾›ç»™æ‰€æœ‰äººçœ‹çš„æ•°æ®å§‹ç»ˆä¼šå‘ç”Ÿå˜åŒ–ï¼æ¯ä¸ªäººåœ¨ä¸åŒçš„æ—¶é—´ï¼Œä¸åŒçš„åœ°ç‚¹çœ‹åˆ°çš„ä¿¡æ¯å„ä¸ç›¸åŒ</li>
<li>æŠ€æœ¯æ ˆï¼šServlet/JSP, ASP, PHP</li>
</ul>
</li>
</ul>
<p>åœ¨javaä¸­ï¼ŒåŠ¨æ€webèµ„æºå¼€å‘çš„æŠ€æœ¯ç»Ÿç§°JavaWebï¼›</p>
<h3 id="webåº”ç”¨ç¨‹åº"><a href="#webåº”ç”¨ç¨‹åº" class="headerlink" title="webåº”ç”¨ç¨‹åº"></a>webåº”ç”¨ç¨‹åº</h3><p>Webåº”ç”¨ç¨‹åºï¼šå¯ä»¥æä¾›æµè§ˆå™¨è®¿é—®çš„ç¨‹åº</p>
<ul>
<li><p>a.html â€¦ å¤šä¸ªå¤–éƒ¨èµ„æºï¼Œè¿™äº›webèµ„æºå¯ä»¥è¢«å¤–ç•Œæ‰€è®¿é—®</p>
</li>
<li><p>ä½ ä»¬èƒ½è®¿é—®åˆ°ä»»ä½•ä¸€ä¸ªé¡µé¢æˆ–è€…èµ„æºï¼Œéƒ½å­˜åœ¨äºè¿™ä¸ªä¸–ç•Œçš„æŸä¸€ä¸ªè§’è½çš„è®¡ç®—æœºä¸Š</p>
</li>
<li><p>URL</p>
</li>
<li><p>è¿™ä¸ªç»Ÿä¸€çš„webèµ„æºä¼šè¢«æ”¾åˆ°åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œwebåº”ç”¨ç¨‹åºâ€”&gt;Tomcatï¼šæœåŠ¡å™¨</p>
</li>
<li><p>ä¸€ä¸ªwebåº”ç”¨æœ‰å¤šä¸ªéƒ¨åˆ†ç»„æˆï¼ˆé™æ€webï¼ŒåŠ¨æ€webï¼‰</p>
<ul>
<li><p>htmlï¼Œcssï¼Œjs</p>
</li>
<li><p>jspï¼Œservlet</p>
</li>
<li><p>javaç¨‹åº</p>
</li>
<li><p>jaråŒ…</p>
</li>
<li><p>é…ç½®æ–‡ä»¶ï¼ˆPropertiesï¼‰</p>
</li>
</ul>
</li>
</ul>
<p>webåº”ç”¨ç¨‹åºç¼–ç¨‹å®Œæ¯•åï¼Œè‹¥æƒ³æä¾›ç»™å¤–ç•Œè¿›è¡Œè®¿é—®ï¼šéœ€è¦ä¸€ä¸ªæœåŠ¡å™¨æ¥è¿›è¡Œç»Ÿä¸€çš„ç®¡ç†</p>
<h3 id="é™æ€web"><a href="#é™æ€web" class="headerlink" title="é™æ€web"></a>é™æ€web</h3><ul>
<li>*.htmï¼Œ*.html è¿™äº›éƒ½æ˜¯ç½‘ç»œçš„åç¼€ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gnw4rmk9l3j30so06mwfy.jpg" alt="image-20210222105555354"></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>performance explanation</title>
    <url>/2021/01/29/performance_exp/</url>
    <content><![CDATA[<p>In this case, we read the saved model weights and conduct the test data performance evaluation. </p>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes:"></a>Notes:</h3><ol>
<li>The results returned from the model were possibilities, which is numeric and continuous</li>
<li>The actual label is binary, either 1 or 0</li>
<li>It is meaningless to evaluate the performance with two different format data</li>
<li>Therefore, we need to set a threshold which specifies the possibilities higher than 0.5 as true and vice versa</li>
<li>After that, we could safely conduct the evaluation problem </li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score, f1_score, precision_score, recall_score, matthews_corrcoef</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> roc_auc_score, average_precision_score</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">from</span> net_fun <span class="keyword">import</span> WSCNN, WSCNNLSTM, WeakRM, WeakRMLSTM</span><br><span class="line"><span class="keyword">from</span> prettytable <span class="keyword">import</span> PrettyTable</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">os.environ[<span class="string">&quot;CUDA_DEVICE_ORDER&quot;</span>] = <span class="string">&quot;PCI_BUS_ID&quot;</span>  <span class="comment"># see issue #152</span></span><br><span class="line">os.environ[<span class="string">&quot;CUDA_VISIBLE_DEVICES&quot;</span>] = <span class="string">&quot;4&quot;</span></span><br><span class="line"></span><br><span class="line">tfk = tf.keras</span><br><span class="line">tfkl = tf.keras.layers</span><br><span class="line">tfkc = tf.keras.callbacks</span><br><span class="line"></span><br><span class="line">instance_len = <span class="number">40</span></span><br><span class="line">instance_stride = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">data_name = <span class="string">&#x27;HIV-1&#x27;</span></span><br><span class="line">model_name = <span class="string">&#x27;WeakRM&#x27;</span></span><br><span class="line"></span><br><span class="line">data_dir = <span class="string">&#x27;/home/yuxuan/FYP/Virus_init_codes/processed_data/&#x27;</span> + data_name + <span class="string">&#x27;/data_for_mil/&#x27;</span></span><br><span class="line">target_dir = data_dir + <span class="string">&#x27;cp_dir/&#x27;</span></span><br><span class="line">checkpoint_filepath = target_dir + model_name + <span class="string">&#x27;.h5&#x27;</span></span><br><span class="line">print(<span class="string">&#x27;Load weights from:&#x27;</span>, checkpoint_filepath)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;loading data&#x27;</span>)</span><br><span class="line">itest_data = np.load(data_dir + <span class="string">&#x27;test_data.npy&#x27;</span>, allow_pickle=<span class="literal">True</span>)</span><br><span class="line">itest_label = np.load(data_dir + <span class="string">&#x27;test_label.npy&#x27;</span>, allow_pickle=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">itest_dataset = tf.data.Dataset.from_generator(<span class="keyword">lambda</span>: itertools.zip_longest(itest_data, itest_label),</span><br><span class="line">                                               output_types=(tf.float32, tf.int32),</span><br><span class="line">                                               output_shapes=(tf.TensorShape([<span class="literal">None</span>, instance_len, <span class="number">4</span>]),</span><br><span class="line">                                                              tf.TensorShape([<span class="literal">None</span>])))</span><br><span class="line">itest_dataset = itest_dataset.batch(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">accuracy_scores = []</span><br><span class="line">f1_scores = []</span><br><span class="line">recall_scores = []</span><br><span class="line">precision_scores = []</span><br><span class="line">MCCs = []</span><br><span class="line">auROCs = []</span><br><span class="line">auPRCs = []</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;creating model&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">isinstance</span>(model_name, <span class="built_in">str</span>):</span><br><span class="line">    dispatcher = &#123;<span class="string">&#x27;WeakRM&#x27;</span>: WeakRM,</span><br><span class="line">                  <span class="string">&#x27;WeakRMLSTM&#x27;</span>: WeakRMLSTM&#125;</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        model_funname = dispatcher[model_name]</span><br><span class="line">    <span class="keyword">except</span> KeyError:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&#x27;invalid input&#x27;</span>)</span><br><span class="line"></span><br><span class="line">model = model_funname()</span><br><span class="line"></span><br><span class="line">model(itest_data[<span class="number">0</span>].reshape(<span class="number">1</span>, -<span class="number">1</span>, instance_len, <span class="number">4</span>).astype(np.float32))</span><br><span class="line">model.load_weights(checkpoint_filepath)</span><br><span class="line"></span><br><span class="line">predictions = []</span><br><span class="line"><span class="keyword">for</span> tdata <span class="keyword">in</span> itest_dataset:</span><br><span class="line">    pred, _ = model(tdata[<span class="number">0</span>], training=<span class="literal">False</span>)</span><br><span class="line">    predictions.append(pred.numpy())</span><br><span class="line"></span><br><span class="line">predictions = np.concatenate(predictions, axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">accuracy_scores.append(accuracy_score(y_true=itest_label, y_pred=predictions &gt; <span class="number">0.5</span>))</span><br><span class="line">f1_scores.append(f1_score(y_true=itest_label, y_pred=predictions &gt; <span class="number">0.5</span>))</span><br><span class="line">recall_scores.append(recall_score(y_true=itest_label, y_pred=predictions &gt; <span class="number">0.5</span>))</span><br><span class="line">precision_scores.append(precision_score(y_true=itest_label, y_pred=predictions &gt; <span class="number">0.5</span>))</span><br><span class="line">MCCs.append(matthews_corrcoef(y_true=itest_label, y_pred=predictions &gt; <span class="number">0.5</span>))</span><br><span class="line">auROCs.append(roc_auc_score(y_true=itest_label, y_score=predictions))</span><br><span class="line">auPRCs.append(average_precision_score(y_true=itest_label, y_score=predictions))</span><br><span class="line"></span><br><span class="line">table = PrettyTable()</span><br><span class="line">column_names = [<span class="string">&#x27;Accuracy&#x27;</span>, <span class="string">&#x27;recall&#x27;</span>, <span class="string">&#x27;precision&#x27;</span>, <span class="string">&#x27;f1&#x27;</span>, <span class="string">&#x27;MCC&#x27;</span>, <span class="string">&#x27;auROC&#x27;</span>, <span class="string">&#x27;auPRC&#x27;</span>]</span><br><span class="line">table.add_column(column_names[<span class="number">0</span>], np.<span class="built_in">round</span>(accuracy_scores, <span class="number">4</span>))</span><br><span class="line">table.add_column(column_names[<span class="number">1</span>], np.<span class="built_in">round</span>(recall_scores, <span class="number">4</span>))</span><br><span class="line">table.add_column(column_names[<span class="number">2</span>], np.<span class="built_in">round</span>(precision_scores, <span class="number">4</span>))</span><br><span class="line">table.add_column(column_names[<span class="number">3</span>], np.<span class="built_in">round</span>(f1_scores, <span class="number">4</span>))</span><br><span class="line">table.add_column(column_names[<span class="number">4</span>], np.<span class="built_in">round</span>(MCCs, <span class="number">4</span>))</span><br><span class="line">table.add_column(column_names[<span class="number">5</span>], np.<span class="built_in">round</span>(auROCs, <span class="number">4</span>))</span><br><span class="line">table.add_column(column_names[<span class="number">6</span>], np.<span class="built_in">round</span>(auPRCs, <span class="number">4</span>))</span><br><span class="line">print(table)</span><br><span class="line"></span><br><span class="line">results = np.array([accuracy_scores, recall_scores, precision_scores, f1_scores, MCCs, auROCs, auPRCs])</span><br><span class="line">np.savetxt(<span class="string">&#x27;/home/yuxuan/FYP/Virus_init_codes/results_matrix/&#123;&#125;.csv&#x27;</span>.<span class="built_in">format</span>(data_name), results,</span><br><span class="line">           delimiter=<span class="string">&#x27;,&#x27;</span>,</span><br><span class="line">           fmt=<span class="string">&#x27;%.4f&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>FYP</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>Multi-instance learning</tag>
      </tags>
  </entry>
</search>
