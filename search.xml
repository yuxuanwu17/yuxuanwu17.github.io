<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Linux htop è¯¦è§£</title>
    <url>/2021/01/25/Linux_htop/</url>
    <content><![CDATA[<p>ä¹‹å‰åœ¨å­¦æ ¡å®éªŒå®¤å·¥ä½œçš„æ—¶å€™ï¼Œæ¥è§¦çš„ç¬¬ä¸€ä¸ªå‘½ä»¤å°±æ˜¯htopã€‚ä¹‹å‰å°±æ˜¯è§‰å¾—è¿™ä¸ªèŠ±èŠ±ç»¿ç»¿çš„ç•Œé¢å¾ˆæœ‰è¶£ï¼ˆç‰›é€¼ï¼‰ï¼Œå¦‚ä¸‹å›¾ï¼Œå¸¸å¸¸åœ¨å¥³æœ‹å‹é¢å‰æ•…ä½œç‰›é€¼çš„æ‰“å¼€ï¼ˆ<em>å®é™…å°±çœ‹çœ‹æˆ‘çš„ç¨‹åºåœ¨ä¸åœ¨è·‘ï¼Œè™šä¼ªçš„ä¸è¡ŒğŸ¤ª</em>ï¼‰</p>
<p><img src="https://pic1.zhimg.com/v2-317c74bdfc0734f88813c5fe532d3220_b.png" alt="img"></p>
<p>ä¸ºäº†ä»¥åè£…é€¼æ›´æœ‰èµ„æœ¬ï¼Œæˆ‘è§‰å¾—å¾—ä»”ç»†å¼„æ¸…æ¥šè¿™äº›å€¼åˆ°åº•æ˜¯å¹²ä»€ä¹ˆçš„</p>
<p>æœ¬ç¯‡æ–‡ç« å‚è€ƒ</p>
<p>Understanding Output of htop Command - Linux Togetherlinuxtogether.org</p>
<h3 id="htopæ˜¯topçš„å‡çº§ç‰ˆ-å…è®¸ç”¨æˆ·ç›‘è§†ç³»ç»Ÿä¸Šè¿è¡Œçš„è¿›ç¨‹åŠå…¶å®Œæ•´çš„å‘½ä»¤è¡Œ"><a href="#htopæ˜¯topçš„å‡çº§ç‰ˆ-å…è®¸ç”¨æˆ·ç›‘è§†ç³»ç»Ÿä¸Šè¿è¡Œçš„è¿›ç¨‹åŠå…¶å®Œæ•´çš„å‘½ä»¤è¡Œ" class="headerlink" title="htopæ˜¯topçš„å‡çº§ç‰ˆ,å…è®¸ç”¨æˆ·ç›‘è§†ç³»ç»Ÿä¸Šè¿è¡Œçš„è¿›ç¨‹åŠå…¶å®Œæ•´çš„å‘½ä»¤è¡Œ"></a>htopæ˜¯topçš„å‡çº§ç‰ˆ,å…è®¸ç”¨æˆ·ç›‘è§†ç³»ç»Ÿä¸Šè¿è¡Œçš„è¿›ç¨‹åŠå…¶å®Œæ•´çš„å‘½ä»¤è¡Œ</h3><ol>
<li>ç³»ç»Ÿä¸ä¼šè‡ªå¸¦ï¼Œè‹¥æ˜¯Ubuntuï¼Œsudo apt, è‹¥æ˜¯Centosï¼Œ yum å¯ä»¥å®‰è£…ã€‚æ ¹æ®ä¸è¿‡ç³»ç»Ÿæ¥è¿›è¡Œå®‰è£…</li>
<li>æ”¯æŒç”¨æˆ·äº¤äº’ï¼Œå¯ä»¥é€šè¿‡é¼ æ ‡æ¥killè¿›ç¨‹è€Œä¸ç”¨é€šè¿‡è¾“å…¥å…¶PIDï¼Œæ”¯æŒç”¨é¼ æ ‡ä¸Šä¸‹æ‹–åŠ¨ï¼Œä¸”ä¸åŒçš„é¢œè‰²ä»£è¡¨ä¸åŒçš„æ„æ€ã€‚</li>
<li>å…è®¸ç”¨æˆ·æ ¹æ®CPUï¼Œå†…å­˜å’Œæ—¶é—´é—´éš”å¯¹è¿›ç¨‹è¿›è¡Œæ’åº</li>
</ol>
<h3 id="htop-çš„å®‰è£…"><a href="#htop-çš„å®‰è£…" class="headerlink" title="htop çš„å®‰è£…"></a>htop çš„å®‰è£…</h3><p>Ubuntu å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt install htop</span><br></pre></td></tr></table></figure>
<p>CentOS å®‰è£…</p>
<p><a class="link"   href="http://www.vue5.com/centos/23046.htmlwww.vue5.com" >http://www.vue5.com/centos/23046.htmlwww.vue5.com<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>åŸºæœ¬çš„æ¦‚å¿µ</strong></p>
<p>tasks/process è¿›ç¨‹ï¼Œ thread çº¿ç¨‹ç›¸å…³çš„çŸ¥è¯†å¯ä»¥ä»ä¸‹é¢çš„é“¾æ¥å­¦ä¹ </p>
<p><a class="link"   href="https://www.zhihu.com/question/307100151/answer/894486042" >å¦‚ä½•ç†è§£ï¼šç¨‹åºã€è¿›ç¨‹ã€çº¿ç¨‹ã€å¹¶å‘ã€å¹¶è¡Œã€é«˜å¹¶å‘ï¼Ÿ<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/125716637" >å®‡å®™ä¹‹ä¸€ç²Ÿï¼šä¸ºä»€ä¹ˆæ ¡æ‹›é¢è¯•ä¸­â€œçº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«â€è€æ˜¯è¢«é—®åˆ°?æˆ‘è¯¥å¦‚ä½•å›ç­”ï¼Ÿ<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://www.geeksforgeeks.org/difference-between-process-and-thread/" >Difference between Process and Thread - GeeksforGeeks<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/82746153" >ä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜(Virtual Memory)?<i class="fas fa-external-link-alt"></i></a></p>
<p><img src="https://pic2.zhimg.com/v2-f876d2e42e8d5e1110f22f7198fcc591_b.png" alt="img"></p>
<h3 id="çº¢è‰²è¾¹æ¡†"><a href="#çº¢è‰²è¾¹æ¡†" class="headerlink" title="çº¢è‰²è¾¹æ¡†"></a>çº¢è‰²è¾¹æ¡†</h3><p><em>æ•°å­—1ï¼Œ2ï¼Œ3ï¼Œ4åˆ†åˆ«ä»£è¡¨CPUå¤„ç†å™¨/æ ¸ï¼Œä¸Šå›¾æ˜¯ä¸€ä¸ªå››æ ¸çš„å¤„ç†å™¨</em></p>
<h3 id="ç°è‰²è¾¹æ¡†ï¼ˆprogress-barï¼‰"><a href="#ç°è‰²è¾¹æ¡†ï¼ˆprogress-barï¼‰" class="headerlink" title="ç°è‰²è¾¹æ¡†ï¼ˆprogress barï¼‰"></a>ç°è‰²è¾¹æ¡†ï¼ˆprogress barï¼‰</h3><p><em>æ¯ä¸€ä¸ªCPUçš„æ€»ç”¨é‡æƒ…å†µï¼Œæ³¨æ„è¿™æ¡ä¸Šé¢ä¼šæœ‰ä¸åŒçš„é¢œè‰²ï¼š</em></p>
<ol>
<li>è“è‰²ï¼šæ˜¾ç¤ºä½ä¼˜å…ˆçº§(low priority)è¿›ç¨‹ä½¿ç”¨çš„CPUç™¾åˆ†æ¯”ã€‚ </li>
<li>ç»¿è‰²ï¼šæ˜¾ç¤ºç”¨äºæ™®é€šç”¨æˆ·(user)æ‹¥æœ‰çš„è¿›ç¨‹çš„CPUç™¾åˆ†æ¯”ã€‚ </li>
<li>çº¢è‰²ï¼šæ˜¾ç¤ºç³»ç»Ÿè¿›ç¨‹(kernel threads)ä½¿ç”¨çš„CPUç™¾åˆ†æ¯”ã€‚</li>
<li>æ©™è‰²ï¼šæ˜¾ç¤ºIRQæ—¶é—´ä½¿ç”¨çš„CPUç™¾åˆ†æ¯”ã€‚</li>
<li>æ´‹çº¢è‰²(Magenta)ï¼šæ˜¾ç¤ºSoft IRQæ—¶é—´æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”ã€‚</li>
<li>ç°è‰²ï¼šæ˜¾ç¤ºIOç­‰å¾…æ—¶é—´æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”ã€‚</li>
<li>é’è‰²ï¼šæ˜¾ç¤ºçªƒå–æ—¶é—´(Steal time)æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”ã€‚</li>
</ol>
<h3 id="é»„è‰²è¾¹æ¡†"><a href="#é»„è‰²è¾¹æ¡†" class="headerlink" title="é»„è‰²è¾¹æ¡†"></a>é»„è‰²è¾¹æ¡†</h3><p><em>æä¾›äº†å†…å­˜ï¼ˆMemoryï¼‰å’Œäº¤æ¢ï¼ˆSwapï¼‰ä½¿ç”¨æƒ…å†µã€‚ ç±»ä¼¼äºCPUä¸­çš„è¿›åº¦æ¡ï¼Œå†…å­˜ç›‘è§†ä¹ŸåŒ…å«å…·æœ‰å¤šç§é¢œè‰²çš„è¿›åº¦æ¡ï¼š</em></p>
<ol>
<li>ç»¿è‰²ï¼šæ˜¾ç¤ºå†…å­˜é¡µé¢å ç”¨çš„RAMç™¾åˆ†æ¯”</li>
<li>è“è‰²ï¼šæ˜¾ç¤ºç¼“å†²åŒºé¡µé¢å ç”¨çš„RAMç™¾åˆ†æ¯”</li>
<li>æ©™è‰²ï¼šæ˜¾ç¤ºç¼“å­˜é¡µé¢å ç”¨çš„RAMç™¾åˆ†æ¯”</li>
</ol>
<p><img src="https://pic1.zhimg.com/v2-e9a5539a25c37421fc429424aab510b8_b.png" alt="img"></p>
<h3 id="è“è‰²è¾¹æ¡†"><a href="#è“è‰²è¾¹æ¡†" class="headerlink" title="è“è‰²è¾¹æ¡†"></a>è“è‰²è¾¹æ¡†</h3><ul>
<li><p><strong>ç¬¬ä¸€è¡Œ (Tasks, thr, running)</strong></p>
</li>
<li><p>å‚è€ƒä¸Šé¢çš„å±å¹•æˆªå›¾ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—æœºä¸Šè¿è¡Œçš„106ä¸ªä»»åŠ¡(tasks)è¢«åˆ†è§£ä¸º113ä¸ªçº¿ç¨‹(thread)ï¼Œå…¶ä¸­åªæœ‰1ä¸ªè¿›ç¨‹å¤„äºè¿è¡Œ(running)çŠ¶æ€ã€‚</p>
</li>
<li><p>ä»»åŠ¡(tasks)æ˜¯æ‰“å¼€çš„è¿›ç¨‹æ€»æ•°çš„ä»£è¡¨ï¼Œä½†å¹¶ä¸æ˜¯æ¯ä¸ªæ‰“å¼€çš„è¿›ç¨‹éƒ½åœ¨ä¸æ–­æ¶ˆè€—CPUã€‚ æ¯ä¸ªè¿›ç¨‹éƒ½å¤„äºå‡ ç§çŠ¶æ€</p>
</li>
<li><p>R: Runningï¼šè¡¨ç¤ºè¿›ç¨‹(process)æ­£åœ¨ä½¿ç”¨CPU</p>
</li>
<li><p>S: Sleeping: é€šå¸¸è¿›ç¨‹åœ¨å¤§å¤šæ•°æ—¶é—´éƒ½å¤„äºç¡çœ çŠ¶æ€ï¼Œå¹¶ä»¥å›ºå®šçš„æ—¶é—´é—´éš”æ‰§è¡Œå°æ£€æŸ¥ï¼Œæˆ–è€…ç­‰å¾…ç”¨æˆ·è¾“å…¥åå†è¿”å›è¿è¡ŒçŠ¶æ€ã€‚</p>
</li>
<li><p>T/S: Traced/Stoped: è¡¨ç¤ºè¿›ç¨‹æ­£åœ¨å¤„äºæš‚åœçš„çŠ¶æ€</p>
</li>
<li><p>Z:Zombie or defunct:å·²å®Œæˆæ‰§è¡Œä½†åœ¨è¿›ç¨‹è¡¨ä¸­ä»å…·æœ‰æ¡ç›®çš„è¿›ç¨‹ã€‚</p>
</li>
<li><p><strong>ç¬¬äºŒè¡Œ  Load Average</strong></p>
</li>
<li><p>ä¸‰ä¸ªå€¼æ˜¯æŒ‡ç³»ç»Ÿåœ¨æœ€å1åˆ†é’Ÿï¼Œæœ€è¿‘5åˆ†é’Ÿå’Œæœ€å15åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½ (0.21,0.19,0.15)</p>
</li>
<li><p><strong>ç¬¬ä¸‰è¡Œ Uptime</strong></p>
</li>
<li><p>è¡¨ç¤ºè¿™ä¸ªç³»ç»Ÿä¸€å…±è¿è¡Œäº†å¤šé•¿çš„æ—¶é—´ï¼Œè¿™é‡Œä¸€å…±è¿è¡Œäº†78å¤©</p>
</li>
</ul>
<h3 id="ä¸‹åŠéƒ¨åˆ†"><a href="#ä¸‹åŠéƒ¨åˆ†" class="headerlink" title="ä¸‹åŠéƒ¨åˆ†"></a>ä¸‹åŠéƒ¨åˆ†</h3><p><img src="https://pic2.zhimg.com/v2-dd7ca8f231cfa317243987fd4bf02189_b.png" alt="img"></p>
<ul>
<li>PID â€“ æè¿°è¿›ç¨‹çš„IDå·</li>
<li>USER â€“ æè¿°è¿›ç¨‹çš„æ‰€æœ‰è€…ï¼ˆè°è·‘çš„ï¼‰</li>
<li>PRI â€“ æè¿°Linuxå†…æ ¸æŸ¥çœ‹çš„è¿›ç¨‹ä¼˜å…ˆçº§</li>
<li>NI â€“ æè¿°ç”±ç”¨æˆ·æˆ–rooté‡ç½®çš„è¿›ç¨‹ä¼˜å…ˆçº§</li>
<li>VIR â€“ å®ƒæè¿°è¿›ç¨‹æ­£åœ¨ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜ ï¼ˆvirtual memoryï¼‰</li>
<li>RES â€“ æè¿°è¿›ç¨‹æ­£åœ¨æ¶ˆè€—çš„ç‰©ç†å†…å­˜ï¼ˆphysical memoryï¼‰</li>
<li>SHR â€“ æè¿°è¿›ç¨‹æ­£åœ¨ä½¿ç”¨çš„å…±äº«å†…å­˜ï¼ˆshared memoryï¼‰</li>
<li>S â€“ æè¿°æµç¨‹çš„å½“å‰çŠ¶æ€ (state)</li>
<li>CPUï¼… â€“ æè¿°æ¯ä¸ªè¿›ç¨‹æ¶ˆè€—çš„CPUç™¾åˆ†æ¯”</li>
<li>MEMï¼… â€“ æè¿°æ¯ä¸ªè¿›ç¨‹æ¶ˆè€—çš„å†…å­˜ç™¾åˆ†æ¯”</li>
<li>TIME+ â€“ æ˜¾ç¤ºè‡ªæµç¨‹å¼€å§‹æ‰§è¡Œä»¥æ¥çš„æ—¶é—´</li>
<li>Command â€“å®ƒä¸æ¯ä¸ªè¿›ç¨‹å¹¶è¡Œæ˜¾ç¤ºå®Œæ•´çš„å‘½ä»¤æ‰§è¡Œ (æ¯”å¦‚/usr/lib/R)</li>
</ul>
<hr>
<h3 id="ä¸€äº›å¿«æ·é”®"><a href="#ä¸€äº›å¿«æ·é”®" class="headerlink" title="ä¸€äº›å¿«æ·é”®"></a>ä¸€äº›å¿«æ·é”®</h3><p>u â€“ ç”¨äºæ˜¾ç¤ºç‰¹å®šç”¨æˆ·æ‹¥æœ‰çš„æ‰€æœ‰è¿›ç¨‹ã€‚</p>
<p>P â€“ç”¨äºåŸºäºé«˜CPUæ¶ˆè€—å¯¹è¿›ç¨‹è¿›è¡Œæ’åºã€‚</p>
<p>M â€“ç”¨äºåŸºäºé«˜å†…å­˜æ¶ˆè€—å¯¹è¿›ç¨‹è¿›è¡Œæ’åºã€‚</p>
<p>T â€“ç”¨äºæ ¹æ®æ—¶é—´æ®µå¯¹è¿‡ç¨‹è¿›è¡Œæ’åºã€‚</p>
<p>h â€“ç”¨äºæ‰“å¼€å¸®åŠ©çª—å£å¹¶æŸ¥çœ‹æ­¤å¤„æœªæåŠçš„æ›´å¤šå¿«æ·æ–¹å¼ã€‚</p>
<p><strong>å¸®åŠ©ï¼š htop -h</strong></p>
<p><strong>æ›´ç»†è‡´çš„è§£é‡Šï¼šman htop</strong></p>
<p><img src="https://pic1.zhimg.com/v2-3aece676cc1a36e4ea439e75ce81b238_b.png" alt="img"></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºMATLABçš„å›¾ç‰‡æå–å’Œåˆ†æ</title>
    <url>/2021/01/25/MATLAB%E5%9B%BE%E7%89%87%E6%8F%90%E5%8F%96%E4%B8%8E%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<p>å®Œæˆå­¦æ ¡Matlabä½œä¸šåçš„ä¸€äº›æ€»ç»“ï¼Œæ•°æ®å¯ä»¥ä»æˆ‘çš„GitHubè´¦æˆ·ä¸‹è½½ã€‚ä½œä¸ºä¸€åMatlabçš„åˆå­¦è€…ï¼Œè¯·å¤šå¤šæµ·æ¶µ</p>
<p><a class="link" href="https://github.com/yuxuanwu17/INT301/blob/main/ass2data.zip">æ•°æ®åœ¨æ­¤<i class="fas fa-external-link-alt"></i></a></p>
<p>æ•°æ®æ˜¯æ¥è‡ªè½¦ç‰Œå·å›¾ç‰‡ï¼ˆå†·çŸ¥è¯†ï¼šI,Oå¤©ç”Ÿæ˜¯åœ¨è½¦ç‰Œé‡Œä¸å‡ºç°çš„ï¼‰ã€‚ä¸€å…±24ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹é‡Œæœ‰100å¼ å›¾ç‰‡ï¼Œæ‰€ä»¥ä¸€å…±æœ‰2400å¼ å›¾ç‰‡ã€‚è¿™æ¬¡çš„é¡¹ç›®æ˜¯æ„å»ºé¢„æµ‹æ¨¡å‹æ¥è¿›è¡Œå›¾åƒè¯†åˆ«ã€‚</p>
<p><img src="https://pic1.zhimg.com/v2-442cbdaf16d424739603ef3c267914dc_b.png" alt="img"></p>
<p>æˆ‘ä»¬æ‰“å¼€è¿™äº›æ–‡ä»¶ï¼ŒæŸ¥çœ‹å›¾ç‰‡çš„è¯¦ç»†ä¿¡æ¯</p>
<p><img src="https://pic1.zhimg.com/v2-37aefc51ea4c68ec2b8dddee4939a708_b.png" alt="img"></p>
<p>æˆ‘ä»¬å‘ç°è¿™é‡Œé¢çš„å›¾ç‰‡æ ¼å¼ä¸ä¸€è‡´ï¼Œä¸”å‘½åæ²¡æœ‰ç»Ÿä¸€è§„å¾‹ã€‚</p>
<p>ä¸‹æ–‡å¼€å§‹å¤„ç†å›¾ç‰‡æ•°æ®ï¼Œå¹¶å°†æ¯ä¸€å¼ ç…§ç‰‡æå–å‡ºæ¥ï¼Œç”¨Matlabåˆ†æ</p>
<h3 id="æ–¹æ³•ä¸€ï¼šæš´åŠ›ä¿®æ”¹æ–‡æ¡£æ³•"><a href="#æ–¹æ³•ä¸€ï¼šæš´åŠ›ä¿®æ”¹æ–‡æ¡£æ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæš´åŠ›ä¿®æ”¹æ–‡æ¡£æ³•"></a>æ–¹æ³•ä¸€ï¼šæš´åŠ›ä¿®æ”¹æ–‡æ¡£æ³•</h3><p>æ ¸å¿ƒæ€è·¯ï¼šå°†å›¾ç‰‡å…¨éƒ¨æå–å‡ºæ¥ï¼Œç„¶åç»Ÿä¸€æ ¼å¼ï¼Œç»Ÿä¸€åç§°ï¼Œä¿å­˜åœ¨ä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹é‡Œ</p>
<p>å‚è€ƒ <a class="link" href="https://blog.csdn.net/FX677588/article/details/53126961">matlabéå†æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰å›¾ç‰‡å’Œéå†æ‰€æœ‰å­æ–‡ä»¶å¤¹ä¸‹å›¾ç‰‡_æ— é‹ç«¥é‹çš„åšå®¢-CSDNåšå®¢_matlabéå†æ–‡ä»¶å¤¹ä¸‹å­æ–‡ä»¶å¤¹æ‰€æœ‰æ–‡ä»¶<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">imgDataPath = <span class="string">'../INT301_Assessment2/ass2data/'</span>;</span><br><span class="line">imgDataDir  = dir(imgDataPath);             <span class="comment">% éå†è¯¥è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">savepath =  <span class="string">'../INT301_Assessment2/ass2_processed_data/'</span>; <span class="comment">% è¦æ”¹å†™çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="built_in">length</span>(imgDataDir)</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">isequal</span>(imgDataDir(<span class="built_in">i</span>).name,<span class="string">'.'</span>)||... <span class="comment">% å»é™¤ç³»ç»Ÿè‡ªå¸¦çš„ä¸¤ä¸ªéšæ–‡ä»¶å¤¹</span></span><br><span class="line">       <span class="built_in">isequal</span>(imgDataDir(<span class="built_in">i</span>).name,<span class="string">'..'</span>)||...</span><br><span class="line">       <span class="built_in">isequal</span>(imgDataDir(<span class="built_in">i</span>).name,<span class="string">'.DS_Store'</span>)||...</span><br><span class="line">       ~imgDataDir(<span class="built_in">i</span>).isdir)                <span class="comment">% å»é™¤éå†ä¸­ä¸æ˜¯æ–‡ä»¶å¤¹çš„</span></span><br><span class="line">           <span class="keyword">continue</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    imgDir_jpeg = dir([imgDataPath imgDataDir(<span class="built_in">i</span>).name <span class="string">'/*.jpeg'</span>]); <span class="comment">%è¯»å–jpegæ ¼å¼çš„å›¾ç‰‡</span></span><br><span class="line">    imgDir_jpg = dir([imgDataPath imgDataDir(<span class="built_in">i</span>).name <span class="string">'/*.jpg'</span>]); <span class="comment">%è¯»å–jpgæ ¼å¼çš„å›¾ç‰‡</span></span><br><span class="line">    imgDir = [imgDir_jpeg',imgDir_jpg']'; <span class="comment">% åˆå¹¶æˆå­æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å›¾ç‰‡åœ°å€</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> =<span class="number">1</span>:<span class="built_in">length</span>(imgDir)                 <span class="comment">% éå†æ‰€æœ‰æ–‡ä»¶çš„åœ°å€</span></span><br><span class="line">        img = imread([imgDataPath imgDataDir(<span class="built_in">i</span>).name <span class="string">'/'</span> imgDir(<span class="built_in">j</span>).name]); <span class="comment">%è¯»å–å•ä¸ªæ–‡ä»¶</span></span><br><span class="line">        imwrite(img, [savepath,imgDataDir(<span class="built_in">i</span>).name,num2str(<span class="built_in">j</span>),<span class="string">'.jpeg'</span>]) <span class="comment">%ä»¥å­—ç¬¦+ç¼–å·ä¸ºå‘½å</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>æ–°å»ºç«‹çš„æ–‡ä»¶å¤¹ï¼Œæ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰æ¼ï¼Œå¯ä»¥ç›´æ¥çœ‹æ¯ä¸ªå­—æ¯çš„æœ€åä¸€ä¸ªæ˜¯ä¸æ˜¯â€å­—æ¯100.jpegâ€</p>
<p><img src="https://pic4.zhimg.com/v2-98d05aac73ddf39e77aa168050c19a97_b.png" alt="img"></p>
<h3 id="å¤„ç†å•ä¸ªå›¾ç‰‡ï¼Œä»¥çŸ©é˜µå½¢å¼ä¿å­˜å€’å…¥çš„å›¾ç‰‡"><a href="#å¤„ç†å•ä¸ªå›¾ç‰‡ï¼Œä»¥çŸ©é˜µå½¢å¼ä¿å­˜å€’å…¥çš„å›¾ç‰‡" class="headerlink" title="å¤„ç†å•ä¸ªå›¾ç‰‡ï¼Œä»¥çŸ©é˜µå½¢å¼ä¿å­˜å€’å…¥çš„å›¾ç‰‡"></a>å¤„ç†å•ä¸ªå›¾ç‰‡ï¼Œä»¥çŸ©é˜µå½¢å¼ä¿å­˜å€’å…¥çš„å›¾ç‰‡</h3><p>ä¸‹å›¾getimdata2è¿™ä¸ªå‡½æ•°è¾“å…¥çš„æ˜¯é‡å†™åçš„æ–°æ–‡ä»¶å¤¹åœ°å€ï¼Œè¾“å‡ºçš„æ˜¯è®­ç»ƒé›†Xå’Œæ ‡ç­¾y ï¼ˆè¿™é‡Œç”¨æ•°å­—ä»£æŒ‡æ ‡ç­¾ï¼‰</p>
<p>ä¸å¥½æ„æ€æœ‰ç‚¹æ‡’å¾—åŠ¨è„‘å­äº†ï¼Œå°±ç›´æ¥å†™äº†24ä¸ªifï¼Œå¤§å®¶å¯ä»¥éšæ„ä¼˜åŒ–</p>
<p>å¦‚æœç»§ç»­å¤„ç†ä¾‹å¦‚è½¬æ¢ä¸ºonehotä¹‹ç±»çš„å¯ä»¥ç›´æ¥ç”¨ind2vecæ¥è½¬æ¢</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[ data,target ]</span> = <span class="title">getimdata2</span><span class="params">(path)</span></span></span><br><span class="line"><span class="comment">%GETIMDATA Summary of this function goes here</span></span><br><span class="line"><span class="comment">%   Detailed explanation goes here</span></span><br><span class="line">    files = dir([path <span class="string">'*.jpeg'</span>]);</span><br><span class="line">    data=[];</span><br><span class="line">    target=[];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> file = files'</span><br><span class="line">        im = imread([path file.name]);</span><br><span class="line">        <span class="comment">% Normalize the data </span></span><br><span class="line">        im = double(im);</span><br><span class="line">        im = im/<span class="number">255</span>;</span><br><span class="line">        </span><br><span class="line">        data = [data im(:)];</span><br><span class="line">        <span class="keyword">if</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'A'</span>) <span class="comment">% å¦‚æœæ–‡ä»¶ç¬¬ä¸€ä¸ªå­—ç¬¦ç­‰äºâ€˜Aâ€˜ï¼Œé‚£å°±ç”¨1ä»£æ›¿a</span></span><br><span class="line">            target=[target [<span class="number">1</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'B'</span>)</span><br><span class="line">            target=[target [<span class="number">2</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'C'</span>)</span><br><span class="line">            target=[target [<span class="number">3</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'D'</span>)</span><br><span class="line">            target=[target [<span class="number">4</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'E'</span>)</span><br><span class="line">            target=[target [<span class="number">5</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'F'</span>)</span><br><span class="line">            target=[target [<span class="number">6</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'G'</span>)</span><br><span class="line">            target=[target [<span class="number">7</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'H'</span>)</span><br><span class="line">            target=[target [<span class="number">8</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'J'</span>)</span><br><span class="line">            target=[target [<span class="number">9</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'K'</span>)</span><br><span class="line">            target=[target [<span class="number">10</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'L'</span>)</span><br><span class="line">            target=[target [<span class="number">11</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'M'</span>)</span><br><span class="line">            target=[target [<span class="number">12</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'N'</span>)</span><br><span class="line">            target=[target [<span class="number">13</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'P'</span>)</span><br><span class="line">            target=[target [<span class="number">14</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Q'</span>)</span><br><span class="line">            target=[target [<span class="number">15</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'R'</span>)</span><br><span class="line">            target=[target [<span class="number">16</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'S'</span>)</span><br><span class="line">            target=[target [<span class="number">17</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'T'</span>)</span><br><span class="line">            target=[target [<span class="number">18</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'U'</span>)</span><br><span class="line">            target=[target [<span class="number">19</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'V'</span>)</span><br><span class="line">            target=[target [<span class="number">20</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'W'</span>)</span><br><span class="line">            target=[target [<span class="number">21</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'X'</span>)</span><br><span class="line">            target=[target [<span class="number">22</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Y'</span>)</span><br><span class="line">            target=[target [<span class="number">23</span>]];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Z'</span>)</span><br><span class="line">            target=[target [<span class="number">24</span>]];</span><br><span class="line">        <span class="keyword">end</span>    </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>å¦å¤–ä¸€ä¸ªgetimdata å‡½æ•°å’Œä¸Šé¢å¤§ä½“å·®ä¸å¤šï¼Œä½†æ˜¯è¾“å‡ºçš„æ˜¯å·²ç»onehot encodingåçš„ç»“æœï¼ˆe.g. A-&gt; (1,0,0,â€¦0)ï¼‰æ ‡ç­¾ç”¨ä¸€ä¸ª1*24çš„å‘é‡æ¥è¡¨ç¤º</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[ data,target ]</span> = <span class="title">getimdata</span><span class="params">(path)</span></span></span><br><span class="line"><span class="comment">%GETIMDATA Summary of this function goes here</span></span><br><span class="line"><span class="comment">%   Detailed explanation goes here</span></span><br><span class="line">    files = dir([path <span class="string">'*.jpeg'</span>]);</span><br><span class="line">    data=[];</span><br><span class="line">    target=[];</span><br><span class="line">    </span><br><span class="line"><span class="comment">%   Generated the cell and zero matrix to store</span></span><br><span class="line">    store = cell(<span class="number">1</span>,<span class="number">24</span>);</span><br><span class="line">    tst_zero = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">24</span>);</span><br><span class="line">    </span><br><span class="line"><span class="comment">%   Fill the zeros matrix </span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="number">24</span></span><br><span class="line">        copy = tst_zero;</span><br><span class="line">        copy(<span class="number">1</span>,<span class="built_in">i</span>) = <span class="number">1</span>;</span><br><span class="line">        store{<span class="built_in">i</span>} = copy;</span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> file = files'</span><br><span class="line">        im = imread([path file.name]);</span><br><span class="line">        <span class="comment">% Normalize the data </span></span><br><span class="line">        im = double(im);</span><br><span class="line">        im = im/<span class="number">255</span>;</span><br><span class="line">        data = [data im(:)];</span><br><span class="line">        test_zero = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">24</span>);</span><br><span class="line">        <span class="keyword">if</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'A'</span>)</span><br><span class="line">            target=[target [store{<span class="number">1</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'B'</span>)</span><br><span class="line">            target=[target [store{<span class="number">2</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'C'</span>)</span><br><span class="line">            target=[target [store{<span class="number">3</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'D'</span>)</span><br><span class="line">            target=[target [store{<span class="number">4</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'E'</span>)</span><br><span class="line">            target=[target [store{<span class="number">5</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'F'</span>)</span><br><span class="line">            target=[target [store{<span class="number">6</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'G'</span>)</span><br><span class="line">            target=[target [store{<span class="number">7</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'H'</span>)</span><br><span class="line">            target=[target [store{<span class="number">8</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'J'</span>)</span><br><span class="line">            target=[target [store{<span class="number">9</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'K'</span>)</span><br><span class="line">            target=[target [store{<span class="number">10</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'L'</span>)</span><br><span class="line">            target=[target [store{<span class="number">11</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'M'</span>)</span><br><span class="line">            target=[target [store{<span class="number">12</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'N'</span>)</span><br><span class="line">            target=[target [store{<span class="number">13</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'P'</span>)</span><br><span class="line">            target=[target [store{<span class="number">14</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Q'</span>)</span><br><span class="line">            target=[target [store{<span class="number">15</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'R'</span>)</span><br><span class="line">            target=[target [store{<span class="number">16</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'S'</span>)</span><br><span class="line">            target=[target [store{<span class="number">17</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'T'</span>)</span><br><span class="line">            target=[target [store{<span class="number">18</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'U'</span>)</span><br><span class="line">            target=[target [store{<span class="number">19</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'V'</span>)</span><br><span class="line">            target=[target [store{<span class="number">20</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'W'</span>)</span><br><span class="line">            target=[target [store{<span class="number">21</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'X'</span>)</span><br><span class="line">            target=[target [store{<span class="number">22</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Y'</span>)</span><br><span class="line">            target=[target [store{<span class="number">23</span>}]'];</span><br><span class="line">        <span class="keyword">elseif</span> strcmp(file.name(<span class="number">1</span>),<span class="string">'Z'</span>)</span><br><span class="line">            target=[target [store{<span class="number">24</span>}]'];</span><br><span class="line">        <span class="keyword">end</span>    </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•äºŒï¼šåˆ©ç”¨imageDatastore"><a href="#æ–¹æ³•äºŒï¼šåˆ©ç”¨imageDatastore" class="headerlink" title="æ–¹æ³•äºŒï¼šåˆ©ç”¨imageDatastore"></a>æ–¹æ³•äºŒï¼šåˆ©ç”¨imageDatastore</h3><p>ç®€ä¾¿çš„æ–¹æ³•æ°¸è¿œæ˜¯åœ¨ä½ å†™å®Œåšå®Œåå‘ç°çš„ğŸ™„</p>
<p>imageDatastore å¯ä»¥ç›´æ¥è¯»å–ä½ è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶åŠå…¶å›¾ç‰‡</p>
<p>ä¸‹é¢çš„ä»£ç æ˜¯ç›´æ¥å°†æ•°æ®é›†å’Œæ ‡ç­¾éƒ½å·²ç»åˆ†å¥½å¤„ç†å¥½äº†ï¼Œå¯ä»¥ç›´æ¥å–‚åˆ°æ¨¡å‹é‡Œé¢å»çš„</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%%</span></span><br><span class="line">clc;</span><br><span class="line">clear;</span><br><span class="line"></span><br><span class="line"><span class="comment">%% </span></span><br><span class="line">F = <span class="string">'../INT301_Assessment2/ass2data'</span>;</span><br><span class="line">imds = imageDatastore(F,<span class="string">'IncludeSubfolders'</span>,<span class="built_in">true</span>,<span class="string">'LabelSource'</span>,<span class="string">'foldernames'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">labelCount = countEachLabel(imds);   <span class="comment">%ç»Ÿè®¡imdsä¸­å„æ ‡ç­¾å€¼çš„å›¾ç‰‡æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% 2ï¼Œ8åˆ†å‰²ï¼Œ8ä¸ºtrainingï¼Œ2ä¸ºtesting</span></span><br><span class="line">numTrainFiles = <span class="number">80</span>;</span><br><span class="line">[imdsTrain, imdsTest] = splitEachLabel(imds, numTrainFiles,<span class="string">'randomize'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">data = [];</span><br><span class="line">files = imdsTrain.Files;</span><br><span class="line">x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> file = files'</span><br><span class="line">    im = imread(file{<span class="number">1</span>});</span><br><span class="line">    im = double(im);</span><br><span class="line">    im = im/<span class="number">255</span>;</span><br><span class="line">    data = [data im(:)];</span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">X_train = data';</span><br><span class="line">y_train = imdsTrain.Labels;</span><br><span class="line">y_train = label_preprocess(y_train);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">data = []</span><br><span class="line">files = imdsTest.Files;</span><br><span class="line">x = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> file = files'</span><br><span class="line">    im = imread(file{<span class="number">1</span>});</span><br><span class="line">    im = double(im);</span><br><span class="line">    im = im/<span class="number">255</span>;</span><br><span class="line">    data = [data im(:)];</span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">X_test = data';</span><br><span class="line">y_test = imdsTest.Labels;</span><br><span class="line">y_test = label_preprocess(y_test);</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘å°†é‚£24ä¸ª if æ‰“åŒ…å†™æˆäº†ä¸€ä¸ªæ–°çš„å‡½æ•°å«label_preprocessï¼Œè¾“å…¥çš„æ˜¯æ ‡ç­¾ï¼Œè¾“å‡ºçš„æ˜¯onehot encodingåçš„ç»“æœ</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[target]</span> = <span class="title">label_preprocess</span><span class="params">(y_train)</span></span></span><br><span class="line">target = [];</span><br><span class="line"><span class="keyword">for</span> y = y_train'</span><br><span class="line">    <span class="keyword">if</span> y == <span class="string">'A'</span></span><br><span class="line">        target=[target [<span class="number">1</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'B'</span></span><br><span class="line">        target=[target [<span class="number">2</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'C'</span></span><br><span class="line">        target=[target [<span class="number">3</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'D'</span></span><br><span class="line">        target=[target [<span class="number">4</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'E'</span></span><br><span class="line">        target=[target [<span class="number">5</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'F'</span></span><br><span class="line">        target=[target [<span class="number">6</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'G'</span></span><br><span class="line">        target=[target [<span class="number">7</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'H'</span></span><br><span class="line">        target=[target [<span class="number">8</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'J'</span></span><br><span class="line">        target=[target [<span class="number">9</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'K'</span></span><br><span class="line">        target=[target [<span class="number">10</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'L'</span></span><br><span class="line">        target=[target [<span class="number">11</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'M'</span></span><br><span class="line">        target=[target [<span class="number">12</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'N'</span></span><br><span class="line">        target=[target [<span class="number">13</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'P'</span></span><br><span class="line">        target=[target [<span class="number">14</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'Q'</span></span><br><span class="line">        target=[target [<span class="number">15</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'R'</span></span><br><span class="line">        target=[target [<span class="number">16</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'S'</span></span><br><span class="line">        target=[target [<span class="number">17</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'T'</span></span><br><span class="line">        target=[target [<span class="number">18</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'U'</span></span><br><span class="line">        target=[target [<span class="number">19</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'V'</span></span><br><span class="line">        target=[target [<span class="number">20</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'W'</span></span><br><span class="line">        target=[target [<span class="number">21</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'X'</span></span><br><span class="line">        target=[target [<span class="number">22</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'Y'</span></span><br><span class="line">        target=[target [<span class="number">23</span>]];</span><br><span class="line">    <span class="keyword">elseif</span> y==<span class="string">'Z'</span></span><br><span class="line">        target=[target [<span class="number">24</span>]];</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"></span><br><span class="line">target =ind2vec(target);</span><br><span class="line">target = target';</span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•ä¸‰ï¼šç›´æ¥è¯»å–-gæ ¼å¼ï¼ˆä»…é™æœ¬é¢˜ä½¿ç”¨ï¼‰"><a href="#æ–¹æ³•ä¸‰ï¼šç›´æ¥è¯»å–-gæ ¼å¼ï¼ˆä»…é™æœ¬é¢˜ä½¿ç”¨ï¼‰" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šç›´æ¥è¯»å–.gæ ¼å¼ï¼ˆä»…é™æœ¬é¢˜ä½¿ç”¨ï¼‰"></a>æ–¹æ³•ä¸‰ï¼šç›´æ¥è¯»å–.gæ ¼å¼ï¼ˆä»…é™æœ¬é¢˜ä½¿ç”¨ï¼‰</h3><p>å› ä¸ºjpegå’Œjpgéƒ½æ˜¯ä»¥gç»“å°¾ï¼Œæ‰€ä»¥å¯ä»¥æœ¬é¢˜å¯ä»¥ç›´è¯»å–gã€‚ä»£ç å°±ç•¥äº†</p>
]]></content>
      <categories>
        <category>Matlab</category>
      </categories>
      <tags>
        <tag>Matlab</tag>
        <tag>tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>sklearné‡ŒLinearSVCä¸SVCåŒºåˆ«</title>
    <url>/2021/01/26/sklearn%E9%87%8CLinearSVC%E4%B8%8ESVC%E5%8C%BA%E5%88%AB/</url>
    <content><![CDATA[<p>è¿™é‡Œç»¼åˆäº†stackoverflowä¸Šçš„ä¸€ä½å‘è¨€å’Œå¦ä¸€ä½çŸ¥ä¹ç”¨æˆ·çš„æ–‡ç« ï¼Œé“¾æ¥åœ¨ä¸‹æ–¹ï¼š</p>
<p><a class="link"   href="https://stackoverflow.com/questions/45384185/what-is-the-difference-between-linearsvc-and-svckernel-linear" >What is the difference between LinearSVC and SVC(kernel=â€linearâ€)?<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/57162092" >baiziyuï¼šsklearn.svm.LinearSVCä¸sklearn.svm.SVCåŒºåˆ«<i class="fas fa-external-link-alt"></i></a></p>
<p>LinearSVC å’Œ SVC(kernel=â€™linearâ€™) ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœï¼Œä¾‹å¦‚ ä¸åŒçš„åˆ†æ•°ä»¥åŠä¸åŒçš„decision boundaryï¼Œ åŸå› æ˜¯ä»–ä»¬é‡‡ç”¨äº†ä¸åŒçš„è®¡ç®—æ–¹å¼ã€‚ä¸‹é¢çš„ä»£ç å¯ä»¥è‡ªå·±è¿è¡Œä¸€ä¸‹ï¼Œæ„Ÿå—ä¸€ä¸‹ä¸åŒçš„åœ°æ–¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from sklearn.datasets import load_iris</span><br><span class="line">from sklearn.svm import LinearSVC, SVC</span><br><span class="line"></span><br><span class="line">X, y &#x3D; load_iris(return_X_y&#x3D;True)</span><br><span class="line"></span><br><span class="line">clf_1 &#x3D; LinearSVC(loss&#x3D;&#39;hinge&#39;).fit(X, y)  # possible to state loss&#x3D;&#39;hinge&#39;</span><br><span class="line">clf_2 &#x3D; LinearSVC().fit(X, y)  # possible to state loss&#x3D;&#39;hinge&#39;</span><br><span class="line">clf_3 &#x3D; SVC(kernel&#x3D;&#39;linear&#39;).fit(X, y)</span><br><span class="line"></span><br><span class="line">score_1 &#x3D; clf_1.score(X, y)</span><br><span class="line">score_2 &#x3D; clf_2.score(X, y)</span><br><span class="line">score_3 &#x3D; clf_2.score(X, y)</span><br><span class="line"></span><br><span class="line">print(&#39;LinearSVC score %s&#39; % score_1)</span><br><span class="line">print(&#39;LinearSVC score with hinge loss %s&#39; % score_2)</span><br><span class="line">print(&#39;SVC score %s&#39; % score_3)</span><br><span class="line"></span><br><span class="line">------------------------</span><br><span class="line">LinearSVC score 0.94</span><br><span class="line">LinearSVC score with hinge loss 0.9666666666666667</span><br><span class="line">SVC score 0.9666666666666667</span><br></pre></td></tr></table></figure>
<h3 id="æœ€ä¸»è¦çš„ä¸åŒç‚¹ï¼š"><a href="#æœ€ä¸»è¦çš„ä¸åŒç‚¹ï¼š" class="headerlink" title="æœ€ä¸»è¦çš„ä¸åŒç‚¹ï¼š"></a>æœ€ä¸»è¦çš„ä¸åŒç‚¹ï¼š</h3><ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒLinearSVCæœ€å°åŒ–squared hinge lossï¼Œè€ŒSVCæœ€å°åŒ–hinge lossã€‚ï¼ˆä¸Šå›¾ä»£ç å—ï¼‰</li>
<li>LinearSVCæ˜¯åŸºäºliblinearå®ç°çš„ï¼Œäº‹å®ä¸Šä¼šæƒ©ç½šæˆªè·(penalize the intercept), ç„¶è€Œï¼ŒSVCæ˜¯åŸºäºlibsvmå®ç°çš„ï¼Œå¹¶ä¸ä¼šæƒ©ç½šæˆªè·</li>
<li>liblinearåº“é’ˆå¯¹çº¿æ€§çš„æ¨¡å‹è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå› æ­¤åœ¨å¤§é‡çš„æ•°æ®ä¸Šæ”¶æ•›é€Ÿåº¦ä¼šé«˜äºlibsvmã€‚æ‰€ä»¥LinearSVCåœ¨å¤§æ•°æ®ä¸Šä¹Ÿèƒ½å¾ˆå¥½çš„å½’ä¸€åŒ–ï¼Œä½†æ˜¯SVCåœ¨å¤§é‡æ•°æ®ä¸Šå¾ˆéš¾æ”¶æ•›</li>
<li>LinearSVCä½¿ç”¨ ï¼ˆOne-vs-Allï¼‰æ–¹å¼æ¥å®ç°å¤šåˆ†ç±»é—®é¢˜ï¼Œä½†SVCä½¿ç”¨çš„æ˜¯One-vs-Oneçš„æ–¹å¼æ¥å¤„ç†å¤šåˆ†ç±»çš„é—®é¢˜</li>
</ul>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>ML</tag>
        <tag>sklearn</tag>
      </tags>
  </entry>
  <entry>
    <title>macOS:ä½¿ç”¨IntelliJ IDEAè¿æ¥æœ¬åœ°Hadoop</title>
    <url>/2021/01/26/macOS%E4%BD%BF%E7%94%A8IntelliJ-IDEA%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0Hadoop/</url>
    <content><![CDATA[<p>æœ¬æ–‡çš„æ‰€æœ‰æ“ä½œæ˜¯å»ºç«‹åœ¨æœ¬åœ°å·²ç»é…ç½®å¥½Hadoopå’Œjavaç¯å¢ƒçš„åŸºç¡€ä¸Šï¼Œè‹¥æœªå®Œæˆï¼Œè¯·å»è¿™ä¸ªé“¾æ¥å…ˆå­¦ä¹ å¥½</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/277611350" >lonerï¼šHadoop åœ¨macæœ¬åœ°çš„é…ç½®<i class="fas fa-external-link-alt"></i></a></p>
<p>æœ¬æ–‡å‚è€ƒåšå®¢</p>
<p><a class="link"   href="https://blog.csdn.net/weixin_45774600/article/details/105289999" >macOSï¼šä½¿ç”¨IntelliJ IDEAè¿œç¨‹è¿æ¥Hadoop<i class="fas fa-external-link-alt"></i></a></p>
<p>é¦–å…ˆä½¿ç”¨intelliJ IDEA é…ç½®æŒ‡å®šçš„jdk</p>
<p>è¿™é‡Œæ“ä½œå…¶å®åªéœ€è¦åœ¨java class é‡Œé¢è¿è¡Œå°±å¯ä»¥äº†ï¼Œå‘½åè¿›å…¥</p>
<p><img src="https://pic2.zhimg.com/v2-bbb99e7ef2a3a2ab4a2057d38c54e3cd_b.png" alt="img"></p>
<p>è€æ ·å­è¿›å…¥project structure ï¼ˆFile-Project Structure: å¿«æ·é”®command+;ï¼‰</p>
<p><img src="https://pic1.zhimg.com/v2-5087d33ec42e95648bb8e19367110d50_b.png" alt="img"></p>
<p>å…ˆæ£€æŸ¥SDKçš„æƒ…å†µï¼Œå¦‚æœé»˜è®¤æ˜¾ç¤ºå°±æ˜¯è¿™æ ·çš„ï¼Œåˆ™å°±è¿™æ ·ï¼Œå¦‚æœä¸æ˜¯æ·»åŠ ï¼ˆé‚£ä¸ª+å·ï¼‰ï¼Œè·¯å¾„åŸºæœ¬ä¸Šåœ¨macä¸Šéƒ½å·®ä¸å¤šæ˜¯è¿™æ ·çš„/Library/Java/JavaVirtualMachine/å‰åº”è¯¥éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p><img src="https://pic3.zhimg.com/v2-0db76d6a8e59222eb80f24dc52269f0a_b.png" alt="img"></p>
<p>ç„¶åè¿›å…¥åˆ°Projectçš„æƒ…å†µ</p>
<p><img src="https://pic1.zhimg.com/v2-9142a0b3ff0d0ffd5ccf34512c6f0280_b.png" alt="img"></p>
<p>ç„¶åè¿›å…¥åˆ°moduleï¼Œå¯¼å…¥ä¾èµ–ï¼ˆdependenciesï¼‰</p>
<p><img src="https://pic3.zhimg.com/v2-b90f33443a8e6bfd9fae39f1812e8e2a_b.png" alt="img"></p>
<p><img src="https://pic3.zhimg.com/v2-18890b2899813acc7496601932de2c0e_b.png" alt="img"></p>
<p>é€‰æ‹©JARs or directories,æŒ‰ç…§ä¸‹é¢æ“ä½œå¤šæ‰¹æ¬¡çš„å¯¼å…¥è§£å‹åHadoopçš„ä½ç½®</p>
<p>æ³¨æ„è¿™å„¿Hadoopçš„ä½ç½®æ˜¯è§£å‹åçš„å®‰è£…åŒ…åœ¨share-&gt;hadoop</p>
<p><img src="https://pic2.zhimg.com/v2-b5434323d331ae6c36db581641366819_b.png" alt="img"></p>
<p>ä¾æ¬¡å¯¼å…¥8ä¸ªä¾èµ–ï¼Œä¸€ä¸ªä¸€ä¸ªæ‰‹åŠ¨åŠ ï¼Œç„¶åApplyï¼ŒOK</p>
<p><img src="https://pic4.zhimg.com/v2-ad8a2f1ec4a6669a4b833145bda45c2f_b.png" alt="img"></p>
<p>ç¼–è¯‘å’Œè¿è¡Œ</p>
<p>è¿è¡Œå¦‚ä¸‹WordCount.java</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.StringTokenizer;</span><br><span class="line"></span><br><span class="line">import org.apache.hadoop.conf.Configuration;</span><br><span class="line">import org.apache.hadoop.fs.Path;</span><br><span class="line">import org.apache.hadoop.io.IntWritable;</span><br><span class="line">import org.apache.hadoop.io.Text;</span><br><span class="line">import org.apache.hadoop.mapreduce.Job;</span><br><span class="line">import org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line">import org.apache.hadoop.mapreduce.Reducer;</span><br><span class="line">import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;</span><br><span class="line">import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</span><br><span class="line"></span><br><span class="line">public class WordCount &#123;</span><br><span class="line"></span><br><span class="line">    public static class TokenizerMapper</span><br><span class="line">            extends Mapper&lt;Object, Text, Text, IntWritable&gt;&#123;</span><br><span class="line"></span><br><span class="line">        private final static IntWritable one &#x3D; new IntWritable(1);</span><br><span class="line">        private Text word &#x3D; new Text();</span><br><span class="line"></span><br><span class="line">        public void map(Object key, Text value, Context context</span><br><span class="line">        ) throws IOException, InterruptedException &#123;</span><br><span class="line">            StringTokenizer itr &#x3D; new StringTokenizer(value.toString());</span><br><span class="line">            while (itr.hasMoreTokens()) &#123;</span><br><span class="line">                word.set(itr.nextToken());</span><br><span class="line">                context.write(word, one);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static class IntSumReducer</span><br><span class="line">            extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; &#123;</span><br><span class="line">        private IntWritable result &#x3D; new IntWritable();</span><br><span class="line"></span><br><span class="line">        public void reduce(Text key, Iterable&lt;IntWritable&gt; values,</span><br><span class="line">                           Context context</span><br><span class="line">        ) throws IOException, InterruptedException &#123;</span><br><span class="line">            int sum &#x3D; 0;</span><br><span class="line">            for (IntWritable val : values) &#123;</span><br><span class="line">                sum +&#x3D; val.get();</span><br><span class="line">            &#125;</span><br><span class="line">            result.set(sum);</span><br><span class="line">            context.write(key, result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws Exception &#123;</span><br><span class="line">        Configuration conf &#x3D; new Configuration();</span><br><span class="line">        Job job &#x3D; Job.getInstance(conf, &quot;word count&quot;);</span><br><span class="line">        job.setJarByClass(WordCount.class);</span><br><span class="line">        job.setMapperClass(TokenizerMapper.class);</span><br><span class="line">        job.setCombinerClass(IntSumReducer.class);</span><br><span class="line">        job.setReducerClass(IntSumReducer.class);</span><br><span class="line">        job.setOutputKeyClass(Text.class);</span><br><span class="line">        job.setOutputValueClass(IntWritable.class);</span><br><span class="line">        FileInputFormat.addInputPath(job, new Path(args[0]));</span><br><span class="line">        FileOutputFormat.setOutputPath(job, new Path(args[1]));</span><br><span class="line">        System.exit(job.waitForCompletion(true) ? 0 : 1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-b972bff0438429263be2842c94e319b2_b.png" alt="img"></p>
<p><img src="https://pic2.zhimg.com/v2-c83dbde658707eb3ef7955ba02e34a61_b.png" alt="img"></p>
<p>é€‰æ‹©applicationåéœ€è¦é…ç½®å¦‚ä¸‹ï¼Œnameéšæ„ï¼Œæœ€é‡è¦çš„æ˜¯Main class: ä¿è¯åå­—å’Œä½ newçš„javaæ–‡ä»¶åå­—ä¸€è‡´ï¼Œinputå’Œoutputæ˜¯ç­‰ä¼šè¦æ”¾å…¥çš„æ–‡ä»¶ï¼Œè¾“å…¥å’Œè¾“å‡º</p>
<p><img src="https://pic3.zhimg.com/v2-87d680b6ed9ae34a669c898ba636be22_b.png" alt="img"></p>
<p>é…ç½®è¾“å…¥æ–‡ä»¶</p>
<p>è¿™é‡Œæˆ‘åˆšåˆšåœ¨configurationé‡Œé¢å†™äº†æˆ‘çš„è¾“å…¥æ–‡ä»¶å«inputï¼Œéœ€è¦é…ç½®è¾“å…¥è·¯å¾„ï¼Œè¿™é‡Œåœ¨ï¼ˆsrcåŒçº§ç›®å½•ä¸‹ï¼‰æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹inputï¼Œå¹¶ä¸”æŠŠä½ éœ€è¦è¾“å…¥çš„æ–‡ä»¶æ”¾è¿›å»ï¼Œè¿™å„¿è¿˜æ˜¯ä¹‹å‰çš„pg100.txt</p>
<p><img src="https://pic4.zhimg.com/v2-c43f3e376a689e401c3585bd9625cf8f_b.png" alt="img"></p>
<p>è¿è¡Œ</p>
<p><img src="https://pic4.zhimg.com/v2-f43cf63ac94ae2df051221c0b49a001f_b.png" alt="img"></p>
<p>å‡ºç°å¦‚ä¸‹æƒ…å†µ</p>
<p><img src="https://pic1.zhimg.com/v2-1171ebce5dad8f3a92d14cd4d10a6274_b.png" alt="img"></p>
<p><img src="https://pic2.zhimg.com/v2-9079be8c4a11d97d40154dc51cc080f1_b.png" alt="img"></p>
<p>å’Œä¹‹å‰åœ¨terminalé‡Œè¿è¡ŒæˆåŠŸçš„ä¸€æ¨¡ä¸€æ ·ï¼ŒæˆåŠŸåä¼šå‡ºç°ä¸€ä¸ª outputçš„æ–‡ä»¶å¤¹ï¼Œç”±äºoutputçš„å…ˆå¤©ç‰¹æ€§ï¼Œå®ƒæ— æ³•è¦†ç›–ï¼Œæ‰€ä»¥ä¸‹æ¬¡è¿è¡Œçš„æ—¶å€™è¯·åˆ é™¤ä¹‹å‰çš„é‚£ä¸ªï¼Œæˆ–è€…ä½ æ”¹ä¸ªåå­—ï¼ˆæˆ‘åæ¥å¥½åƒçœ‹è§è¿™ä¸ªå¯ä»¥ç”¨å…¶ä»–æ–¹æ³•è¦†ç›–çš„ï¼Œè¿™é‡Œå°±ä¸åšæ¶‰åŠï¼‰</p>
<p><img src="https://pic3.zhimg.com/v2-df5dda07bd75d6324ba25680e367e6c6_b.png" alt="img"></p>
<p>åˆ°ç°åœ¨ä½ç½®ï¼ŒHadoopçš„æ•™ç¨‹éƒ½å·²ç»ç»“æŸï¼Œæ— è®ºæ˜¯é˜¿é‡Œäº‘Hadoopçš„é…ç½®ï¼Œè¿è¡ŒWordCount.javaè¿˜æ˜¯macæœ¬åœ°çš„Hadoopè¿è¡Œè°ƒè¯•ï¼Œè¿˜æ˜¯å€ŸåŠ©IDEAç›´æ¥å•æœºæ¨¡å¼è¿è¡Œï¼Œéƒ½å·²ç»å®Œæˆäº†ã€‚å¦‚æœæœ‰ä¸æ˜ç™½çš„ï¼Œè¯·å…³æ³¨æˆ‘çš„ä¸“æ ï¼Œé‡Œé¢æœ‰è¯¦ç»†çš„æ­¥éª¤ã€‚</p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>macOS</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨é…ç½®jupyter notebookåŠè¿œç¨‹ç½‘é¡µæ‰“å¼€</title>
    <url>/2021/01/26/%E9%98%BF%E9%87%8C%E4%BA%91%E8%BD%BB%E9%87%8F%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AEjupyter-notebook%E5%8F%8A%E8%BF%9C%E7%A8%8B%E7%BD%91%E9%A1%B5%E6%89%93%E5%BC%80/</url>
    <content><![CDATA[<p>å…·ä½“é˜¿é‡Œäº‘æœåŠ¡å™¨çš„å‚æ•°å’Œè´­ä¹°å¯ä»¥å‚è€ƒæˆ‘ä¸Šä¸€ç¯‡ä¸“æ </p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/269047002" >lonerï¼šä»é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨å®‰è£…HadoopåŠç¯å¢ƒé…ç½®<i class="fas fa-external-link-alt"></i></a></p>
<p>é¦–å…ˆä¿è¯ä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£…æˆåŠŸ Anacondaï¼Œå…·ä½“æ•™ç¨‹å¯ä»¥å‚è€ƒå¦‚ä¸‹é“¾æ¥</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/64930395" >å¯è¯­ï¼šLinux-Centos7ä¸‹å®‰è£…Anacondaï¼ˆ2019å¹´æ–°ç‰ˆï¼‰<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="å®‰è£…jupyter-notebook"><a href="#å®‰è£…jupyter-notebook" class="headerlink" title="å®‰è£…jupyter notebook"></a>å®‰è£…jupyter notebook</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda install jupyter notebook </span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-fded09bc06bc572a1b1fa4b37908bba0_b.png" alt="img"></p>
<p>å®‰è£…å®Œæˆåå¯¼å‡ºjupyterçš„configæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jupyter notebook --generate-config</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-03a1115c5cc9e61e1c5f792c40411c8f_b.png" alt="img"></p>
<p>å¯ä»¥çœ‹è§ä¸€èˆ¬é»˜è®¤åœ°å€æ˜¯åœ¨ /root/.jupyter/jupyter_notebook_config.py</p>
<p>å‘½ä»¤è¡Œè¾“å…¥python3ï¼Œè¿›å…¥python3ç¯å¢ƒ</p>
<p><img src="https://pic2.zhimg.com/v2-5d85b851016dd6c381f8e703d7031b1d_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from IPython.lib import passwd</span><br><span class="line">passwd()</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„passwordæ˜¯å¯ä»¥éšä¾¿å†™çš„ï¼Œåªè¦ä¿è¯ä¸¤æ¬¡è¾“å…¥çš„ç›¸åŒå°±è¡Œï¼Œé‡ç‚¹æ˜¯è¿”å›çš„å“ˆå¸Œå€¼ï¼ˆe.g. â€˜sha1:d208466595c9:91e23f1a*<strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong>â€˜ï¼‰</p>
<h3 id="å¼€å§‹ç¼–è¯‘jupyter-çš„configæ–‡ä»¶"><a href="#å¼€å§‹ç¼–è¯‘jupyter-çš„configæ–‡ä»¶" class="headerlink" title="å¼€å§‹ç¼–è¯‘jupyter çš„configæ–‡ä»¶"></a>å¼€å§‹ç¼–è¯‘jupyter çš„configæ–‡ä»¶</h3><p>vim æ‰“å¼€é…ç½®æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi ~&#x2F;.jupyter&#x2F;jupyter_notebook_config.py</span><br></pre></td></tr></table></figure>
<p>æœç´¢passwordå…³é”®å­—(å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥/password)ï¼Œæ‰¾åˆ°å…¶ä¸­ä»£ç å—ï¼š</p>
<p><img src="https://pic2.zhimg.com/v2-02ea1c6c29a091ccae81ba8f67b6a129_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># c.NotebookApp.password&#x3D;&#39;&#39;</span><br><span class="line"></span><br><span class="line">#å°†å…¶æ›¿æ¢æˆï¼š</span><br><span class="line"></span><br><span class="line">c.NotebookApp.password &#x3D; u&#39;sha1:d208466595c9:91e23f1a***********************************â€™</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­å¼•å·ä¸­çš„å†…å®¹å³ä¸ºä¹‹å‰å¤åˆ¶ä¸‹æ¥çš„å“ˆå¸Œå¯†ç ï¼Œä¸»ä¹‰å¼•å·ä¹‹å‰è¿˜æœ‰ä¸€ä¸ªu</p>
<p>ç„¶åæ‹–åˆ°æœ€ä¸‹é¢è¾“å…¥ä¸€ä¸‹é…ç½®ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">c.NotebookApp.ip &#x3D; &#39;*&#39; #æ‰€æœ‰ç»‘å®šæœåŠ¡å™¨çš„IPéƒ½èƒ½è®¿é—®ï¼Œè‹¥æƒ³åªåœ¨ç‰¹å®šipè®¿é—®ï¼Œè¾“å…¥ipåœ°å€å³å¯</span><br><span class="line">c.NotebookApp.port &#x3D; 8889 #ç«¯å£è®¾ç½®ï¼Œæ³¨æ„è¯¥ç«¯å£å¯ä»¥è®¾ç½®çš„èŒƒå›´å¯ä»¥åœ¨æœåŠ¡å™¨æ§åˆ¶å°çš„é˜²ç«å¢™é€‰é¡¹ä¸­æ‰¾åˆ°</span><br><span class="line">c.NotebookApp.open_browser &#x3D; False #æˆ‘ä»¬å¹¶ä¸æƒ³åœ¨æœåŠ¡å™¨ä¸Šç›´æ¥æ‰“å¼€Jupyter Notebookï¼Œæ‰€ä»¥è®¾ç½®æˆFalse</span><br><span class="line">c.NotebookApp.notebook_dir &#x3D; &#39;&#x2F;root&#39; #è¿™é‡Œæ˜¯è®¾ç½®Jupyterçš„æ ¹ç›®å½•ï¼Œè‹¥ä¸è®¾ç½®å°†é»˜è®¤rootçš„æ ¹ç›®å½•ï¼Œä¸å®‰å…¨</span><br><span class="line">c.NotebookApp.allow_root &#x3D; True # ä¸ºäº†å®‰å…¨ï¼ŒJupyteré»˜è®¤ä¸å…è®¸ä»¥rootæƒé™å¯åŠ¨jupyter</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-de707fe4b5de8205b72cdc1123628c3b_b.png" alt="img"></p>
<p>æ³¨æ„ï¼šè¿™é‡Œçš„ç«¯å£ä¸€å®šè¦åœ¨é˜¿é‡Œäº‘çš„é˜²ç«å¢™ä¸Šæ‰“å¼€ï¼Œå¦åˆ™ä¼šæ— æ³•é“¾æ¥ï¼Œå…·ä½“å¯ä»¥çœ‹æœ¬æ–‡æœ€é¡¶ä¸Šä¹‹å‰æˆ‘é…ç½®Hadoopçš„æ–‡ç« </p>
<h3 id="å¯åŠ¨jupyter-notebook"><a href="#å¯åŠ¨jupyter-notebook" class="headerlink" title="å¯åŠ¨jupyter notebook"></a>å¯åŠ¨jupyter notebook</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jupyter notebook ## ç¬¬ä¸€æ¬¡æ‰“å¼€ç”¨ï¼Œè¿™ç§æ‰“å¼€ä¼šéšç€ç½‘é¡µçš„å…³é—­è€Œåœæ­¢è¿è¡Œ</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-011eeae6a7935e1d46ea3dbf4fb2c03b_b.png" alt="img"></p>
<p>æ³¨æ„çº¢æ¡†é‡Œé¢çš„tokenï¼Œæ¥ä¸‹æ¥ä¼šç”¨åˆ°ï¼Œè¿™é‡Œçš„ç«¯å£æ˜¯8888ï¼Œæ˜¯æˆ‘ç¬¬ä¸€æ¬¡é…ç½®çš„ç«¯å£ï¼Œå¿˜è®°æ”¹äº†ï¼ˆä½ åœ¨configæ–‡ä»¶é‡Œæ€ä¹ˆè®¾ç½®çš„ç«¯å£ï¼Œè¿™é‡Œæ˜¾ç¤ºçš„å°±ä¼šæ˜¯ä»€ä¹ˆæ ·ï¼‰</p>
<h3 id="è¿æ¥æµè§ˆå™¨"><a href="#è¿æ¥æµè§ˆå™¨" class="headerlink" title="è¿æ¥æµè§ˆå™¨"></a>è¿æ¥æµè§ˆå™¨</h3><p>æ‰“å¼€ä½ çš„æµè§ˆå™¨è¾“å…¥ä½ çš„å…¬ç½‘ipå’Œåœ¨é…ç½®æ–‡ä»¶é‡Œç¡®å®šçš„ç«¯å£å·ã€‚ä¾‹å¦‚ 12*.*<em>.2</em>:8889æ¥é“¾æ¥ ï¼ˆip+å¼€æ”¾çš„ç«¯å£ï¼‰</p>
<p><img src="https://pic1.zhimg.com/v2-4452ed380dc7f4c2410b8729fd055028_b.png" alt="img"></p>
<p>åœ¨çº¢æ¡†é‡Œè¾“å…¥ä½ çš„tokenï¼Œç›´æ¥å¤åˆ¶ï¼Œç„¶åå°±å¯ä»¥è¿›å…¥ä½ çš„jupyter notebookäº†</p>
<p><img src="https://pic3.zhimg.com/v2-9dd595bfb3f58dfbfee01649d4c44162_b.png" alt="img"></p>
<p>é€šå¸¸æ¥è¯´æ˜¯ç”¨å¦‚ä¸‹æ¥æ‰“å¼€jupyterï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯åœ¨åå°è¿è¡Œ,ç¨‹åºä¸ä¼šéšç€ä½ å…³é—­ç½‘é¡µè€Œæš‚åœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nohup jupyter-notebook &amp;</span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•äºŒï¼šæ˜ å°„ipåˆ°æœ¬åœ°"><a href="#æ–¹æ³•äºŒï¼šæ˜ å°„ipåˆ°æœ¬åœ°" class="headerlink" title="æ–¹æ³•äºŒï¼šæ˜ å°„ipåˆ°æœ¬åœ°"></a>æ–¹æ³•äºŒï¼šæ˜ å°„ipåˆ°æœ¬åœ°</h3><p>åœ¨ä¿è¯ä¹‹å‰çš„configæ–‡ä»¶é…ç½®å®Œæˆåï¼Œè¿›å…¥æœåŠ¡å™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nohup jupyter-notebook --no-browser --port&#x3D;8889</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-2f8493bad3e754d3f882c06a14030581_b.png" alt="img"></p>
<p>ç„¶åæ–°å»ºä¸€ä¸ªçª—å£ï¼Œ<strong>ä¸è¦è¿›å…¥æœåŠ¡å™¨</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh -N -f -L localhost:8889:localhost:8889 root@123.56.56.215</span><br></pre></td></tr></table></figure>
<p>ä¿è¯ä¸¤ä¸ªlocalhostç›¸åŒï¼Œå› ä¸ºæˆ‘ä¹Ÿæä¸æ¸…å“ªä¸ªä»£è¡¨æœ¬åœ°ï¼Œå“ªä¸ªä»£è¡¨äº‘æœåŠ¡å™¨</p>
<p><img src="https://pic1.zhimg.com/v2-2c7e46d6860948d2c83ac9eddee17668_b.png" alt="img"></p>
<p>ç„¶åæ‰“å¼€æµè§ˆå™¨ è¾“å…¥<a class="link"   href="http://localhost:8889/tree" >localhost:8889<i class="fas fa-external-link-alt"></i></a> ä¹Ÿå¯ä»¥è½»æ¾æ‰“å¼€</p>
<p><img src="https://pic1.zhimg.com/v2-0c1cf7886039bd2eef0dac4ac2563e58_b.png" alt="img"></p>
<p>å› ä¸ºä¹Ÿç”¨åˆ°äº†nohupï¼Œæ‰€ä»¥å¹¶ä¸ä¼šéšç€ä½ å…³é—­ç½‘é¡µè€Œåœæ­¢è¿è¡Œ</p>
<p>å¦‚æœåœ¨æœ¬åœ°æ˜ å°„ç«¯å£çš„æ—¶å€™æé†’ç«¯å£å ç”¨å¦‚ä¸‹ï¼Œéœ€è¦æ¸…ç†ç«¯å£ï¼Œè¿è¡Œä¸‹é¢ä»£ç ï¼Œç«¯å£æ”¹æˆå¯¹åº”çš„å°±è¡Œï¼Œç„¶åå†è¾“å…¥ä¸€ä¸‹ä¸Šé¢çš„æ˜ å°„ï¼Œå°±å¯ä»¥é‡æ–°è¿›å…¥</p>
<p><img src="https://pic4.zhimg.com/v2-baef76a58e509e5c8650a22ac5e539ef_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">lsof -ti:8889 | xargs kill -9</span><br></pre></td></tr></table></figure>
<h3 id="ä¸€äº›åŸºæœ¬æ“ä½œï¼Œå¦‚åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå’Œjupyter-æ²¡æœ‰å¤ªå¤§å…³ç³»"><a href="#ä¸€äº›åŸºæœ¬æ“ä½œï¼Œå¦‚åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå’Œjupyter-æ²¡æœ‰å¤ªå¤§å…³ç³»" class="headerlink" title="ä¸€äº›åŸºæœ¬æ“ä½œï¼Œå¦‚åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå’Œjupyter æ²¡æœ‰å¤ªå¤§å…³ç³»"></a>ä¸€äº›åŸºæœ¬æ“ä½œï¼Œå¦‚åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå’Œjupyter æ²¡æœ‰å¤ªå¤§å…³ç³»</h3><p>è™šæ‹Ÿç¯å¢ƒå¯ä»¥éšä¾¿ä½ æŠ˜è…¾ï¼Œä¸ä¼šå½±å“åˆ°æœåŠ¡å™¨å…¶ä»–çš„é…ç½®ï¼Œæåäº†å¤§ä¸äº†åˆ æ‰é‡æ–°æ¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda info --env</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹å½“å‰anacondaçš„ç¯å¢ƒ</p>
<p><img src="https://pic2.zhimg.com/v2-02d41999d1770a66703f7e0e37fb9171_b.png" alt="img"></p>
<p>åˆ›å»ºconda è™šæ‹Ÿç¯å¢ƒï¼Œè¿™é‡Œæ˜¯æŒ‡å®špython3.7</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda create --name python3.7 python&#x3D;3.7 </span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-b09202c2d15eb5c8c6dc7eff27624f09_b.png" alt="img"></p>
<p>å®‰è£…æˆåŠŸåå¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤æ‰“å¼€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda activate python3.7</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-663c168e06a9f8558f7cb4185ddf91c7_b.png" alt="img"></p>
<p>å½“baseå˜æˆä½ çš„è™šæ‹Ÿç¯å¢ƒçš„åç§°ï¼Œåˆ™è¡¨ç¤ºä½ çš„ç¯å¢ƒå·²ç»åˆ›å»ºæˆåŠŸäº†</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>Jupyter_notebook</tag>
        <tag>cloud server</tag>
      </tags>
  </entry>
  <entry>
    <title>2015-2020 ç¾å›½å¸‚åœºç‰›æ²¹æœä»·æ ¼åˆ†æå’Œé¢„æµ‹</title>
    <url>/2021/01/25/2015-2020-%E7%BE%8E%E5%9B%BD%E5%B8%82%E5%9C%BA%E7%89%9B%E6%B2%B9%E6%9E%9C%E4%BB%B7%E6%A0%BC%E5%88%86%E6%9E%90%E5%92%8C%E9%A2%84%E6%B5%8B/</url>
    <content><![CDATA[<p>ä½œä¸ºä¸€ä½ç‰›æ²¹æœèµ„æ·±çˆ±å¥½è€…ï¼Œè‹¦äºç‰›æ²¹æœä»·æ ¼å®åœ¨å¤ªè´µï¼ŒSam åº—ä¸€ä¸ªå“ç›¸ä¿±ä½³çš„å¤§æœè¦8å—é’±ï¼Œé²œæœä¸€å·ä¹‹ç±»ç­‰å…¶ä»–ç²¾å“æ°´æœåº—å±…ç„¶æœ‰çš„è¦å–åˆ°10+ä¸€ä¸ªï¼Œè¿˜æ˜¯ä¸­æœï¼Œç¡¬é‚¦é‚¦ï¼Œä¸æ€ä¹ˆå¥½åƒçš„é‚£ç§ï¼Œç®€ç›´é»‘å¿ƒã€‚</p>
<p>åŒæ—¶å‘¢ï¼Œä½œä¸ºä¸€ä½ç”³è¯·ç¾å¸ç ”ç©¶ç”Ÿçš„å¤§å››ç‹—ï¼Œæˆ‘ä¸¥è‚ƒè®¤çœŸåœ°è¦æŠŠç‰›æ²¹æœä»·æ ¼å› ç´ çº³å…¥åˆ°æˆ‘é€‰æ‹©çš„èŒƒå›´å†…ã€‚åŒæ—¶ï¼Œæˆ‘çœŸçš„å¾ˆå¥½å¥‡ï¼Œç¾å¸ç‰›æ²¹æœçš„ä»·æ ¼æ˜¯å’‹æ ·çš„ã€‚å½“ç„¶æœ€é‡è¦çš„æ˜¯è¦å®Œæˆå½“å‰303å¤§æ•°æ®ä½œä¸šğŸ§ï¼Œå› ä¸ºreportæœ‰ç‚¹å†™ä¸å‡ºæ¥ï¼Œå°±å…ˆå‘ä¸ªä¸“æ æ•´ç†æ•´ç†æ€è·¯ã€‚</p>
<p><img src="https://pic2.zhimg.com/v2-b214bc800969669ea7e7fb985933cbf9_b.png" alt="img"></p>
<p>ä»¥ä¸‹åˆ†æä»¥åŠå¯è§†åŒ–ï¼Œå€Ÿé‰´äº†ä¹‹å‰å¤§ç¥ä»¬çš„åˆ†æï¼šï¼ˆä»–ä»¬åšçš„å›¾çœŸçš„å¥½å¥½çœ‹å•Šï¼ï¼‰</p>
<p><a class="link"   href="https://www.kaggle.com/janiobachmann/price-of-avocados-pattern-recognition-analysis" >https://www.kaggle.com/janiobachmann/price-of-avocados-pattern-recognition-analysis<i class="fas fa-external-link-alt"></i></a></p>
<p>ä½†æ˜¯ä»–ä»¬çš„æ•°æ®é›†æ˜¯ä»2015-2018ï¼Œå·²ç»æœ‰ä¸€äº›å¹´ä»½äº†ï¼Œä¸èƒ½å¦‚å®ååº”å½“ä»Šå¸‚åœºï¼Œå°¤å…¶æ˜¯æ–°å† åçš„å½±å“ã€‚ç¢°å·§æœ‰å¤§ç¥æ›´æ–°äº†æ•°æ®é›†ï¼Œåœ¨åŸæœ‰çš„åŸºç¡€ä¸Šæ–°å¢åˆ°2020.5æœˆçš„ç‰›æ²¹æœæ•°æ®ã€‚åˆ©ç”¨å‰äººç»éªŒï¼Œåšæœªæ¥é¢„æµ‹åˆ†æ</p>
<p><a class="link"   href="https://www.kaggle.com/timmate/avocado-prices-2020" >https://www.kaggle.com/timmate/avocado-prices-2020<i class="fas fa-external-link-alt"></i></a></p>
<p>æ³¨ï¼šæœ¬ç¯‡æ‰€æœ‰åˆ†æé¢„æµ‹éƒ½åœ¨rä¸Šå®Œæˆï¼Œ95%å€ŸåŠ©ggplot2ï¼Œyysyï¼Œråšå›¾çœŸçš„å¥½çœ‹ã€‚é¢„æµ‹éƒ¨åˆ†ï¼Œå·äº†ç‚¹æ‡’ï¼Œç›´æ¥ç”¨çš„æ˜¯Facebookå¼€å‘çš„prophetåŒ…ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰æ¥è§¦è¿‡æ—¶é—´ç›¸å…³çš„é¢„æµ‹ï¼ŒLSTMç›®å‰è¿˜æ²¡æœ‰å­¦åˆ°å®¶ï¼Œä½†ddlåœ¨å‰ï¼Œç­‰æœ‰ç©ºå†ç”¨pythonè¡¥ä¸Šã€‚</p>
<h3 id="ä¸‹è½½å¹¶è¯»å–"><a href="#ä¸‹è½½å¹¶è¯»å–" class="headerlink" title="ä¸‹è½½å¹¶è¯»å–"></a>ä¸‹è½½å¹¶è¯»å–</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df &lt;- read.csv(<span class="string">&quot;/Users/yuxuan/Desktop/INT301-Avocado-prediction/avocado-updated-2020.csv&quot;</span>)</span><br><span class="line">head(df)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-1a37e1a6cb5b98fb02d285c6124c39b8_b.png" alt="img"></p>
<p>å…¶ä¸­ä»¥ä¸‹æ˜¯æˆ‘ä»¬è¿™æ¬¡çš„å®éªŒå¯¹è±¡ - date - è§‚å¯Ÿçš„æ—¶é—´ - average_price - æ¯ä¸€ä¸ªç‰›æ²¹æœçš„å¹³å‡ä»·æ ¼ - total_volume - å½“æ—¥å”®å‡ºäº†å¤šå°‘ç‰›æ²¹æœ - year - å¹´ä»½ï¼ˆDateæ ¼å¼ï¼‰ - type - ç§ç±»ï¼Œæ˜¯æœ‰æœºçš„è¿˜æ˜¯æ™®é€šçš„ - geography - æ•°æ®æ¥æºçš„åœ°åŒº</p>
<p>è‡³äºX4046,X4225,X4770ä»£è¡¨çš„æ˜¯ç‰›æ²¹æœçš„ç§ç±»(PLU code)éƒ½æ˜¯Hass ç‰›æ²¹æœï¼Œåªæ˜¯å¤§å°æœ‰åŒºåˆ«</p>
<p><img src="https://pic3.zhimg.com/v2-b0e4c1ed052387be6ecd17082cf70452_b.png" alt="img"></p>
<h3 id="æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç¼ºå¤±ï¼ˆmissing-valueï¼‰"><a href="#æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç¼ºå¤±ï¼ˆmissing-valueï¼‰" class="headerlink" title="æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç¼ºå¤±ï¼ˆmissing valueï¼‰"></a>æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç¼ºå¤±ï¼ˆmissing valueï¼‰</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sum</span>(<span class="built_in">is.na</span>(df))</span><br></pre></td></tr></table></figure>
<p>å‘ç°æ•°æ®é›†æ— ç¼ºå¤±å€¼</p>
<h3 id="æ ¹æ®ç§ç±»åšdensity-plot"><a href="#æ ¹æ®ç§ç±»åšdensity-plot" class="headerlink" title="æ ¹æ®ç§ç±»åšdensity plot"></a>æ ¹æ®ç§ç±»åšdensity plot</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library(ggplot2)</span><br><span class="line">options(repr.plot.width = <span class="number">8</span>, repr.plot.height = <span class="number">4</span>)</span><br><span class="line">density_plot &lt;- ggplot(df, aes(x=average_price, fill=type))+</span><br><span class="line">  geom_density()+</span><br><span class="line">  facet_wrap(~type)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),legend.position = <span class="string">&quot;bottom&quot;</span>)+</span><br><span class="line">  labs(title = <span class="string">&quot;Avocado Price by type&quot;</span>)+</span><br><span class="line">  scale_fill_brewer(palette = <span class="string">&quot;Set2&quot;</span>)</span><br><span class="line">density_plot</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-ad250b1df684105fa0ec54b4e433d72a_b.png" alt="img"></p>
<p>å›¾ä¸­å¯ä»¥å‘ç°</p>
<ul>
<li>æ™®é€šçš„ç‰›æ²¹æœï¼ˆç»¿è‰²ï¼‰å¤§éƒ¨åˆ†é›†ä¸­åœ¨1$ é™„è¿‘ï¼Œå½¢çŠ¶ä¹Ÿæ¯”è¾ƒé«˜ç˜¦ï¼Œå€¼åŸŸåŒºé—´ç›¸æ¯”ä¹‹ä¸‹ä¹Ÿæ¯”è¾ƒå°</li>
<li>ä½†æœ‰æœºçš„ç‰›æ²¹æœï¼ˆçº¢è‰²ï¼‰åˆ™æ˜¾å¾—æ›´åŠ æ•¦å®ï¼Œå€¼åŸŸä¹Ÿå®½ï¼Œæœ€è´µçš„å±…ç„¶è¦å–åˆ°3$</li>
</ul>
<h3 id="é‡åŒ–å…·ä½“çš„ä¸€äº›æ¯”ç‡"><a href="#é‡åŒ–å…·ä½“çš„ä¸€äº›æ¯”ç‡" class="headerlink" title="é‡åŒ–å…·ä½“çš„ä¸€äº›æ¯”ç‡"></a>é‡åŒ–å…·ä½“çš„ä¸€äº›æ¯”ç‡</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library(dplyr)</span><br><span class="line">vol_type &lt;- df %&gt;% group_by(type) %&gt;% summarise(average_volume = <span class="built_in">round</span>(mean(total_volume),<span class="number">3</span>),average_price = <span class="built_in">round</span>(mean(average_price),<span class="number">3</span>)) %&gt;% mutate(volume_percent= <span class="built_in">round</span>(prop.table(average_volume)*<span class="number">100</span>,<span class="number">3</span>))</span><br><span class="line">vol_type</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>Type</th>
<th>Average Volume</th>
<th>Average Price</th>
<th>Volume percent</th>
</tr>
</thead>
<tbody><tr>
<td>Conventional</td>
<td>1,818,206 (1.8 M)</td>
<td>1.16 $</td>
<td>96.8%</td>
</tr>
<tr>
<td>Organic</td>
<td>60,127 (0.06 M)</td>
<td>1.62 $</td>
<td>3.2%</td>
</tr>
</tbody></table>
<p>ä»è¡¨æ ¼ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°</p>
<ul>
<li>é”€å”®çš„æ™®é€šç‰›æ²¹æœåœ¨å¸‚åœºä»¥å‡ä»·1.16$ï¼ˆ7.58Â¥ï¼‰å æ¯”å±…ç„¶é«˜è¾¾97%</li>
<li>ç›¸æ¯”ä¹‹ä¸‹æœ‰æœºç‰›æ²¹æœ1.62$ (10.58Â¥) å¸‚åœºå æ¯”å¤§æ¦‚åªæœ‰3%</li>
</ul>
<h3 id="2015-2020é—´æ™®é€šå’Œæœ‰æœºç‰›æ²¹æœçš„ä»·æ ¼æ³¢åŠ¨æ›²çº¿"><a href="#2015-2020é—´æ™®é€šå’Œæœ‰æœºç‰›æ²¹æœçš„ä»·æ ¼æ³¢åŠ¨æ›²çº¿" class="headerlink" title="2015-2020é—´æ™®é€šå’Œæœ‰æœºç‰›æ²¹æœçš„ä»·æ ¼æ³¢åŠ¨æ›²çº¿"></a>2015-2020é—´æ™®é€šå’Œæœ‰æœºç‰›æ²¹æœçš„ä»·æ ¼æ³¢åŠ¨æ›²çº¿</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df$date &lt;- as.Date(df$date, <span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Sort the dates and order the datesets in date</span></span><br><span class="line">df &lt;- df[order(df$date),]</span><br><span class="line"></span><br><span class="line"><span class="comment">## Make the plot</span></span><br><span class="line">comparision_plot &lt;- df %&gt;% select(date, average_price, type) %&gt;%</span><br><span class="line">  ggplot(aes(x=date,y=average_price))+</span><br><span class="line">  geom_area(aes(color=type,fill=type),alpha=<span class="number">0.3</span>,position=position_dodge(<span class="number">0.8</span>))+</span><br><span class="line">  theme_bw()+</span><br><span class="line">  scale_color_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#ED7921&quot;</span>,<span class="string">&quot;#62BE51&quot;</span>))+</span><br><span class="line">  scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#FD833E&quot;</span>,<span class="string">&quot;#B8FC5F&quot;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">comparision_plot</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-5e99acd1ce9d879967cc4eb0060ab982_b.png" alt="img"></p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">ggplot(data=df, aes(x=date, y=average_price,col=type))+</span><br><span class="line">  geom_line()+</span><br><span class="line">  facet_wrap(~ type)+</span><br><span class="line">  theme_bw()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;position&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-8566ef8639d6a840e2050238971d3958_b.png" alt="img"></p>
<ul>
<li>æœ‰æœºçš„ä»·æ ¼æ°¸è¿œè¦é«˜äºæ™®é€šçš„</li>
<li>ä»·æ ¼å‘ˆç°æŸç§å­£èŠ‚æ€§çš„æ³¢åŠ¨ï¼Œç¬¦åˆæ°´æœå­£èŠ‚æ€§æ³¢åŠ¨çš„å¸¸è¯†</li>
<li>æ˜¯å¦å’Œé”€å”®çš„é‡å‘ˆç°å…³è”ï¼Œä¸‹æ–‡æ¢ç´¢</li>
</ul>
<h3 id="2015-2020å¹´é—´çš„ç‰›æ²¹æœæ€»çš„ä»·æ ¼åˆ†å¸ƒ"><a href="#2015-2020å¹´é—´çš„ç‰›æ²¹æœæ€»çš„ä»·æ ¼åˆ†å¸ƒ" class="headerlink" title="2015-2020å¹´é—´çš„ç‰›æ²¹æœæ€»çš„ä»·æ ¼åˆ†å¸ƒ"></a>2015-2020å¹´é—´çš„ç‰›æ²¹æœæ€»çš„ä»·æ ¼åˆ†å¸ƒ</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">ggplot(seasonal_df,aes(x=average_price,fill=as.factor(year)))+</span><br><span class="line">geom_density(alpha=<span class="number">0.5</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">facet_wrap(~year)+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">guides(fill=<span class="literal">FALSE</span>)+</span><br><span class="line">labs(title = <span class="string">&quot;Distribution of Prices by year&quot;</span>,x=<span class="string">&#x27;Average Price&#x27;</span>,y=<span class="string">&#x27;Density&#x27;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#DA4511&quot;</span>, <span class="string">&quot;#FFBD00&quot;</span>, <span class="string">&quot;#6A953F&quot;</span>, <span class="string">&quot;#9A6233&quot;</span>, <span class="string">&quot;#D3AE7C&quot;</span>, <span class="string">&quot;#307CA1&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-8173974e3831c052bfb0ee0bbb1bd384_b.png" alt="img"></p>
<ul>
<li>6å¹´é—´çš„ä»·æ ¼åˆ†å¸ƒï¼Œå…¶ä¸­2017å¹´æœ€æˆæ­£æ€åˆ†å¸ƒçš„å½¢çŠ¶ï¼Œé«˜ç«¯å’Œä½ç«¯ç‰›æ²¹æœéƒ½åœ¨å¸‚åœºåˆ†ä¸€æ¯ç¾¹</li>
</ul>
<h3 id="ä»·æ ¼æ³¢åŠ¨æ›²çº¿å’Œç‰›æ²¹æœå”®å–çš„é‡å…³ç³»"><a href="#ä»·æ ¼æ³¢åŠ¨æ›²çº¿å’Œç‰›æ²¹æœå”®å–çš„é‡å…³ç³»" class="headerlink" title="ä»·æ ¼æ³¢åŠ¨æ›²çº¿å’Œç‰›æ²¹æœå”®å–çš„é‡å…³ç³»"></a>ä»·æ ¼æ³¢åŠ¨æ›²çº¿å’Œç‰›æ²¹æœå”®å–çš„é‡å…³ç³»</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library(ggplot2)</span><br><span class="line">library(ggthemes)</span><br><span class="line">library(cowplot)</span><br><span class="line"></span><br><span class="line">options(repr.plot.width=<span class="number">8</span>, repr.plot.height=<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## average-price with time series</span></span><br><span class="line">conventional_monthly &lt;- conventional %&gt;%</span><br><span class="line">    ggplot(aes(x=date,y=average_price))+</span><br><span class="line">    geom_line(color=<span class="string">&quot;#5C374C&quot;</span>)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill = <span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">    labs(title = <span class="string">&quot;Conventional Avocados&quot;</span>)+</span><br><span class="line">    geom_hline(yintercept = <span class="built_in">max</span>(conventional$average_price),linetype=<span class="string">&quot;dashed&quot;</span>,color = <span class="string">&quot;red&quot;</span>)+</span><br><span class="line">    geom_hline(yintercept = <span class="built_in">min</span>(conventional$average_price),linetype=<span class="string">&quot;dashed&quot;</span>,color = <span class="string">&quot;blue&quot;</span>)</span><br><span class="line"></span><br><span class="line">organic_monthly &lt;- organic %&gt;%</span><br><span class="line">    ggplot(aes(x=date,y=average_price))+</span><br><span class="line">    geom_line(color=<span class="string">&quot;#58D68D&quot;</span>)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill = <span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">    labs(title = <span class="string">&quot;Organic Avocados&quot;</span>)+</span><br><span class="line">    geom_hline(yintercept = <span class="built_in">max</span>(organic$average_price),linetype=<span class="string">&quot;dashed&quot;</span>,color = <span class="string">&quot;red&quot;</span>)+</span><br><span class="line">    geom_hline(yintercept = <span class="built_in">min</span>(organic$average_price),linetype=<span class="string">&quot;dashed&quot;</span>,color = <span class="string">&quot;blue&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## create a volume chart</span></span><br><span class="line">conventional_volume &lt;- conventional %&gt;%</span><br><span class="line">    ggplot(aes(x=date,y=total_volume))+</span><br><span class="line">    geom_bar(stat = <span class="string">&#x27;identity&#x27;</span>,fill=<span class="string">&quot;#7FB3D5&quot;</span>,color=<span class="string">&quot;black&quot;</span>)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill = <span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">    geom_smooth(method = <span class="string">&quot;loess&quot;</span>,color=<span class="string">&quot;red&quot;</span>)</span><br><span class="line"></span><br><span class="line">organic_volume &lt;- organic %&gt;%</span><br><span class="line">    ggplot(aes(x=date,y=total_volume))+</span><br><span class="line">    geom_bar(stat = <span class="string">&#x27;identity&#x27;</span>,fill=<span class="string">&#x27;#58D68D&#x27;</span>,color=<span class="string">&quot;black&quot;</span>)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill = <span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">    geom_smooth(method = <span class="string">&quot;loess&quot;</span>,color =<span class="string">&quot;red&quot;</span>)</span><br><span class="line"></span><br><span class="line">plot_grid(conventional_monthly,organic_monthly,conventional_volume,organic_volume,nrow = <span class="number">2</span>,ncol = <span class="number">2</span>,labels = <span class="built_in">c</span>(<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-98f4720367c6e80038c4819fa35cd94c_b.png" alt="img"></p>
<ul>
<li>ä¸ºäº†æ‰¾åˆ°å­£èŠ‚æ€§è§„å¾‹ï¼ˆseasonal patternsï¼‰æˆ‘å°†å¹³å‡å”®ä»·å’Œé”€å”®é‡ä»¥æœˆä¸ºå•ä½è¿›è¡Œç»Ÿè®¡åˆ†æ</li>
<li>A,Bå›¾ä»£è¡¨çš„éƒ½æ˜¯ä»¥æœˆä¸ºå•ä½çš„å¹³å‡é”€å”®ä»·æ ¼ï¼ˆmonthlyï¼‰ï¼Œè“çº¿ä»£è¡¨æœ€å°å€¼ï¼ˆminï¼‰çº¢çº¿ä»£è¡¨æœ€å¤§å€¼ï¼ˆmaxï¼‰</li>
<li>æ™®é€šç‰›æ²¹æœæœ€è´µçš„ä¸€ä¸ªæœˆä¹Ÿå°±1.8$ï¼Œæœ€ä¾¿å®œçš„ä¸€ä¸ªæœˆ0.82$ï¼›æœ‰æœºçš„æœ€è´µè¦2.1$ï¼Œæœ€ä¾¿å®œçš„ä¹Ÿè¦1.21$</li>
<li>C,Dä»£è¡¨çš„æ˜¯ä»¥æœˆä¸ºå•ä½çš„é”€é‡ï¼Œçº¢çº¿ä»£è¡¨çš„æ˜¯è¶‹åŠ¿</li>
<li>ç¾å¸äººæ°‘å¯¹ç‰›æ²¹æœçš„çˆ±æ˜¯ä¸€è´¯çš„ï¼Œé”€é‡å‘ˆé€å¹´ä¸Šå‡çš„è¶‹åŠ¿ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯æ™®é€šç‰›æ²¹æœ</li>
<li>19-20å¹´ï¼Œå¯èƒ½ç”±äºç»æµå½¢åŠ¿ä¸‹æ»‘ä»¥åŠ20å¹´åçš„æ–°å† ç–«æƒ…ï¼Œå¯¹æœ‰æœºç‰›æ²¹æœçš„éœ€æ±‚å‡å°‘ï¼Œæœªèƒ½åƒæ™®é€šç‰›æ²¹æœä¸€æ ·æŒç»­å¢é•¿</li>
<li>æœˆé”€é‡ä¹Ÿå‘ˆç°æŸç§å­£èŠ‚æ€§è§„å¾‹ï¼Œéœ€è¦æ¥ä¸‹æ¥çš„ä»”ç»†åˆ†æ</li>
</ul>
<h3 id="2015-2020å¹´é—´ä»¥æœˆä¸ºå•ä½æ¯”è¾ƒé”€é‡å’Œä»·æ ¼"><a href="#2015-2020å¹´é—´ä»¥æœˆä¸ºå•ä½æ¯”è¾ƒé”€é‡å’Œä»·æ ¼" class="headerlink" title="2015-2020å¹´é—´ä»¥æœˆä¸ºå•ä½æ¯”è¾ƒé”€é‡å’Œä»·æ ¼"></a>2015-2020å¹´é—´ä»¥æœˆä¸ºå•ä½æ¯”è¾ƒé”€é‡å’Œä»·æ ¼</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="comment">## Process the data into year and month format</span></span><br><span class="line">library(forecast)</span><br><span class="line">seasonal_df &lt;- read.csv(<span class="string">&quot;/Users/yuxuan/Desktop/INT303-Avocado-prediction/avocado-updated-2020.csv&quot;</span>)</span><br><span class="line">seasonal_df$month_year &lt;- format(as.Date(seasonal_df$date),<span class="string">&quot;%Y-%m&quot;</span>)</span><br><span class="line">seasonal_df$month &lt;- format(as.Date(seasonal_df$date),<span class="string">&quot;%m&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Change the month from a Date format into a numerical foramt, then convert to the three letter format</span></span><br><span class="line">seasonal_df$monthabb &lt;- sapply(seasonal_df$month, <span class="keyword">function</span> (x) <span class="built_in">month.abb</span>[<span class="built_in">as.numeric</span>(x)])</span><br><span class="line">seasonal_df$monthabb &lt;- factor(seasonal_df$monthabb,levels=<span class="built_in">month.abb</span>)</span><br><span class="line">seasonal_df$monthabb &lt;- factor(seasonal_df$monthabb)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Set the figure size</span></span><br><span class="line">options(repr.plot.width=<span class="number">10</span>,repr.plot.height=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Analyze the price by month</span></span><br><span class="line"></span><br><span class="line">conv_price &lt;- seasonal_df %&gt;% select(type,year,monthabb,average_price) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(average_price))</span><br><span class="line"></span><br><span class="line">org_price &lt;- seasonal_df %&gt;% select(type,year,monthabb,average_price) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(average_price))</span><br><span class="line"></span><br><span class="line">conv_price &lt;- ts(conv_price$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line">org_price &lt;- ts(org_price$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Analyze the volume by month</span></span><br><span class="line">conv_volume &lt;- seasonal_df %&gt;% select(type,year,monthabb,total_volume) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(total_volume))</span><br><span class="line"></span><br><span class="line">org_volume &lt;- seasonal_df %&gt;% select(type,year,monthabb,total_volume) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(total_volume))</span><br><span class="line"></span><br><span class="line">conv_volume &lt;- ts(conv_volume$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line">org_volume &lt;- ts(org_volume$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">byyearplot_price_conv &lt;- ggseasonplot(conv_price,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average conventional Avocados price \n by year for each month&quot;</span>, y=<span class="string">&quot;Average Price&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_price_org &lt;- ggseasonplot(org_price,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average organic Avocados price \n by year for each month&quot;</span>, y=<span class="string">&quot;Average Price&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_volume_conv &lt;- ggseasonplot(conv_volume,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average conventional Avocados volume \n by year for each month&quot;</span>, y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_volume_org &lt;- ggseasonplot(org_volume,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average organic Avocados volume by year \n for each month&quot;</span>, y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">plot_grid(byyearplot_price_conv,byyearplot_price_org,byyearplot_volume_conv,byyearplot_volume_org,nrow = <span class="number">2</span>,ncol = <span class="number">2</span>,labels = <span class="built_in">c</span>(<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-fed30f65509677d2328dbd5b0a81a78c_b.png" alt="img"></p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">options(repr.plot.width=<span class="number">10</span>,repr.plot.height=<span class="number">8</span>)</span><br><span class="line">conv_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x=monthabb, y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Conventional Avocados&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">organic_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(average_price)) %&gt;%</span><br><span class="line">ggplot(aes(x=monthabb,y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Organic Avocados&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">whole_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x=monthabb,y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;All Avocados&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plot_grid(conv_patterns,organic_patterns,whole_patterns,nrow = <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-f41fce3780e70ee85fb08df929b3b3c9_b.png" alt="img"></p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">conv_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(total_volume)) %&gt;%</span><br><span class="line">  ggplot(aes(x=monthabb, y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Conventional Avocados volume&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">organic_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(total_volume)) %&gt;%</span><br><span class="line">ggplot(aes(x=monthabb,y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Organic Avocados volume&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">whole_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% group_by(monthabb) %&gt;% summarise(avg=mean(total_volume)) %&gt;%</span><br><span class="line">  ggplot(aes(x=monthabb,y=avg))+</span><br><span class="line">  geom_point(color=<span class="string">&quot;#F35D5D&quot;</span>,aes(size=avg))+</span><br><span class="line">  geom_line(group=<span class="number">0</span>)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position = <span class="string">&quot;none&quot;</span>,plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;All Avocados volume&quot;</span>,x=<span class="string">&quot;Month&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plot_grid(conv_patterns_vol,organic_patterns_vol,whole_patterns_vol,nrow = <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-d48e337b98047f36cd14b43be68879a3_b.png" alt="img"></p>
<ul>
<li>ç»¼åˆæ¥è¯´ï¼Œæ¯å¹´çš„9ï¼Œ10 æœˆä»½ç‰›æ²¹æœçš„å¹³å‡ä»·æ ¼ä¼šè¾¾åˆ°ä¸€å¹´ä¸­çš„æœ€é«˜å€¼ï¼Œ2æœˆè¾¾åˆ°ä¸€å¹´çš„æœ€ä½å€¼</li>
<li>å¯¹äºé”€é‡æ¥è¯´ï¼Œç¾å›½äººå–œæ¬¢åœ¨2æœˆå’Œ5æœˆè´­ä¹°ç‰›æ²¹æœï¼Œ11æœˆä»½ä¹°ç‰›æ²¹æœçš„æ„æ„¿æœ€ä½</li>
<li>æŸ¥èµ„æ–™å¯å¾—ï¼Œç‰›æ²¹æœä¸€èˆ¬åœ¨8ï¼Œ9æœˆä»½æˆç†Ÿæ”¶è·ï¼ŒåŠ ä¸Šé‡‡æ‘˜ï¼ŒåŒ…è£…å’Œè¿è¾“æ—¶é—´æ‰€ä»¥ä¼šæœ‰ä¸€å®šçš„å»¶è¿Ÿï¼Œå¯ä»¥çœ‹è§å›¾ä¸­çš„å…«æœˆéƒ½æ˜¯å‘ˆç°ä¸Šå‡è¶‹åŠ¿ã€‚</li>
<li>å¯ä»¥å‘ç°é”€å”®é‡å’Œä»·æ ¼å‘ˆç°ä¸€å®šçš„è´Ÿç›¸å…³ï¼Œè¿™ç¬¦åˆæˆ‘ä»¬çš„å¸¸è¯†ï¼Œäººä»¬å–œæ¬¢åœ¨ä»·æ ¼ä½çš„æ—¶å€™è´­ä¹°ï¼Œè€Œä¸€æ ·æ°´æœæˆ–è€…è”¬èœåˆ™ä¼šåœ¨åˆšä¸Šå¸‚æ—¶ä»·æ ¼é€æ­¥ä¸Šå‡ï¼Œè¾¾åˆ°æœ€é«˜ï¼Œç„¶åå†ä¸‹é™</li>
<li>ä¸ºä»€ä¹ˆéšç€é‡‡æ‘˜ä¾›åº”å’Œä»·æ ¼ä¼šæˆä¸€å®šçš„æ­£ç›¸å…³ï¼Ÿæˆ‘çš„çŒœæµ‹æ˜¯ï¼Œå°±åƒè‹å·äººè¯´çš„â€œæ—¶é²œè´§â€ï¼Œåˆšåˆšæ‘˜ä¸‹çš„ç‰›æ²¹æœè‚¯å®šæ˜¯åˆå¤§åˆå¥½æœ‰æ–°é²œï¼Œè€Œä¸”å‰ä¸€å¹´çš„é‡å·²ç»æ¶ˆè€—çš„å·®ä¸å¤šäº†ï¼Œæ‰€ä»¥ä»·æ ¼ä¼šæœ‰ä¸€é˜µå­çš„ä¸Šæ¶¨ï¼Œç„¶åä¸‹æ¢ï¼Œç¬¦åˆå›¾ä¸­çš„è¶‹åŠ¿èµ°å‘</li>
<li>ä¹Ÿå¯ä»¥æ¸…æ™°çš„çœ‹è§ï¼Œé”€é‡çš„ç¡®æ˜¯é€å¹´å¢åŠ çš„ï¼Œå¤§æ¦‚ç‡æ˜¯ç½‘çº¢ä¸é—ä½™åŠ›çš„å®£ä¼ ï¼Œå°†ç‰›æ²¹æœä½œä¸ºå¥åº·æ´»åŠ›ï¼Œfashionçš„ä»£åè¯ã€‚è¿™è·¯å­çš„ç¡®æ˜¯æ­£ç¡®çš„ï¼Œå› ä¸ºç¾å›½äººæ°‘æ¶ˆè€—çš„ç‰›æ²¹æœæ€»çš„æ¥è¯´é€å¹´é€’å¢</li>
</ul>
<h3 id="2015-2020-ä»¥å­£èŠ‚ä¸ºå•ä½åˆ†æç‰›æ²¹æœä»·æ ¼å’Œé”€é‡"><a href="#2015-2020-ä»¥å­£èŠ‚ä¸ºå•ä½åˆ†æç‰›æ²¹æœä»·æ ¼å’Œé”€é‡" class="headerlink" title="2015-2020 ä»¥å­£èŠ‚ä¸ºå•ä½åˆ†æç‰›æ²¹æœä»·æ ¼å’Œé”€é‡"></a>2015-2020 ä»¥å­£èŠ‚ä¸ºå•ä½åˆ†æç‰›æ²¹æœä»·æ ¼å’Œé”€é‡</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">options(repr.plot.width=<span class="number">10</span>,repr.plot.height=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## seperate the month into four seasons</span></span><br><span class="line">seasonal_df$season &lt;- ifelse(seasonal_df$month %in% <span class="built_in">c</span>(<span class="string">&quot;03&quot;</span>,<span class="string">&quot;04&quot;</span>,<span class="string">&quot;05&quot;</span>),<span class="string">&quot;Spring&quot;</span>,</span><br><span class="line">ifelse(seasonal_df$month %in% <span class="built_in">c</span>(<span class="string">&quot;06&quot;</span>,<span class="string">&quot;07&quot;</span>,<span class="string">&quot;08&quot;</span>),<span class="string">&quot;Summer&quot;</span>,</span><br><span class="line">ifelse(seasonal_df$month %in% <span class="built_in">c</span>(<span class="string">&quot;09&quot;</span>,<span class="string">&quot;10&quot;</span>,<span class="string">&quot;11&quot;</span>),<span class="string">&quot;Autumn&quot;</span>,<span class="string">&quot;Winter&quot;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment">## Prepare to analyze the results</span></span><br><span class="line">seasonality_plot_conventional_price &lt;- seasonal_df %&gt;% select(season,year,average_price,type) %&gt;% filter(type ==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(season,year) %&gt;% summarise(avg=mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x=season,y=avg,color=season))+</span><br><span class="line">  geom_segment(aes(x=season,xend=season,y=<span class="number">0</span>,yend=avg),show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Conventional Avocados average price by Season&quot;</span>,x=<span class="string">&quot;&quot;</span>,y=<span class="string">&quot;Average price&quot;</span>)+</span><br><span class="line">  geom_text(aes(x=season,y=<span class="number">0.01</span>,label=paste0(<span class="string">&quot;$ &quot;</span>,<span class="built_in">round</span>(avg,<span class="number">2</span>))),hjust=-<span class="number">0.5</span>,vjust=-<span class="number">0.5</span>,size=<span class="number">4</span>,color=<span class="string">&quot;black&quot;</span>,fontface=<span class="string">&#x27;italic&#x27;</span>,angle=<span class="number">360</span>)</span><br><span class="line"></span><br><span class="line">seasonality_plot_conventional_volume &lt;- seasonal_df %&gt;% select(season,year,total_volume,type) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(season,year) %&gt;% summarise(avg=<span class="built_in">round</span>(mean(total_volume/<span class="number">1000000</span>),<span class="number">2</span>)) %&gt;%</span><br><span class="line">  ggplot(aes(x=season,y=avg,color=season))+</span><br><span class="line">  geom_segment(aes(x=season,xend=season,y=<span class="number">0</span>,yend=avg),show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Conventional Avocados total volume by Season&quot;</span>,x=<span class="string">&quot;&quot;</span>,y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">  geom_text(aes(x=season,y=<span class="number">0.01</span>,label=paste0(avg,<span class="string">&quot; m&quot;</span>)),hjust=-<span class="number">0.5</span>,vjust=-<span class="number">0.5</span>,size=<span class="number">4</span>,color=<span class="string">&quot;black&quot;</span>,fontface=<span class="string">&#x27;italic&#x27;</span>,angle=<span class="number">360</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#plot_grid(seasonality_plot_conventional_price,seasonality_plot_conventional_volume,nrow = 2)</span></span><br><span class="line"></span><br><span class="line">seasonality_plot_organic_price &lt;- seasonal_df %&gt;% select(season,year,average_price,type) %&gt;% filter(type ==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(season,year) %&gt;% summarise(avg=mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x=season,y=avg,color=season))+</span><br><span class="line">  geom_segment(aes(x=season,xend=season,y=<span class="number">0</span>,yend=avg),show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Organic Avocados average price by Season&quot;</span>,x=<span class="string">&quot;&quot;</span>,y=<span class="string">&quot;Average price&quot;</span>)+</span><br><span class="line">  geom_text(aes(x=season,y=<span class="number">0.01</span>,label=paste0(<span class="string">&quot;$ &quot;</span>,<span class="built_in">round</span>(avg,<span class="number">2</span>))),hjust=-<span class="number">0.5</span>,vjust=-<span class="number">0.5</span>,size=<span class="number">4</span>,color=<span class="string">&quot;black&quot;</span>,fontface=<span class="string">&#x27;italic&#x27;</span>,angle=<span class="number">360</span>)</span><br><span class="line"></span><br><span class="line">seasonality_plot_organic_volume &lt;- seasonal_df %&gt;% select(season,year,total_volume,type) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(season,year) %&gt;% summarise(avg=<span class="built_in">round</span>(mean(total_volume/<span class="number">1000000</span>),<span class="number">2</span>)) %&gt;%</span><br><span class="line">  ggplot(aes(x=season,y=avg,color=season))+</span><br><span class="line">  geom_segment(aes(x=season,xend=season,y=<span class="number">0</span>,yend=avg),show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Organic Avocados total volume by Season&quot;</span>,x=<span class="string">&quot;&quot;</span>,y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">  geom_text(aes(x=season,y=<span class="number">0.01</span>,label=paste0(avg,<span class="string">&quot; m&quot;</span>)),hjust=-<span class="number">0.5</span>,vjust=-<span class="number">0.5</span>,size=<span class="number">4</span>,color=<span class="string">&quot;black&quot;</span>,fontface=<span class="string">&#x27;italic&#x27;</span>,angle=<span class="number">360</span>)</span><br><span class="line"></span><br><span class="line">plot_grid(seasonality_plot_conventional_price,seasonality_plot_organic_price,seasonality_plot_conventional_volume,seasonality_plot_organic_volume,nrow = <span class="number">2</span>,ncol = <span class="number">2</span>,labels = <span class="built_in">c</span>(<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-f6a063580538fb3100cdad2577de62b7_b.png" alt="img"></p>
<ul>
<li>æ˜¥ï¼ˆ3-5ï¼‰ï¼Œå¤ï¼ˆ6-8ï¼‰ï¼Œç§‹ï¼ˆ9-11ï¼‰ï¼Œå†¬ï¼ˆ12-2ï¼‰</li>
<li>A,B ä»£è¡¨çš„æ˜¯ç‰›æ²¹æœçš„å¹³å‡ä»·æ ¼ï¼Œä»¥æœ‰æœºå’Œéæœ‰æœºåˆ’åˆ†ï¼›C,D ä»£è¡¨çš„åˆ™æ˜¯é”€é‡ï¼ŒåŒæ ·ä»¥æœ‰æœºå’Œéæœ‰æœºåˆ’åˆ†ï¼Œmä»£è¡¨millionç™¾ä¸‡</li>
<li>æ€»çš„æ¥è¯´ï¼Œæ˜¥å†¬å­£ä¹°ç‰›æ²¹æœæ¯”è¾ƒåˆ’ç®—ï¼Œå‡ä»·æœ€ä½ï¼ŒåŒæ ·ä¹Ÿååº”åœ¨äº†é”€é‡ä¸Šï¼Œæ˜¥å¤é”€é‡æœ€é«˜ï¼Œå› ä¸ºç‰›æ²¹æœè‡ªä»8ï¼Œ9æœˆä»½æˆç†Ÿä»¥åå·²ç»å¤§é‡å……æ–¥äº†å¸‚åœºï¼Œæ‰€ä»¥ä»·æ ¼ä¼šæ¯”è¾ƒä½ï¼Œå¸å¼•è¾ƒå¤šçš„ä¹°å®¶ï¼Œç›´åˆ°ä¸‹ä¸€æ‰¹ç‰›æ²¹æœçš„æˆç†Ÿ</li>
</ul>
<h3 id="ç‰›æ²¹æœä»·æ ¼å’ŒåŸå¸‚çš„å…³ç³»"><a href="#ç‰›æ²¹æœä»·æ ¼å’ŒåŸå¸‚çš„å…³ç³»" class="headerlink" title="ç‰›æ²¹æœä»·æ ¼å’ŒåŸå¸‚çš„å…³ç³»"></a>ç‰›æ²¹æœä»·æ ¼å’ŒåŸå¸‚çš„å…³ç³»</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library(forcats)</span><br><span class="line">geo_conv_price &lt;- seasonal_df %&gt;% select(geography,average_price,type) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(geography)%&gt;%  summarise(avg=<span class="built_in">round</span>(mean(average_price),<span class="number">2</span>)) %&gt;% arrange(avg) %&gt;% slice(<span class="number">1</span>:<span class="number">6</span>)  %&gt;% mutate(geography=fct_reorder(geography,desc(avg))) %&gt;%</span><br><span class="line">  ggplot(aes(x=geography,y=avg))+</span><br><span class="line">  geom_bar(stat = <span class="string">&quot;identity&quot;</span>,position = <span class="string">&quot;dodge&quot;</span>,alpha=<span class="number">.6</span>,width =<span class="number">.4</span>,show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  geom_text(aes(label=avg),vjust=<span class="number">1.5</span>,color=<span class="string">&#x27;black&#x27;</span>,size=<span class="number">5</span>)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(title = element_text(hjust = <span class="number">0.6</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Conventional Avocados average price by geography&quot;</span>,x=<span class="string">&quot;Geography place&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">geo_org_price &lt;- seasonal_df %&gt;% select(geography,average_price,type) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(geography)%&gt;%  summarise(avg=<span class="built_in">round</span>(mean(average_price),<span class="number">2</span>)) %&gt;% arrange(avg) %&gt;% slice(<span class="number">1</span>:<span class="number">6</span>) %&gt;% mutate(geography=fct_reorder(geography,desc(avg))) %&gt;%</span><br><span class="line">  ggplot(aes(x=geography,y=avg))+</span><br><span class="line">  geom_bar(stat = <span class="string">&quot;identity&quot;</span>,position = <span class="string">&quot;dodge&quot;</span>,alpha=<span class="number">.6</span>,width =<span class="number">.4</span>,show.legend = <span class="literal">FALSE</span>)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  geom_text(aes(label=avg),vjust=<span class="number">1.5</span>,color=<span class="string">&#x27;black&#x27;</span>,size=<span class="number">5</span>)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(title = element_text(hjust = <span class="number">0.6</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Organic Avocados average price by geography&quot;</span>,x=<span class="string">&quot;Geography place&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">plot_grid(geo_conv_price,geo_org_price,nrow = <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-e321eb850172731dfd4954af3186fb90_b.png" alt="img"></p>
<ul>
<li>é€šè¿‡è®¡ç®—è¿”å›å‰å…­ä½çš„åœ°åŒºå’ŒåŸå¸‚</li>
<li>ä»¥éæœ‰æœºä¸ºä¾‹ï¼šè²å°¼å…‹æ–¯ï¼ˆå‡¤å‡°åŸï¼‰ï¼Œä¼‘æ–¯é¡¿ï¼Œè¾¾æ‹‰æ–¯ï¼Œä¸­å—éƒ¨åŸå¸‚ç¾¤ï¼Œæ–°å¢¨è¥¿å“¥æ´²ï¼ŒNashvilleï¼ˆé è¿‘å°ç¬¬å®‰çº³æ´²ï¼‰</li>
<li>é€šè¿‡åœ°å›¾æŸ¥è¯¢ï¼Œå‰äº”ä¸ªéƒ½åœ¨ç¾å›½çš„ä¸­è¥¿éƒ¨ï¼Œé è¿‘å¢¨è¥¿å“¥</li>
<li>é€šè¿‡æŸ¥è¯¢ï¼Œç‰›æ²¹æœåŸäº§åœ°å¢¨è¥¿å“¥ï¼Œç¾å›½ä»·æ ¼æœ€ä½çš„å‰5ä¸ªåŸå¸‚å¾ˆæœ‰å¯èƒ½æ˜¯ç§æ¤ç‰›æ²¹æœçš„åŸºåœ°ï¼Œæ‰€ä»¥ç‰›æ²¹æœä»·æ ¼ä¾¿å®œ</li>
<li>ç»´åŸºç™¾ç§‘ä¸Šè¯´ä¹‹å‰åŠ å·å’Œä½›ç½—é‡Œè¾¾æ˜¯ç‰›æ²¹æœçš„ä¸»äº§åœ°ï¼Œä½†éšç€æ°´èµ„æºçš„ä»·æ ¼ä¸Šæ¶¨ï¼Œç‰›æ²¹æœäº§åœ°å‘ç”Ÿäº†å†™åç§»ï¼Œæˆ‘åˆç†æ€€ç–‘æ˜¯å‘ç€ä¸Šè¿°åœ°ç‚¹å‰ä¸€ï¼Œå‰äº”ä¸ªåŸå¸‚ï¼Œå¤§è‡´éƒ½åˆ†å¸ƒåœ¨åŒä¸€ä¸ªçº¬åº¦ä¸Š</li>
<li>ä¸‹é¢çš„é“¾æ¥è¯´çš„æ˜¯ç¾å›½ç°é˜¶æ®µç‰›æ²¹æœç§æ¤åœ°æ–¹ï¼Œæåˆ°äº†åœ£å®‰ä¸œå°¼å¥¥ï¼Œä¹Ÿæ˜¯ä¸­è¥¿éƒ¨çš„åŸå¸‚ï¼Œæ¯—é‚»ä¼‘æ–¯é¡¿ï¼Œè¾¾æ‹‰æ–¯ï¼Œå› ä¸ºæ°”å€™å¾ˆåƒå¢¨è¥¿å“¥ï¼Œé€‚åˆç‰›æ²¹æœç§æ¤ï¼Œå¹¶ä¸”æ·¡æ°´ç›¸å¯¹ä¾¿å®œ</li>
</ul>
<p><a class="link"   href="https://www.hunker.com/12003820/in-what-areas-of-the-united-states-can-you-grow-an-avocado-treewww.hunker.com" >https://www.hunker.com/12003820/in-what-areas-of-the-united-states-can-you-grow-an-avocado-treewww.hunker.com<i class="fas fa-external-link-alt"></i></a></p>
<ul>
<li>è¿™é‡Œæˆ‘ç”¨Google mapå°†ä¸Šè¿°å…­ä¸ªåŸå¸‚ç»™æ ‡æ³¨å‡ºæ¥äº†ï¼Œçš„ç¡®æ˜¯è¿‘ä¼¼å¤„äºåŒä¸€çº¬åº¦ï¼Œç‰›æ²¹æœå‰äº”ä¾¿å®œçš„åŸå¸‚çš„ç¡®é è¿‘å¢¨è¥¿å“¥</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-47ade01c452baebea532f2cbe6ba6eb6_b.png" alt="img"></p>
<h3 id="ç‰›æ²¹æœä»·æ ¼é¢„æµ‹å’Œèµ°åŠ¿å›¾"><a href="#ç‰›æ²¹æœä»·æ ¼é¢„æµ‹å’Œèµ°åŠ¿å›¾" class="headerlink" title="ç‰›æ²¹æœä»·æ ¼é¢„æµ‹å’Œèµ°åŠ¿å›¾"></a>ç‰›æ²¹æœä»·æ ¼é¢„æµ‹å’Œèµ°åŠ¿å›¾</h3><p><a class="link"   href="https://facebook.github.io/prophet/docs/quick_start.html" >Quick Start<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">library(prophet)</span><br><span class="line">library(cowplot)</span><br><span class="line">library(gridExtra)</span><br><span class="line">library(ggplot2)</span><br><span class="line">library(ggpubr)</span><br><span class="line">library(devtools)</span><br><span class="line"><span class="comment">## Select and filter the data and fit the model</span></span><br><span class="line">price_predict &lt;- df %&gt;% select(date,average_price) %&gt;% group_by(date) %&gt;% summarise(avg=mean(average_price))</span><br><span class="line">colnames(price_predict) &lt;- <span class="built_in">c</span>(<span class="string">&#x27;ds&#x27;</span>,<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">model &lt;- prophet(price_predict,daily.seasonality = <span class="literal">TRUE</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## make prediction or forecast the results</span></span><br><span class="line">future &lt;- make_future_dataframe(model,periods = <span class="number">365</span>)</span><br><span class="line">forecast &lt;- predict(model,future)</span><br><span class="line">plot(model,forecast)+</span><br><span class="line">theme_minimal()+</span><br><span class="line">  theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#F4F6F7&quot;</span>))+</span><br><span class="line">  labs(title = <span class="string">&quot;Avocados price prediction in next year&quot;</span>,x=<span class="string">&quot;year&quot;</span>,y=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line">trend &lt;- prophet_plot_components(model,forecast)</span><br><span class="line"></span><br><span class="line">year_trend &lt;- trend[<span class="number">1</span>]</span><br><span class="line">month_trend &lt;- trend[<span class="number">3</span>]</span><br><span class="line">week_trend &lt;- trend[<span class="number">2</span>]</span><br><span class="line">time_trend &lt;- trend[<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">overall_trend &lt;- <span class="built_in">c</span>(year_trend,month_trend,week_trend,time_trend)</span><br><span class="line">ggarrange(plotlist = overall_trend, labels = <span class="built_in">c</span>(<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-cf7950b7694282962ed49a75959649ca_b.png" alt="img"></p>
<ul>
<li>åˆ©ç”¨Facebookå¼€å‘çš„prophetåŒ…è¿›è¡Œæ—¶é—´åºåˆ—ä¸Šçš„ä»·æ ¼é¢„æµ‹</li>
<li>å¯ä»¥çœ‹è§ä»·æ ¼è¿˜æ˜¯ä¼šå‘ˆç°ä¸€ä¸ªå­£èŠ‚æ€§æ³¢åŠ¨ï¼Œä½†æ˜¯ä»·æ ¼å¯èƒ½ä¼šèµ°ä½</li>
<li>è”ç³»åˆ°å½“å‰æ–°å† ç–«æƒ…åœ¨ç¾å›½çš„ç–¯ç‹‚çˆ†å‘ï¼Œç‰›æ²¹æœé”€é‡ä¸‹æ»‘æ˜¯å¿…ç„¶çš„ï¼Œèµ°åŠ¿å‘ä¸‹ä¹Ÿç¬¦åˆé¢„æœŸ</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-507cf3a3836444e22b9f081ef35f7b3b_b.png" alt="img"></p>
<ul>
<li>prophetåŒ…è‡ªå¸¦çš„åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®æ—¶é—´ï¼Œç»†åŒ–åˆ°æ¯ä¸€å¤©ä»¥å°æ—¶ä¸ºå•ä½çš„æ—¶é—´é¢„æµ‹</li>
<li>Aå›¾æ˜¯ä»¥å¹´ä¸ºå•ä½çš„åˆ†æé¢„æµ‹ï¼šä»15å¹´å¼€å§‹ï¼Œç‰›æ²¹æœçš„ä»·æ ¼ä¸€ç›´ä¿æŒæ­£å¢é•¿ï¼Œ17å¹´æ˜¯ç–¯ç‹‚çš„ä¸€å¹´ï¼Œä»¥é«˜äº1.30çš„å¹…åº¦å¿«é€Ÿå¢é•¿ï¼Œè¿™ä¹Ÿåº”å’Œäº†æˆ‘çš„ä¸ªäººæ„Ÿå—ï¼Œå› ä¸ºæˆ‘å°±æ˜¯17å¹´æ‰çŸ¥é“è¿™ç§æ°´æœï¼Œä¹Ÿå°±æ˜¯è¯´ç½‘çº¢å…¬å¸åœ¨è¿™ä¸€å¹´å¤§å¹…åº¦çš„ç–¯ç‹‚å®£ä¼ è¿™æ¬¾æ°´æœï¼Œç„¶ååœ¨ä»·æ ¼ä¸Šç‚’çš„è¶Šæ¥æ„ˆé«˜ã€‚18å¹´åä»·æ ¼å¢é€Ÿè¶‹äºç¨³å®šï¼Œç¨³å®šåœ¨æ¯å¹´1.28å·¦å³å¢é•¿ï¼›è‡³äºæœªæ¥çš„ä¸€å¹´ï¼Œprophetä¹Ÿç»™å‡ºäº†è‡ªå·±çš„é¢„æµ‹ï¼ŒåŒºé—´å¤§æ¦‚åœ¨[1.20-1.34]ã€‚è€ƒè™‘åˆ°åŒ—ç¾æ–°å† ç–«æƒ…çš„å½±å“ï¼Œæˆ‘è§‰å¾—å¾ˆæœ‰å¯èƒ½ä¼šä»¥1.20å·¦å³ï¼Œä½†ä»ç„¶æ˜¯æ­£å¢é•¿ï¼Œæ®æˆ‘åœ¨æ¨ç‰¹ä¸Šè§‚å¯Ÿï¼ŒåŒ—ç¾åƒç¦§å¹´ä¸€ä»£å¯¹ç‰›æ²¹æœä»ç„¶æ˜¯éå¸¸éå¸¸å–œæ¬¢ï¼Œå„ç§å¯çˆ±æœ‰è¶£çš„æ¼«ç”»æ˜¯å±‚å‡ºä¸ç©·ã€‚æˆ‘ç›¸ä¿¡2020å¹´ç‰›æ²¹æœçš„ä»·æ ¼ä»ç„¶ä¸Šæ¶¨ï¼Œåªæ˜¯å¢é€Ÿæ”¾ç¼“</li>
<li>Bå›¾æ˜¯ä»¥æœˆä¸ºå•ä½çš„åˆ†æï¼Œå¯ä»¥çœ‹è§åœ¨5æœˆä»½ï¼Œä»·æ ¼è½¬ä¸ºæ­£å¢é•¿ï¼ŒæŒç»­åˆ°10æœˆä»½ï¼Œä»·æ ¼è¾¾åˆ°å³°å€¼ï¼Œéšåä»·æ ¼å¼€å§‹ä¸‹è·Œï¼Œåˆ°æ¥å¹´çš„2æœˆä»½è¾¾åˆ°ä½ç‚¹ï¼Œç¬¦åˆä¹‹å‰çš„åˆ†æ</li>
<li>Cå›¾æ˜¯ä»¥æ¯å‘¨ä¸ºå•ä½åˆ†æï¼Œç‰›æ²¹æœåœ¨å‘¨æœ«ä»·æ ¼æœ€é«˜ï¼Œç¬¦åˆç¾å›½å®¶åº­å‘¨æœ«åœ¨å‘¨æœ«è¿›è¡Œå¤§é‡‡è´­çš„ä¹ æƒ¯ï¼Œæ‰€ä»¥é‚£ä¸¤å¤©ï¼Œä»·æ ¼ä¹Ÿæœ€é«˜</li>
<li>Då›¾æ˜¯ä»¥æ¯å¤©æ¥åˆ†æï¼Œæ²¡æœ‰å‚è€ƒæ„ä¹‰ï¼Œå› ä¸ºæˆ‘çš„æ•°æ®é›†å°±æ²¡æœ‰è¿™ä¸ªå¸¦å°æ—¶ä¸ºå•ä½çš„æ—¶é—´</li>
</ul>
<p>å®Œæ•´ç‰ˆçš„ä»£ç è¯·åœ¨GitHubä¸‹è½½</p>
<p><a class="link"   href="https://github.com/yuxuanwu17/INT303-Avocado-prediction" >https://github.com/yuxuanwu17/INT303-Avocado-prediction<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>R</category>
      </categories>
      <tags>
        <tag>kaggle</tag>
        <tag>EDA</tag>
        <tag>R</tag>
      </tags>
  </entry>
  <entry>
    <title>IntelliJ IDEA è°ƒè¯•é…ç½®Hadoop</title>
    <url>/2021/01/26/IntelliJ-IDEA-%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AEHadoop/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ˜¯ç›®å‰ä¸ºæ­¢æœ€ç®€å•ï¼Œä¹Ÿä¸éœ€è¦é…Hadoopç¯å¢ƒä¹‹ç±»çš„æ•™ç¨‹ï¼Œä½†æ˜¯å¦‚æœæ˜¯xjtluçš„å°ä¼™ä¼´ï¼Œå¯èƒ½å°±ä¸å¤ªåˆé€‚ï¼Œå› ä¸ºè€å¸ˆå¥½åƒæ˜¯è¦æ±‚å†™å‡ºhdfsçš„æ“ä½œçš„ä»£ç çš„ï¼Œè¿™å„¿å¯ä»¥å‚è€ƒé˜¿é‡Œäº‘ç¬¬äºŒå¼¹ã€‚</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/269047002" >lonerï¼šä»é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨å®‰è£…HadoopåŠç¯å¢ƒé…ç½®<i class="fas fa-external-link-alt"></i></a></p>
<p>æˆ‘ä»¬ä»Šå¤©è¿™ç¯‡æ–‡ç« æ˜¯ç­‰ä»·äºä»¥ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œæ¥è¿è¡Œwordcount.javaè¿™ä¸ªæ–‡ä»¶çš„</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/271772216" >lonerï¼šé˜¿é‡Œäº‘Hadoopç¬¬äºŒå¼¹ï¼ˆè¿è¡ŒWordCountï¼‰<i class="fas fa-external-link-alt"></i></a></p>
<p>åœ¨ç¬¬äºŒå¼¹é‡Œé¢ï¼Œæ ¸å¿ƒçš„æ€è·¯å°±æ˜¯ï¼Œåœ¨HDFSä¸Šåˆ›å»ºæ–‡ä»¶ï¼Œæœ¬åœ°ä¸Šä¼ æ–‡ä»¶ï¼Œè¿åŒä½ çš„scriptï¼Œç„¶ååœ¨æœåŠ¡å™¨é‡Œç”¨javac compileå‡ºä½ çš„classesï¼Œç„¶åæ‰“åŒ…æˆä¸€ä¸ªjaråŒ…ï¼Œç„¶ååœ¨Hadoopä¸Šè¿è¡ŒjaråŒ…ï¼Œç„¶ååŒæ ·ä¹Ÿæ˜¯ç”¨Hadoopå‘½ä»¤æŸ¥çœ‹ä½ çš„ç»“æœã€‚æ­¥éª¤æ˜¾å¾—éå¸¸ç¹ç</p>
<p>ä½†æ˜¯ï¼Œåœ¨æˆ‘æ³¨å†Œå®Œï¼ˆç™½å«–å®Œï¼‰IntelliJ IDEAçš„ä¸“ä¸šç‰ˆåï¼Œä»–ä¼šæé†’ä½ éœ€ä¸éœ€è¦è£…big data toolsè¿™ä¸ªç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œç„¶åæˆ‘å·¨ç›¯ç€ä¸‹é¢è¿™è¡Œèœå•æ é™·å…¥æ²‰æ€ï¼Œè‚¯å®šå¯ä»¥æœ‰é‚£ç§ä¸€é”®runï¼Œç„¶åç”Ÿæˆoutputçš„æ–¹å¼ã€‚</p>
<p><img src="https://pic2.zhimg.com/v2-ad79047cd3d9615c024eef12ef8131ad_b.png" alt="img"></p>
<p>è‡³äºä¸ºä»€ä¹ˆä¸ç”¨eclipseï¼Œå› ä¸ºå®ƒå®åœ¨å¤ªä¸‘äº†ï¼ˆè°è¿˜ä¸æ˜¯ä¸ªé¢œç‹—å‘¢ğŸ¤ªï¼‰</p>
<p>æˆ‘é¦–å…ˆæ€»ç»“ä¸‹Hadoopçš„ä¸‰ç§è¿è¡Œæ¨¡å¼</p>
<p>1ã€‚ å•æœºæ¨¡å¼</p>
<p>2ã€‚ ä¼ªåˆ†å¸ƒæ¨¡å¼</p>
<p>3ã€‚ å®Œå…¨åˆ†å¸ƒæ¨¡å¼</p>
<p>ä¹‹å‰çš„ä¸‰ç¯‡æ–‡ç« å…¶å®æ­å»ºçš„éƒ½æ˜¯ä¼ªåˆ†å¸ƒæ¨¡å¼Hadoopçš„å®‰è£…ã€‚ä½†å®é™…ä¸ŠåŸºäºHadoopçš„MapReduceç¨‹åºåœ¨æœ¬åœ°ç¨‹åºä¸Šå°±å®Œå…¨å¯ä»¥è¿è¡Œï¼Œå¹¶ä¸ä¸€å®šéœ€è¦ä¼ªåˆ†å¸ƒæ¨¡å¼ï¼Œç”šè‡³è¿Hadoopéƒ½ä¸ä¸€å®šéœ€è¦å®‰è£…ã€‚åœ¨å•æœºæ¨¡å¼ä¸‹ï¼Œå¯ä»¥å°†MapReduceçš„ç¨‹åºå½“æˆä¸€ä¸ªæ™®æ™®é€šé€šçš„javaç¨‹åºã€‚åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©é¡¹ç›®ç®¡ç†å·¥å…·Mavenã€‚è¿™é‡Œå°±ä¸ç”¨å¯¼å…¥å„ç§ä¾èµ–ï¼Œåªéœ€è¦ä¸€é”®å¯¼å…¥pomæ–‡ä»¶ï¼ˆå…¶ä¸­åˆ¶å®šäº†Hadoopä¾èµ–åŒ…çš„åå­—å’Œç‰ˆæœ¬å·ï¼‰ï¼Œå°±ä¸éœ€è¦åœ¨èŠ±é¢å¤–çš„æ—¶é—´çº ç¼ åœ¨å„ç§ä¾èµ–ä¸Šï¼Œåªéœ€è¦ä¸“é—¨focusåœ¨ä½ çš„ä»£ç ç¼–å†™ä¸Šäº†</p>
<p>è¿™é‡Œæ’ä¸€å¥ï¼šæœ‰å¾ˆå¤šå°ä¼™ä¼´é—®æˆ‘é˜¿é‡Œäº‘æ•™ç¨‹ä¸€æ­¥æ­¥åšäº†ï¼Œä¸ºå•¥è¿˜æ˜¯è£…ä¸ä¸Šï¼Œå„ç§æ‰¾ä¸åˆ°å•Šï¼Œæˆ–è€…æŠ¥é”™ã€‚</p>
<p>1ã€‚ä»£ç ä¸€è¡Œè¡Œè¿è¡Œï¼Œä¸è¦å…¨éƒ¨å¤åˆ¶ï¼Œå› ä¸ºterminalé‡Œé¢æ¯•ç«Ÿæ˜¯ä¸€è¡Œè¡Œè¿è¡Œçš„ï¼Œè‹¥å¤åˆ¶å‡ è¡Œï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå‡ºé”™ï¼Œæ¯”å¦‚æŸä¸€è¡Œå¿˜è®°è¿è¡Œäº†</p>
<p>2ã€‚å¦‚æœæ˜¯é˜¿é‡Œäº‘ï¼Œè®°ä½ï¼Œé‡ç½®ç³»ç»ŸèŠ±çš„æ—¶é—´è¿œæ¯”debugè¦çš„èŠ±çš„æ—¶é—´å°‘ï¼Œå¦‚æœä½ åªæ˜¯å®Œæˆä½œä¸šï¼Œè¯·å¤§èƒ†é‡ç½®ï¼Œå¦‚æœä½ æœ‰å¾ˆå¤šæ—¶é—´ï¼Œä¸”å¾ˆæœ‰å…´è¶£ï¼Œå¯ä»¥å¤§èƒ†çš„å»æœå»ç ”ç©¶ï¼Œå¯¹Linuxç¯å¢ƒçš„ç†è§£ä¼šå¾ˆæœ‰å¸®åŠ©</p>
<p>è¿›å…¥æ­£é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªprojectï¼Œå¹¶ä¸”é€‰æ‹©mavenã€‚</p>
<p><img src="https://pic3.zhimg.com/v2-0dd014d30b19d6f721aaa250fb0db85e_b.png" alt="img"></p>
<p>ä»€ä¹ˆæ˜¯mavenï¼Œå¯ä»¥åœ¨ä¸‹é¢é“¾æ¥æŸ¥çœ‹ï¼Œä»¥åŠæˆ‘å½“æ—¶å‚è€ƒçš„æ•™ç¨‹ã€‚è¿™é‡Œéå¸¸æ„Ÿè°¢ç»™äºˆå¸®åŠ©çš„éƒ­åŒå­¦ï¼Œå› ä¸ºä¹‹å‰å®Œå…¨æ²¡æ¥è§¦è¿‡è¿™äº›åªæ˜¯ï¼Œå•¥éƒ½ä¸æ‡‚ï¼Œéå¸¸æ„Ÿè°¢ä»–æ‰‹æŠŠæ‰‹æ•™æˆ‘ï¼Œç„¶åé‡æ–°çœ‹ä¸‹é¢çš„æ“ä½œï¼Œå°±å¾ˆå¥½ç†è§£ï¼ˆPS:xmlçš„æ ¼å¼ä¸€å®šè¦å®Œå…¨å¤åˆ¶ï¼Œæˆ‘ä¹‹å‰é…ç½®Hadoopç¯å¢ƒçš„æ—¶å€™ç¢°åˆ°ä¸€ä¸ªé—®é¢˜å°±æ˜¯å®ƒxmlæ ¼å¼ä¸Šä¸‹ä¸æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œ/åšåŒºåˆ†ï¼‰</p>
<p><img src="https://pic3.zhimg.com/v2-845fd7e89d7577c7401ac9516214ab5e_b.png" alt="img"></p>
<p><a class="link"   href="https://www.polarxiong.com/archives/Hadoop-Intellij%E7%BB%93%E5%90%88Maven%E6%9C%AC%E5%9C%B0%E8%BF%90%E8%A1%8C%E5%92%8C%E8%B0%83%E8%AF%95MapReduce%E7%A8%8B%E5%BA%8F-%E6%97%A0%E9%9C%80%E6%90%AD%E8%BD%BDHadoop%E5%92%8CHDFS%E7%8E%AF%E5%A2%83.html" >Hadoop: Intellijç»“åˆMavenæœ¬åœ°è¿è¡Œå’Œè°ƒè¯•MapReduceç¨‹åº (æ— éœ€æ­è½½Hadoopå’ŒHDFSç¯å¢ƒ)<i class="fas fa-external-link-alt"></i></a></p>
<p>è¾“å…¥åç§°åç»§ç»­ï¼Œä»€ä¹ˆéƒ½ä¸è¦æ”¹ï¼Œç„¶åè¿›å…¥æ–°åˆ›å»ºçš„projectï¼Œåˆå§‹çŠ¶æ€å¦‚ä¸‹</p>
<p><img src="https://pic3.zhimg.com/v2-cad571284695667153a3ef735b0eea6a_b.png" alt="img"></p>
<p>ç„¶åä¸‹é¢å¯¼å…¥æˆ‘ä»¬çš„pomæ–‡ä»¶ï¼Œè·¯å¾„ä¾èµ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span><br><span class="line">         xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">         xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0 http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line"></span><br><span class="line">    &lt;groupId&gt;org.example&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;Hadoop&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">    &lt;build&gt;</span><br><span class="line">        &lt;plugins&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">                &lt;configuration&gt;</span><br><span class="line">                    &lt;source&gt;6&lt;&#x2F;source&gt;</span><br><span class="line">                    &lt;target&gt;6&lt;&#x2F;target&gt;</span><br><span class="line">                &lt;&#x2F;configuration&gt;</span><br><span class="line">            &lt;&#x2F;plugin&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">                &lt;configuration&gt;</span><br><span class="line">                    &lt;source&gt;6&lt;&#x2F;source&gt;</span><br><span class="line">                    &lt;target&gt;6&lt;&#x2F;target&gt;</span><br><span class="line">                &lt;&#x2F;configuration&gt;</span><br><span class="line">            &lt;&#x2F;plugin&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">                &lt;configuration&gt;</span><br><span class="line">                    &lt;source&gt;7&lt;&#x2F;source&gt;</span><br><span class="line">                    &lt;target&gt;7&lt;&#x2F;target&gt;</span><br><span class="line">                &lt;&#x2F;configuration&gt;</span><br><span class="line">            &lt;&#x2F;plugin&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">                &lt;configuration&gt;</span><br><span class="line">                    &lt;source&gt;7&lt;&#x2F;source&gt;</span><br><span class="line">                    &lt;target&gt;7&lt;&#x2F;target&gt;</span><br><span class="line">                &lt;&#x2F;configuration&gt;</span><br><span class="line">            &lt;&#x2F;plugin&gt;</span><br><span class="line">        &lt;&#x2F;plugins&gt;</span><br><span class="line">    &lt;&#x2F;build&gt;</span><br><span class="line"></span><br><span class="line">    &lt;repositories&gt;</span><br><span class="line">        &lt;repository&gt;</span><br><span class="line">            &lt;id&gt;apache&lt;&#x2F;id&gt;</span><br><span class="line">            &lt;url&gt;http:&#x2F;&#x2F;maven.apache.org&lt;&#x2F;url&gt;</span><br><span class="line">        &lt;&#x2F;repository&gt;</span><br><span class="line">    &lt;&#x2F;repositories&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.apache.hadoop&lt;&#x2F;groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;hadoop-core&lt;&#x2F;artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.2.1&lt;&#x2F;version&gt;</span><br><span class="line">        &lt;&#x2F;dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.apache.hadoop&lt;&#x2F;groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;hadoop-common&lt;&#x2F;artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.2.1&lt;&#x2F;version&gt;</span><br><span class="line">        &lt;&#x2F;dependency&gt;</span><br><span class="line">    &lt;&#x2F;dependencies&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>ä¼šåœ¨å³ä¸Šè§’çº¢æ¡†å†…å‡ºç°è¿™ä¸ªï¼Œç‚¹å‡»loade pom changeï¼Œç„¶åHadoopä¼šè‡ªåŠ¨å¸®ä½ é…ç½®å®Œæˆï¼Œç¬¬ä¸€æ¬¡å¯èƒ½éœ€è¦ç‚¹æ—¶é—´ï¼Œç­‰å®ƒcompileå®Œï¼Œä½ å°±å®Œæˆä¸€å¤§åŠäº†ã€‚</p>
<p><img src="https://pic3.zhimg.com/v2-db0ce18da28171db469974f9a0ab68d2_b.png" alt="img"></p>
<p>ä¸‹æ¥ä¹¦å†™ä½ çš„WordCount.java </p>
<p>é¦–å…ˆåˆ›é€ ä¸€ä¸ªjavaï¼Œè·¯å¾„æ˜¯åœ¨src/main/javaåº•ä¸‹new ä¸€ä¸ªjavaï¼Œclass name å«WordCount,ç„¶åè¿™é‡Œå¯¼å…¥æˆ‘ä¹‹å‰å†™çš„WordCount.java</p>
<p><img src="https://pic4.zhimg.com/v2-78d15bbd7925f9bddae8c6ec8015c6c7_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.StringTokenizer;</span><br><span class="line"></span><br><span class="line">import org.apache.hadoop.conf.Configuration;</span><br><span class="line">import org.apache.hadoop.fs.Path;</span><br><span class="line">import org.apache.hadoop.io.IntWritable;</span><br><span class="line">import org.apache.hadoop.io.Text;</span><br><span class="line">import org.apache.hadoop.mapreduce.Job;</span><br><span class="line">import org.apache.hadoop.mapreduce.Mapper;</span><br><span class="line">import org.apache.hadoop.mapreduce.Reducer;</span><br><span class="line">import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;</span><br><span class="line">import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</span><br><span class="line"></span><br><span class="line">public class WordCount &#123;</span><br><span class="line"></span><br><span class="line">    public static class TokenizerMapper</span><br><span class="line">            extends Mapper&lt;Object, Text, Text, IntWritable&gt;&#123;</span><br><span class="line"></span><br><span class="line">        private final static IntWritable one &#x3D; new IntWritable(1);</span><br><span class="line">        private Text word &#x3D; new Text();</span><br><span class="line"></span><br><span class="line">        public void map(Object key, Text value, Context context</span><br><span class="line">        ) throws IOException, InterruptedException &#123;</span><br><span class="line">            StringTokenizer itr &#x3D; new StringTokenizer(value.toString());</span><br><span class="line">            while (itr.hasMoreTokens()) &#123;</span><br><span class="line">                word.set(itr.nextToken());</span><br><span class="line">                context.write(word, one);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static class IntSumReducer</span><br><span class="line">            extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; &#123;</span><br><span class="line">        private IntWritable result &#x3D; new IntWritable();</span><br><span class="line"></span><br><span class="line">        public void reduce(Text key, Iterable&lt;IntWritable&gt; values,</span><br><span class="line">                           Context context</span><br><span class="line">        ) throws IOException, InterruptedException &#123;</span><br><span class="line">            int sum &#x3D; 0;</span><br><span class="line">            for (IntWritable val : values) &#123;</span><br><span class="line">                sum +&#x3D; val.get();</span><br><span class="line">            &#125;</span><br><span class="line">            result.set(sum);</span><br><span class="line">            context.write(key, result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws Exception &#123;</span><br><span class="line">        Configuration conf &#x3D; new Configuration();</span><br><span class="line">        Job job &#x3D; Job.getInstance(conf, &quot;word count&quot;);</span><br><span class="line">        job.setJarByClass(WordCount.class);</span><br><span class="line">        job.setMapperClass(TokenizerMapper.class);</span><br><span class="line">        job.setCombinerClass(IntSumReducer.class);</span><br><span class="line">        job.setReducerClass(IntSumReducer.class);</span><br><span class="line">        job.setOutputKeyClass(Text.class);</span><br><span class="line">        job.setOutputValueClass(IntWritable.class);</span><br><span class="line">        FileInputFormat.addInputPath(job, new Path(args[0]));</span><br><span class="line">        FileOutputFormat.setOutputPath(job, new Path(args[1]));</span><br><span class="line">        System.exit(job.waitForCompletion(true) ? 0 : 1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸‹æ¥éœ€è¦é…ç½®è¿è¡Œï¼Œé€‰æ‹©application</p>
<p><img src="https://pic1.zhimg.com/v2-94a80fe5f6a100e331e2cd30918f5808_b.png" alt="img"></p>
<p><img src="https://pic2.zhimg.com/v2-c83dbde658707eb3ef7955ba02e34a61_b.png" alt="img"></p>
<p>é€‰æ‹©applicationåéœ€è¦é…ç½®å¦‚ä¸‹ï¼Œnameéšæ„ï¼Œæœ€é‡è¦çš„æ˜¯Main class: ä¿è¯åå­—å’Œä½ newçš„javaæ–‡ä»¶åå­—ä¸€è‡´ï¼Œinputå’Œoutputæ˜¯ç­‰ä¼šè¦æ”¾å…¥çš„æ–‡ä»¶ï¼Œè¾“å…¥å’Œè¾“å‡º</p>
<p><img src="https://pic2.zhimg.com/v2-620013b2b632c38fee81735517ab9d69_b.png" alt="img"></p>
<p>é…ç½®è¾“å…¥æ–‡ä»¶</p>
<p>è¿™é‡Œæˆ‘åˆšåˆšåœ¨configurationé‡Œé¢å†™äº†æˆ‘çš„è¾“å…¥æ–‡ä»¶å«inputï¼Œéœ€è¦é…ç½®è¾“å…¥è·¯å¾„ï¼Œè¿™é‡Œåœ¨ï¼ˆsrcåŒçº§ç›®å½•ä¸‹ï¼‰æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹inputï¼Œå¹¶ä¸”æŠŠä½ éœ€è¦è¾“å…¥çš„æ–‡ä»¶æ”¾è¿›å»ï¼Œè¿™å„¿è¿˜æ˜¯ä¹‹å‰çš„pg100.txt</p>
<p><img src="https://pic1.zhimg.com/v2-ad377d58ed8fd1a421ef3c9af0f9b280_b.png" alt="img"></p>
<p>é¢å¤–ï¼Œæˆ‘ä»¬éœ€è¦åœ¨File-&gt;Project Structureï¼ˆæˆ–è€…macå¿«æ·é”®command+;)å°†language levelè°ƒæ•´ä¸º7ï¼Œç„¶åç‚¹å³ä¸‹è§’ok</p>
<p><img src="https://pic2.zhimg.com/v2-bb93bed4ab015cdd6031b639195f1e79_b.png" alt="img"></p>
<p>è¿è¡Œå’Œè°ƒè¯•</p>
<p>ç›´æ¥ç‚¹å³ä¸Šè§’çš„run</p>
<p><img src="https://pic1.zhimg.com/v2-b47e1c1b0a5ab1c032016956abd83188_b.png" alt="img"></p>
<p>ä¼šå‡ºç°å¦‚ä¸‹æƒ…å†µ</p>
<p><img src="https://pic2.zhimg.com/v2-294c4ed3ae9673755c5f6b46cbe59c19_b.png" alt="img"></p>
<p>æ³¨æ„ï¼šè¿™é‡Œçš„çº¢å­—ä¸æ˜¯æŠ¥é”™ï¼Œä¸è¦æ…Œï¼</p>
<p><img src="https://pic4.zhimg.com/v2-363633fe92ac4dda9f9f572ede3cc123_b.png" alt="img"></p>
<p>è¿è¡ŒæˆåŠŸåï¼Œä½ çš„æ–‡ä»¶ä¼šå‡ºç°ä¸€ä¸ªoutputçš„æ–‡ä»¶ï¼Œç”±äºoutputçš„å…ˆå¤©ç‰¹æ€§ï¼Œå®ƒæ— æ³•è¦†ç›–ï¼Œæ‰€ä»¥ä¸‹æ¬¡è¿è¡Œçš„æ—¶å€™è¯·åˆ é™¤ä¹‹å‰çš„é‚£ä¸ªï¼Œæˆ–è€…ä½ æ”¹ä¸ªåå­—ï¼ˆæˆ‘åæ¥å¥½åƒçœ‹è§è¿™ä¸ªå¯ä»¥ç”¨å…¶ä»–æ–¹æ³•è¦†ç›–çš„ï¼Œè¿™é‡Œå°±ä¸åšæ¶‰åŠï¼‰</p>
<p><img src="https://pic3.zhimg.com/v2-f7308af1cc604837f179edbf26a8b492_b.png" alt="img"></p>
<p>æ‰“å¼€part-r-00000ï¼Œä¼šå‡ºç°ä½ Hadoopè¿è¡Œçš„ç»“æœ</p>
<p><img src="https://pic4.zhimg.com/v2-87c20a09d5c68150c7374947e2f54bcf_b.png" alt="img"></p>
<p>åˆ°ç°åœ¨ä¸ºï¼Œç”¨IDEAé…ç½®Hadoopå·²ç»å…¨éƒ¨å®Œæˆäº†ã€‚</p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>IntelliJ IDEA</tag>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨å®‰è£…HadoopåŠç¯å¢ƒé…ç½®</title>
    <url>/2021/01/26/%E4%BB%8E%E9%98%BF%E9%87%8C%E4%BA%91%E8%BD%BB%E9%87%8F%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85Hadoop%E5%8F%8A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>çŸ¥ä¹é¦–æ¬¡å†™æ–‡ç« ï¼Œæ³è¯·å¤§å®¶å¤šå¤šæ‹…å¾…</p>
<p>æœ¬äººæ˜¯ä¸€åå¤§å››ç”Ÿç‰©ä¿¡æ¯çš„å­¦ç”Ÿï¼Œåœ¨å¤§æ•°æ®è¯¾ä¸Šï¼Œè€å¸ˆéœ€è¦æˆ‘ä»¬é…ç½®Hadoopå»å¤„ç†ä¸€äº›ä¸œè¥¿ã€‚ç½‘ä¸Šçš„ä¸€äº›æ•™ç¨‹äº’ç›¸å†²çªï¼Œè®°å½•ä¸€ä¸‹è¿™ä¸ªä»å¤´å¯ä»¥å®Œå…¨è¿è¡ŒæˆåŠŸçš„æ•™ç¨‹</p>
<ol>
<li>è´­ä¹°æœåŠ¡å™¨</li>
</ol>
<p>å› ä¸ºæœ¬äººä½¿ç”¨çš„ä»ç„¶æ˜¯14å¹´çš„MBPï¼Œæ€•éšéšä¾¿ä¾¿è£…ä¸ªæ–°ç³»ç»ŸæŠŠç”µè„‘ç»™æŠ˜è…¾åäº†ï¼Œè¿™é‡Œè´­ä¹°çš„æ˜¯äº‘æœåŠ¡å™¨ï¼Œè¿™é‡Œé¦–æ¨é˜¿é‡Œäº‘ã€‚</p>
<p>è‹¥æ‚¨æ˜¯å¸¸å¹´ä½¿ç”¨è°·æ­Œæœç´¢ï¼Œè¯·æ³¨æ„å…³é—­æ¢¯å­ï¼Œå› ä¸ºé˜¿é‡Œäº‘æ˜¯æœ‰å›½å†…å›½å¤–ä¸¤ä¸ªç³»ç»Ÿï¼Œå„è‡ªç‹¬ç«‹ï¼Œè™½ç„¶å¢™å¤–çš„æœåŠ¡å™¨å¯ä»¥å…è´¹è¯•ç”¨2ä¸ªæœˆï¼Œä½†å„ç§å®åè®¤è¯æ˜¯ç»•ä¸å¼€çš„ã€‚</p>
<p>è‹¥æ‚¨æ˜¯å­¦ç”Ÿï¼Œé˜¿é‡Œäº‘æœ‰ä¸€ä¸ªå¼€å‘è€…æˆé•¿è®¡åˆ’ï¼Œä¸“é—¨é’ˆå¯¹åœ¨æ ¡å¤§å­¦ç”Ÿï¼Œä¹Ÿå°±æ˜¯æ•™è‚²ä¼˜æƒ ã€‚éå¸¸ä¾¿å®œï¼Œåªéœ€è¦9.5ä¸€ä¸ªæœˆ</p>
<p><a class="link"   href="https://developer.aliyun.com/plan/grow-up" >é˜¿é‡Œäº‘å¼€å‘è€…æˆé•¿è®¡åˆ’<i class="fas fa-external-link-alt"></i></a></p>
<p><img src="https://pic1.zhimg.com/v2-b9cf2d24d57aa3e715020e3f6e38cd1c_b.png" alt="img"></p>
<p>\2. æœåŠ¡å™¨é€‰æ‹©å’Œé…ç½®</p>
<p>è¿™é‡Œé€‰æ‹©çš„æ˜¯è½»é‡æœåŠ¡å™¨ï¼Œç³»ç»Ÿé•œåƒå’Œåº”ç”¨é•œåƒä¸éœ€è¦æ”¹å˜ï¼Œä¿æŒé»˜è®¤å€¼å°±è¡Œï¼ˆWordPress, CentOS 7.3ï¼‰</p>
<p><img src="https://pic2.zhimg.com/v2-12c765376ed1ffb827435c4047b8a671_b.png" alt="img"></p>
<p>è¿™é‡Œéœ€è¦è®¾ç½®rootæƒé™å’Œå¯†ç </p>
<p>è®¾ç½®æˆåŠŸåé€šè¿‡æœ¬åœ°terminalï¼ˆMACï¼‰æˆ–è€…cmdï¼ˆWindowsï¼‰æ¥æ„å»ºssh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh root@****</span><br></pre></td></tr></table></figure>
<p>ç„¶åè¾“å…¥ä¹‹å‰è®¾ç½®çš„rootçš„æƒé™çš„å¯†ç ï¼ˆæ³¨æ„ï¼šè¿™é‡Œçš„å¯†ç æ˜¯ä¸ä¼šæœ‰ä»»ä½•æ˜¾ç¤ºçš„ï¼‰</p>
<p><img src="https://pic1.zhimg.com/v2-af9e75a4cb07870aa8373b4671862198_b.png" alt="img"></p>
<p>è‹¥å‡ºç°ä¸Šå›¾çš„æƒ…å†µï¼Œéœ€è¦æ¸…ç†ä¸€ä¸‹ä¹‹å‰çš„key</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -R XX.XX.XX.XX</span><br></pre></td></tr></table></figure>
<p>ç„¶åå†æ¬¡ç”¨sshè¿æ¥ï¼Œç„¶åyes</p>
<p><img src="https://pic2.zhimg.com/v2-e12d923ff1d5a1f5f75c86ee11fd447d_b.png" alt="img"></p>
<p>å¥½ï¼Œåˆ°æ­¤æˆ‘ä»¬è¿›å…¥åˆ°äº†é˜¿é‡Œäº‘çš„æœåŠ¡å™¨</p>
<p>\3. æˆ‘ä»¬å¼€å§‹é…ç½®javaç¯å¢ƒ</p>
<p>é¦–å…ˆä¸‹è½½javaçš„jdk</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;download.java.net&#x2F;openjdk&#x2F;jdk8u41&#x2F;ri&#x2F;openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz</span><br></pre></td></tr></table></figure>
<p>ç„¶åè§£å‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tar -zxvf openjdk-8u41-b04-linux-x64-14_jan_2020.tar.gz</span><br></pre></td></tr></table></figure>
<p>ç§»åŠ¨ä½ç½®å¹¶ä¸”é…ç½®javaè·¯å¾„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mv java-se-8u41-ri&#x2F; &#x2F;usr&#x2F;java8</span><br><span class="line">echo &#39;export JAVA_HOME&#x3D;&#x2F;usr&#x2F;java8&#39; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class="line">echo &#39;export PATH&#x3D;$PATH:$JAVA_HOME&#x2F;bin&#39; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class="line">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>
<p>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-85701c9548e5c31b2faaf569c31eed48_b.png" alt="img"></p>
<p>è¿™æ˜¯ç†æƒ³æƒ…å†µï¼Œè‹¥å®‰è£…æˆåŠŸä¼šå‡ºç°å¦‚ä¸‹ç»“æœ</p>
<p>\4. æˆ‘ä»¬è¿›è¡ŒHadoopçš„å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;apache&#x2F;hadoop&#x2F;common&#x2F;hadoop-2.9.2&#x2F;hadoop-2.9.2.tar.gz</span><br></pre></td></tr></table></figure>
<p>è¿™å„¿æ˜¯æ¸…åçš„é•œåƒæºï¼Œå›½å†…çš„å°ä¼™ä¼´ä¸‹è½½æ¯”è¾ƒå¿«</p>
<p>æŒ‰ç…§æƒ¯ä¾‹è§£å‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tar -zxvf hadoop-2.9.2.tar.gz -C &#x2F;opt&#x2F;</span><br><span class="line">mv &#x2F;opt&#x2F;hadoop-2.9.2 &#x2F;opt&#x2F;hadoop</span><br></pre></td></tr></table></figure>
<p>é…ç½®åœ°å€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &#39;export HADOOP_HOME&#x3D;&#x2F;opt&#x2F;hadoop&#x2F;&#39; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class="line">echo &#39;export PATH&#x3D;$PATH:$HADOOP_HOME&#x2F;bin&#39; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class="line">echo &#39;export PATH&#x3D;$PATH:$HADOOP_HOME&#x2F;sbin&#39; &gt;&gt; &#x2F;etc&#x2F;profile</span><br><span class="line">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>
<p>é…ç½®yarnå’Œhadoop</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &quot;export JAVA_HOME&#x3D;&#x2F;usr&#x2F;java8&quot; &gt;&gt; &#x2F;opt&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;yarn-env.sh</span><br><span class="line">echo &quot;export JAVA_HOME&#x3D;&#x2F;usr&#x2F;java8&quot; &gt;&gt; &#x2F;opt&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;hadoop-env.sh</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹Hadoop å®‰è£…æƒ…å†µ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop version</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-c7b11851e5c3f5083809748875ef90aa_b.png" alt="img"></p>
<p>è‹¥å‡ºç°ä¸Šå›¾æƒ…å†µï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸ</p>
<p>\5. æ¥ä¸‹æ¥éœ€è¦åˆ©ç”¨vimæ¥æ“ä½œcore-site å’Œ hdfs-site</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim &#x2F;opt&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;core-site.xml</span><br></pre></td></tr></table></figure>
<p>è¿›å…¥vimç¯å¢ƒ</p>
<p><img src="https://pic2.zhimg.com/v2-c913566815ccb9dc077e6b1905c9f261_b.png" alt="img"></p>
<p>æŒ‰ä¸‹iï¼ˆinsertï¼‰ä¿®æ”¹</p>
<p>å…‰æ ‡ç§»åŠ¨è‡³configurationä¹‹é—´ï¼Œå¤åˆ¶å¦‚ä¸‹çš„ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">        &lt;name&gt;hadoop.tmp.dir&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;file:&#x2F;opt&#x2F;hadoop&#x2F;tmp&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;description&gt;location to store temporary files&lt;&#x2F;description&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;hdfs:&#x2F;&#x2F;localhost:9000&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæŒ‰ä¸‹escï¼Œåœæ­¢ä¿®æ”¹ï¼Œç„¶åæ‰“â€:wqâ€ï¼ˆå®é™…æ— â€œâ€ï¼‰é€€å‡ºvimä¿®æ”¹</p>
<p>åŒç†æ“ä½œhdfs-site</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim &#x2F;opt&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;hdfs-site.xml</span><br><span class="line">&lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.replication&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.name.dir&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;file:&#x2F;opt&#x2F;hadoop&#x2F;tmp&#x2F;dfs&#x2F;name&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.datanode.data.dir&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;file:&#x2F;opt&#x2F;hadoop&#x2F;tmp&#x2F;dfs&#x2F;data&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br></pre></td></tr></table></figure>
<p>é…ç½®masterå’Œslaveè¿æ¥ï¼Œè¿è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼Œå¹¶ä¸”ä¸€ç›´å›è½¦ï¼Œç›´è‡³å‡ºç°å¦‚ä¸‹å›¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa </span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-2a2c7f685bee80d7e51469a49c64c282_b.png" alt="img"></p>
<p>è¿è¡Œå¦‚ä¸‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd .ssh</span><br><span class="line">cat id_rsa.pub &gt;&gt; authorized_keys</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨Hadoop</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop namenode -format</span><br><span class="line">start-dfs.sh</span><br><span class="line">start-yarn.sh</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jps</span><br></pre></td></tr></table></figure>
<p>æˆåŠŸå›¾</p>
<p><img src="https://pic3.zhimg.com/v2-1d41b7f780ab263558dcdd06b11623be_b.png" alt="img"></p>
<p>\7. æ³¨æ„æ³¨æ„ï¼šæ¥ä¸‹æ¥éœ€è¦å¼€å¯ä½ åœ¨é˜¿é‡Œäº‘çš„é˜²ç«å¢™ç«¯å£ï¼Œæ‰å¯ä»¥åœ¨æµè§ˆå™¨ä¸Šè®¿é—®ï¼Œå¦åˆ™ä½ æ€ä¹ˆå¼„éƒ½æ˜¯è®¿é—®ä¸åˆ° (è¿™é‡Œæˆ‘å¡äº†å¿«ä¸€ä¸ªç¤¼æ‹œï¼Œæœ€åéå¸¸æ„Ÿè°¢é˜¿é‡Œäº‘çš„å°å“¥å“¥å¸®æˆ‘è§£å†³äº†è¿™ä¸ªé—®é¢˜)</p>
<p><img src="https://pic1.zhimg.com/v2-ca4e2239f097d66886dae184064870fc_b.png" alt="img"></p>
<p>æœ€åä½ å°±å¯ä»¥åœ¨æµè§ˆå™¨è¾“å…¥XX.XX.XX.XX**:50070 æˆ–è€…**XX.XX.XX.XX:8088æ¥åœ¨æµè§ˆå™¨ä¸Šè®¿é—®ä½ çš„Hadoop</p>
<p>æ•ˆæœå›¾å¦‚ä¸‹</p>
<p><img src="https://pic1.zhimg.com/v2-a562c44a3df91441ca1fd4945fdcbc10_b.png" alt="img"></p>
<p>ä»¥åŠ</p>
<p><img src="https://pic3.zhimg.com/v2-335aaf433e9d3fdec8ef045419837fba_b.png" alt="img"></p>
<p><strong>ç»“è¯­</strong> </p>
<p>å› ä¸ºæˆ‘æ˜¯ä¸€åå¤§å››ç”Ÿç‰©ä¿¡æ¯çš„å­¦ç”Ÿï¼Œå¯¹äºè®¡ç®—æœºçš„è‡³å°‘æŒæ¡ä¸æ˜¯å…¨ï¼Œä¸€äº›tcp-ipåè®®ä¹‹ç±»çš„æŒ‡ä»¤æ²¡æœ‰æŒæ¡ï¼Œæ‰€ä»¥å¾ˆå¤šéƒ½æ˜¯ä¸€çŸ¥åŠè§£ï¼Œåªæ˜¯ç…§ç€æ•™ç¨‹ä¸€æ­¥æ­¥è£…ï¼Œè‹¥æœ‰é”™è¯¯ï¼Œè¯·å¤§å®¶æŒ‡å¯¼ã€‚</p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>tutorial</tag>
        <tag>cloud server</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜¿é‡Œäº‘Hadoopç¬¬äºŒå¼¹ï¼ˆè¿è¡ŒWordCountï¼‰</title>
    <url>/2021/01/26/%E9%98%BF%E9%87%8C%E4%BA%91Hadoop%E7%AC%AC%E4%BA%8C%E5%BC%B9%EF%BC%88%E8%BF%90%E8%A1%8CWordCount%EF%BC%89/</url>
    <content><![CDATA[<p>ä¹¦æ¥ä¸Šæ–‡</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/269047002" >lonerï¼šä»é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨å®‰è£…HadoopåŠç¯å¢ƒé…ç½®<i class="fas fa-external-link-alt"></i></a></p>
<p>é¦–å…ˆæ£€æŸ¥java ç¯å¢ƒå’ŒHadoop ç¯å¢ƒæ˜¯å¦é…ç½®å¦¥å½“, å¹¶ä¸”æ£€æŸ¥Hadoopæ˜¯å¦å·²ç»å¯åŠ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop version</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-bc60a5be51a0785a8340726cdb26419b_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-ea0b84eac9c4d56857a7f185622ef725_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jps</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-106a2381128b4ff82a48be073263819d_b.png" alt="img"></p>
<p>æœ¬æ–‡ç« ç”¨åˆ°çš„WordCountä½¿ç”¨è‡ªwebï¼Œjavaæ–‡ä»¶å¦‚æœ‰éœ€è¦è¯·åœ¨ä¸‹æ–¹è¿æ¥ä¸‹è½½ï¼ˆå¦‚æœ‰æœºä¼šï¼Œå¤§å®¶ç»™æˆ‘GitHubè´¦æˆ·ç‚¹ä¸ªå…³æ³¨ï¼Œè°¢è°¢ï¼‰ï¼ˆå¦‚æœæ˜¯xjtluçš„å°ä¼™ä¼´ï¼Œæš‚æ—¶ä¸è¦ç”¨è€å¸ˆç»™çš„wordcount.javaï¼Œå› ä¸ºåæ­£ä¸çŸ¥é“ä»€ä¹ˆåŸå› æˆ‘è¿™ä¸ªæ–¹æ³•å°±æ˜¯è¿è¡Œä¸å‡ºæ¥ï¼Œå¦‚æœåªæ˜¯éœ€è¦checkä¸€ä¸‹ä»–é…ç½®çš„å¥½ä¸å¥½ï¼Œå¯ä»¥ç›´æ¥æ‹¿æˆ‘è¿™ä¸ªç¡®å®šçš„å¯ä»¥æˆåŠŸçš„scriptæ¥è¯•ä¸€ä¸‹ï¼‰</p>
<p><a class="link"   href="https://github.com/yuxuanwu17/Hadoop/blob/main/WordCount_success.java" >https://github.com/yuxuanwu17/Hadoop/blob/main/WordCount_success.java<i class="fas fa-external-link-alt"></i></a></p>
<p>è¿™é‡Œæ¨èä¸€ä¸ªä¼ æ–‡ä»¶çš„å›¾å½¢åŒ–ç•Œé¢ï¼Œå¯ä»¥ç›´æ¥æ‹–æ‹½ï¼Œè¿™æ ·å°±ä¸ç”¨ç¹ççš„scpè¯­å¥</p>
<p>Windowsï¼š wincsp </p>
<p><a class="link"   href="https://winscp.net/eng/download.php" >https://winscp.net/eng/download.php<i class="fas fa-external-link-alt"></i></a></p>
<p>MAC: FileZilla  </p>
<p><a class="link"   href="https://filezilla-project.org/download.php?type=client" >Download FileZilla Client for Mac OS X<i class="fas fa-external-link-alt"></i></a></p>
<p>å¯¹ä¸Šè¿°ä¸¤appçš„å…·ä½“æ“ä½œå¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œä¸å†èµ˜è¿°</p>
<p>ä»¥ä¸‹ä»¥MACï¼šFileZilla ä¸ºä¾‹å­</p>
<p><img src="https://pic3.zhimg.com/v2-96269965d3602b37766b8ec2bff6f26a_b.png" alt="img"></p>
<p>å†è¿™å„¿è¾“å…¥ä½ çš„ä¸»æœºç”¨æˆ·åå’Œå¯†ç ï¼Œè¿™é‡Œé€šå¸¸ä»¥rootæƒé™æ¥æ“ä½œï¼Œç„¶åç«¯å£22ï¼ˆsshè¿æ¥ï¼‰</p>
<p>è¿æ¥æˆåŠŸåï¼Œè¿›å…¥å¦‚ä¸‹çš„ç•Œé¢</p>
<p><img src="https://pic3.zhimg.com/v2-84b3168e88338d3dc213a128f7c1a026_b.png" alt="img"></p>
<p>ç„¶åä½ å¯ä»¥åœ¨ä½ çš„è¿œç«¯æœåŠ¡å™¨ä¸Šå³é”®ï¼Œâ€œCreate Directoryâ€ï¼Œæˆ‘è¿™é‡Œé¢å«cwé‡Œé¢åŒ…å«ä¸¤ä¸ªå­æ–‡ä»¶ â€œinputdataâ€å’Œâ€œtutorial_classesâ€ï¼Œå¹¶ä¸”æŠŠä¹‹å‰æåˆ°çš„javaæ–‡ä»¶â€œWordCountâ€æ‹–å…¥åˆ°cwè¿™ä¸ªå­æ–‡ä»¶ä¸‹ï¼Œæ•ˆæœå›¾å¦‚ä¸‹ã€‚</p>
<p><img src="https://pic1.zhimg.com/v2-4d3cfa1b16960f8588e33f3b040c3548_b.png" alt="img"></p>
<p>è¿™å„¿çš„input_data éœ€è¦å­˜æ”¾ä½ ç­‰ä¼šéœ€è¦å¤„ç†çš„æ–‡ä»¶ï¼Œpg100æ˜¯æˆ‘ä»¬testçš„å¯¹è±¡</p>
<p><img src="https://pic1.zhimg.com/v2-108e735d3349cbda806a7fb50be210c8_b.png" alt="img"></p>
<p>æ¥ä¸‹æ¥é…ç½®Hadoopçš„è·¯å¾„ä¹‹ç±»çš„ï¼ŒåŒç†ï¼Œterminalæ‰“å¼€ï¼Œè¿›å…¥ä½ çš„é˜¿é‡Œäº‘æœåŠ¡å™¨</p>
<p>é…ç½®HADOOP_CLASSPATH ï¼ˆæ³¨æ„ï¼Œå¦‚æœæ˜¯å…³é—­åæ‰“å¼€ï¼Œè®°å¾—é‡æ–°è¿è¡Œä¸€ä¸‹è¿™è¡Œä»£ç ï¼ŒåŸå› æš‚æ—¶ä¸çŸ¥é“ï¼Œè‹¥æœ‰çŸ¥é“çš„è¯·è¯„è®ºåŒºå‘Šè¯‰å‘€ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export HADOOP_CLASSPATH&#x3D;$(hadoop classpath)</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶è¾“å‡ºä»¥ä¸‹HADOOP_CLASSPATH æ¥çœ‹ä¸€ä¸‹æ˜¯å¦æˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo $HADOOP_CLASSPATH</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-63dbc77d229db739c7c1ecf61b6bed76_b.png" alt="img"></p>
<p>è‹¥å‡ºç°å¦‚ä¸‹ç»“æœåˆ™è¯´æ˜ä¸€åˆ‡è¿è¡ŒæˆåŠŸ</p>
<p>æ¥ä¸‹æ¥åœ¨HDFSä¸Šåˆ›å»ºä¸€ä¸ªæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop fs -mkdir &#x2F;pg100</span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€ä½ çš„50070 ç«¯å£ï¼Œåœ¨å³ä¸Šè§’çš„Utilitiesé‡Œé¢çš„Browse the file systemå¯ä»¥æŸ¥çœ‹</p>
<p><img src="https://pic4.zhimg.com/v2-55f6f53ec031fe6e3d44410195c04693_b.png" alt="img"></p>
<p>å†åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œåˆ›å»ºä¸€ä¸ªå­æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop fs -mkdir &#x2F;pg100&#x2F;input</span><br></pre></td></tr></table></figure>
<p>ç„¶åä½ ç‚¹å…¥é‚£ä¸ªpg100ï¼Œå°±ä¼šå‘ç°æœ‰ä¸ªinputï¼Œæ­¤æ—¶é‡Œé¢æš‚æ—¶è¿˜æ²¡æœ‰æ–‡ä»¶</p>
<p><img src="https://pic1.zhimg.com/v2-f1e7f777fa5efcbb6651e230df6c4780_b.png" alt="img"></p>
<p>ä¸‹æ¥ä½ éœ€è¦uploadä½ çš„æ–‡ä»¶åˆ°inputåœ°å€ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop fs -put &#39;&#x2F;root&#x2F;cw&#x2F;input_data&#x2F;pg100.txt&#39; &#x2F;pg100&#x2F;input</span><br></pre></td></tr></table></figure>
<p>ç„¶åä½ å°±ä¼šå‘ç°å¦‚ä¸‹æƒ…å†µï¼Œè¯´æ˜å·²ç»ä¸Šä¼ æˆåŠŸäº†</p>
<p><img src="https://pic1.zhimg.com/v2-0a68b432563ddc0ad7f766e7d2caaff4_b.png" alt="img"></p>
<p>ä¸‹æ¥éœ€è¦åœ¨terminalè¿›å…¥ä½ çš„cwæ–‡ä»¶, æ¥è¿è¡Œä½ çš„java code ä»¥ä¸‹æ“ä½œéƒ½cwè·¯å¾„åº•ä¸‹æ“ä½œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd cw</span><br></pre></td></tr></table></figure>
<p>è¿›å…¥æˆåŠŸå</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">javac -classpath $&#123;HADOOP_CLASSPATH&#125; -d &#39;&#x2F;root&#x2F;cw&#x2F;tutorial_classes&#39; &#39;&#x2F;root&#x2F;cw&#x2F;WordCount.java&#39;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°çš„æ„æ€æ˜¯å°†java æ–‡ä»¶é‡Œçš„class compileåˆ°tutorial_classes</p>
<p>ç»“æœæ˜¯åœ¨è·¯å¾„åº•ä¸‹ä¼šå‡ºç°ä¸‰ä¸ªclassæ–‡ä»¶</p>
<p><img src="https://pic1.zhimg.com/v2-e9b12f0aa357d9b29482e2e4474fd9e8_b.png" alt="img"></p>
<p>ä¸‹æ¥éœ€è¦å°†outputå‡ºæ¥çš„ä¸‰ä¸ªæ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªjaræ–‡ä»¶é‡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jar -cvf firstTrial.jar -C tutorial_classes&#x2F; .</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-d9827900535428bb7c739d2f97cb00f7_b.png" alt="img"></p>
<p><img src="https://pic3.zhimg.com/v2-7dfb7f7667dd3c26cdb4d30013d42082_b.png" alt="img"></p>
<p>ä¸‹æ¥æ˜¯åœ¨Hadoopä¸Šè¿è¡Œjaræ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop jar &#39;&#x2F;root&#x2F;cw&#x2F;firstTrial.jar&#39; WordCount &#x2F;pg100&#x2F;input &#x2F;pg100&#x2F;output</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šä¸­é—´çš„WordCountæŒ‡çš„æ˜¯ä¹‹å‰é‚£ä¸ªjavaæ–‡ä»¶çš„Classåé¢ï¼Œæ³¨æ„ä¸‹é¢åªæ˜¯ä¸Šæ–‡çš„æ ¼å¼ï¼Œä¸ç”¨è¿è¡Œï¼ï¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop jar &lt;jar_file&gt; &lt;class_name&gt; &lt;HDFS_input_directory&gt; &lt;HDFS_output_directory&gt;</span><br></pre></td></tr></table></figure>
<p>ç»“æœ</p>
<p><img src="https://pic3.zhimg.com/v2-5e6f74dafefc6178e7455b7a919456b6_b.png" alt="img"></p>
<p>å¯ä»¥æŸ¥çœ‹outputï¼Œâ€œ| headâ€ æ˜¯ä¸ºäº†æŸ¥çœ‹å‰å‡ ä¸ªï¼Œè¿™ä¸ªsampleçš„ä¸ªæ•°æ¯”è¾ƒå¤§ï¼Œä¸é€‚å®œå…¨éƒ¨å±•å¼€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop dfs -cat &#x2F;pg100&#x2F;output&#x2F;* | head</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå›¾</p>
<p><img src="https://pic2.zhimg.com/v2-79965028669722decc012e514f918c35_b.png" alt="img"></p>
<p>å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæŒ‡å‡ºå‘€ï¼Œå†™æ–‡ä»¶ä¸å®¹æ˜“ï¼Œæ±‚ç‚¹èµ</p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>cloud server</tag>
      </tags>
  </entry>
  <entry>
    <title>Hadoop åœ¨macæœ¬åœ°çš„é…ç½®</title>
    <url>/2021/01/26/Hadoop-%E5%9C%A8mac%E6%9C%AC%E5%9C%B0%E7%9A%84%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p><a class="link"   href="https://zhuanlan.zhihu.com/p/269047002" >lonerï¼šä»é˜¿é‡Œäº‘è½»é‡æœåŠ¡å™¨å®‰è£…HadoopåŠç¯å¢ƒé…ç½®<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/271772216" >lonerï¼šé˜¿é‡Œäº‘Hadoopç¬¬äºŒå¼¹ï¼ˆè¿è¡ŒWordCountï¼‰<i class="fas fa-external-link-alt"></i></a></p>
<p>ä¹‹å‰åœ¨é˜¿é‡Œäº‘ä¸Šçš„æ¡ˆä¾‹æˆ‘æˆåŠŸè¿è¡Œäº†wordcountã€‚ä½†æ˜¯è€ƒè™‘åˆ°å®é™…çš„ç¼–ç¨‹ï¼Œåœ¨é˜¿é‡Œäº‘ä¸Šçš„å¯è§†åŒ–ç•Œé¢æ˜¾å¾—æœ‰äº›è‰°éš¾ï¼Œæ›´ä¸è¦æeclipseç•Œé¢æœ‰ç‚¹ä¸‘ã€‚æˆ‘è§‰å¾—è¿˜æ˜¯ç”¨jetbrainå…¬å¸çš„IDEAæ¥å¼€å‘ï¼Œè¿™å„¿å­¦ç”Ÿå¯ä»¥å…è´¹ä½¿ç”¨ä¸“ä¸šç‰ˆï¼Œå¦‚æœæœ‰éœ€è¦å¯ä»¥è‡ªè¡Œä¸‹è½½ã€‚ä¸»è¦æ˜¯æœ‰å¤§æ•°æ®å·¥å…·çš„æ’ä»¶Hadoopï¼Œç„¶åå°±å¼€å§‹æˆ‘ä¸€ä¸ªç¤¼æ‹œçš„æ£é¼“ï¼Œç„¶åå‘ç°å¥½åƒé˜¿é‡Œäº‘çš„9000ç«¯å£å¥½åƒæ— æ³•æ‰“å¼€ï¼ˆç½‘ä¸Šè¯´ä»€ä¹ˆå†…ç½‘çš„åŸå› ï¼Œæ‰€ä»¥åœ¨Hadoopä¸Šé“¾æ¥ä¸ä¸Šï¼‰äºæ˜¯å¶ç„¶å‘ç°macåœ¨æœ¬åœ°é…ç½®çš„æ•™ç¨‹ï¼Œå°±æ­¤æ±‡æ€»ä¸€ä¸‹ã€‚</p>
<p><strong>Javaçš„å®‰è£…</strong></p>
<p>ä¸å†èµ˜è¿°ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šçš„æ•™ç¨‹ï¼Œåœ¨ä¿è¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java -version </span><br></pre></td></tr></table></figure>
<p>å¯ä»¥è¾“å‡ºå¦‚ä¸‹ç•Œé¢ï¼Œåˆ™æˆ‘ä»¬å¼€å§‹Hadoopçš„é…ç½®</p>
<p><img src="https://pic3.zhimg.com/v2-d0a5d1671f8e707705db4068ed2c3b36_b.png" alt="img"></p>
<p><strong>ä¸‹è½½Hadoopçš„åŸå§‹ä»£ç </strong></p>
<p>æœ¬æ–‡ç« å…¨ç¨‹ä»¥hadoop-2.9.2ä¸ºä¾‹å­ï¼Œåœ¨ä¸‹é¢çš„é“¾æ¥ä¸­ä¸‹è½½hadoop-2.9.2.tar.gz æ—¢å¯ä»¥</p>
<p>Index of /dist/hadoop/core/hadoop-2.9.2archive.apache.org</p>
<p>è§£å‹åˆ°æœ¬åœ°çš„ç›®å½•ä¸‹é¢</p>
<p><strong>æ·»åŠ Hadoopçš„ç¯å¢ƒå˜é‡</strong></p>
<p>è¿™å„¿æˆ‘ä»¬éœ€è¦ç”¨vimä¿®æ”¹ ~/.bash_profile</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim ~&#x2F;.bash_profile</span><br></pre></td></tr></table></figure>
<p>åœ¨æœ€ä¸‹é¢æ·»åŠ è¿™å‡ è¡Œä»£ç ï¼Œç¼–è¾‘å®Œæˆå:wqé€€å‡º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export HADOOP_HOME&#x3D;&#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2</span><br><span class="line">export CLASSPATH&#x3D;$($HADOOP_HOME&#x2F;bin&#x2F;hadoop classpath):$CLASSPATH</span><br><span class="line">export HADOOP_COMMON_LIB_NATIVE_DIR&#x3D;$HADOOP_HOME&#x2F;lib&#x2F;native</span><br><span class="line">export PATH&#x3D;$PATH:$HADOOP_HOME&#x2F;bin</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-930eafe5cc710ad971b5117743db5a01_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source ~&#x2F;.bash_profile</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œä¿å­˜ä¿®æ”¹ï¼Œç„¶åç”¨hadoop version æŸ¥çœ‹Hadoopæ˜¯å¦é…ç½®æˆåŠŸï¼Œè‹¥å¦‚ä¸‹ç•Œé¢åˆ™æˆåŠŸ</p>
<p><img src="https://pic1.zhimg.com/v2-ee20ec242e386db002380dcb72867920_b.png" alt="img"></p>
<p><strong>ä¿®æ”¹Hadoopçš„é…ç½®æ–‡ä»¶(å¦‚ä¸‹æ“ä½œéƒ½éœ€è¦cdåˆ°Hadoopè§£å‹çš„ç¯å¢ƒæ¥æ“ä½œ)</strong></p>
<p><strong>è¿™äº›é…ç½®æ–‡ä»¶éƒ½ä¿å­˜åœ¨hadoop-2.9.2/etc/hadoop/è·¯å¾„ä¸‹</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2&#x2F;etc&#x2F;hadoop&#x2F;</span><br></pre></td></tr></table></figure>
<ol>
<li><a class="link"   href="http://hadoop-env.sh/" >hadoop-env.sh<i class="fas fa-external-link-alt"></i></a></li>
</ol>
<p>ç”¨vimæ‰“å¼€ååœ¨JAVA_HOME å’Œ HADOOP_CONF_DIRå’ŒHADOOP_HOME æ¥è¿›è¡Œä¿®æ”¹,è¿™äº›åˆ†åˆ«å¯¹åº”ç€æœ¬åœ°å„è‡ªçš„ç›®å½•</p>
<p><img src="https://pic4.zhimg.com/v2-94f2b2349ea9e6c2702503234f4693a7_b.png" alt="img"></p>
<p>\2. core_site.xml </p>
<p><img src="https://pic2.zhimg.com/v2-53c0b5f20163d17f1ec17df2aba54361_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">    &lt;name&gt;fs.defaultFS&lt;&#x2F;name&gt;</span><br><span class="line">    &lt;value&gt;hdfs:&#x2F;&#x2F;localhost:9000&lt;&#x2F;value&gt;</span><br><span class="line">  &lt;&#x2F;property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--ç”¨æ¥æŒ‡å®šhadoopè¿è¡Œæ—¶äº§ç”Ÿæ–‡ä»¶çš„å­˜æ”¾ç›®å½•  è‡ªå·±åˆ›å»º--&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;hadoop.tmp.dir&lt;&#x2F;name&gt;</span><br><span class="line">    &lt;value&gt;&#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2&#x2F;tmp&lt;&#x2F;value&gt;</span><br><span class="line">  &lt;&#x2F;property&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;configuration&gt;</span><br></pre></td></tr></table></figure>
<p>\3. ä¿®æ”¹hdfs-site.xml</p>
<p><img src="https://pic2.zhimg.com/v2-e604bbc1c67dbf33d1362ce2e607ada5_b.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">                &lt;name&gt;dfs.replication&lt;&#x2F;name&gt;</span><br><span class="line">                &lt;value&gt;1&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line">        &lt;!--ä¸æ˜¯rootç”¨æˆ·ä¹Ÿå¯ä»¥å†™æ–‡ä»¶åˆ°hdfs--&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">                &lt;name&gt;dfs.permissions&lt;&#x2F;name&gt;</span><br><span class="line">                &lt;value&gt;false&lt;&#x2F;value&gt;    &lt;!--å…³é—­é˜²ç«å¢™--&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line">        &lt;!--æŠŠè·¯å¾„æ¢æˆæœ¬åœ°çš„nameååœ¨ä½ç½®--&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">                &lt;name&gt;dfs.namenode.name.dir&lt;&#x2F;name&gt;</span><br><span class="line">                &lt;value&gt;&#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2&#x2F;tmp&#x2F;dfs&#x2F;name&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line">        &lt;!--åœ¨æœ¬åœ°æ–°å»ºä¸€ä¸ªå­˜æ”¾hadoopæ•°æ®çš„æ–‡ä»¶å¤¹ï¼Œç„¶åå°†è·¯å¾„åœ¨è¿™é‡Œé…ç½®ä¸€ä¸‹--&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">                &lt;name&gt;dfs.datanode.data.dir&lt;&#x2F;name&gt;</span><br><span class="line">                &lt;value&gt;&#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2&#x2F;tmp&#x2F;dfs&#x2F;data&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;configuration&gt;</span><br></pre></td></tr></table></figure>
<p><strong>å¯åŠ¨Hadoop</strong></p>
<ol>
<li><strong>NameNode</strong></li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hadoop namenode -format</span><br></pre></td></tr></table></figure>
<p><strong>2. HDFS</strong></p>
<p><strong>é¦–å…ˆå…ˆè¿›å…¥åˆ°sbinç›®å½•</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;Users&#x2F;yuxuan&#x2F;hadoop-2.9.2&#x2F;sbin&#x2F;</span><br></pre></td></tr></table></figure>
<p><strong>å¯åŠ¨HDFS</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;start-dfs.sh</span><br></pre></td></tr></table></figure>
<p>è‹¥æˆåŠŸäº†ï¼Œéœ€è¦è¾“å…¥ä¸‰æ¬¡å¯†ç </p>
<p>è‹¥å¤±è´¥ï¼Œåˆ™æ£€æŸ¥macç³»ç»Ÿçš„è¿œç¨‹ç™»é™†çš„è®¸å¯æ˜¯å¦æ‰“å¼€</p>
<p><img src="https://pic2.zhimg.com/v2-81822aef74c93d30d0922e6418988df5_b.png" alt="img"></p>
<p><img src="https://pic4.zhimg.com/v2-3dfdcfacb09068a89b21bdb0fb8bfc73_b.png" alt="img"></p>
<p>ç¡®ä¿ç•Œé¢å‘ˆç°è¿™æ ·</p>
<p><strong>3. å¯åŠ¨yarn</strong></p>
<p><strong>è¿˜æ˜¯è¿›å…¥sbinç›®å½•</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;start-yarn.sh</span><br></pre></td></tr></table></figure>
<p><strong>4. jpsæ£€æŸ¥</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jps </span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-e769560739e1e9e5b1d4d9ab625a1c38_b.png" alt="img"></p>
<p>è‹¥å‡ºç°ä¸Šè¿°ç•Œé¢åˆ™é…ç½®æˆåŠŸäº†</p>
<p>ç„¶åå¯ä»¥åœ¨æµè§ˆå™¨é‡ŒéªŒè¯(50070,8088)</p>
<p><a class="link"   href="http://localhost:50070/dfshealth.html#tab-overview" >http://localhost:50070/dfshealth.html#tab-overview<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="http://localhost:8088/cluster" >http://localhost:8088/cluster<i class="fas fa-external-link-alt"></i></a></p>
<p><img src="https://pic2.zhimg.com/v2-cd6f142d46fe05e5de300617bfd95451_b.png" alt="img"></p>
<p><img src="https://pic1.zhimg.com/v2-159a137c51c6c512abfdf60574fec7d0_b.png" alt="img"></p>
<p>åè®°ï¼š</p>
<p>å¦‚æœéš”äº†å‡ å¤©æ²¡æœ‰æ‰“å¼€Hadoopï¼Œæˆ–è€…ä½ çš„ç”µè„‘é‡å¯äº†ï¼Œåæ­£å°±æ˜¯jpsä¸Šå‡ºç°ä¸äº†é‚£å‡ ä¸ªç©æ„ï¼Œæˆ–è€…ä½ çš„æµè§ˆå™¨é¡µé¢æ‰“ä¸å¼€ï¼Œè¯·ä¸¥æ ¼éµç…§Hadoopå¯åŠ¨åçš„ä»£ç ï¼Œæ¯”å¦‚è¿›å…¥Hadoopçš„sbinç•Œé¢ä¹‹ç±»çš„ï¼Œç„¶åä¾æ¬¡æ“ä½œï¼Œäºæ˜¯å°±èƒ½é‡æ–°æ‰“å¼€Hadoopçš„ç•Œé¢äº†</p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>tutorial</tag>
        <tag>macOS</tag>
      </tags>
  </entry>
  <entry>
    <title>Heart failure detection by SVM-based machine learning model</title>
    <url>/2021/01/24/YuxuanWu-1716309-INT305-Report/</url>
    <content><![CDATA[<p>Cardiovascular diseases (CVDs) are the number 1 cause of death globally, taking an estimated 17.9 million lives each year, which accounts for 31% of all deaths worlwide.<br>Heart failure is a common event caused by CVDs.</p>
<p>Most cardiovascular diseases can be prevented by addressing behavioural risk factors such as tobacco use, unhealthy diet and obesity, physical inactivity and harmful use of alcohol using population-wide strategies.</p>
<p>People with cardiovascular disease or who are at high cardiovascular risk (due to the presence of one or more risk factors such as hypertension, diabetes, hyperlipidaemia or already established disease) need early detection and management wherein a machine learning model can be of great help.</p>
<h3 id="Project-description-overview"><a href="#Project-description-overview" class="headerlink" title="Project description (overview)"></a>Project description (overview)</h3><p>The input to our predictor is is a medical dataset which contains 12 features that can be used to predict mortality by heart failure.</p>
<ol>
<li>Data exploration<ul>
<li>Principle Components Analysis (PCA) to reduce the dimension of features to have a view of the input data distribution</li>
<li>Build a preliminary linear SVM model to incorporate all the features to see the model performance.</li>
</ul>
</li>
<li>Feature selection part.<ul>
<li>Chi-square test to check the correlation between each categorical feature and the target death event.</li>
<li>Heat map to return the features with high correlation coefficient with death events.</li>
<li>Visualized the each featureâ€™s contribution significance in the SVM model</li>
<li>Compared the returned features and determined the final selected features</li>
</ul>
</li>
<li>Model comparison and hyperparameter tuning<ul>
<li>compare the performance in difference preprocessing methods MinMaxScalar, StandardScalar, RobustScalar</li>
<li>compare the performance in k-fold cross validation and leave-one-out methods</li>
<li>compare the kernel selected in Support Vector Machine (linear or rbf)</li>
<li>grid search to find the best performance model</li>
</ul>
</li>
<li>Selected model performance<ul>
<li>calculated the precision, recall, accuracy and f1-score</li>
<li>plot the ROC and PR-curve</li>
<li>plot the learning curve</li>
</ul>
</li>
</ol>
<hr>
<h2 id="Related-work"><a href="#Related-work" class="headerlink" title="Related work"></a>Related work</h2><h3 id="Explorative-data-analysis-EDA-approach"><a href="#Explorative-data-analysis-EDA-approach" class="headerlink" title="Explorative data analysis (EDA) approach"></a>Explorative data analysis (EDA) approach</h3><ol>
<li><a class="link"   href="https://www.kaggle.com/nayansakhiya/heart-fail-analysis-and-quick-prediction" >heart-fail-analysis-and-quick-prediction<i class="fas fa-external-link-alt"></i></a></li>
</ol>
<p><strong>Strength</strong>: Detailed explorative and associative data analysis with great data visualization: each factor is visualized by different types of figures <br><br><strong>Weakness</strong>: Prediction model are quite rudimentary, the author did not select the features and tune the modelsâ€™ hyperparameters.<br><br><strong>Similarity</strong>: I learned and applied the plotly.express API to create fancy and concise figures for easy comparison; I furthered his rudimentary model by optimization</p>
<h3 id="Predictive-data-analysis-PDA-approach"><a href="#Predictive-data-analysis-PDA-approach" class="headerlink" title="Predictive data analysis (PDA) approach"></a>Predictive data analysis (PDA) approach</h3><ol>
<li><a class="link"   href="https://www.kaggle.com/rude009/heart-failure-model-prediction-comparisons-95" >heart-failure-model-prediction-comparisons-95<i class="fas fa-external-link-alt"></i></a></li>
</ol>
<p><strong>Strength</strong>: The author compares six prediction models with feature selection. The Extra Gradient Booster Classifier could achieve the accuracy up to 95.0% <br><br><strong>Weakness</strong>: The author consider the â€œtimeâ€ column as the useful features. <br><br><strong>Similarity</strong>: I donâ€™t think â€œtimeâ€ colume should be included since â€œtimeâ€ column stands for Follow-up period (days), which means itself could not contribute the diseases itself. Therefore, I consider this feature as uselessness in our prediction model</p>
<ol start="2">
<li><a class="link"   href="https://www.kaggle.com/ksvmuralidhar/heart-failure-prediction-auc-0-98" >heart-failure-prediction-auc-0-98<i class="fas fa-external-link-alt"></i></a></li>
</ol>
<p><strong>Strength</strong>: The author uses a new method: Chi-square test to find the correlation between single categorical feature with target death_event <br><br><strong>Weakness</strong>: The visualization part does not as fancy as previous work <br><br><strong>Similarity</strong>: I learned and used the Chi-square test to conduct the correlation test between single categorical data with the categorical death_event; but i didnâ€™t agree the authorâ€™s method in using box plot comparison between numerical data with categorical data, I used heat map instead.</p>
<hr>
<h2 id="Data-download"><a href="#Data-download" class="headerlink" title="Data download"></a>Data download</h2><p>You could simply download the data from my own Github repository: <a class="link"   href="https://media.githubusercontent.com/media/yuxuanwu17/kaggle/main/heart_failure_clinical_records_dataset.csv" >https://media.githubusercontent.com/media/yuxuanwu17/kaggle/main/heart_failure_clinical_records_dataset.csv<i class="fas fa-external-link-alt"></i></a></p>
<p>You could also download the data from kaggleï¼š<br><a class="link"   href="https://www.kaggle.com/andrewmvd/heart-failure-clinical-data" >https://www.kaggle.com/andrewmvd/heart-failure-clinical-data<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="Libraries-used-in-this-project"><a href="#Libraries-used-in-this-project" class="headerlink" title="Libraries used in this project"></a>Libraries used in this project</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> LinearSVC</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split, cross_val_score, LeaveOneOut,GridSearchCV</span><br><span class="line"><span class="keyword">from</span> sklearn.pipeline <span class="keyword">import</span> Pipeline</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> MinMaxScaler, StandardScaler, RobustScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score, mean_squared_error</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> confusion_matrix, plot_confusion_matrix, plot_roc_curve, plot_precision_recall_curve, classification_report</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> chi2_contingency</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sn</span><br><span class="line"><span class="keyword">import</span> plotly.express <span class="keyword">as</span> px</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Problem-formulation"><a href="#Problem-formulation" class="headerlink" title="Problem formulation"></a>Problem formulation</h2><h3 id="Return-the-head-of-dataset-a-overview-of-inside-components"><a href="#Return-the-head-of-dataset-a-overview-of-inside-components" class="headerlink" title="Return the head of dataset (a overview of inside components)"></a>Return the head of dataset (a overview of inside components)</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># df = pd.read_csv(&quot;/home/yuxuan/kaggle/heart_failure_clinical_records_dataset.csv&quot;)</span></span><br><span class="line">df = pd.read_csv(<span class="string">&quot;/Users/yuxuan/Desktop/kaggle/heart_failure_clinical_records_dataset.csv&quot;</span>)</span><br><span class="line"><span class="comment"># df = pd.read_csv(&quot;../input/heart-failure-clinical-data/heart_failure_clinical_records_dataset.csv&quot;)</span></span><br><span class="line">heart_data = df.copy()</span><br><span class="line">heart_data.head()</span><br></pre></td></tr></table></figure>



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>anaemia</th>
      <th>creatinine_phosphokinase</th>
      <th>diabetes</th>
      <th>ejection_fraction</th>
      <th>high_blood_pressure</th>
      <th>platelets</th>
      <th>serum_creatinine</th>
      <th>serum_sodium</th>
      <th>sex</th>
      <th>smoking</th>
      <th>time</th>
      <th>DEATH_EVENT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>75.0</td>
      <td>0</td>
      <td>582</td>
      <td>0</td>
      <td>20</td>
      <td>1</td>
      <td>265000.00</td>
      <td>1.9</td>
      <td>130</td>
      <td>1</td>
      <td>0</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>55.0</td>
      <td>0</td>
      <td>7861</td>
      <td>0</td>
      <td>38</td>
      <td>0</td>
      <td>263358.03</td>
      <td>1.1</td>
      <td>136</td>
      <td>1</td>
      <td>0</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>65.0</td>
      <td>0</td>
      <td>146</td>
      <td>0</td>
      <td>20</td>
      <td>0</td>
      <td>162000.00</td>
      <td>1.3</td>
      <td>129</td>
      <td>1</td>
      <td>1</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>50.0</td>
      <td>1</td>
      <td>111</td>
      <td>0</td>
      <td>20</td>
      <td>0</td>
      <td>210000.00</td>
      <td>1.9</td>
      <td>137</td>
      <td>1</td>
      <td>0</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>65.0</td>
      <td>1</td>
      <td>160</td>
      <td>1</td>
      <td>20</td>
      <td>0</td>
      <td>327000.00</td>
      <td>2.7</td>
      <td>116</td>
      <td>0</td>
      <td>0</td>
      <td>8</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="Print-the-size-of-the-dataset"><a href="#Print-the-size-of-the-dataset" class="headerlink" title="Print the size of the dataset"></a>Print the size of the dataset</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(heart_data.shape)</span><br></pre></td></tr></table></figure>
<pre><code>(299, 13)</code></pre>
<h3 id="Check-the-ratio-of-the-NaNs-for-each-column"><a href="#Check-the-ratio-of-the-NaNs-for-each-column" class="headerlink" title="Check the ratio of the NaNs for each column"></a>Check the ratio of the NaNs for each column</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> col <span class="keyword">in</span> heart_data.columns:</span><br><span class="line">    print(col, <span class="built_in">str</span>(<span class="built_in">round</span>(<span class="number">100</span>* heart_data[col].isnull().<span class="built_in">sum</span>() / <span class="built_in">len</span>(heart_data), <span class="number">2</span>)) + <span class="string">&#x27;%&#x27;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>age 0.0%
anaemia 0.0%
creatinine_phosphokinase 0.0%
diabetes 0.0%
ejection_fraction 0.0%
high_blood_pressure 0.0%
platelets 0.0%
serum_creatinine 0.0%
serum_sodium 0.0%
sex 0.0%
smoking 0.0%
time 0.0%
DEATH_EVENT 0.0%</code></pre>
<hr>
<h3 id="Dataset-description"><a href="#Dataset-description" class="headerlink" title="Dataset description"></a>Dataset description</h3><p>There are 13 dimensions and 299 samples. All the columns are devoid of NaNs. We need make some rules before the data processingã€‚</p>
<p>Target features (binary classification): DEATH_EVENT</p>
<p><strong>Categorical data</strong></p>
<ul>
<li>Sex - Gender of patient Male = 1, Female =0</li>
<li>Diabetes - 0 = No, 1 = Yes</li>
<li>Anaemia - 0 = No, 1 = Yes</li>
<li>High_blood_pressure - 0 = No, 1 = Yes</li>
<li>Smoking - 0 = No, 1 = Yes</li>
<li>DEATH_EVENT - 0 = No, 1 = Yes</li>
</ul>
<p><strong>Numerical data</strong></p>
<ul>
<li>Age - Age of patient</li>
<li>creatinine_phosphokinase - Level of the CPK enzyme in the blood (mcg/L)</li>
<li>ejection_fraction - Percentage of blood leaving the heart at each contraction (percentage)</li>
<li>platelets - Platelets in the blood (kiloplatelets/mL)</li>
<li>serum_creatinine - Level of serum creatinine in the blood (mg/dL)</li>
<li>serum_sodium - Level of serum sodium in the blood (mEq/L)</li>
<li>time - Follow-up period (days)</li>
</ul>
<h3 id="Citation-or-Reference"><a href="#Citation-or-Reference" class="headerlink" title="Citation or Reference"></a>Citation or Reference</h3><p>Dataset from Davide Chicco, Giuseppe Jurman: Machine learning can predict survival of patients with heart failure from serum creatinine and ejection fraction alone. BMC Medical Informatics and Decision Making 20, 16 (2020)</p>
<p>The dataset downloaded from Kaggle <a class="link"   href="https://www.kaggle.com/andrewmvd/heart-failure-clinical-data" >https://www.kaggle.com/andrewmvd/heart-failure-clinical-data<i class="fas fa-external-link-alt"></i></a></p>
<hr>
<h3 id="Principle-components-analysis"><a href="#Principle-components-analysis" class="headerlink" title="Principle components analysis"></a>Principle components analysis</h3><p>Reduce the dimensions and return the sample distribution</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line">X = heart_data.iloc[:,<span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">X = StandardScaler().fit_transform(X)</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line">pca.fit(X)</span><br><span class="line">X_pca = pca.transform(X)</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">8</span>,<span class="number">8</span>))</span><br><span class="line">plt.scatter(X_pca[y==<span class="number">0</span>,<span class="number">0</span>],X_pca[y==<span class="number">0</span>,<span class="number">1</span>],label=<span class="string">&quot;Alive&quot;</span>,c=<span class="string">&quot;red&quot;</span>)</span><br><span class="line">plt.scatter(X_pca[y==<span class="number">1</span>,<span class="number">0</span>],X_pca[y==<span class="number">1</span>,<span class="number">1</span>],label=<span class="string">&quot;Death&quot;</span>,c=<span class="string">&quot;black&quot;</span>)</span><br><span class="line">plt.legend([<span class="string">&quot;Alive&quot;</span>,<span class="string">&quot;Death&quot;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_16_1.5uoi1jp366o0.png" alt="output_16_1"></p>
<p>I would like to have a view of the sample distribution in the dataset. Therefore, I used the principle component analysis (PCA) to reduce the dimension of features into 2D for visualization. The figure suggested that the data are densed and not easy to seperate (either linear or non-linear model), indicating the existence of insignificant feature which could negatively influence the future prediction accuracy.</p>
<hr>
<h3 id="Correlation-analysis"><a href="#Correlation-analysis" class="headerlink" title="Correlation analysis"></a>Correlation analysis</h3><p>I would like to find the correlation between each feature, especially with the target variable: DEATH_EVENT.<br>In this case, I excluded the column â€œtimeâ€ since the time tracked could not contribute to the heart failure itself.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sn</span><br><span class="line">heart_data = heart_data.drop([<span class="string">&#x27;time&#x27;</span>],axis=<span class="number">1</span>)</span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>,<span class="number">12</span>))</span><br><span class="line">sn.heatmap(heart_data.corr(),vmin=-<span class="number">1</span>,cmap=<span class="string">&#x27;coolwarm&#x27;</span>,annot=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_19_1.1ne10klgnr1.png" alt="output_19_1"></p>
<h3 id="Data-partition"><a href="#Data-partition" class="headerlink" title="Data partition"></a>Data partition</h3><ul>
<li>As I mentioned before, I will not take the feature â€œtimeâ€ into consideration. Therefore, 11 features are included in the final model prediction.</li>
<li>I split the dataset into two categories. 80% for raining data and 20% for testing data.</li>
<li>I used the StandardScalar normalization method to preprocess the data</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line">X = heart_data.iloc[:,<span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">X = StandardScaler().fit_transform(X)</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X,y,test_size=<span class="number">0.2</span>,random_state=<span class="number">2</span>)</span><br><span class="line">print(<span class="string">&quot;The number of training sample is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(X_train.shape[<span class="number">0</span>]))</span><br><span class="line">print(<span class="string">&quot;The number of testing sample is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(X_test.shape[<span class="number">0</span>]))</span><br></pre></td></tr></table></figure>
<pre><code>The number of training sample is 239
The number of testing sample is 60</code></pre>
<h3 id="Feature-selection-feature-engineering"><a href="#Feature-selection-feature-engineering" class="headerlink" title="Feature selection (feature engineering)"></a>Feature selection (feature engineering)</h3><p><strong>Method 1: Chi-square test</strong></p>
<ul>
<li>Based on previous research, I could conclude that DEATH_EVENT is our target. Since I have six categorical data I would like to figure out whether these single categorical valuable has significant correlation with the DEATH_EVENT.<br></li>
<li>Crosstables/contingency tables are one of the best ways to see how categorical variables are distributed among each other.</li>
<li>The following test suggests that we failed to reject the $H_0$ problem, indicating that there is no direct relationship between the DEATH_EVENT</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> chi2_contingency</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">heart_data = df.copy()</span><br><span class="line">cat_features = [<span class="string">&quot;anaemia&quot;</span>,<span class="string">&quot;diabetes&quot;</span>,<span class="string">&quot;high_blood_pressure&quot;</span>,<span class="string">&quot;sex&quot;</span>,<span class="string">&quot;smoking&quot;</span>,<span class="string">&quot;DEATH_EVENT&quot;</span>]</span><br><span class="line">num_features = pd.Series(heart_data.columns)</span><br><span class="line">num_features = num_features[~num_features.isin(cat_features)]</span><br><span class="line">num_features</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> cat_features:</span><br><span class="line">    ct = pd.crosstab(columns=heart_data[i],index=heart_data[<span class="string">&quot;DEATH_EVENT&quot;</span>])</span><br><span class="line">    stat, p, dof, expected = chi2_contingency(ct)</span><br><span class="line">    print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;-&#x27;</span>*<span class="built_in">len</span>(<span class="string">&#x27;CROSSTAB BETWEEN &#123;&#125; &amp; DEATH_EVENT&#x27;</span>.<span class="built_in">format</span>(i.upper())))</span><br><span class="line">    print(<span class="string">&quot;CROSSTAB BETWEEN &#123;&#125; &amp; DEATH_EVENT&quot;</span>.<span class="built_in">format</span>(i.upper()))</span><br><span class="line">    print(<span class="string">&#x27;-&#x27;</span>*<span class="built_in">len</span>(<span class="string">&#x27;CROSSTAB BETWEEN &#123;&#125; &amp; DEATH_EVENT&#x27;</span>.<span class="built_in">format</span>(i.upper())))</span><br><span class="line">    print(ct)</span><br><span class="line">    print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    print(<span class="string">&quot;H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; &#123;&#125; \nH1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(i.upper(),i.upper()))</span><br><span class="line">    print(<span class="string">&quot;\nP-VALUE: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(np.<span class="built_in">round</span>(p,<span class="number">2</span>)))</span><br><span class="line">    print(<span class="string">&quot;REJECT H0&quot;</span> <span class="keyword">if</span> p&lt;<span class="number">0.05</span> <span class="keyword">else</span> <span class="string">&quot;FAILED TO REJECT H0&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    CROSSTAB BETWEEN ANAEMIA &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    anaemia        0   1<br>â€‹    DEATH_EVENT<br>â€‹    0            120  83<br>â€‹    1             50  46</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; ANAEMIA<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; ANAEMIA<br>â€‹<br>    P-VALUE: 0.31<br>    FAILED TO REJECT H0</p>
<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>â€‹    CROSSTAB BETWEEN DIABETES &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>â€‹    diabetes       0   1<br>â€‹    DEATH_EVENT<br>â€‹    0            118  85<br>â€‹    1             56  40</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; DIABETES<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; DIABETES<br>â€‹<br>    P-VALUE: 0.93<br>    FAILED TO REJECT H0</p>
<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    CROSSTAB BETWEEN HIGH_BLOOD_PRESSURE &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    high_blood_pressure    0   1<br>â€‹    DEATH_EVENT<br>â€‹    0                    137  66<br>â€‹    1                     57  39</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; HIGH_BLOOD_PRESSURE<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; HIGH_BLOOD_PRESSURE<br>â€‹<br>    P-VALUE: 0.21<br>    FAILED TO REJECT H0</p>
<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-<br>â€‹    CROSSTAB BETWEEN SEX &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-<br>â€‹    sex           0    1<br>â€‹    DEATH_EVENT<br>â€‹    0            71  132<br>â€‹    1            34   62</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; SEX<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; SEX<br>â€‹<br>    P-VALUE: 0.96<br>    FAILED TO REJECT H0</p>
<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    CROSSTAB BETWEEN SMOKING &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“<br>â€‹    smoking        0   1<br>â€‹    DEATH_EVENT<br>â€‹    0            137  66<br>â€‹    1             66  30</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; SMOKING<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; SMOKING<br>â€‹<br>    P-VALUE: 0.93<br>    FAILED TO REJECT H0</p>
<p>â€‹<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>â€‹    CROSSTAB BETWEEN DEATH_EVENT &amp; DEATH_EVENT<br>â€‹    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>â€‹    DEATH_EVENT    0   1<br>â€‹    DEATH_EVENT<br>â€‹    0            203   0<br>â€‹    1              0  96</p>
<p>â€‹<br>â€‹    H0: THERE IS NO RELATIONSHIP BETWEEN DEATH_EVENT &amp; DEATH_EVENT<br>â€‹    H1: THERE IS RELATIONSHIP BETWEEN DEATH_EVENT &amp; DEATH_EVENT<br>â€‹<br>    P-VALUE: 0.0<br>    REJECT H0</p>
<p><strong>Method 2: correlation analysis</strong></p>
<ul>
<li>Use correlation coefficient &gt; 0.1 with death event</li>
<li>This method is applicable for both categorical data and numerical data</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">feature_corr = heart_data.corr()</span><br><span class="line">feature_corr[<span class="built_in">abs</span>(feature_corr[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]) &gt; <span class="number">0.1</span>][<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<pre><code>age                  0.253729
ejection_fraction   -0.268603
serum_creatinine     0.294278
serum_sodium        -0.195204
time                -0.526964
DEATH_EVENT          1.000000
Name: DEATH_EVENT, dtype: float64</code></pre>
<p><strong>Method 3: Visualized plots of feature importance in linear SVM</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature_plot</span>(<span class="params">classifier, feature_names, top_features=<span class="number">5</span></span>):</span></span><br><span class="line">    coef = classifier.coef_.ravel()</span><br><span class="line">    top_positive_coefficients = np.argsort(coef)[-top_features:]</span><br><span class="line">    top_negative_coefficients = np.argsort(coef)[:top_features]</span><br><span class="line">    middle_coefficient = np.argsort(coef)[top_features]</span><br><span class="line">    top_coefficients = np.hstack([top_negative_coefficients, middle_coefficient, top_positive_coefficients])</span><br><span class="line">    plt.figure(figsize=(<span class="number">18</span>, <span class="number">7</span>))</span><br><span class="line">    colors = [<span class="string">&#x27;green&#x27;</span> <span class="keyword">if</span> c &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">&#x27;blue&#x27;</span> <span class="keyword">for</span> c <span class="keyword">in</span> coef[top_coefficients]]</span><br><span class="line">    plt.bar(np.arange(<span class="number">2</span> * top_features+<span class="number">1</span>), coef[top_coefficients], color=colors)</span><br><span class="line">    feature_names = np.array(feature_names)</span><br><span class="line">    plt.xticks(np.arange(<span class="number">2</span> * top_features+<span class="number">1</span>), feature_names[top_coefficients], rotation=<span class="number">45</span>, ha=<span class="string">&#x27;right&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> LinearSVC</span><br><span class="line">heart_data = df.copy()</span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">X = StandardScaler().fit_transform(X)</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.1</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(heart_data.drop([&#x27;DEATH_EVENT&#x27;, &#x27;time&#x27;], axis=1).columns.values)</span></span><br><span class="line"></span><br><span class="line">trainedsvm = LinearSVC().fit(X, y)</span><br><span class="line">feature_plot(trainedsvm, heart_data.drop([<span class="string">&#x27;DEATH_EVENT&#x27;</span>, <span class="string">&#x27;time&#x27;</span>], axis=<span class="number">1</span>).columns.values)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_28_0.w2pbf35so00.png" alt="output_28_0"></p>
<ul>
<li>The ahead plot illustrates the importance of feature in SVM model. y axis could be considered as weights and the absolute value of weights could suggest the contribution to the final results.</li>
<li>The correlation analysis between factors and death event returned the coefficient &gt; 0.1 features</li>
<li>Both analysis returned three same features: serum_creatinine, age, ejection_fraction</li>
<li>we need to evaluate and compare the performance in serum_sodium and creatinine_phosphokinase</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score</span><br><span class="line">heart_data = df.copy()</span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line">options = [<span class="string">&#x27;serum_sodium&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> options:</span><br><span class="line">    selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>]</span><br><span class="line">    selected_feature.append(i)</span><br><span class="line">    X_processed = X[selected_feature]</span><br><span class="line">    X_processed = StandardScaler().fit_transform(X_processed)</span><br><span class="line">    X_train, X_test, y_train, y_test = train_test_split(X_processed, y, test_size=<span class="number">0.2</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">1</span>)</span><br><span class="line">    sv_clf = SVC(kernel=<span class="string">&quot;linear&quot;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">    sv_clf.fit(X_train, y_train)</span><br><span class="line">    sv_clf_pred = sv_clf.predict(X_test)</span><br><span class="line">    sv_clf_acc = accuracy_score(y_test,sv_clf_pred)</span><br><span class="line">    sc_clf_acc_format = <span class="built_in">round</span>(sv_clf_acc*<span class="number">100</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">#     accuracy_list.append(round(sv_clf_acc,2))</span></span><br><span class="line">    print(<span class="string">&quot;Accuracy of linear SVM model with feature &#123;&#125; is : &#123;&#125;%&quot;</span>.<span class="built_in">format</span>(i, sc_clf_acc_format))</span><br></pre></td></tr></table></figure>
<pre><code>Accuracy of linear SVM model with feature serum_sodium is : 81.67%
Accuracy of linear SVM model with feature creatinine_phosphokinase is : 83.33%</code></pre>
<p>Therefore, four features including serum_creatinine, age, ejection_fraction, creatinine_phosphokinase</p>
<hr>
<h3 id="Visualized-the-learning-curve-after-feature-selection"><a href="#Visualized-the-learning-curve-after-feature-selection" class="headerlink" title="Visualized the learning curve after feature selection"></a>Visualized the learning curve after feature selection</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> learning_curve</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_learning_curve</span>(<span class="params">estimator, title, X, y, axes=<span class="literal">None</span>, ylim=<span class="literal">None</span>, cv=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                        n_jobs=<span class="literal">None</span>, train_sizes=np.linspace(<span class="params"><span class="number">.1</span>, <span class="number">1.0</span>, <span class="number">5</span></span>)</span>):</span></span><br><span class="line">    <span class="keyword">if</span> axes <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        _, axes = plt.subplots(<span class="number">1</span>, <span class="number">3</span>, figsize=(<span class="number">20</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">    axes[<span class="number">0</span>].set_title(title)</span><br><span class="line">    <span class="keyword">if</span> ylim <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        axes[<span class="number">0</span>].set_ylim(*ylim)</span><br><span class="line">    axes[<span class="number">0</span>].set_xlabel(<span class="string">&quot;Training examples&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].set_ylabel(<span class="string">&quot;Score&quot;</span>)</span><br><span class="line"></span><br><span class="line">    train_sizes, train_scores, test_scores, fit_times, _ = \</span><br><span class="line">        learning_curve(estimator, X, y, cv=cv, n_jobs=n_jobs,</span><br><span class="line">                       train_sizes=train_sizes,</span><br><span class="line">                       return_times=<span class="literal">True</span>)</span><br><span class="line">    train_scores_mean = np.mean(train_scores, axis=<span class="number">1</span>)</span><br><span class="line">    train_scores_std = np.std(train_scores, axis=<span class="number">1</span>)</span><br><span class="line">    test_scores_mean = np.mean(test_scores, axis=<span class="number">1</span>)</span><br><span class="line">    test_scores_std = np.std(test_scores, axis=<span class="number">1</span>)</span><br><span class="line">    fit_times_mean = np.mean(fit_times, axis=<span class="number">1</span>)</span><br><span class="line">    fit_times_std = np.std(fit_times, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Plot learning curve</span></span><br><span class="line">    axes[<span class="number">0</span>].grid()</span><br><span class="line">    axes[<span class="number">0</span>].fill_between(train_sizes, train_scores_mean - train_scores_std,</span><br><span class="line">                         train_scores_mean + train_scores_std, alpha=<span class="number">0.1</span>,</span><br><span class="line">                         color=<span class="string">&quot;r&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].fill_between(train_sizes, test_scores_mean - test_scores_std,</span><br><span class="line">                         test_scores_mean + test_scores_std, alpha=<span class="number">0.1</span>,</span><br><span class="line">                         color=<span class="string">&quot;g&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].plot(train_sizes, train_scores_mean, <span class="string">&#x27;o-&#x27;</span>, color=<span class="string">&quot;r&quot;</span>,</span><br><span class="line">                 label=<span class="string">&quot;Training score&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].plot(train_sizes, test_scores_mean, <span class="string">&#x27;o-&#x27;</span>, color=<span class="string">&quot;g&quot;</span>,</span><br><span class="line">                 label=<span class="string">&quot;Cross-validation score&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].legend(loc=<span class="string">&quot;best&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Plot n_samples vs fit_times</span></span><br><span class="line">    axes[<span class="number">1</span>].grid()</span><br><span class="line">    axes[<span class="number">1</span>].plot(train_sizes, fit_times_mean, <span class="string">&#x27;o-&#x27;</span>)</span><br><span class="line">    axes[<span class="number">1</span>].fill_between(train_sizes, fit_times_mean - fit_times_std,</span><br><span class="line">                         fit_times_mean + fit_times_std, alpha=<span class="number">0.1</span>)</span><br><span class="line">    axes[<span class="number">1</span>].set_xlabel(<span class="string">&quot;Training examples&quot;</span>)</span><br><span class="line">    axes[<span class="number">1</span>].set_ylabel(<span class="string">&quot;fit_times&quot;</span>)</span><br><span class="line">    axes[<span class="number">1</span>].set_title(<span class="string">&quot;Scalability of the model&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Plot fit_time vs score</span></span><br><span class="line">    axes[<span class="number">2</span>].grid()</span><br><span class="line">    axes[<span class="number">2</span>].plot(fit_times_mean, test_scores_mean, <span class="string">&#x27;o-&#x27;</span>)</span><br><span class="line">    axes[<span class="number">2</span>].fill_between(fit_times_mean, test_scores_mean - test_scores_std,</span><br><span class="line">                         test_scores_mean + test_scores_std, alpha=<span class="number">0.1</span>)</span><br><span class="line">    axes[<span class="number">2</span>].set_xlabel(<span class="string">&quot;fit_times&quot;</span>)</span><br><span class="line">    axes[<span class="number">2</span>].set_ylabel(<span class="string">&quot;Score&quot;</span>)</span><br><span class="line">    axes[<span class="number">2</span>].set_title(<span class="string">&quot;Performance of the model&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> plt</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig, axes = plt.subplots(<span class="number">3</span>, <span class="number">2</span>, figsize=(<span class="number">10</span>, <span class="number">15</span>))</span><br><span class="line"></span><br><span class="line">heart_data = df.copy()</span><br><span class="line"></span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br><span class="line">selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line">X_processed = X[selected_feature]</span><br><span class="line">X_processed = StandardScaler().fit_transform(X_processed)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title = <span class="string">&quot;Learning Curves (SVM, linear kernel)&quot;</span></span><br><span class="line"><span class="comment"># cv = ShuffleSplit(n_splits=10, test_size=0.2, random_state=0)</span></span><br><span class="line"></span><br><span class="line">estimator = SVC(kernel=<span class="string">&quot;linear&quot;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">plot_learning_curve(estimator, title, X_processed, y, axes=axes[:, <span class="number">0</span>], ylim=(<span class="number">0.5</span>, <span class="number">1.01</span>),</span><br><span class="line">                     n_jobs=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title = <span class="string">r&quot;Learning Curves (SVM, RBF kernel)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cv = ShuffleSplit(n_splits=10, test_size=0.2, random_state=0)</span></span><br><span class="line">estimator = SVC(kernel=<span class="string">&quot;rbf&quot;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">plot_learning_curve(estimator, title, X_processed, y, axes=axes[:, <span class="number">1</span>], ylim=(<span class="number">0.5</span>, <span class="number">1.01</span>),</span><br><span class="line">                     n_jobs=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_34_0.wr0uxf8apts.png" alt="output_34_0"></p>
<ul>
<li><p>First column is the combination of learning curves, model scability, model performance in a SVM model with linear kernel. First row is the learning curve of linear SVM model: the training score is very high at the beginning and decreases and the cross-validation score is very low at the beginning and increases. The training score and the cross-validation score intertwines at about 220 training samples, and their difference after that are not significant</p>
</li>
<li><p>Second column is the combination of learning curves, model scability, model performance in a SVM model with linear kernel. The learning curve plots indicate that accuracy for both training score and cross validation score tend to be stable after 130 samples, which is similar in linear SVM model. The fit time for RBF kernel SVM is higher than linear kernel because of the complexity in calculation</p>
</li>
<li><p>RBF kernel has a relative higher performance, but the difference is not significant</p>
</li>
<li><p>The figure above doesnâ€™t indicate either overfitting or underfitting problems</p>
</li>
</ul>
<hr>
<h3 id="Explorative-data-analysis-of-the-four-selected-features"><a href="#Explorative-data-analysis-of-the-four-selected-features" class="headerlink" title="Explorative data analysis of the four selected features:"></a>Explorative data analysis of the four selected features:</h3><ul>
<li>â€˜serum_creatinineâ€™</li>
<li>â€˜ageâ€™</li>
<li>â€˜ejection_fractionâ€™</li>
<li>â€˜creatinine_phosphokinaseâ€™</li>
</ul>
<h4 id="Specify-the-figure-size"><a href="#Specify-the-figure-size" class="headerlink" title="Specify the figure size"></a>Specify the figure size</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">HEIGHT = <span class="number">500</span></span><br><span class="line">WIDTH = <span class="number">700</span></span><br><span class="line">NBINS = <span class="number">50</span></span><br><span class="line">SCATTER_SIZE=<span class="number">700</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">## Define the histogram</span></span><br><span class="line"><span class="keyword">import</span> plotly.express <span class="keyword">as</span> px</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_histogram</span>(<span class="params">dataframe, column, color, bins, marginal,title, width=WIDTH, height=HEIGHT</span>):</span></span><br><span class="line">    figure = px.histogram(</span><br><span class="line">        dataframe,</span><br><span class="line">        column,</span><br><span class="line">        color=color,</span><br><span class="line">        nbins=bins,</span><br><span class="line">        marginal= marginal,</span><br><span class="line">        title=title,</span><br><span class="line">        width=width,</span><br><span class="line">        height=height</span><br><span class="line">    )</span><br><span class="line">    figure.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plot_histogram(heart_data, <span class="string">&#x27;serum_creatinine&#x27;</span>, <span class="string">&#x27;DEATH_EVENT&#x27;</span>, NBINS, <span class="string">&quot;violin&quot;</span>,<span class="string">&#x27;Figure 1: Distribution of serum creatinine VS death event&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/1.63r0a5e9q8k0.png" alt="1"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plot_histogram(heart_data, <span class="string">&#x27;ejection_fraction&#x27;</span>, <span class="string">&#x27;DEATH_EVENT&#x27;</span>, NBINS, <span class="string">&quot;violin&quot;</span>,<span class="string">&#x27;Figure 2: Distribution of ejection fraction VS death event&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/2.6x2n1zgxkuk0.png" alt="2"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plot_histogram(heart_data, <span class="string">&#x27;creatinine_phosphokinase&#x27;</span>, <span class="string">&#x27;DEATH_EVENT&#x27;</span>, NBINS, <span class="string">&quot;violin&quot;</span>,<span class="string">&#x27;Figure 3: Distribution of creatinine_phosphokinase VS death event&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/3.3onf6f093tg0.png" alt="3"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> plotly.graph_objs <span class="keyword">as</span> go</span><br><span class="line">heart_data = df.copy()</span><br><span class="line">male = heart_data[heart_data[<span class="string">&quot;sex&quot;</span>]==<span class="number">1</span>]</span><br><span class="line">female = heart_data[heart_data[<span class="string">&quot;sex&quot;</span>]==<span class="number">0</span>]</span><br><span class="line">male_survival= male[male[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">0</span>]</span><br><span class="line">female_survival= female[female[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">0</span>]</span><br><span class="line"><span class="comment">## assign the labels</span></span><br><span class="line">labels = [<span class="string">&#x27;Male - Survived&#x27;</span>,<span class="string">&#x27;Male - Not Survived&#x27;</span>, <span class="string">&quot;Female -  Survived&quot;</span>, <span class="string">&quot;Female - Not Survived&quot;</span>]</span><br><span class="line"><span class="comment">## value is set according to the labels</span></span><br><span class="line">values = [<span class="built_in">len</span>(male[heart_data[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">0</span>]),<span class="built_in">len</span>(male[heart_data[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">1</span>]),</span><br><span class="line">         <span class="built_in">len</span>(female[heart_data[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">0</span>]),<span class="built_in">len</span>(female[heart_data[<span class="string">&quot;DEATH_EVENT&quot;</span>]==<span class="number">1</span>])]</span><br><span class="line">fig = go.Figure(data=[go.Pie(labels=labels,values=values,hole=<span class="number">.3</span>)])</span><br><span class="line">fig.update_layout(</span><br><span class="line">    title_text = <span class="string">&quot;Figure 4: Analysis on Survival - Gender factor&quot;</span></span><br><span class="line">)</span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/4.4c73jb0v6ok0.png" alt="4"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">## Define the violin plot function method</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">violin_boxplot</span>(<span class="params">dataframe, x, y,color,points,hover_data, box, width=WIDTH, height=HEIGHT</span>):</span></span><br><span class="line">    figure = px.violin(</span><br><span class="line">        dataframe,</span><br><span class="line">        x=x,</span><br><span class="line">        y=y,</span><br><span class="line">        color = color,</span><br><span class="line">        box = box,</span><br><span class="line">        hover_data=hover_data,</span><br><span class="line">        points=points,</span><br><span class="line">        width=width,</span><br><span class="line">        height=height</span><br><span class="line">    )</span><br><span class="line">    figure.update_layout(title_text=<span class="string">&quot;Figure 5: Analysis of both gender and age factors in survival rates&quot;</span>)</span><br><span class="line">    figure.show()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">violin_boxplot(heart_data,x = <span class="string">&quot;sex&quot;</span>,y=<span class="string">&quot;age&quot;</span>,color=<span class="string">&quot;DEATH_EVENT&quot;</span>,points=<span class="string">&quot;all&quot;</span>,box=<span class="literal">True</span>,hover_data=heart_data.columns)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/5.74bv5l7tba00.png" alt="5"></p>
<p>Figure 1 - Figure 5 is the visualization of each feature, there is no clear patterns or strong association between the death_event. Therefore, we need to further our research by conducting the model prediction process.</p>
<h2 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h2><h3 id="Python-library"><a href="#Python-library" class="headerlink" title="Python library"></a>Python library</h3><h1 id="Description-how-you-learned-the-predictor"><a href="#Description-how-you-learned-the-predictor" class="headerlink" title="Description: how you learned the predictor"></a>Description: how you learned the predictor</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score, mean_squared_error</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> LinearSVC</span><br></pre></td></tr></table></figure>
<h3 id="PCA-to-visualize-the-sample-distribution"><a href="#PCA-to-visualize-the-sample-distribution" class="headerlink" title="PCA to visualize the sample distribution"></a>PCA to visualize the sample distribution</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line">pca.fit(X_processed)</span><br><span class="line">X_pca = pca.transform(X_processed)</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">8</span>,<span class="number">8</span>))</span><br><span class="line">plt.scatter(X_pca[y==<span class="number">0</span>,<span class="number">0</span>],X_pca[y==<span class="number">0</span>,<span class="number">1</span>],label=<span class="string">&quot;Alive&quot;</span>,c=<span class="string">&quot;red&quot;</span>)</span><br><span class="line">plt.scatter(X_pca[y==<span class="number">1</span>,<span class="number">0</span>],X_pca[y==<span class="number">1</span>,<span class="number">1</span>],label=<span class="string">&quot;Death&quot;</span>,c=<span class="string">&quot;black&quot;</span>)</span><br><span class="line">plt.legend([<span class="string">&quot;Alive&quot;</span>,<span class="string">&quot;Death&quot;</span>])</span><br></pre></td></tr></table></figure>



<pre><code>&lt;matplotlib.legend.Legend at 0x7fdff0ee0d90&gt;</code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_50_1.2x87z2ut9k60.png" alt="output_50_1"></p>
<p>In this case, the data distribution after feature selection are scattered, which could be beneficial for separation. Still, we could not determine whether linear kernel or RBF kernel is suitable for classification. I then would compare the performance between these two methods.</p>
<h3 id="Machine-learning-algorithms-with-description"><a href="#Machine-learning-algorithms-with-description" class="headerlink" title="Machine learning algorithms with description"></a>Machine learning algorithms with description</h3><h4 id="SVM-with-linear-kernel"><a href="#SVM-with-linear-kernel" class="headerlink" title="SVM with linear kernel"></a>SVM with linear kernel</h4><p>$$ K(x,y) = X^Ty=x\cdot y$$</p>
<p>Loss function: hinge loss / squared hinge loss</p>
<p>$$ Agreement: z = y_i(w \cdot x_i + \alpha) $$</p>
<p>Hinge loss</p>
<p>$$<br>L_h(z)= \begin{cases}<br>0 &amp; \text{if z$\geq$1}\<br>1-z &amp; \text{z&lt;1}<br>\end{cases}<br>$$</p>
<p>Squared hinge loss</p>
<p>$$<br>L_{hsqr}(z)= \begin{cases}<br>0 &amp; \text{if z$\geq$1}\<br>(1-z)^2 &amp; \text{z&lt;1}<br>\end{cases}<br>$$</p>
<p>Optimization objective formula for hinge loss:</p>
<p>$$<br>J(w,\alpha) = \frac{1}{n}\sum_{i=1}^nL_h(y_i(w\cdot x_i + \alpha))+\frac{\lambda}{2}(||w||)^2<br>$$</p>
<p>Description:</p>
<ul>
<li>Linear Kernel is used when the data is linearly separable dataset.</li>
<li>One of the goal is to minimize the previous objective formula for the hinge loss. $\lambda$ in this case stands for the regularization hyperparameter.</li>
<li>The strength of the regularization is inversely proportional to $\lambda$, it has to be strictly positive. The smaller regularization parameter means less tolerant to misclassification.</li>
<li>Require grid serach to return the suitable hyperparameter</li>
</ul>
<h4 id="SVM-with-RBF-kernel"><a href="#SVM-with-RBF-kernel" class="headerlink" title="SVM with RBF kernel"></a>SVM with RBF kernel</h4><p>$$ K(x,y) = e^{-\gamma||x-y||^2}, \gamma &gt;0 $$</p>
<p>Loss function: hinge loss / squared hinge loss</p>
<p>$$ Agreement: z = y_i(w \cdot \phi(x_i) + \alpha) $$</p>
<p>Hinge loss</p>
<p>$$<br>L_h(z)= \begin{cases}<br>0 &amp; \text{if z$\geq$1}\<br>1-z &amp; \text{z&lt;1}<br>\end{cases}<br>$$</p>
<p>Squared hinge loss</p>
<p>$$<br>L_{hsqr}(z)= \begin{cases}<br>0 &amp; \text{if z$\geq$1}\<br>(1-z)^2 &amp; \text{z&lt;1}<br>\end{cases}<br>$$</p>
<p>Optimization objective formula for hinge loss:</p>
<p>$$<br>J(w,\alpha) = \frac{1}{n}\sum_{i=1}^nL_h(y_i(w\cdot \phi(x_i) + \alpha))+\frac{\lambda}{2}(||w||)^2<br>$$</p>
<p>Description:</p>
<ul>
<li>SVM with RBF kernel was utilized to solve the linearly inseparable probelms</li>
<li>kernel trick was used in RBF kernel SVM to increase the computational efficiency</li>
<li>$\gamma$ parameter how far the influence of a single training example reaches</li>
<li>C parameter trades off correct classification of training examples against maximization of the decision functionâ€™s margin</li>
</ul>
<h4 id="Evaluation-method"><a href="#Evaluation-method" class="headerlink" title="Evaluation method"></a>Evaluation method</h4><p>Mean squared error (MSE)</p>
<p>$$<br>MSE = \frac{1}{n}\sum_{i=1}^n(Y_i- \hat{Y_i})^2<br>$$</p>
<p>where $Y_i$ is the label and $\hat{Y_i}$ is the predicted label by model</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">heart_data = df.copy()</span><br><span class="line"></span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br><span class="line">selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line">X_processed = X[selected_feature]</span><br><span class="line">X_processed = StandardScaler().fit_transform(X_processed)</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X_processed, y, test_size=<span class="number">0.2</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## linear svm</span></span><br><span class="line"><span class="comment"># sv_clf = LinearSVC(loss=&#x27;hinge&#x27;,random_state=1, C=1.0, penalty = &#x27;l2&#x27;)</span></span><br><span class="line">sv_clf = SVC(kernel=<span class="string">&quot;linear&quot;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">sv_clf.fit(X_train, y_train)</span><br><span class="line">sv_clf_pred = sv_clf.predict(X_test)</span><br><span class="line">sv_clf_acc = accuracy_score(y_test,sv_clf_pred)</span><br><span class="line">sv_clf_mse = mean_squared_error(y_test,sv_clf_pred)</span><br><span class="line">print(<span class="string">&quot;Accuracy of linear SVM model is :&quot;</span>,<span class="string">&quot;&#123;:.2f&#125;%&quot;</span>.<span class="built_in">format</span>(<span class="number">100</span>*sv_clf_acc))</span><br><span class="line">print(<span class="string">&quot;Mean squared error of linear SVM model is :&quot;</span>,<span class="string">&quot;&#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(sv_clf_mse))</span><br><span class="line"></span><br><span class="line"><span class="comment">## RBF kernel SVM</span></span><br><span class="line">sv_clf = SVC(kernel=<span class="string">&quot;rbf&quot;</span>,random_state=<span class="number">1</span>, C=<span class="number">1.0</span>, gamma=<span class="number">0.1</span>)</span><br><span class="line">sv_clf.fit(X_train, y_train)</span><br><span class="line">sv_clf_pred = sv_clf.predict(X_test)</span><br><span class="line">sv_clf_acc = accuracy_score(y_test,sv_clf_pred)</span><br><span class="line">sv_clf_mse = mean_squared_error(y_test,sv_clf_pred)</span><br><span class="line">print(<span class="string">&quot;Accuracy of RBF SVM model is :&quot;</span>,<span class="string">&quot;&#123;:.2f&#125;%&quot;</span>.<span class="built_in">format</span>(<span class="number">100</span>*sv_clf_acc))</span><br><span class="line">print(<span class="string">&quot;Mean squared error of linear SVM model is :&quot;</span>,<span class="string">&quot;&#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(sv_clf_mse))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>Accuracy of linear SVM model is : 83.33%
Mean squared error of linear SVM model is : 0.17
Accuracy of RBF SVM model is : 86.67%
Mean squared error of linear SVM model is : 0.13</code></pre>
<h2 id="Experiments-and-results"><a href="#Experiments-and-results" class="headerlink" title="Experiments and results"></a>Experiments and results</h2><h3 id="Compare-the-efficacy-of-different-preprocessing-methods"><a href="#Compare-the-efficacy-of-different-preprocessing-methods" class="headerlink" title="Compare the efficacy of different preprocessing methods"></a>Compare the efficacy of different preprocessing methods</h3><ul>
<li>MinMaxScalar</li>
<li>StandardScalar</li>
<li>RobustScalar</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.pipeline <span class="keyword">import</span> Pipeline</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> MinMaxScaler, StandardScaler, RobustScaler</span><br><span class="line"></span><br><span class="line">heart_data = df.copy()</span><br><span class="line"></span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br><span class="line">selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line">X_processed = X[selected_feature]</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X_processed, y, test_size=<span class="number">0.2</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># MinMaxScalar</span></span><br><span class="line">pipe1 = Pipeline([(<span class="string">&quot;scalar&quot;</span>,MinMaxScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(random_state=<span class="number">1</span>))])</span><br><span class="line">pipe1.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for MinMaxScalar RBF kernel: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(pipe1.score(X_test,y_test)))</span><br><span class="line"></span><br><span class="line">pipe1_linear = Pipeline([(<span class="string">&quot;scalar&quot;</span>,MinMaxScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(kernel=<span class="string">&quot;linear&quot;</span>,random_state=<span class="number">1</span>))])</span><br><span class="line">pipe1_linear.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for MinMaxScalar linear kernel: &#123;:.3f&#125;\n&quot;</span>.<span class="built_in">format</span>(pipe1_linear.score(X_test,y_test)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># StandardScalar</span></span><br><span class="line"></span><br><span class="line">pipe2 = Pipeline([(<span class="string">&quot;scalar&quot;</span>,StandardScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(random_state=<span class="number">1</span>))])</span><br><span class="line">pipe2.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for StandardScalar in RBF kernel: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(pipe2.score(X_test,y_test)))</span><br><span class="line"></span><br><span class="line">pipe2_linear = Pipeline([(<span class="string">&quot;scalar&quot;</span>,StandardScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(kernel=<span class="string">&quot;linear&quot;</span> ,random_state=<span class="number">1</span>))])</span><br><span class="line">pipe2_linear.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for StandardScalar in linear kernel: &#123;:.3f&#125;\n&quot;</span>.<span class="built_in">format</span>(pipe2_linear.score(X_test,y_test)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># RobustScalar</span></span><br><span class="line"></span><br><span class="line">pipe3 = Pipeline([(<span class="string">&quot;scalar&quot;</span>,RobustScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(random_state=<span class="number">1</span>))])</span><br><span class="line">pipe3.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for RobustScalar in RBF kernel: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(pipe3.score(X_test,y_test)))</span><br><span class="line"></span><br><span class="line">pipe3_linear = Pipeline([(<span class="string">&quot;scalar&quot;</span>,RobustScaler()),(<span class="string">&quot;svm&quot;</span>,SVC(kernel = <span class="string">&quot;linear&quot;</span>,random_state=<span class="number">1</span>))])</span><br><span class="line">pipe3_linear.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Test score for RobustScalar in linear kernel: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(pipe3_linear.score(X_test,y_test)))</span><br></pre></td></tr></table></figure>
<pre><code>Test score for MinMaxScalar RBF kernel: 0.850
Test score for MinMaxScalar linear kernel: 0.767

Test score for StandardScalar in RBF kernel: 0.850
Test score for StandardScalar in linear kernel: 0.833

Test score for RobustScalar in RBF kernel: 0.800
Test score for RobustScalar in linear kernel: 0.817</code></pre>
<ul>
<li>There is no significant difference between different preprocessing method in RBF kernels, especially in MinMaxScalar and StandardScalar.</li>
<li>Overall RBF kernel outperforms than linear kernel.</li>
<li>In this case, I would insist on using StandardScalar in following procedure.<br>
<br>
<br>



</li>
</ul>
<h3 id="Compare-the-model-performance-by-ten-fold-cross-validation-and-leave-one-out-method-in-model-evaluation"><a href="#Compare-the-model-performance-by-ten-fold-cross-validation-and-leave-one-out-method-in-model-evaluation" class="headerlink" title="Compare the model performance by ten-fold cross validation and leave-one-out method in model evaluation"></a>Compare the model performance by ten-fold cross validation and leave-one-out method in model evaluation</h3><br>

<p>Owing to the fact that the dataset I used is a small one, only containing 299 samples in total. In order to minimize the bias or error leading by accident, I used ten-fold cross validation and leave-one-out method to return a more general evaluation (calculating the mean value)</p>
<h4 id="Ten-fold-cross-validation-of-SVM"><a href="#Ten-fold-cross-validation-of-SVM" class="headerlink" title="Ten-fold cross validation of SVM"></a>Ten-fold cross validation of SVM</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">heart_data = df.copy()</span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br><span class="line">selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line">X_processed = X[selected_feature]</span><br><span class="line">X_processed = StandardScaler().fit_transform(X_processed)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score</span><br><span class="line">sv_clf = SVC(kernel= <span class="string">&#x27;linear&#x27;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">sv_clf_rbf = SVC(kernel=<span class="string">&#x27;rbf&#x27;</span>,random_state=<span class="number">1</span>)</span><br><span class="line">scores = cross_val_score(sv_clf, X_processed,y,cv=<span class="number">10</span>)</span><br><span class="line">scores_rbf = cross_val_score(sv_clf_rbf, X_processed,y,cv=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;Ten-fold cross validation scores of linear SVM:&#123;:.3f&#125; &quot;</span>.<span class="built_in">format</span>(np.mean(scores)))</span><br><span class="line">print(<span class="string">&quot;Ten-fold cross validation scores of RBF kernel SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(np.mean(scores_rbf)))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>Ten-fold cross validation scores of linear SVM:0.756 
Ten-fold cross validation scores of RBF kernel SVM:0.763</code></pre>
<h4 id="Leave-on-out-method-of-SVM"><a href="#Leave-on-out-method-of-SVM" class="headerlink" title="Leave-on-out method of SVM"></a>Leave-on-out method of SVM</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> LeaveOneOut</span><br><span class="line">loo = LeaveOneOut()</span><br><span class="line">scores_loo = cross_val_score(sv_clf,X_processed,y,cv=loo)</span><br><span class="line">scores_loo_rbf = cross_val_score(sv_clf_rbf,X_processed,y,cv=loo)</span><br><span class="line">print(<span class="string">&quot;Number of CV iterations: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(scores_loo)))</span><br><span class="line">print(<span class="string">&quot;Leave one out method mean scores for linear SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(scores_loo.mean()))</span><br><span class="line">print(<span class="string">&quot;Leave one out method mean scores for RBF SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(scores_loo_rbf.mean()))</span><br></pre></td></tr></table></figure>
<pre><code>Number of CV iterations: 299
Leave one out method mean scores for linear SVM:0.763
Leave one out method mean scores for RBF SVM:0.756</code></pre>
<h4 id="Comparison-of-the-two-methods"><a href="#Comparison-of-the-two-methods" class="headerlink" title="Comparison of the two methods"></a>Comparison of the two methods</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">&quot;Ten-fold cross validation scores of linear SVM:&#123;:.3f&#125; &quot;</span>.<span class="built_in">format</span>(np.mean(scores)))</span><br><span class="line">print(<span class="string">&quot;Ten-fold cross validation scores of RBF kernel SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(np.mean(scores_rbf)))</span><br><span class="line">print(<span class="string">&quot;Leave one out method mean scores for linear SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(scores_loo.mean()))</span><br><span class="line">print(<span class="string">&quot;Leave one out method mean scores for RBF SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(scores_loo_rbf.mean()))</span><br></pre></td></tr></table></figure>
<pre><code>Ten-fold cross validation scores of linear SVM:0.756 
Ten-fold cross validation scores of RBF kernel SVM:0.763
Leave one out method mean scores for linear SVM:0.763
Leave one out method mean scores for RBF SVM:0.756</code></pre>
<p>**Summary: **<br>The results of either ten-fold cross validation and leave-one-out method results are quite similar, based on the consideration of time elapse, I would use ten-fold cross-validation for the following analysis</p>
<h3 id="Hyperparameters-tuning"><a href="#Hyperparameters-tuning" class="headerlink" title="Hyperparameters tuning"></a>Hyperparameters tuning</h3><ul>
<li>Grid search for SVM algorithm with ten-fold cross validation method</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line">param_grid = [&#123;<span class="string">&#x27;kernel&#x27;</span>: [<span class="string">&#x27;rbf&#x27;</span>],</span><br><span class="line">               <span class="string">&#x27;C&#x27;</span>: [<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>],</span><br><span class="line">               <span class="string">&#x27;gamma&#x27;</span>:[<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>]&#125;,</span><br><span class="line">                &#123;<span class="string">&#x27;kernel&#x27;</span>:[<span class="string">&#x27;linear&#x27;</span>],</span><br><span class="line">               <span class="string">&#x27;C&#x27;</span>: [<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>]</span><br><span class="line">                &#125;]</span><br><span class="line"><span class="comment"># print(param_grid)</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X_processed, y, test_size=<span class="number">0.2</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">grid_search = GridSearchCV(SVC(random_state=<span class="number">1</span>),param_grid,cv =<span class="number">10</span>, n_jobs=-<span class="number">1</span>)</span><br><span class="line">grid_search.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Best cross validation accuracy: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.best_score_))</span><br><span class="line">print(<span class="string">&quot;Test set score: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.score(X_test,y_test)))</span><br><span class="line">print(<span class="string">&quot;Best parameters: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.best_params_))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>Best cross validation accuracy: 0.75
Test set score: 0.87
Best parameters: &#123;&#39;C&#39;: 1, &#39;gamma&#39;: 0.1, &#39;kernel&#39;: &#39;rbf&#39;&#125;</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">results = pd.DataFrame(grid_search.cv_results_)</span><br><span class="line">results_rbf = results.iloc[<span class="number">0</span>:<span class="number">25</span>,:]</span><br><span class="line">results_linear = results.iloc[<span class="number">25</span>:,:]</span><br><span class="line"><span class="comment"># display(results_linear.T.head())</span></span><br><span class="line"><span class="comment"># display(results_rbf.T.head())</span></span><br><span class="line"><span class="comment"># display(results.T.head())</span></span><br><span class="line"><span class="comment"># display(results.T)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">12</span>,<span class="number">12</span>))</span><br><span class="line">scores = np.array(results_rbf.mean_test_score).reshape(<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">heatmap = sn.heatmap(data=scores,xticklabels=param_grid[<span class="number">0</span>][<span class="string">&#x27;gamma&#x27;</span>],</span><br><span class="line">           yticklabels=param_grid[<span class="number">0</span>][<span class="string">&#x27;C&#x27;</span>],</span><br><span class="line">           annot=<span class="literal">True</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;C&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;gamma&quot;</span>)</span><br></pre></td></tr></table></figure>



<pre><code>Text(0.5, 87.0, &#39;gamma&#39;)</code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_68_1.3u7i0m4xy720.png" alt="output_68_1"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sv_clf_rbf = SVC(kernel=<span class="string">&#x27;rbf&#x27;</span>,random_state=<span class="number">1</span>,C=<span class="number">1</span>, gamma = <span class="number">0.1</span>)</span><br><span class="line">scores_loo_rbf = cross_val_score(sv_clf_rbf,X_processed,y,cv=<span class="number">10</span>)</span><br><span class="line"><span class="comment"># print(&quot;Number of CV iterations: &#123;&#125;&quot;.format(len(scores_loo)))</span></span><br><span class="line">print(<span class="string">&quot;10-fold cross validation mean method scores for RBF SVM:&#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(scores_loo_rbf.mean()))</span><br></pre></td></tr></table></figure>
<pre><code>10-fold cross validation mean method scores for RBF SVM:0.763</code></pre>
<p>As can be seen from the grid search, the SVM with RBF kernel and hyperparameter C: 1, gamma 0.1 could achieve the highest performance</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">linear_score = np.array(results_linear.mean_test_score)</span><br><span class="line">display(results_linear.T.head())</span><br><span class="line">print(<span class="built_in">max</span>(linear_score))</span><br></pre></td></tr></table></figure>

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>25</th>
      <th>26</th>
      <th>27</th>
      <th>28</th>
      <th>29</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mean_fit_time</th>
      <td>0.0021414</td>
      <td>0.00199142</td>
      <td>0.00196731</td>
      <td>0.00795052</td>
      <td>0.0434071</td>
    </tr>
    <tr>
      <th>std_fit_time</th>
      <td>0.000204684</td>
      <td>0.0003023</td>
      <td>0.000284892</td>
      <td>0.00302314</td>
      <td>0.010914</td>
    </tr>
    <tr>
      <th>mean_score_time</th>
      <td>0.000635695</td>
      <td>0.000739121</td>
      <td>0.000567961</td>
      <td>0.000703764</td>
      <td>0.000822139</td>
    </tr>
    <tr>
      <th>std_score_time</th>
      <td>0.000104189</td>
      <td>0.000289296</td>
      <td>9.88127e-05</td>
      <td>8.55103e-05</td>
      <td>0.000257763</td>
    </tr>
    <tr>
      <th>param_C</th>
      <td>0.01</td>
      <td>0.1</td>
      <td>1</td>
      <td>10</td>
      <td>100</td>
    </tr>
  </tbody>
</table>
</div>


<pre><code>0.7358695652173913</code></pre>
<p>In the meantime, the best performance in linear model is 0.73587, and the mean_test_score in c =1,10,100 is relative similar. The influence of hyperparameter C are not significant. Apart from that the SVC function only provide</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">### Hyperparameter tuning for linear SVM (penalty, loss, C)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">parameters = &#123;<span class="string">&#x27;penalty&#x27;</span>:[<span class="string">&#x27;l1&#x27;</span>, <span class="string">&#x27;l2&#x27;</span>], <span class="string">&#x27;loss&#x27;</span>:[<span class="string">&#x27;hinge&#x27;</span>, <span class="string">&#x27;squared_hinge&#x27;</span>],<span class="string">&#x27;C&#x27;</span>:[<span class="number">1</span>, <span class="number">10</span>,<span class="number">100</span>]&#125;</span><br><span class="line">grid_search = GridSearchCV(LinearSVC(random_state=<span class="number">1</span>),parameters,cv =<span class="number">10</span>, n_jobs=-<span class="number">1</span>)</span><br><span class="line">grid_search.fit(X_train,y_train)</span><br><span class="line">print(<span class="string">&quot;Best cross validation accuracy: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.best_score_))</span><br><span class="line">print(<span class="string">&quot;Test set score: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.score(X_test,y_test)))</span><br><span class="line">print(<span class="string">&quot;Best parameters: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(grid_search.best_params_))</span><br></pre></td></tr></table></figure>
<pre><code>Best cross validation accuracy: 0.75
Test set score: 0.80
Best parameters: &#123;&#39;C&#39;: 10, &#39;loss&#39;: &#39;squared_hinge&#39;, &#39;penalty&#39;: &#39;l2&#39;&#125;</code></pre>
<p>The test score of linear svm (test set score:0.80) still could not compete with the rbf kernel (test set score: 0.87), therefore, I would still insist on the SVM with RBF kernel and hyperparameter C: 1, gamma 0.1</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> plot_confusion_matrix, confusion_matrix</span><br><span class="line">heart_data = df.copy()</span><br><span class="line"></span><br><span class="line">X = heart_data.iloc[:, <span class="number">0</span>:<span class="number">11</span>]</span><br><span class="line">y = heart_data[<span class="string">&#x27;DEATH_EVENT&#x27;</span>]</span><br><span class="line"></span><br><span class="line">selected_feature = [<span class="string">&#x27;serum_creatinine&#x27;</span>,<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;ejection_fraction&#x27;</span>,<span class="string">&#x27;creatinine_phosphokinase&#x27;</span>]</span><br><span class="line">X_processed = X[selected_feature]</span><br><span class="line">X_processed = StandardScaler().fit_transform(X_processed)</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X_processed,y,test_size=<span class="number">0.2</span>,random_state=<span class="number">2</span>)</span><br><span class="line">model = SVC(kernel=<span class="string">&#x27;rbf&#x27;</span>,random_state=<span class="number">1</span>,C=<span class="number">1</span>, gamma = <span class="number">0.1</span>)</span><br><span class="line">model.fit(X_train,y_train)</span><br><span class="line">y_pred = model.predict(X_test)</span><br><span class="line">y_pred_train = model.predict(X_train)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Training-and-validation-loss"><a href="#Training-and-validation-loss" class="headerlink" title="Training and validation loss"></a>Training and validation loss</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">&quot;Training loss is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">round</span>(model.score(X_train,y_train),<span class="number">2</span>)))</span><br><span class="line">print(<span class="string">&quot;Testing loss is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">round</span>(model.score(X_test,y_test),<span class="number">2</span>)))</span><br></pre></td></tr></table></figure>
<pre><code>Training loss is: 0.78
Testing loss is: 0.83</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_mse = mean_squared_error(y_train,y_pred_train)</span><br><span class="line">test_mse = mean_squared_error(y_test,y_pred)</span><br><span class="line">print(<span class="string">&quot;The MSE value of training sample is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">round</span>(train_mse,<span class="number">2</span>)))</span><br><span class="line">print(<span class="string">&quot;The MSE value of testing sample is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">round</span>(test_mse,<span class="number">2</span>)))</span><br></pre></td></tr></table></figure>
<pre><code>The MSE value of training sample is: 0.22
The MSE value of testing sample is: 0.17</code></pre>
<p>The training loss in SVM with RBF kernel in hyperparameter C: 1, gamma 0.1 is 0.78, with testing loss equals 0.83<br>The MSE value for training and testing in SVM with RBF kernel is 0.22 and 0.17 accordingly</p>
<h3 id="Plot-the-confusion-matrix-plot"><a href="#Plot-the-confusion-matrix-plot" class="headerlink" title="Plot the confusion matrix plot"></a>Plot the confusion matrix plot</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># confusion = confusion_matrix(y_test,y_pred)</span></span><br><span class="line">plot_confusion_matrix(model,X_test,y_test)</span><br><span class="line">plt.title(<span class="string">&quot;SVC Model - Confusion Matrix&quot;</span>)</span><br><span class="line">plt.xticks(<span class="built_in">range</span>(<span class="number">2</span>), [<span class="string">&quot;Alive&quot;</span>, <span class="string">&quot;Dead&quot;</span>], fontsize=<span class="number">8</span>)</span><br><span class="line">plt.yticks(<span class="built_in">range</span>(<span class="number">2</span>), [<span class="string">&quot;Alive&quot;</span>, <span class="string">&quot;Dead&quot;</span>], fontsize=<span class="number">8</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_83_0.nfr53d9ahao.png" alt="output_83_0"></p>
<h3 id="Evaluate-the-performance-of-the-final-selected-model-performance-with-respect-to-the-chosen-performance-matrix"><a href="#Evaluate-the-performance-of-the-final-selected-model-performance-with-respect-to-the-chosen-performance-matrix" class="headerlink" title="Evaluate the performance of the final selected model performance with respect to the chosen performance matrix"></a>Evaluate the performance of the final selected model performance with respect to the chosen performance matrix</h3><br>

<h3 id="Accuracy"><a href="#Accuracy" class="headerlink" title="Accuracy:"></a>Accuracy:</h3><p>$$\frac{TP+TN}{TP+TN+FP+FN}$$<br><br></p>
<h3 id="Total"><a href="#Total" class="headerlink" title="Total:"></a>Total:</h3><p>$$Total = TP+TN+FP+FN$$</p>
<h3 id="Precision"><a href="#Precision" class="headerlink" title="Precision:"></a>Precision:</h3><p>$$\frac{TP}{TP+FP}$$</p>
<h3 id="Recall"><a href="#Recall" class="headerlink" title="Recall:"></a>Recall:</h3><p>$$\frac{TP}{TP+FN}$$</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line">print(classification_report(y_test,y_pred,target_names=[<span class="string">&quot;Heart Not Failed&quot;</span>, <span class="string">&quot;Heart Fail&quot;</span>]))</span><br></pre></td></tr></table></figure>
<pre><code>                  precision    recall  f1-score   support

Heart Not Failed       0.85      0.93      0.89        43
      Heart Fail       0.77      0.59      0.67        17

        accuracy                           0.83        60
       macro avg       0.81      0.76      0.78        60
    weighted avg       0.83      0.83      0.83        60</code></pre>
<h3 id="ROC-curve"><a href="#ROC-curve" class="headerlink" title="ROC curve"></a>ROC curve</h3><p>AUC = Area under the curve</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> confusion_matrix, plot_confusion_matrix, plot_roc_curve, plot_precision_recall_curve</span><br><span class="line">plot_roc_curve(model,X_test,y_test)</span><br></pre></td></tr></table></figure>



<pre><code>&lt;sklearn.metrics._plot.roc_curve.RocCurveDisplay at 0x7fdff1de91f0&gt;</code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_87_1.50raz9ifl680.png" alt="output_87_1">    </p>
<h3 id="PR-curve"><a href="#PR-curve" class="headerlink" title="PR-curve"></a>PR-curve</h3><p>AP = Average Precision, summarizes such a plot as the weighted mean of precisions achieved at each threshold, with the increase in recall from the previous threshold used as the weight:</p>
<p>$$ AP =\sum_{N}(R_n-R_{n-1})P_n$$</p>
<p>where  and  are the precision and recall at the nth threshold. A pair  is referred to as an operating point.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plot_precision_recall_curve(model,X_test,y_test)</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/output_89_1.zs7xp3919lc.png" alt="output_89_1"></p>
<h3 id="Summary-of-the-results"><a href="#Summary-of-the-results" class="headerlink" title="Summary of the results"></a>Summary of the results</h3><ul>
<li>Grid search to find the best hyperparameters in optimization of the model</li>
<li>ten-fold cross validation used to evaluate machine learning models on a limited data sample</li>
<li>SVM with RBF kernel and hyperparameter C: 1, gamma 0.1 would be the best performed model</li>
<li>precision, recall, f1-score, accuracy value were applied and summarized in the previous table</li>
<li>train loss and validation loss were 0.78 and 0.83 accordingly</li>
<li>MSE value of training sample and testing sample is 0.22 and 0.17 accordingly</li>
<li>No overfitting or underfitting problem observed because regularization method, cross-validation method were used to mitigate the potential problems</li>
<li>The overall model is robust and in good generalization ability</li>
<li>ROC curve and PR curve were visualized to demonstrate the final results; AUC is 0.83 and AP is 0.7</li>
</ul>
<h2 id="Conclusion-and-future-work"><a href="#Conclusion-and-future-work" class="headerlink" title="Conclusion and future work"></a>Conclusion and future work</h2><p>In this project, I compared and devised a RBF SVM machine learning model for the prediction of heart failure. I firstly conducted a preliminary analysis of the whole dataset and utilized the PCA method to visualize the distribution condition of the samples. The initial analysis was not robust and precise, which required me to optimize the model. Then, I conducted feature selection to return the top 4 most correlated feature with the death event. Apart from that, I also compared the difference between normalization method as well as the validation methods. The final determined methods were to use four selected features (â€˜serum_creatinineâ€™,â€™ageâ€™,â€™ejection_fractionâ€™, â€˜creatinine_phosphokinaseâ€™), StandardScalar methods and ten-fold cross validation to conduct the prediction. In addition, I also conduct the explorative data analysis to have a view of the selected feature. Furthermore, the PCA condition after feature selection still could not determine whether the dataset is linearly seperable or not, I, therefore, used the grid serach to return the most suitable hyperparameters. The final results suggested that the SVM with RBF kernel in gamma equals 0.1 and penalty C equals 1 could achieve the best performance. After that, the model performance was evaluated from confusion matrix, accuracy, precision, recall, f1-score. Moreover, the ROC plot and PR-curve plot with AUC and AP accordingly were indicated. The final accuracy could achieve 0.83, which is satisfactory.</p>
<p>In the future, since this project only used SVM related algorithms, I would like to incorporate more complicate algorithms, for instance, XGboost. Furthermore, the modelâ€™s interpretability are not great enough, and that would be my focus in the future.</p>
<h2 id="Bibliography"><a href="#Bibliography" class="headerlink" title="Bibliography"></a>Bibliography</h2><p>Heart Fail:Analysis and Quick-prediction | Kaggle. (n.d.). Retrieved January 8, 2021, from <a class="link"   href="https://www.kaggle.com/nayansakhiya/heart-fail-analysis-and-quick-prediction" >https://www.kaggle.com/nayansakhiya/heart-fail-analysis-and-quick-prediction<i class="fas fa-external-link-alt"></i></a></p>
<p>Heart Failure - Model Prediction Comparisons (95%) | Kaggle. (n.d.). Retrieved January 8, 2021, from <a class="link"   href="https://www.kaggle.com/rude009/heart-failure-model-prediction-comparisons-95" >https://www.kaggle.com/rude009/heart-failure-model-prediction-comparisons-95<i class="fas fa-external-link-alt"></i></a></p>
<p>Heart Failure Prediction (AUC: 0.98) | Kaggle. (n.d.). Retrieved January 8, 2021, from <a class="link"   href="https://www.kaggle.com/ksvmuralidhar/heart-failure-prediction-auc-0-98" >https://www.kaggle.com/ksvmuralidhar/heart-failure-prediction-auc-0-98<i class="fas fa-external-link-alt"></i></a></p>
<p>Pedregosa et al., Scikit-learn: Machine Learning in Python, JMLR 12, pp. 2825-2830, 2011.</p>
<h2 id="Other-resources-to-download-the-code"><a href="#Other-resources-to-download-the-code" class="headerlink" title="Other resources to download the code"></a>Other resources to download the code</h2><p>Kaggle:<br><a class="link"   href="https://www.kaggle.com/yuxuanwu17/eda-of-heart-failure-and-optimization-of-svm" >https://www.kaggle.com/yuxuanwu17/eda-of-heart-failure-and-optimization-of-svm<i class="fas fa-external-link-alt"></i></a></p>
<p>Github:<br><a class="link"   href="https://github.com/yuxuanwu17/kaggle/blob/main/Final_report.ipynb" >https://github.com/yuxuanwu17/kaggle/blob/main/Final_report.ipynb<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>kaggle</tag>
        <tag>ML</tag>
        <tag>EDA</tag>
      </tags>
  </entry>
  <entry>
    <title>Explorative data anlysis of avocado price from 2015-2020</title>
    <url>/2021/01/25/avocado_pred/</url>
    <content><![CDATA[<p>Avocado, bright green fruit with a large pit and dark leathery skin, has become a fashion among millennials in America. Avocados are featured in their unique flavor, rich texture, and the high percentage of healthy fat, which is an ideal food for the healthy diet. However, the average price for avocados is not cheap, which made those millennials unable to achieve their â€œAvocado Freedomâ€ dream. In addition, as an applicant in American master degree and a fan of avocados, it is of significant interest for me to conduct the explorative data analysis of avocados, hoping to figure out some hidden patterns, like seasonal patterns or cyclical patterns. Furthermore, related factors were also evaluated to suggest the influence on the avocadosâ€™ price, which could help these millennials to find the cheaper avocados in a scientific way. </p>
<h3 id="Import-the-libraries"><a href="#Import-the-libraries" class="headerlink" title="Import the libraries"></a>Import the libraries</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">library(tidyr)</span><br><span class="line">library(skimr)</span><br><span class="line">library(GGally)</span><br><span class="line">library(viridis)</span><br><span class="line">library(caret)</span><br><span class="line">library(e1071)</span><br><span class="line">library(rpart)</span><br><span class="line">library(xgboost)</span><br><span class="line">library(forecast)</span><br><span class="line">library(corrplot)</span><br><span class="line">library(corrgram)</span><br><span class="line">library(ggplot2)</span><br><span class="line">library(ggthemes)</span><br><span class="line">library(psych)</span><br><span class="line">library(scales)</span><br><span class="line">library(treemap)</span><br><span class="line">library(repr)</span><br><span class="line">library(cowplot)</span><br><span class="line">library(magrittr)</span><br><span class="line">library(ggpubr)</span><br><span class="line">library(RColorBrewer)</span><br><span class="line">library(plotrix)</span><br><span class="line">library(ggrepel)</span><br><span class="line">library(tidyverse)</span><br><span class="line">library(gridExtra)</span><br><span class="line">library(lubridate)</span><br><span class="line">library(tibbletime)</span><br><span class="line">library(reshape2)</span><br><span class="line">library(prophet)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Load-the-data-and-return-the-head-of-data"><a href="#Load-the-data-and-return-the-head-of-data" class="headerlink" title="Load the data and return the head of data"></a>Load the data and return the head of data</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df &lt;- read.csv(&quot;&#x2F;Users&#x2F;yuxuan&#x2F;Desktop&#x2F;INT303-Avocado-prediction&#x2F;avocado-updated-2020.csv&quot;)</span><br><span class="line">head(df)</span><br><span class="line">colnames(df)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">date</th>
<th align="left">average_price</th>
<th align="left">total_volume</th>
<th align="left">X4046</th>
<th align="left">X4225</th>
<th align="left">X4770</th>
<th align="left">total_bags</th>
<th align="left">small_bags</th>
<th align="left">large_bags</th>
<th align="left">xlarge_bags</th>
<th align="left">type</th>
<th align="left">year</th>
<th align="left">geography</th>
</tr>
</thead>
<tbody><tr>
<td align="left"></td>
<td align="left"><fct></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><dbl></td>
<td align="left"><fct></td>
<td align="left"><int></td>
<td align="left"><fct></td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">2015-01-04</td>
<td align="left">1.22</td>
<td align="left">40873.28</td>
<td align="left">2819.50</td>
<td align="left">28287.42</td>
<td align="left">49.90</td>
<td align="left">9716.46</td>
<td align="left">9186.93</td>
<td align="left">529.53</td>
<td align="left">0</td>
<td align="left">conventional</td>
<td align="left">2015</td>
<td align="left">Albany</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">2015-01-04</td>
<td align="left">1.79</td>
<td align="left">1373.95</td>
<td align="left">57.42</td>
<td align="left">153.88</td>
<td align="left">0.00</td>
<td align="left">1162.65</td>
<td align="left">1162.65</td>
<td align="left">0.00</td>
<td align="left">0</td>
<td align="left">organic</td>
<td align="left">2015</td>
<td align="left">Albany</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">2015-01-04</td>
<td align="left">1.00</td>
<td align="left">435021.49</td>
<td align="left">364302.39</td>
<td align="left">23821.16</td>
<td align="left">82.15</td>
<td align="left">46815.79</td>
<td align="left">16707.15</td>
<td align="left">30108.64</td>
<td align="left">0</td>
<td align="left">conventional</td>
<td align="left">2015</td>
<td align="left">Atlanta</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">2015-01-04</td>
<td align="left">1.76</td>
<td align="left">3846.69</td>
<td align="left">1500.15</td>
<td align="left">938.35</td>
<td align="left">0.00</td>
<td align="left">1408.19</td>
<td align="left">1071.35</td>
<td align="left">336.84</td>
<td align="left">0</td>
<td align="left">organic</td>
<td align="left">2015</td>
<td align="left">Atlanta</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">2015-01-04</td>
<td align="left">1.08</td>
<td align="left">788025.06</td>
<td align="left">53987.31</td>
<td align="left">552906.04</td>
<td align="left">39995.03</td>
<td align="left">141136.68</td>
<td align="left">137146.07</td>
<td align="left">3990.61</td>
<td align="left">0</td>
<td align="left">conventional</td>
<td align="left">2015</td>
<td align="left">Baltimore/Washington</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">2015-01-04</td>
<td align="left">1.29</td>
<td align="left">19137.28</td>
<td align="left">8040.64</td>
<td align="left">6557.47</td>
<td align="left">657.48</td>
<td align="left">3881.69</td>
<td align="left">3881.69</td>
<td align="left">0.00</td>
<td align="left">0</td>
<td align="left">organic</td>
<td align="left">2015</td>
<td align="left">Baltimore/Washington</td>
</tr>
</tbody></table>
<h3 id="Check-whether-the-dataset-contains-the-missing-value"><a href="#Check-whether-the-dataset-contains-the-missing-value" class="headerlink" title="Check whether the dataset contains the missing value"></a>Check whether the dataset contains the missing value</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sum(is.na(df))</span><br></pre></td></tr></table></figure>
<p>The overall dataset do not contain any missing value</p>
<h3 id="Explore-the-data-and-some-clarification"><a href="#Explore-the-data-and-some-clarification" class="headerlink" title="Explore the data and some clarification"></a>Explore the data and some clarification</h3><h4 id="Explain-the-features"><a href="#Explain-the-features" class="headerlink" title="Explain the features"></a>Explain the features</h4><ul>
<li>date - The date of the observation</li>
<li>average_price - The average price of a single</li>
<li>total_volume - Total number of avocados sold</li>
<li>year - The year</li>
<li>type - conventional or organic</li>
<li>geography - The city or region of the observation</li>
</ul>
<h4 id="X4046-X4225-X4770-stands-for-the-PLU-code"><a href="#X4046-X4225-X4770-stands-for-the-PLU-code" class="headerlink" title="X4046, X4225, X4770 stands for the PLU code"></a>X4046, X4225, X4770 stands for the PLU code</h4><ul>
<li>Small/Medium Hass Avocado (~3-5oz avocado) | #4046 </li>
<li>Large Hass Avocado (~8-10oz avocado) | #4225 </li>
<li>Extra Large Hass Avocado (~10-15oz avocado) | #4770 </li>
</ul>
<h3 id="Exploratory-Data-Analysis"><a href="#Exploratory-Data-Analysis" class="headerlink" title="Exploratory Data Analysis"></a>Exploratory Data Analysis</h3><h4 id="Density-plot-of-the-difference-between-two-avocados"><a href="#Density-plot-of-the-difference-between-two-avocados" class="headerlink" title="Density plot of the difference between two avocados."></a>Density plot of the difference between two avocados.</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">levels(df$type)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">library(ggplot2)</span><br><span class="line">options(repr.plot.width &#x3D; 8, repr.plot.height &#x3D; 4)</span><br><span class="line">density_plot &lt;- ggplot(df, aes(x&#x3D;average_price, fill&#x3D;type))+</span><br><span class="line">  geom_density()+</span><br><span class="line">  facet_wrap(~type)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),legend.position &#x3D; &quot;bottom&quot;)+</span><br><span class="line">  labs(title &#x3D; &quot;Avocado Price by type&quot;)+</span><br><span class="line">  scale_fill_brewer(palette &#x3D; &quot;Set2&quot;)</span><br><span class="line">density_plot</span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..tZfBZbcjjkqxj4RmQEJoyw.A2C4X-_8qnKSkIVucnomHICENKUmjTPXUgT1XqFjrKp8Vwfpyt-nJXhYhke8yzjlDiL_FT1jvmw9GnBDuF_MeWzQUxn59txsXKEQ5TNxy2sZy6GYoHD4yeJb96CHu7tEvhTmc3Pf1nseFJUmMjAKCktdygT-uHDSuVQKAPNnGUpFNmn5fx_6OsujxRZO9TdXdWiqH1GGat_EqgxwZW-_o856VcxtNXe5WenELwGdFrP_fHsmRkvvcjtEmEXzl2_blPw6GMAdMmDD7WsNhKVd4zJoOVKvPx1awtn9623tYAqFfDJ3qzKqLfFAhNRAMsqQ-zfIos2ndjfK3YTRnRTKn_TX9TkPBnbni_OR6teuY24PW_hMZpFYW332SdtN2sCHyHke6Oaqgs6uq8l6jX14yyIMEhgiWkl5Usn36w1aLLtP4YQZIjO1m7B9FsVSOFeULVuVmThf6LyKuvsoG3N568gEqTKblQvj-_R0hUqGhc6W-3DZyE0hBoqgO__LBxbYYZ51DdMf-2bv2Hj99gNwuS-EVb1GFv__UrplkB63GGn-ftucHSQBkxSDoKlB0F99ZiGNWL4cmii009OqgG_mJQI9W-iqgB6sW3k3T3RdVL3QpdG-D3XEhYgfQTcMV6P23-9iQKNgOcTD1CWwWPVjsJfgu_NZHVIoUScEs9mdivE.1eUtwBW-D1O5QgrEgVmjhw/__results___files/__results___14_1.png" alt="img"></p>
<ol>
<li><h3 id="Create-a-matrix-to-demonstrate-the-volume-of-conventional-and-organic-avocados"><a href="#Create-a-matrix-to-demonstrate-the-volume-of-conventional-and-organic-avocados" class="headerlink" title="Create a matrix to demonstrate the volume of conventional and organic avocados"></a>Create a matrix to demonstrate the volume of conventional and organic avocados</h3></li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">library(dplyr)</span><br><span class="line">vol_type &lt;- df %&gt;% group_by(type) %&gt;% summarise(average_volume &#x3D; round(mean(total_volume),3),average_price &#x3D; round(mean(average_price),3)) %&gt;% mutate(volume_percent&#x3D; round(prop.table(average_volume)*100,3))</span><br><span class="line">vol_type</span><br><span class="line"></span><br><span class="line">#plu_conv &lt;- df %&gt;% select(type,total_volume,X4046,X4225,X4770) %&gt;% group_by(type) %&gt;% summarise(average_volume &#x3D; round(mean(total_volume),3),x4046 &#x3D; sum(X4046),x4225 &#x3D; sum(X4225),x4770 &#x3D; sum(X4770)) %&gt;% mutate(volume_percent&#x3D; round(prop.table(average_volume)*100,3))</span><br><span class="line">#plu_conv</span><br><span class="line"></span><br><span class="line">#cor(df$average_price,df$total_volume)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th align="center">type</th>
<th align="left">average_volume</th>
<th align="left">average_price</th>
<th align="left">volume_percent</th>
</tr>
</thead>
<tbody><tr>
<td align="center">organic</td>
<td align="left">60127.48</td>
<td align="left">1.624</td>
<td align="left">3.201%</td>
</tr>
<tr>
<td align="center">conventional</td>
<td align="left">1818206.02</td>
<td align="left">1.158</td>
<td align="left">96.799%</td>
</tr>
</tbody></table>
<p><strong>As can be seen from the density plot and the table in avocados.</strong> </p>
<ul>
<li>there are two types of avocado: organic and conventional  </li>
<li>organic avocado share a small percent (3.2%) of volume but has a high price (1.62)  </li>
<li>conventional avocado share a large percent (96.8) of volume but has a relative low price (1.16) </li>
</ul>
<h3 id="Compare-the-volume-of-each-avocado"><a href="#Compare-the-volume-of-each-avocado" class="headerlink" title="Compare the volume of each avocado"></a>Compare the volume of each avocado</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x4770 &lt;- df$X4770 %&gt;% sum()</span><br><span class="line">x4046 &lt;- df$X4046 %&gt;% sum()</span><br><span class="line">x4225 &lt;- df$X4225 %&gt;% sum()</span><br><span class="line">total_types &lt;- x4770+x4046+x4225</span><br><span class="line">total_types</span><br><span class="line">df$total_volume %&gt;% sum()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[1] &quot;The sum of volume in x4770, x4046, x4225 is:  18181860558.8&quot;</span><br><span class="line">[1] &quot;The sum of volume in the sum of total_volume:  28197362107.92&quot;</span><br></pre></td></tr></table></figure>
<p>The reason causing this difference is that there are different kinds of avocados, this dataset only consider the plu code of Hass avocados, it is obvious that it will cause the difference</p>
<h3 id="Avocado-price-from-2015-2020"><a href="#Avocado-price-from-2015-2020" class="headerlink" title="Avocado price from 2015-2020"></a>Avocado price from 2015-2020</h3><figure class="highlight plain"><figcaption><span>ggplot&#125;</span></figcaption><table><tr><td class="code"><pre><span class="line">library(ggplot2)</span><br><span class="line">## Change the Date column from factor to the date format</span><br><span class="line">df$date &lt;- as.Date(df$date, &quot;%Y-%m-%d&quot;)</span><br><span class="line"></span><br><span class="line">## Sort the dates and order the datesets in date</span><br><span class="line">df &lt;- df[order(df$date),]</span><br><span class="line"></span><br><span class="line">## Make the plot</span><br><span class="line">comparision_plot &lt;- df %&gt;% select(date, average_price, type) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;date,y&#x3D;average_price))+</span><br><span class="line">  geom_area(aes(color&#x3D;type,fill&#x3D;type),alpha&#x3D;0.3,position&#x3D;position_dodge(0.8))+</span><br><span class="line">  theme_bw()+</span><br><span class="line">  scale_color_manual(values &#x3D; c(&quot;#ED7921&quot;,&quot;#62BE51&quot;))+</span><br><span class="line">  scale_fill_manual(values &#x3D; c(&quot;#FD833E&quot;,&quot;#B8FC5F&quot;)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">comparision_plot</span><br><span class="line">#plot_grid(density_plot,comparision,ncol &#x3D; 2)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..tZfBZbcjjkqxj4RmQEJoyw.A2C4X-_8qnKSkIVucnomHICENKUmjTPXUgT1XqFjrKp8Vwfpyt-nJXhYhke8yzjlDiL_FT1jvmw9GnBDuF_MeWzQUxn59txsXKEQ5TNxy2sZy6GYoHD4yeJb96CHu7tEvhTmc3Pf1nseFJUmMjAKCktdygT-uHDSuVQKAPNnGUpFNmn5fx_6OsujxRZO9TdXdWiqH1GGat_EqgxwZW-_o856VcxtNXe5WenELwGdFrP_fHsmRkvvcjtEmEXzl2_blPw6GMAdMmDD7WsNhKVd4zJoOVKvPx1awtn9623tYAqFfDJ3qzKqLfFAhNRAMsqQ-zfIos2ndjfK3YTRnRTKn_TX9TkPBnbni_OR6teuY24PW_hMZpFYW332SdtN2sCHyHke6Oaqgs6uq8l6jX14yyIMEhgiWkl5Usn36w1aLLtP4YQZIjO1m7B9FsVSOFeULVuVmThf6LyKuvsoG3N568gEqTKblQvj-_R0hUqGhc6W-3DZyE0hBoqgO__LBxbYYZ51DdMf-2bv2Hj99gNwuS-EVb1GFv__UrplkB63GGn-ftucHSQBkxSDoKlB0F99ZiGNWL4cmii009OqgG_mJQI9W-iqgB6sW3k3T3RdVL3QpdG-D3XEhYgfQTcMV6P23-9iQKNgOcTD1CWwWPVjsJfgu_NZHVIoUScEs9mdivE.1eUtwBW-D1O5QgrEgVmjhw/__results___files/__results___22_0.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ggplot(data&#x3D;df, aes(x&#x3D;date, y&#x3D;average_price,col&#x3D;type))+</span><br><span class="line">  geom_line()+</span><br><span class="line">  facet_wrap(~ type)+</span><br><span class="line">  theme_bw()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;position&quot;)</span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..tZfBZbcjjkqxj4RmQEJoyw.A2C4X-_8qnKSkIVucnomHICENKUmjTPXUgT1XqFjrKp8Vwfpyt-nJXhYhke8yzjlDiL_FT1jvmw9GnBDuF_MeWzQUxn59txsXKEQ5TNxy2sZy6GYoHD4yeJb96CHu7tEvhTmc3Pf1nseFJUmMjAKCktdygT-uHDSuVQKAPNnGUpFNmn5fx_6OsujxRZO9TdXdWiqH1GGat_EqgxwZW-_o856VcxtNXe5WenELwGdFrP_fHsmRkvvcjtEmEXzl2_blPw6GMAdMmDD7WsNhKVd4zJoOVKvPx1awtn9623tYAqFfDJ3qzKqLfFAhNRAMsqQ-zfIos2ndjfK3YTRnRTKn_TX9TkPBnbni_OR6teuY24PW_hMZpFYW332SdtN2sCHyHke6Oaqgs6uq8l6jX14yyIMEhgiWkl5Usn36w1aLLtP4YQZIjO1m7B9FsVSOFeULVuVmThf6LyKuvsoG3N568gEqTKblQvj-_R0hUqGhc6W-3DZyE0hBoqgO__LBxbYYZ51DdMf-2bv2Hj99gNwuS-EVb1GFv__UrplkB63GGn-ftucHSQBkxSDoKlB0F99ZiGNWL4cmii009OqgG_mJQI9W-iqgB6sW3k3T3RdVL3QpdG-D3XEhYgfQTcMV6P23-9iQKNgOcTD1CWwWPVjsJfgu_NZHVIoUScEs9mdivE.1eUtwBW-D1O5QgrEgVmjhw/__results___files/__results___23_0.png" alt="img"></p>
<ul>
<li>The price of organic avocados are always higher than normal</li>
<li>The price of both avocados follow some seasonal patterns, which obeyed the commob view</li>
<li>Whether the relationship between the volume and price existed need to be explored in the following part</li>
</ul>
<h3 id="Relationship-between-Prices-and-Total-on-either-conventional-or-organic-avocados"><a href="#Relationship-between-Prices-and-Total-on-either-conventional-or-organic-avocados" class="headerlink" title="Relationship between Prices and Total on either conventional or organic avocados"></a>Relationship between Prices and Total on either conventional or organic avocados</h3><h4 id="Filter-the-data-into-two-categories-conventional-or-organic"><a href="#Filter-the-data-into-two-categories-conventional-or-organic" class="headerlink" title="Filter the data into two categories, conventional or organic"></a>Filter the data into two categories, conventional or organic</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">organic &lt;- df %&gt;% select(type,average_price,total_volume,date) %&gt;% filter(type&#x3D;&#x3D;&quot;organic&quot;)</span><br><span class="line">#head(organic)</span><br><span class="line">conventional &lt;- df %&gt;% select(type,average_price,total_volume,date) %&gt;% filter(type&#x3D;&#x3D;&quot;conventional&quot;)</span><br><span class="line">#head(conventional)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>tribble_tabel&#125;</span></figcaption><table><tr><td class="code"><pre><span class="line">library(tibbletime)</span><br><span class="line">organic &lt;- as_tbl_time(organic,index &#x3D; date) %&gt;% as_period(&#39;1 month&#39;)</span><br><span class="line">conventional &lt;- as_tbl_time(conventional,index &#x3D; date) %&gt;% as_period(&#39;monthly&#39;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Monthly-avocados-price-in-either-conventional-or-organic-avocados"><a href="#Monthly-avocados-price-in-either-conventional-or-organic-avocados" class="headerlink" title="Monthly avocados price in either conventional or organic avocados"></a>Monthly avocados price in either conventional or organic avocados</h4><figure class="highlight plain"><figcaption><span>cowplot, fig.width </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">library(ggplot2)</span><br><span class="line">library(ggthemes)</span><br><span class="line">library(cowplot)</span><br><span class="line"></span><br><span class="line">options(repr.plot.width&#x3D;8, repr.plot.height&#x3D;6)</span><br><span class="line"></span><br><span class="line">## average-price with time series</span><br><span class="line">conventional_monthly &lt;- conventional %&gt;%</span><br><span class="line">    ggplot(aes(x&#x3D;date,y&#x3D;average_price))+</span><br><span class="line">    geom_line(color&#x3D;&quot;#5C374C&quot;)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill &#x3D; &quot;#D5D8DC&quot;))+</span><br><span class="line">    labs(title &#x3D; &quot;Conventional Avocados&quot;)+</span><br><span class="line">    geom_hline(yintercept &#x3D; max(conventional$average_price),linetype&#x3D;&quot;dashed&quot;,color &#x3D; &quot;red&quot;)+</span><br><span class="line">    geom_hline(yintercept &#x3D; min(conventional$average_price),linetype&#x3D;&quot;dashed&quot;,color &#x3D; &quot;blue&quot;)</span><br><span class="line"></span><br><span class="line">organic_monthly &lt;- organic %&gt;%</span><br><span class="line">    ggplot(aes(x&#x3D;date,y&#x3D;average_price))+</span><br><span class="line">    geom_line(color&#x3D;&quot;#58D68D&quot;)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill &#x3D; &quot;#D5D8DC&quot;))+</span><br><span class="line">    labs(title &#x3D; &quot;Organic Avocados&quot;)+</span><br><span class="line">    geom_hline(yintercept &#x3D; max(organic$average_price),linetype&#x3D;&quot;dashed&quot;,color &#x3D; &quot;red&quot;)+</span><br><span class="line">    geom_hline(yintercept &#x3D; min(organic$average_price),linetype&#x3D;&quot;dashed&quot;,color &#x3D; &quot;blue&quot;)</span><br><span class="line"></span><br><span class="line">## create a volume chart</span><br><span class="line">conventional_volume &lt;- conventional %&gt;%</span><br><span class="line">    ggplot(aes(x&#x3D;date,y&#x3D;total_volume))+</span><br><span class="line">    geom_bar(stat &#x3D; &#39;identity&#39;,fill&#x3D;&quot;#7FB3D5&quot;,color&#x3D;&quot;black&quot;)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill &#x3D; &quot;#D5D8DC&quot;))+</span><br><span class="line">    geom_smooth(method &#x3D; &quot;loess&quot;,color&#x3D;&quot;red&quot;)</span><br><span class="line"></span><br><span class="line">organic_volume &lt;- organic %&gt;%</span><br><span class="line">    ggplot(aes(x&#x3D;date,y&#x3D;total_volume))+</span><br><span class="line">    geom_bar(stat &#x3D; &#39;identity&#39;,fill&#x3D;&#39;#58D68D&#39;,color&#x3D;&quot;black&quot;)+</span><br><span class="line">    theme_economist()+</span><br><span class="line">    theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill &#x3D; &quot;#D5D8DC&quot;))+</span><br><span class="line">    geom_smooth(method &#x3D; &quot;loess&quot;,color &#x3D;&quot;red&quot;)</span><br><span class="line"></span><br><span class="line">plot_grid(conventional_monthly,organic_monthly,conventional_volume,organic_volume,nrow &#x3D; 2,ncol &#x3D; 2,labels &#x3D; c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;))</span><br><span class="line"></span><br><span class="line">#plot_grid(conventional_monthly,conventional_volume,nrow &#x3D; 2)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..tZfBZbcjjkqxj4RmQEJoyw.A2C4X-_8qnKSkIVucnomHICENKUmjTPXUgT1XqFjrKp8Vwfpyt-nJXhYhke8yzjlDiL_FT1jvmw9GnBDuF_MeWzQUxn59txsXKEQ5TNxy2sZy6GYoHD4yeJb96CHu7tEvhTmc3Pf1nseFJUmMjAKCktdygT-uHDSuVQKAPNnGUpFNmn5fx_6OsujxRZO9TdXdWiqH1GGat_EqgxwZW-_o856VcxtNXe5WenELwGdFrP_fHsmRkvvcjtEmEXzl2_blPw6GMAdMmDD7WsNhKVd4zJoOVKvPx1awtn9623tYAqFfDJ3qzKqLfFAhNRAMsqQ-zfIos2ndjfK3YTRnRTKn_TX9TkPBnbni_OR6teuY24PW_hMZpFYW332SdtN2sCHyHke6Oaqgs6uq8l6jX14yyIMEhgiWkl5Usn36w1aLLtP4YQZIjO1m7B9FsVSOFeULVuVmThf6LyKuvsoG3N568gEqTKblQvj-_R0hUqGhc6W-3DZyE0hBoqgO__LBxbYYZ51DdMf-2bv2Hj99gNwuS-EVb1GFv__UrplkB63GGn-ftucHSQBkxSDoKlB0F99ZiGNWL4cmii009OqgG_mJQI9W-iqgB6sW3k3T3RdVL3QpdG-D3XEhYgfQTcMV6P23-9iQKNgOcTD1CWwWPVjsJfgu_NZHVIoUScEs9mdivE.1eUtwBW-D1O5QgrEgVmjhw/__results___files/__results___29_1.png"></p>
<ul>
<li>In order to find the seasonal patterns, I used the average price and volume in each month to conduct data analysis</li>
<li>Figure A,B stands for the average price in each month (monthly)</li>
<li>Blue dashed line stands for the minimum value while the red dashed value stands for the max value</li>
<li>The most expensive conventional avocados in one month could 1.8 $, the cheapest month of conventional avocados can be 0.82 $</li>
<li>The most expensive organic avocados in one month could 2.1 $, the cheapest month of conventional avocados can be 1.21 $</li>
<li>Figure C,D stands for the volume in each month, the red line stands for the trend</li>
<li>The love of American people are consistent, the sold volume continues to grow (conventional avocado)</li>
<li>Regarding with the organic avocados, in 2019-2020, possibly owing to the decline of economic situation and the covid 19 pandemic after 2020</li>
<li>The volume patterns could follow some seasonal patterns and need further analysis</li>
</ul>
<h3 id="Patterns-among-the-years-in-each-month-Autoplot-library"><a href="#Patterns-among-the-years-in-each-month-Autoplot-library" class="headerlink" title="Patterns among the years in each month (Autoplot library)"></a>Patterns among the years in each month (Autoplot library)</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Process the data into year and month format</span></span><br><span class="line">library(forecast)</span><br><span class="line">seasonal_df &lt;- read.csv(<span class="string">&quot;/Users/yuxuan/Desktop/INT303-Avocado-prediction/avocado-updated-2020.csv&quot;</span>)</span><br><span class="line">seasonal_df$month_year &lt;- format(as.Date(seasonal_df$date),<span class="string">&quot;%Y-%m&quot;</span>)</span><br><span class="line">seasonal_df$month &lt;- format(as.Date(seasonal_df$date),<span class="string">&quot;%m&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Change the month from a Date format into a numerical foramt, then convert to the three letter format</span></span><br><span class="line"></span><br><span class="line">seasonal_df$monthabb &lt;- sapply(seasonal_df$month, <span class="keyword">function</span> (x) <span class="built_in">month.abb</span>[<span class="built_in">as.numeric</span>(x)])</span><br><span class="line">seasonal_df$monthabb &lt;- factor(seasonal_df$monthabb,levels=<span class="built_in">month.abb</span>)</span><br><span class="line">seasonal_df$monthabb &lt;- factor(seasonal_df$monthabb)</span><br></pre></td></tr></table></figure>

<p>â€‹                              </p>
<h3 id="Seasonal-patterns-analysis"><a href="#Seasonal-patterns-analysis" class="headerlink" title="Seasonal patterns analysis"></a>Seasonal patterns analysis</h3><p>Avocado price (both organic and conventional) distribution plot from 2015 to 2020</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ggplot(seasonal_df,aes(x&#x3D;average_price,fill&#x3D;as.factor(year)))+</span><br><span class="line">geom_density(alpha&#x3D;0.5)+</span><br><span class="line">theme_economist()+</span><br><span class="line">facet_wrap(~year)+</span><br><span class="line">theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">guides(fill&#x3D;FALSE)+</span><br><span class="line">labs(title &#x3D; &quot;Distribution of Prices by year&quot;,x&#x3D;&#39;Average Price&#39;,y&#x3D;&#39;Density&#39;)+</span><br><span class="line">scale_fill_manual(values &#x3D; c(&quot;#DA4511&quot;, &quot;#FFBD00&quot;, &quot;#6A953F&quot;, &quot;#9A6233&quot;, &quot;#D3AE7C&quot;, &quot;#307CA1&quot;))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___35_0.png" alt="img"></p>
<ul>
<li>The distribution plot of each year from 2015 to 2020</li>
<li>2017 is the year when avocado price functions like the normal distribution plot</li>
</ul>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">## Set the figure size</span></span><br><span class="line"></span><br><span class="line">options(repr.plot.width=<span class="number">10</span>,repr.plot.height=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Analyze the price by month</span></span><br><span class="line"></span><br><span class="line">conv_price &lt;- seasonal_df %&gt;% select(type,year,monthabb,average_price) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(average_price))</span><br><span class="line"></span><br><span class="line">org_price &lt;- seasonal_df %&gt;% select(type,year,monthabb,average_price) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(average_price))</span><br><span class="line"></span><br><span class="line">conv_price &lt;- ts(conv_price$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line">org_price &lt;- ts(org_price$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Analyze the volume by month</span></span><br><span class="line"></span><br><span class="line">conv_volume &lt;- seasonal_df %&gt;% select(type,year,monthabb,total_volume) %&gt;% filter(type==<span class="string">&quot;conventional&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(total_volume))</span><br><span class="line"></span><br><span class="line">org_volume &lt;- seasonal_df %&gt;% select(type,year,monthabb,total_volume) %&gt;% filter(type==<span class="string">&quot;organic&quot;</span>) %&gt;% group_by(year,monthabb) %&gt;% summarise(avg=mean(total_volume))</span><br><span class="line"></span><br><span class="line">conv_volume &lt;- ts(conv_volume$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line">org_volume &lt;- ts(org_volume$avg,start = <span class="number">2015</span>,frequency = <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">byyearplot_price_conv &lt;- ggseasonplot(conv_price,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average conventional Avocados price \n by year for each month&quot;</span>, y=<span class="string">&quot;Average Price&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_price_org &lt;- ggseasonplot(org_price,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average organic Avocados price \n by year for each month&quot;</span>, y=<span class="string">&quot;Average Price&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_volume_conv &lt;- ggseasonplot(conv_volume,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average conventional Avocados volume \n by year for each month&quot;</span>, y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">byyearplot_volume_org &lt;- ggseasonplot(org_volume,year.labels = <span class="literal">TRUE</span>,year.labels.left = <span class="literal">TRUE</span>)+</span><br><span class="line">theme_economist()+</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>),plot.background = element_rect(fill=<span class="string">&quot;#D5D8DC&quot;</span>))+</span><br><span class="line">labs(title = <span class="string">&quot;Average organic Avocados volume by year \n for each month&quot;</span>, y=<span class="string">&quot;Average volume&quot;</span>)+</span><br><span class="line">scale_fill_manual(values = <span class="built_in">c</span>(<span class="string">&quot;#922B21&quot;</span>, <span class="string">&quot;#EE865D&quot;</span>, <span class="string">&quot;#DDCD5E&quot;</span>, <span class="string">&quot;#59BEC4&quot;</span>, <span class="string">&quot;#048B9F&quot;</span>, <span class="string">&quot;#114676&quot;</span>))</span><br><span class="line"></span><br><span class="line">plot_grid(byyearplot_price_conv,byyearplot_price_org,byyearplot_volume_conv,byyearplot_volume_org,nrow = <span class="number">2</span>,ncol = <span class="number">2</span>,labels = <span class="built_in">c</span>(<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___37_1.png" alt="img"></p>
<h3 id="Seasonality-patterns"><a href="#Seasonality-patterns" class="headerlink" title="Seasonality patterns"></a>Seasonality patterns</h3><h4 id="Monthly-analysis"><a href="#Monthly-analysis" class="headerlink" title="Monthly analysis"></a>Monthly analysis</h4><figure class="highlight plain"><figcaption><span>seaonal patterns, fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">options(repr.plot.width&#x3D;10,repr.plot.height&#x3D;8)</span><br><span class="line">conv_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% filter(type&#x3D;&#x3D;&quot;conventional&quot;) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;monthabb, y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Conventional Avocados&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">organic_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% filter(type&#x3D;&#x3D;&quot;organic&quot;) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(average_price)) %&gt;%</span><br><span class="line">ggplot(aes(x&#x3D;monthabb,y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Organic Avocados&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">whole_patterns &lt;- seasonal_df %&gt;% select(monthabb,average_price,type) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;monthabb,y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;All Avocados&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plot_grid(conv_patterns,organic_patterns,whole_patterns,nrow &#x3D; 3)</span><br><span class="line">#conv_patterns</span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___39_1.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conv_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% filter(type&#x3D;&#x3D;&quot;conventional&quot;) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(total_volume)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;monthabb, y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Conventional Avocados volume&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">organic_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% filter(type&#x3D;&#x3D;&quot;organic&quot;) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(total_volume)) %&gt;%</span><br><span class="line">ggplot(aes(x&#x3D;monthabb,y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Organic Avocados volume&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">whole_patterns_vol &lt;- seasonal_df %&gt;% select(monthabb,total_volume,type) %&gt;% group_by(monthabb) %&gt;% summarise(avg&#x3D;mean(total_volume)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;monthabb,y&#x3D;avg))+</span><br><span class="line">  geom_point(color&#x3D;&quot;#F35D5D&quot;,aes(size&#x3D;avg))+</span><br><span class="line">  geom_line(group&#x3D;0)+</span><br><span class="line">  theme_economist()+</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;,plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#D5D8DC&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;All Avocados volume&quot;,x&#x3D;&quot;Month&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plot_grid(conv_patterns_vol,organic_patterns_vol,whole_patterns_vol,nrow &#x3D; 3)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___40_1.png" alt="img"></p>
<ul>
<li>Overall, the avocado price could reach the peak of the year during Sep and Oct, and Feb could be the lowest price</li>
<li>Regarding with the volume avocado sold, American people like to buy avocado at Feb and May, but not at Nov</li>
<li>Based on the research, avocado tend to ripe at Aug and Sep, plus the time in transportation and packaging, it is unavoidable that it could have some delay</li>
<li>From the plot we could see that the trend in Aug are positive</li>
<li>We could see that the sold volume and price demonstrated some negative correlation at some time, which obeys our common sense, people like buying staffs when their price are low</li>
<li>Meanwhile, some positive correlation could be discovered between price and volumes, the hypothesis is that the newly harvest avocados are definitely in high quality and the previous stored avocados could be consumed significantly, which means there is a gap between demand and output</li>
<li>The volumes are increasing with the time which possibly because of the widely broadcasting.</li>
</ul>
<h4 id="Seasonal-patterns"><a href="#Seasonal-patterns" class="headerlink" title="Seasonal patterns"></a>Seasonal patterns</h4><figure class="highlight plain"><figcaption><span>fig.height </span></figcaption><table><tr><td class="code"><pre><span class="line">options(repr.plot.width&#x3D;10,repr.plot.height&#x3D;8)</span><br><span class="line"></span><br><span class="line">## seperate the month into four seasons</span><br><span class="line">seasonal_df$season &lt;- ifelse(seasonal_df$month %in% c(&quot;03&quot;,&quot;04&quot;,&quot;05&quot;),&quot;Spring&quot;,</span><br><span class="line">ifelse(seasonal_df$month %in% c(&quot;06&quot;,&quot;07&quot;,&quot;08&quot;),&quot;Summer&quot;,</span><br><span class="line">ifelse(seasonal_df$month %in% c(&quot;09&quot;,&quot;10&quot;,&quot;11&quot;),&quot;Autumn&quot;,&quot;Winter&quot;)))</span><br><span class="line"></span><br><span class="line">## Prepare to analyze the results</span><br><span class="line">seasonality_plot_conventional_price &lt;- seasonal_df %&gt;% select(season,year,average_price,type) %&gt;% filter(type &#x3D;&#x3D;&quot;conventional&quot;) %&gt;% group_by(season,year) %&gt;% summarise(avg&#x3D;mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;season,y&#x3D;avg,color&#x3D;season))+</span><br><span class="line">  geom_segment(aes(x&#x3D;season,xend&#x3D;season,y&#x3D;0,yend&#x3D;avg),show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Conventional Avocados average price by Season&quot;,x&#x3D;&quot;&quot;,y&#x3D;&quot;Average price&quot;)+</span><br><span class="line">  geom_text(aes(x&#x3D;season,y&#x3D;0.01,label&#x3D;paste0(&quot;$ &quot;,round(avg,2))),hjust&#x3D;-0.5,vjust&#x3D;-0.5,size&#x3D;4,color&#x3D;&quot;black&quot;,fontface&#x3D;&#39;italic&#39;,angle&#x3D;360)</span><br><span class="line"></span><br><span class="line">seasonality_plot_conventional_volume &lt;- seasonal_df %&gt;% select(season,year,total_volume,type) %&gt;% filter(type&#x3D;&#x3D;&quot;conventional&quot;) %&gt;% group_by(season,year) %&gt;% summarise(avg&#x3D;round(mean(total_volume&#x2F;1000000),2)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;season,y&#x3D;avg,color&#x3D;season))+</span><br><span class="line">  geom_segment(aes(x&#x3D;season,xend&#x3D;season,y&#x3D;0,yend&#x3D;avg),show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Conventional Avocados total volume by Season&quot;,x&#x3D;&quot;&quot;,y&#x3D;&quot;Average volume&quot;)+</span><br><span class="line">  geom_text(aes(x&#x3D;season,y&#x3D;0.01,label&#x3D;paste0(avg,&quot; m&quot;)),hjust&#x3D;-0.5,vjust&#x3D;-0.5,size&#x3D;4,color&#x3D;&quot;black&quot;,fontface&#x3D;&#39;italic&#39;,angle&#x3D;360)</span><br><span class="line"></span><br><span class="line">#plot_grid(seasonality_plot_conventional_price,seasonality_plot_conventional_volume,nrow &#x3D; 2)</span><br><span class="line"></span><br><span class="line">seasonality_plot_organic_price &lt;- seasonal_df %&gt;% select(season,year,average_price,type) %&gt;% filter(type &#x3D;&#x3D;&quot;organic&quot;) %&gt;% group_by(season,year) %&gt;% summarise(avg&#x3D;mean(average_price)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;season,y&#x3D;avg,color&#x3D;season))+</span><br><span class="line">  geom_segment(aes(x&#x3D;season,xend&#x3D;season,y&#x3D;0,yend&#x3D;avg),show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Organic Avocados average price by Season&quot;,x&#x3D;&quot;&quot;,y&#x3D;&quot;Average price&quot;)+</span><br><span class="line">  geom_text(aes(x&#x3D;season,y&#x3D;0.01,label&#x3D;paste0(&quot;$ &quot;,round(avg,2))),hjust&#x3D;-0.5,vjust&#x3D;-0.5,size&#x3D;4,color&#x3D;&quot;black&quot;,fontface&#x3D;&#39;italic&#39;,angle&#x3D;360)</span><br><span class="line"></span><br><span class="line">seasonality_plot_organic_volume &lt;- seasonal_df %&gt;% select(season,year,total_volume,type) %&gt;% filter(type&#x3D;&#x3D;&quot;organic&quot;) %&gt;% group_by(season,year) %&gt;% summarise(avg&#x3D;round(mean(total_volume&#x2F;1000000),2)) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;season,y&#x3D;avg,color&#x3D;season))+</span><br><span class="line">  geom_segment(aes(x&#x3D;season,xend&#x3D;season,y&#x3D;0,yend&#x3D;avg),show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  facet_wrap(~as.factor(year))+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Organic Avocados total volume by Season&quot;,x&#x3D;&quot;&quot;,y&#x3D;&quot;Average volume&quot;)+</span><br><span class="line">  geom_text(aes(x&#x3D;season,y&#x3D;0.01,label&#x3D;paste0(avg,&quot; m&quot;)),hjust&#x3D;-0.5,vjust&#x3D;-0.5,size&#x3D;4,color&#x3D;&quot;black&quot;,fontface&#x3D;&#39;italic&#39;,angle&#x3D;360)</span><br><span class="line"></span><br><span class="line">plot_grid(seasonality_plot_conventional_price,seasonality_plot_organic_price,seasonality_plot_conventional_volume,seasonality_plot_organic_volume,nrow &#x3D; 2,ncol &#x3D; 2,labels &#x3D; c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___43_1.png" alt="img"></p>
<ul>
<li>Spring (3-5), Summer (6-8), Autumn (9-11), Winter (12-2)</li>
<li>Figure A, B stands for the average price of avocados for either conventional or organic</li>
<li>Figure C, D stands for the volume sold for either conventional or organic, the unit is million (m)</li>
<li>In summary:<ul>
<li>it is relative cheaper to avocado in Spring or Winter</li>
<li>avocado most sold in Spring and Summer since it is close to the next round of ripen in avocado and the market are in great supply of avocados</li>
</ul>
</li>
</ul>
<h3 id="Find-the-city-where-avocadoâ€™s-price-is-lowest"><a href="#Find-the-city-where-avocadoâ€™s-price-is-lowest" class="headerlink" title="Find the city where avocadoâ€™s price is lowest"></a>Find the city where avocadoâ€™s price is lowest</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">library(forcats)</span><br><span class="line">geo_conv_price &lt;- seasonal_df %&gt;% select(geography,average_price,type) %&gt;% filter(type&#x3D;&#x3D;&quot;conventional&quot;) %&gt;% group_by(geography)%&gt;%  summarise(avg&#x3D;round(mean(average_price),2)) %&gt;% arrange(avg) %&gt;% slice(1:6)  %&gt;% mutate(geography&#x3D;fct_reorder(geography,desc(avg))) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;geography,y&#x3D;avg))+</span><br><span class="line">  geom_bar(stat &#x3D; &quot;identity&quot;,position &#x3D; &quot;dodge&quot;,alpha&#x3D;.6,width &#x3D;.4,show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  geom_text(aes(label&#x3D;avg),vjust&#x3D;1.5,color&#x3D;&#39;black&#39;,size&#x3D;5)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(title &#x3D; element_text(hjust &#x3D; 0.6),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Conventional Avocados average price by geography&quot;,x&#x3D;&quot;Geography place&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">geo_org_price &lt;- seasonal_df %&gt;% select(geography,average_price,type) %&gt;% filter(type&#x3D;&#x3D;&quot;organic&quot;) %&gt;% group_by(geography)%&gt;%  summarise(avg&#x3D;round(mean(average_price),2)) %&gt;% arrange(avg) %&gt;% slice(1:6) %&gt;% mutate(geography&#x3D;fct_reorder(geography,desc(avg))) %&gt;%</span><br><span class="line">  ggplot(aes(x&#x3D;geography,y&#x3D;avg))+</span><br><span class="line">  geom_bar(stat &#x3D; &quot;identity&quot;,position &#x3D; &quot;dodge&quot;,alpha&#x3D;.6,width &#x3D;.4,show.legend &#x3D; FALSE)+</span><br><span class="line">  coord_flip()+</span><br><span class="line">  geom_text(aes(label&#x3D;avg),vjust&#x3D;1.5,color&#x3D;&#39;black&#39;,size&#x3D;5)+</span><br><span class="line">  theme_minimal()+</span><br><span class="line">  theme(title &#x3D; element_text(hjust &#x3D; 0.6),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Organic Avocados average price by geography&quot;,x&#x3D;&quot;Geography place&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">plot_grid(geo_conv_price,geo_org_price,nrow &#x3D; 2)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___47_1.png" alt="img"></p>
<ul>
<li>Use the calculation to return the six cities or regions whether the average price for avocados is lowest</li>
<li>Based on the research from map, Top 5 is close to the Mexico, where the avocado originated</li>
<li>These places are possibly the region to supply avocado</li>
</ul>
<h3 id="The-future-price-prediction"><a href="#The-future-price-prediction" class="headerlink" title="The future price prediction"></a>The future price prediction</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">library(prophet)</span><br><span class="line">library(cowplot)</span><br><span class="line">library(gridExtra)</span><br><span class="line">library(ggplot2)</span><br><span class="line">library(ggpubr)</span><br><span class="line">library(devtools)</span><br><span class="line">## Select and filter the data and fit the model</span><br><span class="line">price_predict &lt;- df %&gt;% select(date,average_price) %&gt;% group_by(date) %&gt;% summarise(avg&#x3D;mean(average_price))</span><br><span class="line">colnames(price_predict) &lt;- c(&#39;ds&#39;,&#39;y&#39;)</span><br><span class="line">model &lt;- prophet(price_predict,daily.seasonality &#x3D; TRUE)</span><br><span class="line"></span><br><span class="line">## make prediction or forecast the results</span><br><span class="line">future &lt;- make_future_dataframe(model,periods &#x3D; 365)</span><br><span class="line">forecast &lt;- predict(model,future)</span><br><span class="line">plot(model,forecast)+</span><br><span class="line">theme_minimal()+</span><br><span class="line">  theme(plot.title &#x3D; element_text(hjust &#x3D; 0.5),plot.background &#x3D; element_rect(fill&#x3D;&quot;#F4F6F7&quot;))+</span><br><span class="line">  labs(title &#x3D; &quot;Avocados price prediction in next year&quot;,x&#x3D;&quot;year&quot;,y&#x3D;&quot;Average Price&quot;)</span><br><span class="line"></span><br><span class="line">trend &lt;- prophet_plot_components(model,forecast)</span><br><span class="line"></span><br><span class="line">year_trend &lt;- trend[1]</span><br><span class="line">month_trend &lt;- trend[3]</span><br><span class="line">week_trend &lt;- trend[2]</span><br><span class="line">time_trend &lt;- trend[4]</span><br><span class="line"></span><br><span class="line">overall_trend &lt;- c(year_trend,month_trend,week_trend,time_trend)</span><br><span class="line">ggarrange(plotlist &#x3D; overall_trend, labels &#x3D; c(&#39;A&#39;, &#39;B&#39;,&#39;C&#39;,&#39;D&#39;))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://www.kaggleusercontent.com/kf/49257785/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Z0nhYvsbYiSXOwi0a3e_Vg.wiLxMBjmfH5zWgzbsyZmfX2LJ0G-TVaPvleMT_PnWnotXv9dMjLJOtv8HFfJB7VIKvaAiOuXOOnNoTfWMLNEsEmQ1mmHeVxFySzLDhVmEuNmhxbLPABCkDVdAAYu7lR3qLD4xuVLxb3CB1zqFhx00gKpCQ0KuMvuDogyMx8hZRnqRMpmN1BUdn9El9QgP0b39UCV6mFT_PHsMspROzMRXXWyLHa2OZk4LsOrllmxRmB2Z9QPNQumEVqNYhwLRXXaANlyENe5DUxBwdfHmK5317bJ12u_rA7mhEhbeV-0eqtoXoB-qJq2HVUfK1W8iEs6QQbGRR7HmPZ2HQO9EKmlZgJKoqLfa7YVA2yznP33QAvi-BHRStxgPRM36xNkRbGb8tTSf0KpaEqFZ2efZ15GqoD1LWYpCRxpZuuvV7B7Z24dQDZ-QfqKubUyzTDhrvSM3G0TBgWBt5fTNyP63r-FAuGXScA7BGlTIIyRQ23XG0w6Mg8X-ce0e2YbLK92ZgH9XIpuWrwdHEoNTCGhjWqrlJPSqkwLeceQhVxUlmEpVGQjC84iUebEnoPU7sNGzis1_haznEpo_OluFxMsvGGa6rpfmRKYHFo4U59pFOhZdUyAHICe_GdGbI73ue-mbyOKSs34XNlRW8m6ooJwM1Z2UaGKQqW1ZOyByXQKf3_Wobs.rI46PCTrAXYR5Yqoaj5Dlg/__results___files/__results___52_0.png" alt="img"></p>
<ul>
<li>Figure A is analyze based on year: Since 2015, the average price of avocados continues to grow and 2017 was a crazy year, they grow in a speed higher than 1.3; After 2018, the average price tend to be stable, but still has a rate about 1.28; Regarding to the future prediction, the range is about [1.20-1.34]. But considering the pandemic in North America, the possible rate could be 1.20</li>
<li>Figure B is the analysis based on month: we could see that during May, the price tend to grow in a positive way and this trend continues to grow to Oct; After Oct, the price starts to decrease, which follows the previous analysis</li>
<li>Figure C is the analysis based on week. The average price follow the rule that ordinary family shopping habits, they prefer to buy things during weekends, so the price during weekends could be higher in other days</li>
</ul>
<hr>
<h3 id="Other-platforms"><a href="#Other-platforms" class="headerlink" title="Other platforms:"></a>Other platforms:</h3><p><strong>kaggle:</strong> <a class="link"   href="https://www.kaggle.com/yuxuanwu17/eda-of-avocado-price-from-2015-to-2020" >https://www.kaggle.com/yuxuanwu17/eda-of-avocado-price-from-2015-to-2020<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>zhihu (Chinese version):</strong> <a class="link"   href="https://zhuanlan.zhihu.com/p/332699778" >https://zhuanlan.zhihu.com/p/332699778<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>Github:</strong> <a class="link"   href="https://github.com/yuxuanwu17/INT303-Avocado-prediction" >https://github.com/yuxuanwu17/INT303-Avocado-prediction<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>R</category>
      </categories>
      <tags>
        <tag>kaggle</tag>
        <tag>EDA</tag>
        <tag>R</tag>
      </tags>
  </entry>
  <entry>
    <title>Hadoop based big data analysis</title>
    <url>/2021/01/25/Hadoop_cw2/</url>
    <content><![CDATA[<p>Hadoop comprises three part:</p>
<ol>
<li>Main function, including some basic configuration of job</li>
<li>Mapper class, inherited from and override the Map function</li>
<li>Reduce class, inherited from Reduce function and override it</li>
</ol>
<h3 id="1-Calculate-the-bigram-frequency-and-return-the-Top-10"><a href="#1-Calculate-the-bigram-frequency-and-return-the-Top-10" class="headerlink" title="1. Calculate the bigram frequency and return the Top 10"></a>1. Calculate the bigram frequency and return the Top 10</h3><hr>
<h4 id="data-cleaning-part-single-world"><a href="#data-cleaning-part-single-world" class="headerlink" title="data cleaning part (single world)"></a>data cleaning part (single world)</h4><ul>
<li>Use regular expression to extract the useful information</li>
<li>For the neat of code, I separate the word cleaning part into one method: deleteNotion</li>
<li>The idea is to loop all the words and feed into the deleteNotion function to clean the data</li>
<li>Since the word fed into the program is a txt file, we need first calculate each word by .split(â€œ\s+â€), and called String [] single_word</li>
<li>The regular expression is designed to match all the punctuation and numbers except for English words </li>
<li>Note that \W didnâ€™t include the number, so we have to make a union of numbers and other punctuation in \W, that is [\\w[0-9]]</li>
<li>Create an ArrayList to store the processed data.</li>
</ul>
<h4 id="bigram-extraction"><a href="#bigram-extraction" class="headerlink" title="bigram extraction"></a>bigram extraction</h4><ul>
<li>loop through the single_word [] list</li>
<li>Note that: since we are calculating the bigram, the length should be length(single_word)-1</li>
<li>We also need to ensure that the first and last were not empty</li>
<li>Then add the data to the newly created Arraylist</li>
</ul>
<hr>
<h3 id="2-Return-the-line-containing-the-word-â€˜tortureâ€™"><a href="#2-Return-the-line-containing-the-word-â€˜tortureâ€™" class="headerlink" title="2. Return the line containing the word â€˜tortureâ€™"></a>2. Return the line containing the word â€˜tortureâ€™</h3><ul>
<li>Use regular expression to separate line and store it in to the list</li>
<li>The regular expression was written as {\\n{1,}}, detecting the â€œ\nâ€ and store it as one line </li>
<li>Create an arraylist results to each line </li>
<li>Loop through the arraylist and use .contain function to find the line contain â€œtortureâ€</li>
<li>Note that, the mapper variable and reduce variable should be switched to Text, the attribute problem should take it seriously</li>
</ul>
<hr>
<h3 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h3><h4 id="bigram-frequency"><a href="#bigram-frequency" class="headerlink" title="bigram frequency"></a>bigram frequency</h4><p><img src="/fig/wordcount.png" alt="wordcount"></p>
<h4 id="lines-containing-â€œtortureâ€"><a href="#lines-containing-â€œtortureâ€" class="headerlink" title="lines containing â€œtortureâ€"></a>lines containing â€œtortureâ€</h4><p><img src="/fig/Shuffled_Maps.png" alt="img"></p>
<hr>
<h2 id="Code-resources"><a href="#Code-resources" class="headerlink" title="Code resources"></a>Code resources</h2><p>Github: <a class="link"   href="https://github.com/yuxuanwu17/Hadoop_cw2" >https://github.com/yuxuanwu17/Hadoop_cw2<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>FYP check lists</title>
    <url>/2021/01/27/FYP_requirements/</url>
    <content><![CDATA[<h2 id="General-requirements"><a href="#General-requirements" class="headerlink" title="General requirements:"></a>General requirements:</h2><p>Maximum word length (excluding abstract, figure legends, reference list and appendices) <strong>5000 words.</strong></p>
<p><strong>Double spaced</strong></p>
<p><strong>Font 12 point, black</strong></p>
<p><strong>Binding/e-versions</strong> (must be as described below)</p>
<p>Scientific English in appropriate tense</p>
<p>Free of grammar, punctuation and spelling errors</p>
<hr>
<h2 id="Contain-the-following-in-this-order"><a href="#Contain-the-following-in-this-order" class="headerlink" title="Contain the following, in this order;"></a>Contain the following, in this order;</h2><ol>
<li><p>Completed cover template</p>
</li>
<li><p>Abstract in Chinese and in English</p>
</li>
<li><p>Introduction</p>
</li>
<li><p>Methods</p>
</li>
<li><p>Results and Discussion or Results/Discussion as a single section</p>
</li>
<li><p>Acknowledgements (if appropriate)</p>
</li>
<li><p>Reference list</p>
</li>
<li><p>Appendices (only if appropriate) see below</p>
</li>
</ol>
<hr>
<p>Report must conform at least to the SBS style guides with respect to the following:</p>
<p>Article citations within the text</p>
<p>Reference list</p>
<p>Symbols, units, abbreviations</p>
<p>Accurate syntax for organism names</p>
<p>Organism specific rules for genetic loci</p>
<p>International rules for molecular nomenclature</p>
<p>Tables</p>
<p>Figures</p>
<p>Figure legends</p>
<hr>
<h2 id="Details"><a href="#Details" class="headerlink" title="Details"></a>Details</h2><ol>
<li>Maximum <strong>5000 words</strong> (total word length should be included on the title page) for the main text i.e. introduction; methods; results; discussion and any text in footnotes. Note that this is a maximum, not an expectation with a margin of variation; concise reports shorter than this may be entirely appropriate.</li>
<li>Word processed; <strong>12 point Times Roman (black); double spaced</strong>. Colour in figures is acceptable, but consider whether colour is really needed to illustrate what you require. Only use colour where it will increase legibility.</li>
<li>The hard copy should be <strong>on A4 paper with a cover sheet consisting of a completed project cover template and should be produced as booklets, preferably with a plastic cover and submitted in person to the department secretary by 11 am on Monday 4 of May (Week 12)</strong>, with a copy of your Ethical Approval, if appropriate. You will be required to sign a sheet to confirm that your report contains no instances of plagiarism, collusion or fabrication</li>
<li>The electronic version (including any appendix) should be submitted on the moduleâ€™s ICE page before the <strong>11 am on Monday 4 May (Week 12)</strong>, in the form of a Microsoft Word file (<em>.doc or *.docx) using the following file format *</em>SURNAME_FIRST NAME_ID_NUMBER_FR**</li>
<li>t is usual to write about the work performed in the <strong>past tense</strong> and results are usually presented <strong>in the passive form</strong></li>
<li><strong>sub-headings</strong> may help readability.</li>
<li>Define abbreviations at the point in the text where they are first used</li>
</ol>
<hr>
<h2 id="Components"><a href="#Components" class="headerlink" title="Components"></a>Components</h2><h3 id="Title"><a href="#Title" class="headerlink" title="Title:"></a>Title:</h3><ul>
<li><input disabled="" type="checkbox"> Choose a title that is concise but informative</li>
<li><input disabled="" type="checkbox"> Ideally it should describe the work performed and findings but not be dramatic</li>
</ul>
<h3 id="Abstracts"><a href="#Abstracts" class="headerlink" title="Abstracts:"></a>Abstracts:</h3><ul>
<li><input disabled="" type="checkbox"> The abstract should be provided in Chinese and in English</li>
<li><input disabled="" type="checkbox"> Maximum words 250</li>
<li><input disabled="" type="checkbox"> Should not include references</li>
<li><input disabled="" type="checkbox"> Should condense the aims, observations, findings and main conclusions</li>
</ul>
<h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction:"></a>Introduction:</h3><ul>
<li><input disabled="" type="checkbox"> Provide background (e.g. literature, preliminary data) to the field of study</li>
<li><input disabled="" type="checkbox"> State the purpose of the work e.g., the scientific hypothesis</li>
<li><input disabled="" type="checkbox"> Provide the rationale for the approach taken</li>
</ul>
<h3 id="Materials-and-Methods"><a href="#Materials-and-Methods" class="headerlink" title="Materials and Methods:"></a>Materials and Methods:</h3><ul>
<li><input disabled="" type="checkbox"> Should NOT be a protocol book.</li>
<li><input disabled="" type="checkbox"> Should be sufficiently detailed for the work to be repeatable.</li>
<li><input disabled="" type="checkbox"> Should be written in a format appropriate for publication in a journal relevant to the type of work performed.</li>
<li><input disabled="" type="checkbox"> Should refer back to previous Key Skills work.</li>
</ul>
<h3 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h3><ul>
<li><input disabled="" type="checkbox"> Present analyses, not raw data, including appropriate and fully explained statistical analyses.</li>
<li><input disabled="" type="checkbox"> Each result should be accompanied by text explaining the rationale for the experiment/observation; a succinct description of the method used to obtain the data; the methods used to analyse/interpret the data and sufficient introductory comments and discussion to link the results into a coherent narrative.</li>
<li><input disabled="" type="checkbox"> Sub-headings may be appropriate.</li>
</ul>
<h3 id="Tables-must"><a href="#Tables-must" class="headerlink" title="Tables must:"></a>Tables must:</h3><ul>
<li><input disabled="" type="checkbox"> Be numbered consecutively according to their appearance in the text (Table 1 etc.).</li>
<li><input disabled="" type="checkbox"> Have short informative titles and legends placed above the Table.</li>
<li><input disabled="" type="checkbox"> All tables must be referred to in the text.</li>
<li><input disabled="" type="checkbox"> Explanatory material may be included as footnotes immediately below the table e.g. definitions of all acronyms and abbreviations.</li>
</ul>
<h3 id="Figures-must"><a href="#Figures-must" class="headerlink" title="Figures must:"></a>Figures must:</h3><ul>
<li> Be numbered consecutively according to their appearance in the text (Figure 1 etc.).</li>
<li>Have an accompanying title and legend below the Figure.</li>
<li>Have a uniform lettering style.</li>
<li>Consider putting extensive sequences and alignments or other data in an appendix</li>
</ul>
<h3 id="Figure-legends-must"><a href="#Figure-legends-must" class="headerlink" title="Figure legends must:"></a>Figure legends must:</h3><ul>
<li><p>Be intelligible to the reader without reference to the text.</p>
</li>
<li><p>Define abbreviations or symbols used in the Figure.</p>
</li>
</ul>
<h3 id="Discussion-should"><a href="#Discussion-should" class="headerlink" title="Discussion should:"></a>Discussion should:</h3><ul>
<li>Critically review the findings.</li>
<li>Indicate whether the findings support the hypothesis.</li>
<li>Provide some speculative debate.</li>
<li>Discuss possible future experiments.</li>
</ul>
<h3 id="Acknowledgments"><a href="#Acknowledgments" class="headerlink" title="Acknowledgments:"></a>Acknowledgments:</h3><ul>
<li><p>Should be at the end of the text.</p>
</li>
<li><p>Should acknowledge contributions from others e.g. other lab/School members that have aided the work in any way.</p>
</li>
</ul>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference:"></a>Reference:</h3><p>Harvard</p>
<h3 id="Symbols-units-abbreviations"><a href="#Symbols-units-abbreviations" class="headerlink" title="Symbols, units, abbreviations:"></a>Symbols, units, abbreviations:</h3><ul>
<li><p>Nonstandard abbreviations must be defined at first occurrence</p>
</li>
<li><p>Species and generic names must be italicized scientific binomens but generic names that are also common names should not be italicized when used alone e.g. Drosophila melanogaster and Drosophila [Drosophila melanogaster is incorrect]. D. melanogaster is acceptable for subsequent uses, provided no ambiguity would result.</p>
</li>
<li><p>Genetic loci must be italicized and must follow the established rules of genetic nomenclature for the organism in question</p>
</li>
<li><p>The International Union of Biochemistry and Molecular Biology rules of nomenclature must be followed for amino acids, peptides, proteins, enzymes, nucleic acids, polynucleotides, carbohydrates, and lipids; these can currently be found at <a class="link"   href="http://www.chem.qmul.ac.uk/iubmb/nomenclature/" >http://www.chem.qmul.ac.uk/iubmb/nomenclature/<i class="fas fa-external-link-alt"></i></a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>FYP</category>
      </categories>
      <tags>
        <tag>to-do-list</tag>
      </tags>
  </entry>
  <entry>
    <title>deep learning based prediction of m6a reaeder in RNA modification</title>
    <url>/2021/01/26/Prediction%20of%20m6A%20Reader%20substrate%20sites%20using%20deep%20convolutional%20and%20recurrent%20neural%20network/</url>
    <content><![CDATA[<h1 id="Prediction-of-m6A-Reader-substrate-sites-using-deep-convolutional-and-recurrent-neural-network"><a href="#Prediction-of-m6A-Reader-substrate-sites-using-deep-convolutional-and-recurrent-neural-network" class="headerlink" title="Prediction of m6A Reader substrate sites using deep convolutional and recurrent neural network"></a>Prediction of m6A Reader substrate sites using deep convolutional and recurrent neural network</h1><p>The full transcript could be accessed in <a class="link"   href="https://github.com/yuxuanwu17/m6A_reader/blob/master/Artical/dp_final.docx" >https://github.com/yuxuanwu17/m6A_reader/blob/master/Artical/dp_final.docx<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>N6-methyladenosine (m6A) is the most prevalent post-transcriptional modification in mRNA since it could regulate some significant biological functions with the binding of some m6A reader proteins. Multiple readers exist in the human genome, however, the binding specificity was not clarified due to the limited wet experiments on this topic. Therefore, we devised a deep learning approach which incorporated CNN and RNN frameworks together to predict the epitranscriptome-wide targets of six m6A reader proteins (YTHDF1-3, YTHDC1-2, EIF3A). We also utilized layer-wise relevance calculation to obtain contribution of each input feature. Our model achieved state-of-the-art performance with the average AUROC of 0.942 in EIF3A full transcript, compared with 0.929 in CNN-only framework and 0.817 in Support Vector Machine (SVM) method under same condition. Besides, we identified the optimal sequence length (1001bp) in the m6A reader substrate prediction. The results provide new insight into epitranscriptome target prediction and functional characterization of m6A readers.</p>
<h2 id="Material-and-Methods"><a href="#Material-and-Methods" class="headerlink" title="Material and Methods"></a>Material and Methods</h2><h3 id="Identification-of-m6A-reader-binding-sites"><a href="#Identification-of-m6A-reader-binding-sites" class="headerlink" title="Identification of m6A reader binding sites"></a>Identification of m6A reader binding sites</h3><p>For the benefits of modeling, we need to define the positive and negative samples of m6A reader binding site. As can be seen from Figure 1, there are three significant factors to consider when determining the m6A reader binding sites, which is DRACH motif, known m6A Sites and CLIP labeled Sites. Generally, m6A readers have a tendency to bind known m6A sites and DRACH motif, but these two are not robust enough, without CLIP labeled sites, they could still be considered as negative samples. Therefore, in this experiment, three factors have to be satisfied simultaneously. In addition, the position of gene model would not influence the samples. To minimize the bias in selecting the polyA RNAs, we prepared the full transcript data and mature RNA data. In detail, mature RNA data exclude the sites on the intron region while the full transcript data covered either the exon or intron region.</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/m6a_criteria.6x19fgcvhww0.png" alt="m6a_criteria"></p>
<p><strong>Figure 1</strong> Criteria of determining the m6A reader binding sites.</p>
<h3 id="Deep-learning-model-construction"><a href="#Deep-learning-model-construction" class="headerlink" title="Deep learning model construction"></a>Deep learning model construction</h3><p>Previously, we conducted a traditional machine learning about m6A reader by different encoding methods, however, the performance of one-hot method was not ideal, there was still a gap to improve. In addition, one-hot encoding method learned from the convolutional neural network (CNN) is suitable for learning potential motifs in the bioinformatics field, therefore, we opted for deep learning techniques in this research. Furthermore, recurrent neural network (RNN) was incorporated since it could capture the information in sequence, for instance, the potential relationship between each nucleotide. </p>
<p>To build the deep learning model, we used Keras v2.3.0 and R v4.0.2 to conduct the learning part and process the raw data for prediction. For the data preparation part, we used R to extract n nucleotides (bp) of flanking sequences centered on the target adenosine, ranging from 251 to 2001bp to explore a suitable length. The processed sequence data were then inputted to Python3 for encoding, in this case, we chose One-hot encoding method for better model interpretability, for instance, A (1,0,0,0), C (0,1,0,0), G (0,0,1,0), T (0,0,0,1). The overall framework can be seen in Figure 2. Each sequence was then transformed to an nÃ—4 matrix and fed into two combinations of 1D convolution (Conv1D) layer and max-pooling layer. For the first combination, we set 90 kernels with size equaled 5 and applied L2 regulation to prevent overfitting. The rectified linear unit (ReLU) was used as the activation function to provide our necessary non-linearity. The following max-pooling layer was set in size equaled 4 with strides 2 to reduce the dimension of output from the previous layer. The dropout rate was incorporated to 0.25 to further reduce the possibility of overfitting. A second 1D convolution (Conv1D) layer with 100 filters and size equaled 3 to extract the feature of the previous data. Similarly, the ReLU function and L2 regulation were applied. However, the max-pooling size was 10 with 1 stride, under which circumstance could the model achieve higher performance. </p>
<p>The recurrent neural networks long short-term memory (LSTM) layer was used to aggregate the outputs of CNNs for predicting the RBP binding, in this case, the m6A readersâ€™ substrates sites. LSTM processed sequentially of the sequence element, hoping to capture the inter-dependencies between motifs. Moreover, the fully connected layer with 1000 neurons would receive the output from the LSTM layer, and the non-linear activation function n, sigmoid, would calculate the prediction probability in each training class. The overall tuning process was used the loss function, binary cross-entropy to conduct the weight-tuning, optimizing the learning process, additionally, we found that Adam is the most suitable for this task. Finally, the output would be the probability of being m6A reader substrate sites. </p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/Architecture(3).3uagcw8fqhm0.png" alt="Architecture(3)"></p>
<p><strong>Figure 2</strong> The sequence data are encoded by One-hot method and fed into the convolution layer and followed by the pooling layer twice to extract the significant features. The LSTM layer learns the long-term dependencies between sequence data generated by convolution layers. The flatten layer combines the previous kernels into a vector and inputs to the fully connected layer to calculate the probability of being m6A reader substrate site </p>
<h3 id="Training-strategy-and-performance-evaluation"><a href="#Training-strategy-and-performance-evaluation" class="headerlink" title="Training strategy and performance evaluation"></a>Training strategy and performance evaluation</h3><p>We separated each gene data set into three categories, training, testing, validation dataset, the ratio was 8:1:1 respectively. Moreover, to reduce the bias caused by imbalanced data samples, we ensured the same number of positive and negative samples in each category. The early stopping method was included to reduce the unnecessary computation during the learning process and the patience was designed as 10. The loss plot was drawn to document the training procedure and monitor the potential overfitting.  </p>
<p>To validate the model performance, four commonly used performance metrics, including area under the ROC curve (AUC), area under the Precision-Recall curve (PR-AUC), accuracy (ACC) and Mathewâ€™s correlation coefficient (MCC). The formula of ACC and MCC are demonstrated as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/equation.75xnw9zlnaw0.png" alt="equation"></p>
<p>where TP and TN are denoted as True Positive and True Negative, FN and FT are denoted as False Negative and False Positive. To sum up, the higher the performance metrics value, the more accurate the prediction. Additionally, we compared the performance with the previous research using machine learning method, the combination of CNN + RNN frameworks and the CNN framework only to determine the optimal choice.</p>
<p>We also exploited DeepExplainâ€™s epsilon-LRP method (gradient-based) to calculate the contribution in each feature input. With the assistance of this approach, we could rank the nucleotidesâ€™ significance in identifying the m6A readersâ€™ substrates. Moreover, we extend the sequence upstream/downstream length from 50bp to 250bp, hoping to cover more information in determining each nucleotide contribution. </p>
<h2 id="Results-and-Discussion"><a href="#Results-and-Discussion" class="headerlink" title="Results and Discussion"></a>Results and Discussion</h2><h3 id="Performance-comparison"><a href="#Performance-comparison" class="headerlink" title="Performance comparison"></a>Performance comparison</h3><p>Classifiers might achieve varied performance on different datasets. To assess the fitness between the 6 reader binding site datasets and the two deep learning classifiers, models were built on full transcripts and their performance were analyzed. Similarly, different size of full transcripts was encoded with One-hot method. As shown in Figure 3(A), models using CNN classifier achieved theoretically good performance with overall AUROC larger than 0.8. It seems that the CNN classifier fit the YTHDF1 binding datasets better than other reader binding sites, with overall AUROC exceeding 0.9 and highest AUROC of 0.93. In addition, CNN model achieves good performance with YTHDF2 binding datasets as well, with highest AUROC of 0.929. It is noticeable that the performance of CNN models with EIF3a varied dramatically along with the size of transcript, from 0.96 to 0.81, which suggests that the performance of CNN classifier is depend on the size of transcripts. Similar trends can be seen in the YTHDC2 datasets, the trained model with different input size achieves different AUROC score, with optimal input transcript size of 251bp (AUROC = 0.89)</p>
<p>Regarding the fitness of CNN+RNN classifier with the six reader datasets, models shows similar performance for YTHDF3, YTHDF2, YTHDF1, YTHDC2 datasets (with AUROC around 0.9). Moreover, the model trained with these four datasets as well as the YTHDC1 datasets (with AUROC around 0.875) seems transcript-size independent since lines are relatively stable. Interestingly, the performance of models trained with EIF3a datasets varied greatly from length to length (AUROC varied from 0.88 to 0.94). The structure variation between YTH family protein and EIF3a might contribute to the difference on model performance.</p>
<p>To assess the feasibility of the two classifiers, namely CNN and RNN, performance of models was interpreted and compared. Figure 3(B) compares the performance of models with different size of EIF3a transcripts. As indicated, the combination of CNN and RNN classifier achieves overall better performance than the CNN classifier for both full transcript and mature transcript. Since the trend of line graph for CNN+RNN model is more stable than the line for CNN model, we can infer that the combination of CNN and RNN makes the model less dependent on the length of transcript used.</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/cmbd2.2p61qbr5qg00.png" alt="cmbd2"></p>
<p><strong>Figure 3</strong> (A) Compared the performance of CNN model and CNN+RNN model in the prediction of six m6A reader substrates under different length in full transcripts. (B) Compared the AUROC value in either full transcript or mature transcript when predicting the EIF3A reader substrates. </p>
<h3 id="ROC-and-PR-curve-comparison-between-multiple-sequence-length"><a href="#ROC-and-PR-curve-comparison-between-multiple-sequence-length" class="headerlink" title="ROC and PR-curve comparison between multiple sequence length"></a>ROC and PR-curve comparison between multiple sequence length</h3><p>the Receiver Operating Characteristic (ROC) curve and Precision-Recall curve for EIF3A datasets under the combination of CNN and RNN were visualized in Figure 4. As can be seen from the figure that, although the performance was different under different sequence size, the overall trend was stable and devoid of fluctuation. In addition, the overall performance in full transcripts could outperform the mature transcripts, probably the reason that full transcript data could cover either the exon or intron region. </p>
<p>Here, we mainly opted EIF3A dataset for easy demonstration in this paper. More details of the other five datasets could be achieved in the supplementary file.</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/rocs_update.56hoogl00z40.png" alt="rocs_update"></p>
<p><strong>Figure 4</strong> (A) Compared the ROC curve and the regarding AUROC of mature and full transcript of EIF3A under CNN+RNN model in various sequence lengths. (B) Compared the PR curve and the regarding PRAUC of mature and full transcript of EIF3A under CNN+RNN model in various sequence lengths. </p>
<h3 id="Quantify-each-input-nucleotide-contribution-by-the-layer-wise-relevance-calculation"><a href="#Quantify-each-input-nucleotide-contribution-by-the-layer-wise-relevance-calculation" class="headerlink" title="Quantify each input nucleotide contribution by the layer-wise relevance calculation"></a>Quantify each input nucleotide contribution by the layer-wise relevance calculation</h3><p>Each input feature was calculated to obtain its contribution to the results by DeepExplainâ€™s epsilon-LRP method. The feature importance plots were based on the EIF3a binding site datasets (Figure 4). The higher score that the position gets, the larger probability that the center nucleotide is an EIF3a reader binding site if this nucleotide present at that position. As shown in the graph, positions located around the predicted m6A sites got significantly higher scores than other positions, which means those positions are more important in determining whether the center nucleotide is m6A reader substrate site or not. Additionally, the prediction of modification site would benefit from taking sequence more than 50bp upstream or downstream the predicted site since they include positions with high importance score</p>
<p>Specifically, a site would be less likely to be m6A modification site if the adenosine represents in 100bp downstream since the majority of position within this sequence got importance scores smaller than 0. In comparison, the presence of cytosine in 50 upstream/downstream the predicted site tends to boost the chance of the center nucleotide being modified. No specific patterns were found for guanine and thymine as the importance plot present a shape like the sine function. </p>
<p>The results showed that if those positions 34bp, 59bp, 11bp, 58bp, 27bp, 49bp, 72bp upstream, 21bp, 27bp, 24bp, 25bp, 116bp downstream the modification site is cytosine, the site would more likely to be the EIF3a reader binding site. In addition, the probability of the modification site being EIF3a substrate site would decrease if guanosine was found on positions 21bp, 71bp, 33bp, 32bp, 31bp, 22bp upstream the center site or uridine was found on positions 54bp upstream or 53bp downstream the center site. The screened top 20 nucleotides that will decrease the change of the site being EIF3a modification site include: adenosines on positions 39bp, 27bp, 47bp, 61bp, 10bp, 12bp, 23bp, 170bp, 157bp, 51bp, 14bp, 226bp, 52bp upstream the center nucleotide, cytosine on positions 93bp upstream and 185bp downstream the center nucleotide, guanosine on positions 92, 97bp downstream the center site as well as uridines on positions 56bp, 63bp upstream the modification site.</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/contribution_plot.57p7fsjv0y80.png" alt="contribution_plot"></p>
<p><strong>Figure 5</strong> Feature importance scores in EIF3A full transcript prediction. We both extracted upstream/downstream 50bp and upstream/downstream 250 bp of the sequence to rank the contribution of each nucleotide in determining the binding site. In each position, the higher score it gains, the higher contribution towards the binding sites.</p>
<h1 id="How-to-use-this-file"><a href="#How-to-use-this-file" class="headerlink" title="How to use this file?"></a>How to use this file?</h1><h2 id="Prerequisite-packages"><a href="#Prerequisite-packages" class="headerlink" title="Prerequisite packages"></a>Prerequisite packages</h2><p>keras version 2.3.0, numpy, pandas, argparse</p>
<h2 id="Run-â€˜python3-main-py-hâ€™-in-command-line-for-help"><a href="#Run-â€˜python3-main-py-hâ€™-in-command-line-for-help" class="headerlink" title="Run â€˜python3 main.py -hâ€™ in command line for help"></a>Run â€˜python3 main.py -hâ€™ in command line for help</h2><h3 id="Select-the-input-genes"><a href="#Select-the-input-genes" class="headerlink" title="Select the input genes"></a>Select the input genes</h3><p>You could select 6 genes, including YTHDC1-2, YTHDF1-3, EIF3A</p>
<h3 id="Select-the-input-length-of-the-sequence"><a href="#Select-the-input-length-of-the-sequence" class="headerlink" title="Select the input length of the sequence"></a>Select the input length of the sequence</h3><p>You could choose 251, 501, 1001, 2001bp input length to compare the prediction performance.<br>Due to the size limitation, i only upload some some small sized sequence as examples.<br>Email me, if you want to apply all the data</p>
<h3 id="Select-the-condition-of-the-sequence-either-full-transcript-full-or-mature-RNA-exon"><a href="#Select-the-condition-of-the-sequence-either-full-transcript-full-or-mature-RNA-exon" class="headerlink" title="Select the condition of the sequence, either full transcript (full) or mature RNA (exon)"></a>Select the condition of the sequence, either full transcript (full) or mature RNA (exon)</h3><p>To minimize the bias in selecting the polyA RNAs, we prepared the full transcript data and mature RNA data. In detail, mature RNA data exclude the sites on the intron region while the full transcript data covered either the exon or intron region.</p>
<h3 id="Choose-the-CNN-or-CNN-RNN-model"><a href="#Choose-the-CNN-or-CNN-RNN-model" class="headerlink" title="Choose the CNN or CNN+RNN model"></a>Choose the CNN or CNN+RNN model</h3><p>To compare the performance under different framework</p>
]]></content>
      <categories>
        <category>publications</category>
      </categories>
      <tags>
        <tag>conference</tag>
        <tag>deep learning</tag>
        <tag>RNA modification</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Meta analysis for knockdown of METTL3 or METTL14 affecting N6-methyladenosine methylation level</title>
    <url>/2021/01/27/meta-analysis/</url>
    <content><![CDATA[<h1 id="Meta-analysis-for-knockdown-of-METTL3-or-METTL14-affecting-N6-methyladenosine-methylation-level"><a href="#Meta-analysis-for-knockdown-of-METTL3-or-METTL14-affecting-N6-methyladenosine-methylation-level" class="headerlink" title="Meta-analysis for knockdown of METTL3 or METTL14 affecting N6-methyladenosine methylation level"></a>Meta-analysis for knockdown of METTL3 or METTL14 affecting N6-methyladenosine methylation level</h1><p>The full transcript could be accessed from <a class="link"   href="https://github.com/yuxuanwu17/meta_analysis/blob/master/Full_transcript/Meta_Analysis.docx" >https://github.com/yuxuanwu17/meta_analysis/blob/master/Full_transcript/Meta_Analysis.docx<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>N6-methyladenosine (m6A) is the most prevalent internal chemical modification present in multiple eukaryotic mRNAs, which is dynamically installed by methyltransferases (â€œwritersâ€) and removed by demethylases (â€œerasersâ€). METTL3 and METTL14 are two typical m6A writers and several studies have found that knockdown or depletion of METTL3 and METTL14 genes influence the methylation level. A meta-analysis study was performed to assess the strength and quality of current evidence regarding to it and assess the how the knockdown of METTL3 or METTL14 affect the mRNA methylation level. Data was collected and classified into groups. Metafor, a R package was used to generate the Random-effects meta-analysis model and calculate the risk ratios (RRs) and 95% CIs. Since the heterogeneity of the overall data is extremely high (I2 &gt; 99%), specific samples were excluded to minimize the downgrade the heterogeneity to acceptable level. Three and two published trails for METTL3 and METTLE14 samples, respectively, were eligible for review and analysis due to the acceptable low heterogeneity of their combination (METTL3 (Q = 12.85, I2 = 37.8%) and METTL14 (Q = 45.48, I2 = 82.9%) ). The positive relationship between knockdown of METTL3/METTL14 and methylation level was successfully verified and the difference among cell lines and gene types was identified.</p>
<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage:"></a>Usage:</h2><p>The full script was in final file. But due to the size limitation, I could not upload the data set, please email me if you need the data set</p>
<h2 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h2><h3 id="PRISMA-flowchart"><a href="#PRISMA-flowchart" class="headerlink" title="PRISMA flowchart"></a>PRISMA flowchart</h3><p>For this systematic review and meta-analysis, our discovery data cohort came from various databases including Cochrane library, EMBASE, and PubMed/MEDLINE from inception to Feb 20, 2020. Seventeen datasets of epitranscriptome-wide homo sapiens m6A sites under different cell lines screened by six different high-resolution profiling approaches were collected. Missing and ambiguous data were further ensured and validated by the original researchers (Figure 1). </p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/prisma.6fmfuc39y5s0.png" alt="prisma"></p>
<p>Figure 1: PRISMA flowchart for inclusion or exclusion criteria in this meta-analysis We firstly retrieved our data (n=1555) from both GEO and GSA database. In this analysis, the primary focus was on Homo sapiens, we then exclude other unrelated species, like Mus musculus and Rattus norvegicus, our sample then restricted to 242. When explored in the full-text articles, we did not consider genes other than METTL3 or METTL14, therefore, genes like FTO, ALKBH5 and WTAP were excluded, and sample number was retained to 28. Owing to the fact that some experiments shared the same control group, we then eliminated the duplication and 17 samples remained. The remained samples were used to conduct the whole meta-analysis. </p>
<hr>
<h3 id="Forest-plot-of-the-basic-model"><a href="#Forest-plot-of-the-basic-model" class="headerlink" title="Forest plot of the basic model"></a>Forest plot of the basic model</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/WechatIMG26.40fi7vuvz540.jpeg" alt="WechatIMG26"></p>
<p>Figure 2. Forest plot of the basic model. This is a Random Effect model which accommodates differences in study sample. Q statistic is based on the chi-square distribution, most commonly testing heterogeneity. I2 index is the total variability in a set of effect sizes due to true heterogeneity. Log Risk Ratio is a measurement of effect size. </p>
<hr>
<h3 id="Baujat-plot-in-the-identification-of-heterogenity"><a href="#Baujat-plot-in-the-identification-of-heterogenity" class="headerlink" title="Baujat plot in the identification of heterogenity"></a>Baujat plot in the identification of heterogenity</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/WechatIMG30.4e7gw6et4o00.png" alt="WechatIMG30"></p>
<p>Figure 3. The Baujat plot to identify studies contributing to heterogeneity. The study ID numbers represent eight studies, respectively.</p>
<p>As shown in Figure 3, Baujat plot generated from the METTL3 study datasets identifies the influence on the overall result and the squared Pearson Residual of each study. As the 8th study is located in the top right quadrant, it has both a greater impact on the whole result and contributes most to heterogeneity; while other studies are near to the origin. Therefore, we keep all studies but the one far away on the top right. Similarly, we excluded the 4th study as it lies far top right in the Baujat plot of METTL14</p>
<hr>
<h3 id="Forest-plot-of-moderator-analysis"><a href="#Forest-plot-of-moderator-analysis" class="headerlink" title="Forest plot of moderator analysis"></a>Forest plot of moderator analysis</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/WechatIMG31.5re8upv5y1w0.jpeg" alt="WechatIMG31"></p>
<p>Figure 4. Forest plot of moderator analysis.</p>
<p>As shown in Figure 4, we can still conclude that there is a highly positive relationship (Log RR 5.66, 95% CI 5.31-6.02; p-value = 0.12) between the m6A methylation level and the knockdown of the METTL3 gene, although the p-value increases from &lt;0.01 to 0.12 meaning less confidence. The Log RR is adjusted from 6.93 to 5.66. The CI narrows down greatly and CI of each subgroup overlaps more than the basic model, reflecting less between-study variability. As for the METTL14 model, the positive relationship (Log RR 5.39, 95% CI 4.97-5.84; p-value &lt; 0.01) between the m6A methylation level and the absence of METTL14 gene shows similar Log RR with that of METTL3 meta-regression model. Importantly, we found no large heterogeneity or inconsistency of METTL 3 (Q(df = 8) = 12.85, I2 = 37.8%, tau2 = 0.0035) and METTL14 (Q(df = 9) = 45.48, I2= 82.9%, tau2 = 0.0140) among the studies. </p>
<hr>
<h3 id="Funnel-plot-to-investigate-the-possible-publication-bias"><a href="#Funnel-plot-to-investigate-the-possible-publication-bias" class="headerlink" title="Funnel plot to investigate the possible publication bias"></a>Funnel plot to investigate the possible publication bias</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/WechatIMG32.7kzbbb47n5o0.png" alt="WechatIMG32"></p>
<p>Figure 5. The Funnel plot.</p>
<p>Publication bias, occurring in the selective publication of studies based on magnitude and direction of findings, poses a particular threat to the validity of meta-analysis. Here, we investigate possible publication bias by visual inspection of Funnel plots. If the effect size versus standard is broadly symmetrical, the publication bias is absent. As shown in Figure 5., the Funnel plot on the left shows the points of nine studies of METTL3 knockdown evenly fall on both sides of the summary effect size and the standard error is approximately 0.075 on average. However, the vertical line representing the summary of all the studies of METTL3 knockdown lies on the right of zero, around 1.73, suggests that there is a positive effect of publication bias on the summary effect size. As for the Funnel plot on the right, points of ten studies of METTL14 knockdown evenly fall on both sides of the summary effect size. The standard error is approximately 0.050 on average and the vertical line lies on the origin meaning no publication bias on the summary effect size.   </p>
]]></content>
      <categories>
        <category>publications</category>
      </categories>
      <tags>
        <tag>R</tag>
        <tag>RNA modification</tag>
        <tag>meta-analysis</tag>
      </tags>
  </entry>
  <entry>
    <title>MATLAB based neural network for image classification</title>
    <url>/2021/01/25/matlab_cw2_readme/</url>
    <content><![CDATA[<h2 id="Project-overview"><a href="#Project-overview" class="headerlink" title="Project overview :"></a>Project overview :</h2><p>This task includes five algorithms to classify the characters segmented from the license plates of automobiles using MATLAB</p>
<ul>
<li>MLP (multi-layer perceptron)</li>
<li>CNN (convolutional neural network)</li>
<li>LVQ (learning vector quantization)</li>
<li>RBF1 with k-means clustering</li>
<li>RBF2 with SOM (self-organizing map)</li>
</ul>
<hr>
<h2 id="Files-running-order"><a href="#Files-running-order" class="headerlink" title="Files running order"></a>Files running order</h2><ol>
<li>run the figure_preprocessing.m and create a new file folder ass2_processede_data</li>
<li>run data_partition.m split the dataset in 8:2 version and returned the X_train, X_test, y_train, y_test and save as train_test_data.mat</li>
<li>run ass2_CNN.m (this script did not use the processed data, but read the figure directly from the original file)</li>
<li>run ass2_mlp.m </li>
<li>run ass2_lvq.m</li>
<li>run ass2_rbf_kmean.m</li>
<li>run ass2_rbf_som.m</li>
<li>run ass2_confusion_matrix_summary.m</li>
</ol>
<hr>
<h2 id="Components-Scripts-inside-the-project"><a href="#Components-Scripts-inside-the-project" class="headerlink" title="Components/Scripts inside the project"></a>Components/Scripts inside the project</h2><h2 id="The-script-part"><a href="#The-script-part" class="headerlink" title="The script part"></a>The script part</h2><h3 id="figure-preprocessing-m"><a href="#figure-preprocessing-m" class="headerlink" title="figure_preprocessing.m"></a>figure_preprocessing.m</h3><p>This is the script to extract the ass2data and rewrite to a new file folder ass2_processed_data. </p>
<pre><code>- read both jpeg and jpg files in all folders ass2_data
- rewrite into another folders ass2_processed_data with uniform style (jpeg) and uniform naming styles (label+number) e.g. (A1,B10,C99)</code></pre>
<h3 id="data-partition-m"><a href="#data-partition-m" class="headerlink" title="data_partition.m"></a>data_partition.m</h3><p>This is the script splitted the processed data into training and testing dataset in 8:2 ratio. It adjusted the size and columns or rows for fitting the designed modelâ€™s network.</p>
<pre><code>- read images from the processed folder ass2_processed_data. 
- split the dataset into 8:2
- save the splitted samples and parameters as train_test_data.mat</code></pre>
<h3 id="ass2-CNN-m"><a href="#ass2-CNN-m" class="headerlink" title="ass2_CNN.m"></a>ass2_CNN.m</h3><p>This is the script to conduct the CNN.</p>
<pre><code>- use imageDataset to store and train the model
- use splitEachLabel to split the training and testing datasets
- do not use the train_test_data as the input since CNN has standard samples in Matlab documents
- imageInputLayer(48,24,1)
- Layer 1:
    - kernel size: 3; filters number: 8; padding: same
    - batchNormalizationLayer
    - Relu layer
    - Maxpooling with a pooling size equals [2 2] and Stride equals [2 2]
- Layer 2:
    - kernel size: 3; filters number: 16; padding: same    
    - batchNormalizationLayer
    - Relu layer
    - Maxpooling with a pooling size equals [2 2] and Stride equals [2 2]
- Layer 3:
    - kernel size: 3; filters number: 32; padding: same    
    - batchNormalizationLayer
    - Relu layer
    - Maxpooling with a pooling size equals [2 2] and Stride equals [2 2]
- Layer 4:
    - fully connected layer with neurons equals 24
    - softmaxLayer
- calculate the training and testing accuracy
- return and save the confusion matrix as C_CNN.mat</code></pre>
<h3 id="ass2-mlp-m"><a href="#ass2-mlp-m" class="headerlink" title="ass2_mlp.m"></a>ass2_mlp.m</h3><p>This is the script to conduct the MLP</p>
<pre><code>- load the dataset obtained previously train_test_data.mat
- lr_rate = 0.2;
- momentum = 0.4;
- epochs = 1000;
- 3 layers with 50, 100, 100 
- Hyperbolic tangent sigmoid transfer function (tansig)
- gradient descent to update the weights
- calculate the training and testing accuracy
- return and save the confusion matrix as C_mlp.mat</code></pre>
<h3 id="ass2-lvq-m"><a href="#ass2-lvq-m" class="headerlink" title="ass2_lvq.m"></a>ass2_lvq.m</h3><pre><code>- load the dataset obtained previously train_test_data.mat
- set the cluster into 360 due to its performance, you could also set cluster into 24 for computational convenience
- lvqnet(24) could achieve ideal performance, but the performance could not be comparable with the cluster set into 360
- save the lvqnet(360) as lvq_360.mat, uncomment the line if you wish to see the performance
- calculate the training and testing accuracy
- return and save the confusion matrix C_lvq.mat</code></pre>
<h3 id="ass2-rbf-kmean-m"><a href="#ass2-rbf-kmean-m" class="headerlink" title="ass2_rbf_kmean.m"></a>ass2_rbf_kmean.m</h3><pre><code>- load the dataset obtained previously train_test_data.mat
- use kmeans to return the center of each cluster, the number of cluster is determined as 360
- use assembled function RBF_training_kmeans to calculate the W (weights), sigma (the variance of the RBF kernel) and the coordinate of each cluster's center 
- use the previous returned parameter to return the training prediction by assembled function: RBF_predict
- calculate the training and testing accuracy
- return and save the confusion matrix C_rbf_kmeans.mat</code></pre>
<h3 id="ass2-rbf-som-m"><a href="#ass2-rbf-som-m" class="headerlink" title="ass2_rbf_som.m"></a>ass2_rbf_som.m</h3><pre><code>- load the dataset obtained previously train_test_data.mat
- define the SOM network, the dimension is set to 18*20 for convenience, keep it uniform to the previous number of clusters: 360
- coverSteps = 10 %% Number of training steps for initial covering of the input space (default = 100)
- initNeighbor = 80 %% Initial neighborhood size (default = 3)
- topologyFcn = 'hextop' %% Layer topology function (default = 'hextop')
- distanceFcn = 'dist' %%  Neuron distance function (default = 'linkdist')
- once finished the training of SOM network, use assembled function RBF_training_som.m to calculate the weights W, sigma (the variance of the RBF kernel) and center of SOM clusters, which is the IW{1,1}.
- use the previous returned parameter to return the training prediction by assembled function: RBF_predict
- return and save the confusion matrix C_rbf_som.mat</code></pre>
<h3 id="ass2-confusion-matrix-summary-m"><a href="#ass2-confusion-matrix-summary-m" class="headerlink" title="ass2_confusion_matrix_summary.m"></a>ass2_confusion_matrix_summary.m</h3><pre><code>- load the previous saved mat file
- reshow the confusion matrix
- compare the performance returned by different neural networks
- compare the accuracy returned by different neural networks  </code></pre>
<hr>
<h2 id="The-function-part-assembled-function-for-reproduction"><a href="#The-function-part-assembled-function-for-reproduction" class="headerlink" title="The function part (assembled function for reproduction)"></a>The function part (assembled function for reproduction)</h2><h3 id="getimdata-m"><a href="#getimdata-m" class="headerlink" title="getimdata.m"></a>getimdata.m</h3><pre><code>- Input: the file path, in this case the processed file with renamed figure and same format jpeg (ass2_processed_data) 
- Output: Transormed the numerical data into the one-hot encoding vector format (one-hot format)</code></pre>
<h3 id="getimdata2-m"><a href="#getimdata2-m" class="headerlink" title="getimdata2.m"></a>getimdata2.m</h3><pre><code>- Input: the file path, in this case the processed file with renamed figure and same format jpeg (ass2_processed_data) 
    - normalize the data into range 0-1
    - assign the numerical labels to each character
    - combine all the processed plot into a dataset 2400 * 1152
    - 2400 stands for the number of samples; 1152 stands for the features in one figure
- Output: The normalized figure data (0-1), with data and corresponding labels. Labels are in numerical format (1,2,3...24) (without one-hot)
- This function method is selected in the whole project</code></pre>
<h3 id="RBF-training-kmeans-m"><a href="#RBF-training-kmeans-m" class="headerlink" title="RBF_training_kmeans.m"></a>RBF_training_kmeans.m</h3><pre><code>- Input: data, labels, number of clusters to be determined by kmeans
- sigma is determined by the mean Euclidean distance between two clusters
- k weight matrix is calculated by the radbas(distance of samples between clusters' centers/2*sigma^2)
- W weights is calculated by the pesudo inverse of (k'*k)*k'*labels</code></pre>
<h3 id="RBF-training-som-m"><a href="#RBF-training-som-m" class="headerlink" title="RBF_training_som.m"></a>RBF_training_som.m</h3><pre><code>- Input: data, labels and net
- net is pre-trained by som networks
- the cluster center is returned by the first layer of som network, which is denoted by net.IW{1,1}
- sigma is determined by the mean Euclidean distance between two clusters
- k weight matrix is calculated by the radbas(distance of samples between clusters' centers/2*sigma^2)
- W weights is calculated by the pesudo inverse of (k'*k)*k'*labels</code></pre>
<h3 id="RBF-predict-m"><a href="#RBF-predict-m" class="headerlink" title="RBF_predict.m"></a>RBF_predict.m</h3><pre><code>- Input: data, W, sigma, C trained previously from either RBF_training_kmeans or RBF_training_som
- Output: vectors of the final prediction
- data could be either training data or testing data</code></pre>
<h3 id="getcls-m"><a href="#getcls-m" class="headerlink" title="getcls.m"></a>getcls.m</h3><pre><code>- Input: vecs - matrix of column vectors (returned from the RBF_predict.m)
- Output: cls - matrix where the largest element in each column in vectors is set to 1 and the rest to 0   Ex: vecs = [2 4; 1 5], gives c = [1 0; 0 1]
- This function is used to return the most likely label in multi-variable classification, especially after the one-hot encoding method</code></pre>
<h3 id="rate-m"><a href="#rate-m" class="headerlink" title="rate.m"></a>rate.m</h3><pre><code>- Input: matrix of class vectors
- Computes the percentage of equal columns in t1 and t2, can be used to compute the rate of correct classified patterns in a pattern recognition application
- Output: number of matching vectors</code></pre>
<hr>
<h2 id="Saved-parameters"><a href="#Saved-parameters" class="headerlink" title="Saved parameters"></a>Saved parameters</h2><h3 id="train-test-data-mat"><a href="#train-test-data-mat" class="headerlink" title="train_test_data.mat"></a>train_test_data.mat</h3><pre><code>- the value obtained from the data_partition.m
- X_train, X_test, y_train, y_value</code></pre>
<h3 id="som-net-data-mat"><a href="#som-net-data-mat" class="headerlink" title="som_net_data.mat"></a>som_net_data.mat</h3><pre><code>- the network trained by som (it takes long time, for computation convenience)</code></pre>
<h3 id="lvq-360-mat"><a href="#lvq-360-mat" class="headerlink" title="lvq_360.mat"></a>lvq_360.mat</h3><pre><code>- lvq with cluster set to 360</code></pre>
<h3 id="lvq-24-mat"><a href="#lvq-24-mat" class="headerlink" title="lvq_24.mat"></a>lvq_24.mat</h3><pre><code>- lvq with cluster set to 24 </code></pre>
<h3 id="kmeans-plot-mat"><a href="#kmeans-plot-mat" class="headerlink" title="kmeans_plot.mat"></a>kmeans_plot.mat</h3><pre><code>- calculate silhouette value to find the suitable cluster k, but the results are not satisfied
- return the plot of each epoch</code></pre>
<h3 id="Confusion-matrix-summary"><a href="#Confusion-matrix-summary" class="headerlink" title="Confusion_matrix summary:"></a>Confusion_matrix summary:</h3><pre><code>- CNN_confusion.mat
- C_rbf_som.mat
- C_rbf_kmeans.mat
- C_mlp.mat
- C_lvq.mat
- C_CNN.mat</code></pre>
<hr>
<p>Assessment2</p>
<p>You could download the whole file with script and report in 1716309_Yuxuan_Wu.zip from my own repository</p>
<p><a class="link" href="https://github.com/yuxuanwu17/INT301_Assessment2">https://github.com/yuxuanwu17/INT301_Assessment2<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Matlab</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>Neural networks</tag>
        <tag>image classification</tag>
      </tags>
  </entry>
  <entry>
    <title>matlabç›¸å…³çš„çŸ¥è¯†</title>
    <url>/2021/01/28/matlab_links/</url>
    <content><![CDATA[<p><strong>matlabç¥ç»ç½‘ç»œnewffå‡½æ•°çš„ç”¨æ³•</strong></p>
<p><a class="link"   href="https://blog.csdn.net/xiaotao_1/article/details/79078729" >https://blog.csdn.net/xiaotao_1/article/details/79078729<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>åˆ†å‰²æ•°æ®é›†</strong></p>
<p><a class="link"   href="https://blog.csdn.net/shengchaohua163/article/details/79876007" >https://blog.csdn.net/shengchaohua163/article/details/79876007<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://www.itdaan.com/blog/2018/04/10/7c17309d448c3f414edafe886a257d7b.html" >https://www.itdaan.com/blog/2018/04/10/7c17309d448c3f414edafe886a257d7b.html<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>ç†è§£trainçš„å‡½æ•°çš„æ„ä¹‰</strong></p>
<p><a class="link"   href="https://www.mathworks.com/matlabcentral/answers/337308-net-tr-y-e-train-net-p-t-how-y-and-e-get-their-dimensions-with-this-syntax" >https://www.mathworks.com/matlabcentral/answers/337308-net-tr-y-e-train-net-p-t-how-y-and-e-get-their-dimensions-with-this-syntax<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>newff</strong></p>
<p><a class="link"   href="https://blog.csdn.net/weixin_43857827/article/details/102924575" >https://blog.csdn.net/weixin_43857827/article/details/102924575<i class="fas fa-external-link-alt"></i></a></p>
<p>net = newff(minmax(p),[éšå±‚çš„ç¥ç»å…ƒçš„ä¸ªæ•°ï¼Œè¾“å‡ºå±‚çš„ç¥ç»å…ƒçš„ä¸ªæ•°],{éšå±‚ç¥ç»å…ƒçš„ä¼ è¾“å‡½æ•°ï¼Œè¾“å‡ºå±‚çš„ä¼ è¾“å‡½æ•°ï½,â€™åå‘ä¼ æ’­çš„è®­ç»ƒå‡½æ•°â€™)</p>
<p><strong>æ··æ·†çŸ©é˜µ</strong></p>
<p><a class="link"   href="https://ww2.mathworks.cn/help/stats/confusionmat.html" >https://ww2.mathworks.cn/help/stats/confusionmat.html<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>å¦‚ä½•ä¼˜åŒ–MLP</strong></p>
<p><a class="link"   href="https://ww2.mathworks.cn/matlabcentral/answers/137-how-do-i-improve-my-neural-network-performance" >https://ww2.mathworks.cn/matlabcentral/answers/137-how-do-i-improve-my-neural-network-performance<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>XOR problem</strong> </p>
<p>[<a class="link"   href="https://medium.com/@jayeshbahire/the-xor-problem-in-neural-networks-50006411840b#:~:text=The%20XOr%2C%20or%20%E2%80%9Cexclusive%20or,value%20if%20they%20are%20equal]" >https://medium.com/@jayeshbahire/the-xor-problem-in-neural-networks-50006411840b#:~:text=The%20XOr%2C%20or%20%E2%80%9Cexclusive%20or,value%20if%20they%20are%20equal]<i class="fas fa-external-link-alt"></i></a>(<a class="link"   href="https://medium.com/@jayeshbahire/the-xor-problem-in-neural-networks-50006411840b#:~:text=The" >https://medium.com/@jayeshbahire/the-xor-problem-in-neural-networks-50006411840b#:~:text=The<i class="fas fa-external-link-alt"></i></a> XOr%2C or â€œexclusive or,value if they are equal)</p>
<p><strong>Rbf é—®é¢˜ç®—æ³•</strong></p>
<p><a class="link"   href="https://blog.csdn.net/zouxy09/article/details/13297881" >https://blog.csdn.net/zouxy09/article/details/13297881<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>Rbf ç¥ç»ç½‘ç»œå’Œbpç¥ç»ç½‘ç»œçš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹</strong></p>
<p><a class="link"   href="https://blog.csdn.net/kykankankan/article/details/79749307?utm_medium=distribute.pc_relevant_bbs_down.none-task-blog-baidujs-1.nonecase&amp;depth_1-utm_source=distribute.pc_relevant_bbs_down.none-task-blog-baidujs-1.nonecase" >https://blog.csdn.net/kykankankan/article/details/79749307?utm_medium=distribute.pc_relevant_bbs_down.none-task-blog-baidujs-1.nonecase&amp;depth_1-utm_source=distribute.pc_relevant_bbs_down.none-task-blog-baidujs-1.nonecase<i class="fas fa-external-link-alt"></i></a></p>
<p>éå†è¯»å–æ–‡ä»¶</p>
<p><a class="link"   href="https://blog.csdn.net/FX677588/article/details/53126961" >https://blog.csdn.net/FX677588/article/details/53126961<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>Matlab CNN</strong></p>
<p><a class="link"   href="https://blog.csdn.net/weixin_41923961/article/details/80382502" >https://blog.csdn.net/weixin_41923961/article/details/80382502<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>forè¯­å¥å¾ªç¯ç³»åˆ—å¤„ç†ä¸€éƒ¨åˆ†æ–‡ä»¶ï¼Œå¹¶ä¸”æ”¹å†™</strong></p>
<p><a class="link"   href="https://blog.csdn.net/zhangziyou719/article/details/54647331?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control" >https://blog.csdn.net/zhangziyou719/article/details/54647331?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>kmeans</strong></p>
<p><a class="link"   href="https://www.mathworks.com/help/stats/k-means-clustering.html" >https://www.mathworks.com/help/stats/k-means-clustering.html<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>matlabå‡½æ•°</strong></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/19802747" >https://zhuanlan.zhihu.com/p/19802747<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>å¾„å‘åŸºå‡½æ•°çš„sigmaé€‰æ‹©ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ç”¨meanï¼‰</strong></p>
<p><a class="link"   href="https://www.cnblogs.com/yymn/p/4537992.html" >https://www.cnblogs.com/yymn/p/4537992.html<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>SOM</strong></p>
<p><a class="link"   href="https://blog.csdn.net/weixin_30300225/article/details/95509788?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control" >https://blog.csdn.net/weixin_30300225/article/details/95509788?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Matlab</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>python ç›¸å…³çš„çŸ¥è¯†å’Œç¬”è®°é“¾æ¥</title>
    <url>/2021/01/28/python-%E7%9B%B8%E5%85%B3%E7%9A%84%E7%9F%A5%E8%AF%86%E5%92%8C%E7%AC%94%E8%AE%B0%E9%93%BE%E6%8E%A5/</url>
    <content><![CDATA[<p>Python learning: å…¥é—¨å¤§å…¨</p>
<p><a class="link"   href="https://apachecn.gitee.io/ailearning/#/" >https://apachecn.gitee.io/ailearning/#/<i class="fas fa-external-link-alt"></i></a></p>
<h4 id="æ¥å—ä¸å®šå‚æ•°"><a href="#æ¥å—ä¸å®šå‚æ•°" class="headerlink" title="æ¥å—ä¸å®šå‚æ•°"></a>æ¥å—ä¸å®šå‚æ•°</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x, *args</span>):</span></span><br><span class="line">    total = x</span><br><span class="line">    <span class="keyword">for</span> arg <span class="keyword">in</span> args:</span><br><span class="line">        total += arg</span><br><span class="line">    <span class="keyword">return</span> total</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œï¼Œ<code>*args</code> è¡¨ç¤ºå‚æ•°æ•°ç›®ä¸å®šï¼Œå¯ä»¥çœ‹æˆä¸€ä¸ªå…ƒç»„ï¼ŒæŠŠç¬¬ä¸€ä¸ªå‚æ•°åé¢çš„å‚æ•°å½“ä½œå…ƒç»„ä¸­çš„å…ƒç´ ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(add(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">print(add(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">----</span><br><span class="line">&gt;&gt;&gt;<span class="number">10</span></span><br><span class="line">&gt;&gt;&gt;<span class="number">3</span></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x, **kwargs</span>):</span></span><br><span class="line">    total = x</span><br><span class="line">    <span class="keyword">for</span> arg, value <span class="keyword">in</span> kwargs.items():</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;adding &quot;</span>, arg</span><br><span class="line">        total += value</span><br><span class="line">    <span class="keyword">return</span> total</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œï¼Œ <code>**kwargs</code> è¡¨ç¤ºå‚æ•°æ•°ç›®ä¸å®šï¼Œç›¸å½“äºä¸€ä¸ªå­—å…¸ï¼Œå…³é”®è¯å’Œå€¼å¯¹åº”äºé”®å€¼å¯¹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span> add(<span class="number">10</span>, y=<span class="number">11</span>, z=<span class="number">12</span>, w=<span class="number">13</span>)</span><br><span class="line">----</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adding  y</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adding  z</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adding  w</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">46</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">    <span class="built_in">print</span> args, kwargs</span><br><span class="line"></span><br><span class="line">foo(<span class="number">2</span>, <span class="number">3</span>, x=<span class="string">&#x27;bar&#x27;</span>, z=<span class="number">10</span>)</span><br><span class="line">-----</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">2</span>, <span class="number">3</span>) &#123;<span class="string">&#x27;x&#x27;</span>: <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;z&#x27;</span>: <span class="number">10</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>tf é‡Œé¢çš„training=True</p>
<p>Some neural network layers behave differently during training and inference, for example Dropout and BatchNormalization layers. For example</p>
<ul>
<li>During training, dropout will randomly drop out units and correspondingly scale up activations of the remaining units.</li>
<li>During inference, it does nothing (since you usually donâ€™t want the randomness of dropping out units here).</li>
</ul>
<p>The training argument lets the layer know which of the two â€œpathsâ€ it should take. If you set this incorrectly, your network might not behave as expected.</p>
<p>pycharmçš„å¥‡æŠ€æ·«å·§</p>
<p><a class="link"   href="https://www.zhihu.com/question/37787004" >https://www.zhihu.com/question/37787004<i class="fas fa-external-link-alt"></i></a></p>
<p>ä¸ºä»€ä¹ˆè¦åšå½’ä¸€åŒ–å¤„ç†</p>
<p><a class="link"   href="https://mp.weixin.qq.com/s/TF6d9NRz0lDFQeC_K3CVaw" >https://mp.weixin.qq.com/s/TF6d9NRz0lDFQeC_K3CVaw<i class="fas fa-external-link-alt"></i></a></p>
<p>npy æ ¼å¼çš„å¥½å¤„</p>
<p><a class="link"   href="https://towardsdatascience.com/what-is-npy-files-and-why-you-should-use-them-603373c78883" >https://towardsdatascience.com/what-is-npy-files-and-why-you-should-use-them-603373c78883<i class="fas fa-external-link-alt"></i></a></p>
<ol>
<li>ä¸ç”¨reshapeäº†ï¼Œä»€ä¹ˆæ ¼å¼ä¿å­˜ï¼Œä»€ä¹ˆæ ¼å¼è¯»å–</li>
<li>storageæ¯”è¾ƒå°</li>
<li>Readçš„é€Ÿåº¦æ¯”è¾ƒå¿«</li>
</ol>
<p>pickle data</p>
<p><a class="link"   href="https://www.geeksforgeeks.org/understanding-python-pickling-example/" >https://www.geeksforgeeks.org/understanding-python-pickling-example/<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://www.zhihu.com/search?type=content&amp;q=Pickling" >https://www.zhihu.com/search?type=content&amp;q=Pickling<i class="fas fa-external-link-alt"></i></a></p>
<p>ç­”ï¼šPickleæ¨¡å—è¯»å…¥ä»»ä½•Pythonå¯¹è±¡ï¼Œå°†å®ƒä»¬è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨dumpå‡½æ•°å°†å…¶è½¬å‚¨åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­â€”â€”è¿™ä¸ªè¿‡ç¨‹å«åšpicklingã€‚åä¹‹ä»å­˜å‚¨çš„å­—ç¬¦ä¸²æ–‡ä»¶ä¸­æå–åŸå§‹Pythonå¯¹è±¡çš„è¿‡ç¨‹ï¼Œå«åšunpicklingã€‚    allow_pickle = Trueæ–‡ä»¶ä¼ è¾“çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæœ‰å‹ç¼©ï¼Œtrueåˆ™è¡¨ç¤ºå‹ç¼©åæ–‡ä»¶ä¸å˜</p>
<p>Pythonçš„é¢è¯•</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/41962762" >https://zhuanlan.zhihu.com/p/41962762<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>1.è¿™ä¸¤ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆæ„æ€:*args,\</strong>kwargsï¼Ÿæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒä»¬?**</p>
<p>ç­”:å¦‚æœæˆ‘ä»¬ä¸ç¡®å®šå¾€ä¸€ä¸ªå‡½æ•°ä¸­ä¼ å…¥å¤šå°‘å‚æ•°ï¼Œæˆ–è€…æˆ‘ä»¬å¸Œæœ›ä»¥å…ƒç»„(tuple)æˆ–è€…åˆ—è¡¨(list)çš„å½¢å¼ä¼ å‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨*args(å•æ˜Ÿå·).å¦‚æœæˆ‘ä»¬ä¸çŸ¥é“å¾€å‡½æ•°ä¸­ä¼ é€’å¤šå°‘ä¸ªå…³é”®è¯å‚æ•°æˆ–è€…æƒ³ä¼ å…¥å­—å…¸çš„å€¼ä½œä¸ºå…³é”®è¯å‚æ•°çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨**kwargs(åŒæ˜Ÿå·),args,kwargsä¸¤ä¸ªæ ‡è¯†ç¬¦æ˜¯çº¦å®šä¿—æˆçš„ç”¨æ³•ã€‚</p>
<p>lists are mutable while tuple are not </p>
<p><strong>è¿™ä¸ªå°±éå¸¸çš„å¥½ï¼Œè§£é‡Škargs and args</strong></p>
<p><a class="link"   href="https://realpython.com/python-kwargs-and-args/" >https://realpython.com/python-kwargs-and-args/<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   href="https://www.jianshu.com/p/592cf526b1e6" >https://www.jianshu.com/p/592cf526b1e6<i class="fas fa-external-link-alt"></i></a></p>
<p>Python çš„iteration è¿™ä¸ªæ¨¡å—çš„ç”¨æ³•</p>
<p><a class="link"   href="https://www.zhihu.com/search?type=content&amp;q=itertools" >https://www.zhihu.com/search?type=content&amp;q=itertools<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>Itertools.zip_longest()</strong></p>
<p>This iterator falls under the category of <a class="link"   href="https://www.geeksforgeeks.org/python-itertools/#terminate" >Terminating Iterators<i class="fas fa-external-link-alt"></i></a>. It prints the values of iterables alternatively in sequence. If one of the iterables is printed fully, the remaining values are filled by the values assigned to fillvalue parameter.</p>
<p>Pythonæ–°æ‰‹å¸¸è§çš„å‘</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/81012511" >https://zhuanlan.zhihu.com/p/81012511<i class="fas fa-external-link-alt"></i></a></p>
<p><strong>Tf.function è£…é¥°å™¨çš„ç©æ„</strong> </p>
<table>
<thead>
<tr>
<th>func</th>
<th>the function to be compiled. If func is None, <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/function" >tf.function<i class="fas fa-external-link-alt"></i></a> returns a decorator that can be invoked with a single argument - func. In other words, tf.function(input_signature=â€¦)(func) is equivalent to <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/function" >tf.function(func, input_signature=â€¦)<i class="fas fa-external-link-alt"></i></a>. The former can be used as decorator.</th>
</tr>
</thead>
<tbody><tr>
<td>input_signature</td>
<td>A possibly nested sequence of <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/TensorSpec" >tf.TensorSpec<i class="fas fa-external-link-alt"></i></a> objects specifying the shapes and dtypes of the Tensors that will be supplied to this function. If None, a separate function is instantiated for each inferred input signature. If input_signature is specified, every input to func must be a Tensor, and func cannot accept **kwargs.</td>
</tr>
</tbody></table>
<p><strong>tf graphï¼š</strong></p>
<p>Graphs are data structures that contain a set of <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/Operation" >tf.Operation<i class="fas fa-external-link-alt"></i></a> objects, which represent units of computation; and <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/Tensor" >tf.Tensor<i class="fas fa-external-link-alt"></i></a> objects, which represent the units of data that flow between operations. They are defined in a <a class="link"   href="https://www.tensorflow.org/api_docs/python/tf/Graph" >tf.Graph<i class="fas fa-external-link-alt"></i></a> context. Since these graphs are data structures, they can be saved, run, and restored all without the original Python code.</p>
<p><strong>permutation invariant</strong></p>
<p>In this context this refers to the fact that the model does not assume any spatial relationships between the features. E.g. for multilayer perceptron, you can permute the pixels and the performance would be the same. This is not the case for convolutional networks, which assume neighbourhood relations.</p>
<p>numpy -1 çš„ä½œç”¨</p>
<p><a class="link"   href="https://stackoverflow.com/questions/tagged/numpy-ndarray" >https://stackoverflow.com/questions/tagged/numpy-ndarray<i class="fas fa-external-link-alt"></i></a></p>
<p>Tensorflow.Datasetä¸­mapï¼Œshuffleï¼Œrepeatï¼Œbatchçš„æ€»ç»“ </p>
<p><a class="link"   href="https://blog.csdn.net/anshuai_aw1/article/details/105094548" >https://blog.csdn.net/anshuai_aw1/article/details/105094548<i class="fas fa-external-link-alt"></i></a></p>
<p>shuffleçš„é¡ºåºå¾ˆé‡è¦ï¼Œåº”è¯¥å…ˆshuffleå†batchï¼Œå¦‚æœå…ˆbatchåshuffleçš„è¯ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±åªæ˜¯å¯¹batchè¿›è¡Œshuffleï¼Œè€Œbatché‡Œé¢çš„æ•°æ®é¡ºåºä¾æ—§æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆéšæœºç¨‹åº¦ä¼šå‡å¼±</p>
<p>buffer_size è¶Šå¤§ï¼Œæ‰“ä¹±çš„ç¨‹åº¦è¶Šé«˜</p>
<p><a class="link"   href="https://www.cnblogs.com/HolyShine/p/8673322.html" >https://www.cnblogs.com/HolyShine/p/8673322.html<i class="fas fa-external-link-alt"></i></a></p>
<p>æ•°æ®é›†çš„å¤„ç†å’Œé¢„å¤„ç†ï¼Œéå¸¸é‡è¦</p>
<p><a class="link"   href="https://tf.wiki/zh_hans/basic/tools.html#zh-hans-tfdata" >https://tf.wiki/zh_hans/basic/tools.html#zh-hans-tfdata<i class="fas fa-external-link-alt"></i></a></p>
<p>Tensorflow Dataset API ç”¨æ³•</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/30751039" >https://zhuanlan.zhihu.com/p/30751039<i class="fas fa-external-link-alt"></i></a></p>
<p>Tensorflow æ•°æ®è¯»å–æœºåˆ¶</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/27238630" >https://zhuanlan.zhihu.com/p/27238630<i class="fas fa-external-link-alt"></i></a></p>
<p>è®­ç»ƒgpuçš„tricks</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/53345706" >https://zhuanlan.zhihu.com/p/53345706<i class="fas fa-external-link-alt"></i></a></p>
<p><strong><em>\</em>tensorflowçš„è®­ç»ƒå’Œæ•™ç¨‹(éå¸¸é‡è¦)</strong></p>
<p><a class="link"   href="https://tf.wiki/" >https://tf.wiki/<i class="fas fa-external-link-alt"></i></a></p>
<p><img src="blob:file:///c0a2b963-ad70-4970-82dd-9ca515c90f18" alt="model.png"></p>
<p>pythonçš„åŒ…ä¹‹ç±»çš„é—®é¢˜</p>
<p><a class="link"   href="https://www.zhihu.com/question/430339227/answer/1577177268" >https://www.zhihu.com/question/430339227/answer/1577177268<i class="fas fa-external-link-alt"></i></a></p>
<p>Python __init__ä¹‹ç±»çš„é—®é¢˜</p>
<p><a class="link"   href="https://www.zhihu.com/question/46973549/answer/767530541" >https://www.zhihu.com/question/46973549/answer/767530541<i class="fas fa-external-link-alt"></i></a></p>
<p>nohup</p>
<p><a class="link"   href="https://www.zhihu.com/question/429726293/answer/1568963793" >https://www.zhihu.com/question/429726293/answer/1568963793<i class="fas fa-external-link-alt"></i></a></p>
<p>Pycharm çš„debug</p>
<p><a class="link"   href="https://www.zhihu.com/search?type=content&q=pycharm%E6%96%AD%E7%82%B9debug" >https://www.zhihu.com/search?type=content&amp;q=pycharm%E6%96%AD%E7%82%B9debug<i class="fas fa-external-link-alt"></i></a></p>
<p>äº”åˆ†é’Ÿå­¦ç®—æ³•</p>
<p><a class="link"   href="http://www.cxyxiaowu.com/" >http://www.cxyxiaowu.com/<i class="fas fa-external-link-alt"></i></a></p>
<p>pythonæµ…æ‹·è´</p>
<p><a class="link"   href="https://mp.weixin.qq.com/s/KrdXyYMtyElUGuPH5eNYvg" >https://mp.weixin.qq.com/s/KrdXyYMtyElUGuPH5eNYvg<i class="fas fa-external-link-alt"></i></a></p>
<p>çˆ¬å–bç«™çš„å¼¹å¹•</p>
<p><a class="link"   href="https://mp.weixin.qq.com/s/OYo1VwKkUWIX9p73mvSLOQ" >https://mp.weixin.qq.com/s/OYo1VwKkUWIX9p73mvSLOQ<i class="fas fa-external-link-alt"></i></a></p>
<p>è¡¨æƒ…åŒ…</p>
<p><a class="link"   href="https://mp.weixin.qq.com/s/0Yguofg54GZSjvfUfjezmw" >https://mp.weixin.qq.com/s/0Yguofg54GZSjvfUfjezmw<i class="fas fa-external-link-alt"></i></a></p>
<p>çˆ¬å»ç™¾åº¦çš„è¡¨æ ¼</p>
<p><a class="link"   href="https://blog.csdn.net/wyquin/article/details/79601918" >https://blog.csdn.net/wyquin/article/details/79601918<i class="fas fa-external-link-alt"></i></a></p>
<p>python çš„é¡¹ç›®ç»„ç»‡ç»“æ„</p>
<p><a class="link"   href="https://marlous.github.io/2019/04/03/Python-%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E7%BB%84%E7%BB%87/" >https://marlous.github.io/2019/04/03/Python-%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E7%BB%84%E7%BB%87/<i class="fas fa-external-link-alt"></i></a></p>
<p>çˆ¬è™«403é—®é¢˜</p>
<p><a class="link"   href="http://zhaoxuhui.top/blog/2017/06/19/Python%E7%88%AC%E8%99%AB403%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E4%B8%8E%E5%AE%9E%E4%BE%8B.html" >http://zhaoxuhui.top/blog/2017/06/19/Python%E7%88%AC%E8%99%AB403%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E4%B8%8E%E5%AE%9E%E4%BE%8B.html<i class="fas fa-external-link-alt"></i></a></p>
<p>Matplot é—®é¢˜æ€»ç»“</p>
<p><a class="link"   href="https://www.jianshu.com/p/778d78463028" >https://www.jianshu.com/p/778d78463028<i class="fas fa-external-link-alt"></i></a></p>
<p>çˆ¬è™«csdn å¤§å…¨</p>
<p><a class="link"   href="https://blog.csdn.net/llllllkkkkkooooo/category_10129586.html" >https://blog.csdn.net/llllllkkkkkooooo/category_10129586.html<i class="fas fa-external-link-alt"></i></a></p>
<p>é˜¿é‡Œäº‘éƒ¨ç½² flask</p>
<p><a class="link"   href="https://blog.csdn.net/qq_16293649/article/details/78601569?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-2&amp;spm=1001.2101.3001.4242" >https://blog.csdn.net/qq_16293649/article/details/78601569?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-2&amp;spm=1001.2101.3001.4242<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>NBA kaggle analysis</title>
    <url>/2021/01/31/nba%E4%BC%A4%E7%97%85%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<p>æœ¬æ–‡å‚è€ƒï¼Œå¹¶å°†å…¶å»¶ä¼¸è‡³2018-2020 èµ›å­£ã€‚å…¨æ–‡ç”¨rmd å®Œæˆï¼Œggplot2ä¸ºä¸»è¦åšå›¾å·¥å…·ã€‚ä¸»è¦æƒ³ç ”ç©¶ä¸‹å„ä¸ªçƒé˜Ÿå’Œä¼¤ç—…ä¹‹é—´çš„å…³ç³»</p>
<p><a class="link"   href="https://www.kaggle.com/jaseziv83/extensive-nba-injuries-deep-dive-eda/comments" >https://www.kaggle.com/jaseziv83/extensive-nba-injuries-deep-dive-eda/comments<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="æ•°æ®ä¸‹è½½"><a href="#æ•°æ®ä¸‹è½½" class="headerlink" title="æ•°æ®ä¸‹è½½"></a>æ•°æ®ä¸‹è½½</h3><p><a class="link"   href="https://www.kaggle.com/ghopkins/nba-injuries-2010-2018" >https://www.kaggle.com/ghopkins/nba-injuries-2010-2018<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="æ•°æ®æ¸…ç†"><a href="#æ•°æ®æ¸…ç†" class="headerlink" title="æ•°æ®æ¸…ç†"></a>æ•°æ®æ¸…ç†</h3><ul>
<li>è¿”å›å¤´éƒ¨æ•°æ®çœ‹ä¸‹æ ¼å¼</li>
</ul>
<p>æ³¨ï¼š è¿™é‡Œçš„Acquired å’Œ Relinquishedæ˜¯å‘ˆç°äº’è¡¥å…³ç³»ã€‚è‹¥Acquiredéç©ºï¼Œåˆ™Relinquished ç©º</p>
<p><img src="https://pic2.zhimg.com/v2-a50518a5b79efdd79a5474d690787931_b.png" alt="img"></p>
<p><img src="https://pic1.zhimg.com/v2-1fe0510282ecbea48dd9ddc9b4443f18_b.png" alt="img"></p>
<p>æœ€åçš„è®°å½•æ˜¯åˆ°2020-10-2.</p>
<p>å‘ç°å­˜åœ¨å¾ˆå¤šç©ºçš„åˆ—è¡¨ï¼Œçœ‹ä¸‹ä¸ªæ•° ï¼ˆè¿™é‡Œæœ‰ä¸€ä¸ªå‘å°±æ˜¯è¿™é‡Œçš„ç¼ºå¤±å€¼ä¸æ˜¯NAï¼Œè€Œæ˜¯â€œâ€ã€‚ï¼‰</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">print(colSums(df == <span class="string">&quot;&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-cbfbdd1564ab4f7b7c1dc9bdbf0c16a2_b.png" alt="img"></p>
<p>å†çœ‹ä¸€ä¸‹æ€»ä½“æ•°æ®çš„size</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">glimpse(df)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-7988747e7210a3e91b0bbc730cba096f_b.png" alt="img"></p>
<h3 id="Team-åˆ—æŸ¥çœ‹"><a href="#Team-åˆ—æŸ¥çœ‹" class="headerlink" title="Team åˆ—æŸ¥çœ‹"></a>Team åˆ—æŸ¥çœ‹</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;% dplyr::filter(Team == <span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-c3e8eb624aeebc696ec3f767dc4c92b7_b.png" alt="img"></p>
<p>è¿™ä¸¤ä¾‹æƒ…å†µå…¶å®éƒ½æ˜¯å—ä¼¤äº†ï¼Œè¢«çƒé˜Ÿè£æ‰äº†</p>
<p>è¿™é‡Œä»¥å¤§å®è´ä¸ºä¾‹</p>
<p><img src="https://pic4.zhimg.com/v2-c4483ddbe7fe983ef01017ee72f34d7b_b.png" alt="img"></p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¤§èƒ†çš„æ’é™¤æ‰è¿™ä¸¤ç§æƒ…å†µ</p>
<h3 id="Acquiredåˆ—æŸ¥çœ‹"><a href="#Acquiredåˆ—æŸ¥çœ‹" class="headerlink" title="Acquiredåˆ—æŸ¥çœ‹"></a>Acquiredåˆ—æŸ¥çœ‹</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  filter(Acquired != <span class="string">&quot;&quot;</span>) %&gt;%</span><br><span class="line">  count(Notes) %&gt;%</span><br><span class="line">  arrange(desc(n))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-0f2b3bff9bd82964f586314b9fdf1288_b.png" alt="img"></p>
<p>å‘ç°è¿™æ˜¯ä¸€äº›æ¢å¤çš„æ•°æ®ï¼Œè€Œæˆ‘ä»¬çš„ç›®çš„æ˜¯æ‰¾åˆ°ä¸€äº›çƒé˜Ÿå’Œä¼¤ç—…çš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å•çº¯çš„ä¸è€ƒè™‘è¿™äº›ã€‚æ­£å¦‚æˆ‘å‰é¢æåˆ°çš„é‚£æ ·ï¼ŒAcquired å’Œ Relinquished æ˜¯äº’è¡¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¦‚ä¸‹å¤„ç†æ•°æ®</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df_exc &lt;- df %&gt;%</span><br><span class="line">  filter(Acquired == <span class="string">&quot;&quot;</span>) %&gt;% <span class="comment"># æ’é™¤Acquired==â€œâ€œ</span></span><br><span class="line">  filter(Team != <span class="string">&quot;&quot;</span>) %&gt;% <span class="comment"># æ’é™¤Team==â€œâ€œ</span></span><br><span class="line">  select(-Acquired) <span class="string">&quot;ç›´æ¥åˆ æ‰Acquiredè¿™ä¸€ä¸ªå˜é‡&quot;</span></span><br><span class="line">print(colSums(df_exc == <span class="string">&quot;&quot;</span>)) <span class="comment"># æ£€æŸ¥ä¸€ä¸‹è¿˜æœ‰æ²¡æœ‰å¤šçš„ç¼ºå¤±å€¼</span></span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-a0ad0f8d56cf29878a1595f21170957a_b.png" alt="img"></p>
<p>è¿˜æœ‰å››ä¸ªæ¼ç½‘ä¹‹é±¼ï¼Œä¹Ÿå¤„ç†æ‰</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line"><span class="comment">### Exclude some missing values in Relinquished variable</span></span><br><span class="line">df &lt;- df_exc %&gt;% filter(Relinquished != <span class="string">&quot;&quot;</span>)</span><br><span class="line">print(colSums(df == <span class="string">&quot;&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-a75e544978e1af2722cd77c931ec256a_b.png" alt="img"></p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œç¼ºå¤±å€¼å·²ç»å¤„ç†å®Œæ¯•äº†</p>
<h3 id="ä»¥æ—¶é—´ä¸ºå•ä½æ¥è¿›è¡Œå¤„ç†ï¼ˆè½¬æ¢æˆDateæ ¼å¼ï¼‰"><a href="#ä»¥æ—¶é—´ä¸ºå•ä½æ¥è¿›è¡Œå¤„ç†ï¼ˆè½¬æ¢æˆDateæ ¼å¼ï¼‰" class="headerlink" title="ä»¥æ—¶é—´ä¸ºå•ä½æ¥è¿›è¡Œå¤„ç†ï¼ˆè½¬æ¢æˆDateæ ¼å¼ï¼‰"></a>ä»¥æ—¶é—´ä¸ºå•ä½æ¥è¿›è¡Œå¤„ç†ï¼ˆè½¬æ¢æˆDateæ ¼å¼ï¼‰</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df$year &lt;- format(as.Date(df$Date), <span class="string">&quot;%Y&quot;</span>)</span><br><span class="line">df$yr_mo &lt;- format(as.Date(df$Date), <span class="string">&quot;%Y-%m&quot;</span>)</span><br><span class="line">df$month &lt;- month(as.Date(df$Date), <span class="literal">TRUE</span>)</span><br></pre></td></tr></table></figure>
<p>çœ‹ä¸€ä¸‹è¿™åå¹´ç©¶ç«Ÿè°ä¼¤ç—…æƒ…å†µï¼ˆåŒ…å«è½®ä¼‘ï¼‰çš„æœ€å¤š</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  count(Team) %&gt;%</span><br><span class="line">  ggplot(aes(x = reorder(Team, n), y = n)) +</span><br><span class="line">  geom_col(fill = <span class="string">&quot;midnightblue&quot;</span>, color = <span class="string">&quot;white&quot;</span>) +</span><br><span class="line">  coord_flip() +</span><br><span class="line">  theme_bw() +</span><br><span class="line">  labs(x = <span class="string">&quot;Team&quot;</span>, y = <span class="string">&quot;Number of injury events&quot;</span>, title = <span class="string">&quot;Which team has the most injury events&quot;</span>) +</span><br><span class="line">  theme(panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>), plot.title = element_text(hjust = <span class="number">0.5</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.zhimg.com/v2-4084964e3ded6dc032bebd0501494d6c_b.png" alt="img"></p>
<p>å‰ä¸‰ååˆ†åˆ«æ˜¯é›„é¹¿ï¼Œé©¬åˆºå’Œç«ç®­ã€‚</p>
<p>ç”±äºè”ç›Ÿåœ¨2018 å¹´å‘å¸ƒäº†æ–°çš„æ”¿ç­–ï¼Œå¯¹éä¼¤è½®ä¼‘çš„çƒé˜Ÿä¼šå¤„ä»¥ç½šæ¬¾ï¼Œä¹‹å‰çš„è®°å½•å¯èƒ½æœ‰ä¸€äº›æ°´åˆ†ã€‚æ‰€ä»¥æˆ‘åˆåšäº†2018å¹´ä¹‹åçš„æ•°æ®</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  filter(yr_mo &gt; <span class="string">&quot;2018-09&quot;</span>) %&gt;%</span><br><span class="line">  count(Team) %&gt;%</span><br><span class="line">  ggplot(aes(x = reorder(Team, n), y = n)) +</span><br><span class="line">  geom_col(fill = <span class="string">&quot;midnightblue&quot;</span>, color = <span class="string">&quot;white&quot;</span>) +</span><br><span class="line">  coord_flip() +</span><br><span class="line">  theme_bw() +</span><br><span class="line">  labs(x = <span class="string">&quot;Team&quot;</span>, y = <span class="string">&quot;Number of injury events&quot;</span>, title = <span class="string">&quot;Which team has the most injury events since 2018-2019 season&quot;</span>) +</span><br><span class="line">  theme(panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>), plot.title = element_text(hjust = <span class="number">0.5</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-afd7ae98b4b21a7187fb1099b1c019f2_b.png" alt="img"></p>
<p>é©¬åˆºåœ¨æœ¬æ¬¡èµ›å­£å¤±å»æ•ˆåŠ›äº†åä¸ƒå¹´çš„åå«æ‰˜å°¼Â·å¸•å…‹ï¼Œä»–åœ¨ä¼‘èµ›æœŸé—´é€‰æ‹©ä¸å¤æ´›ç‰¹é»„èœ‚ç­¾çº¦ï¼Œè€Œæ°å¼—ç‘Â·ç½—å¾·æ›¼å‰ã€å‡¯å°”Â·å®‰å¾·æ£®ä»¥åŠå¸ƒå…°ç™»Â·ä¿ç½—ç­‰é‡è¦è§’è‰²çƒå‘˜ä¹Ÿå…ˆåç¦»é˜Ÿã€‚è¿™ä¹Ÿæ˜¯è‡ª2002â€“03èµ›å­£ä»¥æ¥ç¬¬ä¸€æ¬¡æ²¡æœ‰é©¬åŠªÂ·å‰è¯ºæ¯”åˆ©çš„èµ›å­£ï¼Œä»–åœ¨2018å¹´8æœˆ27æ—¥é€‰æ‹©å¯¹å¤–å®£å¸ƒé€€å½¹ï¼Œå› æ­¤è¿™ä¹Ÿæ ‡å¿—ç€é©¬åˆºçš„â€œä¸‰å·¨å¤´æ—¶ä»£â€è‡³æ­¤å·²ç»å½»åº•ç»“æŸã€‚2018å¹´7æœˆ18æ—¥ï¼Œé©¬åˆºç®¡ç†å±‚å°†ç§‘æ€€Â·ä¼¦çº³å¾·å’Œä¸¹å°¼Â·æ ¼æ—äº¤æ˜“åˆ°å¤šä¼¦å¤šçŒ›é¾™ï¼Œä»¥æ¢å–å¾·ç›å°”Â·å¾·ç½—èµã€é›…å„Â·ä¼¯å°”ç‰¹å’Œä¸€æšå—ä¿æŠ¤çš„2019å¹´é¦–è½®é€‰ç§€ç­¾ã€‚</p>
<p>æ–°é²œè¡€æ¶²çš„åŠ å…¥ä»¥åŠæ•´ä½“é˜µå®¹çš„å¹´è½»åŒ–ï¼Œé©¬åˆºåœ¨2018-2019èµ›å­£å‡ ä¹å…¨å‘˜å¥åº·ï¼Œå—ä¼¤ç—…å½±å“æœ€å°ã€‚</p>
<p>æ­¤æ—¶å—ä¼¤ç—…å½±å“æœ€ä¸¥é‡çš„å‰ä¸‰åªçƒé˜Ÿåˆ†åˆ«æ˜¯å‡¯å°”ç‰¹äººï¼Œé›„é¹¿å’Œå‹‡å£«ã€‚</p>
<h3 id="åå¹´å†…å“ªä½çƒå‘˜å—ä¼¤ç—…å½±å“ï¼ˆå«è½®ä¼‘ï¼‰æœ€å¤š"><a href="#åå¹´å†…å“ªä½çƒå‘˜å—ä¼¤ç—…å½±å“ï¼ˆå«è½®ä¼‘ï¼‰æœ€å¤š" class="headerlink" title="åå¹´å†…å“ªä½çƒå‘˜å—ä¼¤ç—…å½±å“ï¼ˆå«è½®ä¼‘ï¼‰æœ€å¤š"></a>åå¹´å†…å“ªä½çƒå‘˜å—ä¼¤ç—…å½±å“ï¼ˆå«è½®ä¼‘ï¼‰æœ€å¤š</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  <span class="comment">#filter(yr_mo &gt; &quot;2018-09&quot; &amp; yr_mo&lt; &quot;2019-09&quot;) %&gt;%</span></span><br><span class="line">  count(Relinquished) %&gt;%</span><br><span class="line">  arrange(desc(n)) %&gt;%</span><br><span class="line">  top_n(n = <span class="number">20</span>) %&gt;%</span><br><span class="line">  ggplot(aes(x = reorder(Relinquished, n), y = n)) +</span><br><span class="line">  geom_col(fill = <span class="string">&quot;midnightblue&quot;</span>, color = <span class="string">&quot;white&quot;</span>) +</span><br><span class="line">  coord_flip() +</span><br><span class="line">  theme_bw() +</span><br><span class="line">  labs(x = <span class="string">&quot;Player&quot;</span>, y = <span class="string">&quot;Number of injury events on players&quot;</span>, title = <span class="string">&quot;Which player has the most injury events&quot;</span>) +</span><br><span class="line">  theme(panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>), plot.title = element_text(hjust = <span class="number">0.5</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic4.zhimg.com/v2-04962af2c15848bb7b8e04bf9fbbd4f7_b.png" alt="img"></p>
<p>ä¹ç¦ï¼Œæˆˆç™»å’Œç½—æ–¯æ˜¯è¿‘åå¹´æ¥å—ä¼¤ç—…å½±å“æœ€å¤§çš„ ï¼ˆè½®ä¼‘ä¹Ÿæ˜¯é¢„é˜²ä¼¤ç—…ï¼‰</p>
<h3 id="æ¯å¹´nbaçƒå‘˜å—ä¼¤ç—…ä¼¤ç—…å½±å“çš„æ•°é‡"><a href="#æ¯å¹´nbaçƒå‘˜å—ä¼¤ç—…ä¼¤ç—…å½±å“çš„æ•°é‡" class="headerlink" title="æ¯å¹´nbaçƒå‘˜å—ä¼¤ç—…ä¼¤ç—…å½±å“çš„æ•°é‡"></a>æ¯å¹´nbaçƒå‘˜å—ä¼¤ç—…ä¼¤ç—…å½±å“çš„æ•°é‡</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">count(year, Relinquished) %&gt;%</span><br><span class="line">ggplot(aes(x = n)) +</span><br><span class="line">geom_density(color = <span class="string">&quot;midnightblue&quot;</span>, fill = <span class="string">&quot;white&quot;</span>) +</span><br><span class="line">facet_wrap(~year, scales = <span class="string">&quot;free_y&quot;</span>) +</span><br><span class="line">theme_bw() +</span><br><span class="line">labs(y = <span class="string">&quot;&quot;</span>, x = <span class="string">&quot;Number of events&quot;</span>, title = <span class="string">&quot;Number of events per player&quot;</span>, subtitle = <span class="string">&quot;Note: 2010 &amp; 2020 not a full year&quot;</span>) +</span><br><span class="line">theme(plot.title = element_text(hjust = <span class="number">0.5</span>), plot.subtitle = element_text(hjust = <span class="number">0.5</span>), panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-58c0de51e96334cf89cbf0ca34b75635_b.png" alt="img"></p>
<p>æ¯å¹´çš„åˆ†å¸ƒè¶‹åŠ¿éƒ½å¤§è‡´ç›¸åŒ</p>
<h3 id="NBA-çƒå‘˜æ¯å¹´å—ä¼¤æ•°é‡æ±‡æ€»ï¼ˆæŠ˜çº¿å›¾ï¼‰"><a href="#NBA-çƒå‘˜æ¯å¹´å—ä¼¤æ•°é‡æ±‡æ€»ï¼ˆæŠ˜çº¿å›¾ï¼‰" class="headerlink" title="NBA çƒå‘˜æ¯å¹´å—ä¼¤æ•°é‡æ±‡æ€»ï¼ˆæŠ˜çº¿å›¾ï¼‰"></a>NBA çƒå‘˜æ¯å¹´å—ä¼¤æ•°é‡æ±‡æ€»ï¼ˆæŠ˜çº¿å›¾ï¼‰</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  count(year) %&gt;%</span><br><span class="line">  ggplot(aes(x = year, y = n, group = <span class="number">1</span>)) +</span><br><span class="line">  ylim(<span class="number">0</span>, <span class="number">2700</span>) +</span><br><span class="line">  geom_line(size = <span class="number">1</span>, color = <span class="string">&quot;darkred&quot;</span>) +</span><br><span class="line">  geom_point(size = <span class="number">2</span>, color = <span class="string">&quot;midnightblue&quot;</span>) +</span><br><span class="line">  geom_text(color = <span class="string">&quot;midnightblue&quot;</span>, aes(label = n, y = n + <span class="number">100</span>)) +</span><br><span class="line">  theme_classic() +</span><br><span class="line">  labs(title = <span class="string">&quot;Tracking injury events over time&quot;</span>, subtitle = <span class="string">&quot;Note: 2010 &amp; 2018 not a full year&quot;</span>, x = <span class="string">&quot;Calendar Year&quot;</span>, y = <span class="string">&quot;Number events&quot;</span>) +</span><br><span class="line">  theme(panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>), plot.title = element_text(hjust = <span class="number">0.5</span>), plot.subtitle = element_text(hjust = <span class="number">0.5</span>),)</span><br></pre></td></tr></table></figure>
<p><img src="https://pic2.zhimg.com/v2-05929610308694c35e634220a8597dd5_b.png" alt="img"></p>
<h3 id="ä»¥æœˆä¸ºå•ä½è¿›è¡Œåˆ†æ"><a href="#ä»¥æœˆä¸ºå•ä½è¿›è¡Œåˆ†æ" class="headerlink" title="ä»¥æœˆä¸ºå•ä½è¿›è¡Œåˆ†æ"></a>ä»¥æœˆä¸ºå•ä½è¿›è¡Œåˆ†æ</h3><figure class="highlight r"><table><tr><td class="code"><pre><span class="line">df %&gt;%</span><br><span class="line">  count(month) %&gt;%</span><br><span class="line">  ggplot(aes(x = month, y = n, group = <span class="number">1</span>)) +</span><br><span class="line">  ylim(<span class="number">0</span>, <span class="number">4000</span>) +</span><br><span class="line">  geom_line(size = <span class="number">1</span>, color = <span class="string">&quot;darkred&quot;</span>) +</span><br><span class="line">  geom_point(size = <span class="number">2</span>, color = <span class="string">&quot;midnightblue&quot;</span>) +</span><br><span class="line">  geom_text(color = <span class="string">&quot;midnightblue&quot;</span>, aes(label = n, y = n + <span class="number">100</span>)) +</span><br><span class="line">  theme_classic() +</span><br><span class="line">  labs(title = <span class="string">&quot;Tracking injury events over time&quot;</span>, subtitle = <span class="string">&quot;Note: 2010 &amp; 2020 not a full year&quot;</span>, x = <span class="string">&quot;Calendar Year&quot;</span>, y = <span class="string">&quot;Number events&quot;</span>) +</span><br><span class="line">  theme(panel.grid.major.y = element_blank(), panel.background = element_rect(fill = <span class="string">&quot;whitesmoke&quot;</span>), plot.title = element_text(hjust = <span class="number">0.5</span>), plot.subtitle = element_text(hjust = <span class="number">0.5</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://pic3.zhimg.com/v2-530dfc5a43268735c3c96e6ed366f5b2_b.png" alt="img"></p>
<p>æ³¨æ„ï¼šå­£åèµ›é€šå¸¸æ˜¯å››æœˆä¸­æ—¬ï¼Œæ‰€ä»¥ä¸€äº›è½®ä¼‘çš„çƒå‘˜ï¼Œä¸€äº›å°ä¼¤ç—…çš„çƒå‘˜é€šå¸¸ä¼šé€‰æ‹©åœ¨å­£åèµ›å‰å¤å‡ºï¼Œæ‰€ä»¥ä¼¤ç—…æƒ…å†µä¼šæœ‰ä¸€ä¸ªæ˜¾è‘—çš„ä¸‹é™ï¼Œç„¶åæ˜¯ä¼‘èµ›æœŸï¼Œåˆ°äº†ä¹æœˆè”èµ›å¼€æ‰“ï¼Œä¸å¯é¿å…çš„ä¼¤ç—…ä¼šé€æ¸å¢å¤š</p>
]]></content>
      <categories>
        <category>R</category>
      </categories>
      <tags>
        <tag>kaggle</tag>
        <tag>EDA</tag>
        <tag>R</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker å¸¸ç”¨å‘½ä»¤</title>
    <url>/2021/02/03/2021-02-03-Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="Docker-çš„å¸¸ç”¨å‘½ä»¤"><a href="#Docker-çš„å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Docker çš„å¸¸ç”¨å‘½ä»¤"></a>Docker çš„å¸¸ç”¨å‘½ä»¤</h1><h2 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="headerlink" title="å¸®åŠ©å‘½ä»¤"></a>å¸®åŠ©å‘½ä»¤</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker version # æ˜¾ç¤ºdockerçš„ç‰ˆæœ¬ä¿¡æ¯</span><br><span class="line">docker info    # æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨</span><br><span class="line">docker å‘½ä»¤ --help #å¸®åŠ©å‘½ä»¤</span><br></pre></td></tr></table></figure>
<p>å¸®åŠ©æ–‡æ¡£çš„åœ°å€ï¼š<a class="link"   href="https://docs.docker.com/engine/reference/commandline/docker/" >https://docs.docker.com/engine/reference/commandline/docker/<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="é•œåƒå‘½ä»¤"><a href="#é•œåƒå‘½ä»¤" class="headerlink" title="é•œåƒå‘½ä»¤"></a>é•œåƒå‘½ä»¤</h2><p><strong>docker images</strong> æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker images </span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">mysql         latest    c8562eaf9d81   2 weeks ago     546MB</span><br><span class="line">centos        latest    300e315adb2f   2 months ago    209MB</span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£é‡Š</span></span><br><span class="line">REPOSITORY é•œåƒçš„ä»“åº“æº</span><br><span class="line">TAG é•œåƒçš„æ ‡ç­¾</span><br><span class="line">IMAGE ID é•œåƒçš„id</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å¯é€‰é¡¹</span></span><br><span class="line">Options:</span><br><span class="line">  -a, --all             (åˆ—å‡ºæ‰€æœ‰é•œåƒ)Show all images (default hides intermediate images)</span><br><span class="line">  -q, --quiet           ï¼ˆåªæ˜¾ç¤ºé•œåƒçš„idï¼‰Only show image IDs</span><br></pre></td></tr></table></figure>
<p>**docker serach **æœç´¢é•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker search mysql</span><br><span class="line">NAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED</span><br><span class="line">mysql                             MySQL is a widely used, open-source relationâ€¦   10471     [OK]       </span><br><span class="line">mariadb                           MariaDB is a community-developed fork of MySâ€¦   3894      [OK]       </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯é€‰é¡¹</span></span><br><span class="line">--filter=STARS=3000 # æœç´¢å‡ºæ¥çš„é•œåƒæ˜¯STAR&gt;3000çš„</span><br><span class="line"></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker search mysql --filter=STARS=3000</span><br><span class="line">NAME      DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED</span><br><span class="line">mysql     MySQL is a widely used, open-source relationâ€¦   10471     [OK]       </span><br><span class="line">mariadb   MariaDB is a community-developed fork of MySâ€¦   3894      [OK]   </span><br></pre></td></tr></table></figure>
<p><strong>docker pull ä¸‹è½½</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹è½½é•œåƒ docker pull é•œåƒå[ï¼štag]</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker pull mysql</span><br><span class="line">Using default tag: latest #å¦‚æœä¸å†™tagï¼Œé»˜è®¤å°±æ˜¯latest</span><br><span class="line">latest: Pulling from library/mysql</span><br><span class="line">a076a628af6f: Pull complete  #åˆ†å±‚ä¸‹è½½ï¼Œdocker image çš„æ ¸å¿ƒï¼Œè”åˆæ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">f6c208f3f991: Pull complete </span><br><span class="line">88a9455a9165: Pull complete </span><br><span class="line">406c9b8427c6: Pull complete </span><br><span class="line">7c88599c0b25: Pull complete </span><br><span class="line">25b5c6debdaf: Pull complete </span><br><span class="line">43a5816f1617: Pull complete </span><br><span class="line">1a8c919e89bf: Pull complete </span><br><span class="line">9f3cf4bd1a07: Pull complete </span><br><span class="line">80539cea118d: Pull complete </span><br><span class="line">201b3cad54ce: Pull complete </span><br><span class="line">944ba37e1c06: Pull complete </span><br><span class="line">Digest: sha256:feada149cb8ff54eade1336da7c1d080c4a1c7ed82b5e320efb5beebed85ae8c#ç­¾å</span><br><span class="line">Status: Downloaded newer image for mysql:latest</span><br><span class="line">docker.io/library/mysql:latest # çœŸå®åœ°å€</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸¤è€…ç­‰ä»·</span></span><br><span class="line">docker pull mysql </span><br><span class="line">docker pull docker.io/library/mysql:latest</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŒ‡å®šç‰ˆæœ¬</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker pull mysql:5.7</span><br><span class="line">5.7: Pulling from library/mysql</span><br><span class="line"></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker images </span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">mysql         5.7       a70d36bc331a   2 weeks ago     449MB</span><br><span class="line">mysql         latest    c8562eaf9d81   2 weeks ago     546MB</span><br></pre></td></tr></table></figure>


<p><strong>åˆ é™¤é•œåƒ</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker rmi -f é•œåƒid # åˆ é™¤æŒ‡å®šçš„å®¹å™¨ é•œåƒid</span><br><span class="line">docker rmi -f é•œåƒidï¼Œé•œåƒidï¼Œé•œåƒid # åˆ é™¤å¤šä¸ªé•œåƒ</span><br><span class="line">docker rmi -f $(docker images -aq) # åˆ é™¤å…¨éƒ¨çš„é•œåƒ</span><br></pre></td></tr></table></figure>


<h2 id="å®¹å™¨å‘½ä»¤"><a href="#å®¹å™¨å‘½ä»¤" class="headerlink" title="å®¹å™¨å‘½ä»¤"></a>å®¹å™¨å‘½ä»¤</h2><p><strong>è¯´æ˜ï¼šæˆ‘ä»¬æœ‰äº†é•œåƒæ‰å¯ä»¥åˆ›å»ºå®¹ï¼ŒLinuxï¼Œä¸‹è½½ä¸€ä¸ªcentosæ¥è¿›è¡Œå­¦ä¹ </strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull centos</span><br></pre></td></tr></table></figure>
<p><strong>æ–°å»ºå®¹å™¨å¹¶ä¸”å¯åŠ¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run [å¯é€‰å‚æ•°] image</span><br><span class="line"><span class="meta">#</span><span class="bash">å‚æ•°è¯´æ˜</span></span><br><span class="line">--name=&quot;Name&quot; #å®¹å™¨åå­— tomcat01, tomcat02, ç”¨æ¥åŒºåˆ†å®¹å™¨</span><br><span class="line">-d 						#åå°æ–¹å¼è¿›è¡Œè¿è¡Œ</span><br><span class="line">-it 					#ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œï¼Œè¿›å…¥å®¹å™¨æŸ¥çœ‹å†…å®¹</span><br><span class="line">-p 						#æŒ‡å®šå®¹å™¨çš„ç«¯å£ -p 8080ï¼š8080</span><br><span class="line">	-p ip: ä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£</span><br><span class="line">	-p ä¸»æœºç«¯ï¼šå®¹å™¨ç«¯å£ï¼ˆå¸¸ç”¨ï¼‰</span><br><span class="line">	-p å®¹å™¨ç«¯å£</span><br><span class="line">-P						#éšæœºæŒ‡å®šç«¯å£</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯•ï¼Œå¯åŠ¨ï¼Œå¹¶ä¸”è¿›å…¥å‘½ä»¤</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker run -it centos /bin/bash</span><br><span class="line">[root@87d185b2076b /]# ls #æŸ¥çœ‹å†…éƒ¨çš„centos</span><br><span class="line">bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä»å®¹å™¨ä¸­é€€å›ä¸»æœº</span></span><br><span class="line">[root@203dae537771 /]# exit</span><br><span class="line">exit</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz /]# ls</span><br><span class="line">bin  boot  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz /]# </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> docker ps å‘½ä»¤</span></span><br><span class="line">-a #åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨+å¸¦å‡ºå†å²è¿è¡Œè¿‡çš„å®¹å™¨</span><br><span class="line">-n=? # æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨</span><br><span class="line">-q # åªæ˜¾ç¤ºå®¹å™¨çš„ç¼–å·</span><br></pre></td></tr></table></figure>
<p><strong>é€€å‡ºå®¹å™¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">exit #ç›´æ¥åœæ­¢å®¹å™¨å¹¶ä¸”é€€å‡º</span><br><span class="line">Ctrl + P + Q # å®¹å™¨ä¸åœæ­¢é€€å‡º</span><br></pre></td></tr></table></figure>
<p><strong>åˆ é™¤å®¹å™¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker rm å®¹å™¨id # åˆ é™¤æŒ‡å®šçš„å®¹å™¨, ä¸èƒ½åˆ é™¤æ­£åœ¨è¿è¡Œçš„ï¼Œè¦åˆ é™¤çš„rm-f</span><br><span class="line">docker rm -f $(docker ps -aq) # åˆ é™¤æ‰€æœ‰çš„å®¹å™¨</span><br><span class="line">docker ps -a -q|xargs docker rm  # åˆ é™¤æ‰€æœ‰çš„å®¹å™¨</span><br></pre></td></tr></table></figure>
<p><strong>å¯åŠ¨å’Œåœæ­¢å®¹å™¨çš„æ“ä½œ</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker start å®¹å™¨id # å¯åŠ¨å®¹å™¨</span><br><span class="line">docker stop å®¹å™¨id # åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span><br><span class="line">docker restart å®¹å™¨id # é‡å¯å®¹å™¨ </span><br><span class="line">docker kill å®¹å™¨id # å¼ºåˆ¶åœæ­¢</span><br></pre></td></tr></table></figure>


<h3 id="å¸¸ç”¨å…¶ä»–å‘½ä»¤"><a href="#å¸¸ç”¨å…¶ä»–å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å…¶ä»–å‘½ä»¤"></a>å¸¸ç”¨å…¶ä»–å‘½ä»¤</h3><p><strong>åå°å¯åŠ¨å®¹å™¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">å‘½ä»¤ docker run -d é•œåƒå</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker run -d centos </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">é—®é¢˜docker ps å‘ç°centosåœæ­¢äº†</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å¸¸è§çš„å‘ï¼Œdocker å®¹å™¨ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œdockerå‘ç°æ²¡æœ‰åº”ç”¨ï¼Œå°±ä¼šè‡ªåŠ¨åœæ­¢</span></span><br><span class="line"><span class="meta">#</span><span class="bash">nginxï¼Œå®¹å™¨å¯åŠ¨åï¼Œå‘ç°è‡ªå·±æ²¡æœ‰æä¾›æœåŠ¡ï¼Œå°±ä¼šç«‹å³åœæ­¢ï¼Œæ²¡æœ‰ç¨‹åºäº†</span></span><br></pre></td></tr></table></figure>


<p><strong>æŸ¥çœ‹æ—¥å¿—</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker logs -f -t --tail å®¹å™¨ï¼Œæ²¡æœ‰æ—¥å¿—</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">è‡ªå·±ç¼–å†™ä¸€æ®µè„šæœ¬</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker run -d centos /bin/sh -c &quot;while true;do echo print;sleep 1;done&quot;</span><br><span class="line"></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker ps </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS     NAMES</span><br><span class="line">7c922733df50   centos    &quot;/bin/sh -c &#x27;while tâ€¦&quot;   42 seconds ago   Up 41 seconds             goofy_knuth</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ˜¾ç¤ºæ—¥å¿—</span></span><br><span class="line">-tf  fæ˜¯followæŒ‡æŒç»­è¾“å‡ºæ—¥å¿—å†…å®¹ï¼›tä»£è¡¨ä¸€ä¸ªæ—¶é—´æˆ³</span><br><span class="line"></span><br><span class="line">--tail number # è¦æ˜¾ç¤ºæ—¥å¿—çš„æ¡æ•°</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker logs -tf --tail 10 0fd350596b56</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æŸ¥çœ‹å®¹å™¨ä¸­çš„è¿›ç¨‹ä¿¡æ¯</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤docker top å®¹å™¨id</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker top 0fd350596b56 </span><br><span class="line">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD</span><br><span class="line">root                13201               13169               0                   08:42               ?                   00:00:00            /bin/sh -c while true;do echo print;sleep 1;done</span><br><span class="line">root                14630               13201               0                   09:04               ?                   00:00:00            /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æŸ¥çœ‹é•œåƒçš„å…ƒæ•°æ®</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤</span></span><br><span class="line">docker inspect å®¹å™¨id</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯•</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker inspect 0fd350596b56 </span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Id&quot;: &quot;0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f&quot;,</span><br><span class="line">        &quot;Created&quot;: &quot;2021-02-08T00:42:27.388342152Z&quot;,</span><br><span class="line">        &quot;Path&quot;: &quot;/bin/sh&quot;,</span><br><span class="line">        &quot;Args&quot;: [</span><br><span class="line">            &quot;-c&quot;,</span><br><span class="line">            &quot;while true;do echo print;sleep 1;done&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;State&quot;: &#123;</span><br><span class="line">            &quot;Status&quot;: &quot;running&quot;,</span><br><span class="line">            &quot;Running&quot;: true,</span><br><span class="line">            &quot;Paused&quot;: false,</span><br><span class="line">            &quot;Restarting&quot;: false,</span><br><span class="line">            &quot;OOMKilled&quot;: false,</span><br><span class="line">            &quot;Dead&quot;: false,</span><br><span class="line">            &quot;Pid&quot;: 13201,</span><br><span class="line">            &quot;ExitCode&quot;: 0,</span><br><span class="line">            &quot;Error&quot;: &quot;&quot;,</span><br><span class="line">            &quot;StartedAt&quot;: &quot;2021-02-08T00:42:27.823500663Z&quot;,</span><br><span class="line">            &quot;FinishedAt&quot;: &quot;0001-01-01T00:00:00Z&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Image&quot;: &quot;sha256:300e315adb2f96afe5f0b2780b87f28ae95231fe3bdd1e16b9ba606307728f55&quot;,</span><br><span class="line">        &quot;ResolvConfPath&quot;: &quot;/var/lib/docker/containers/0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f/resolv.conf&quot;,</span><br><span class="line">        &quot;HostnamePath&quot;: &quot;/var/lib/docker/containers/0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f/hostname&quot;,</span><br><span class="line">        &quot;HostsPath&quot;: &quot;/var/lib/docker/containers/0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f/hosts&quot;,</span><br><span class="line">        &quot;LogPath&quot;: &quot;/var/lib/docker/containers/0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f/0fd350596b565a75cf4a859d777692ef24a4de80305ab6e71152ba1154a6788f-json.log&quot;,</span><br><span class="line">        &quot;Name&quot;: &quot;/friendly_khayyam&quot;,</span><br><span class="line">        &quot;RestartCount&quot;: 0,</span><br><span class="line">        &quot;Driver&quot;: &quot;overlay2&quot;,</span><br><span class="line">        &quot;Platform&quot;: &quot;linux&quot;,</span><br><span class="line">        &quot;MountLabel&quot;: &quot;&quot;,</span><br><span class="line">        &quot;ProcessLabel&quot;: &quot;&quot;,</span><br><span class="line">        &quot;AppArmorProfile&quot;: &quot;&quot;,</span><br><span class="line">        &quot;ExecIDs&quot;: null,</span><br><span class="line">        &quot;HostConfig&quot;: &#123;</span><br><span class="line">            &quot;Binds&quot;: null,</span><br><span class="line">            &quot;ContainerIDFile&quot;: &quot;&quot;,</span><br><span class="line">            &quot;LogConfig&quot;: &#123;</span><br><span class="line">                &quot;Type&quot;: &quot;json-file&quot;,</span><br><span class="line">                &quot;Config&quot;: &#123;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;NetworkMode&quot;: &quot;default&quot;,</span><br><span class="line">            &quot;PortBindings&quot;: &#123;&#125;,</span><br><span class="line">            &quot;RestartPolicy&quot;: &#123;</span><br><span class="line">                &quot;Name&quot;: &quot;no&quot;,</span><br><span class="line">                &quot;MaximumRetryCount&quot;: 0</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;AutoRemove&quot;: false,</span><br><span class="line">            &quot;VolumeDriver&quot;: &quot;&quot;,</span><br><span class="line">            &quot;VolumesFrom&quot;: null,</span><br><span class="line">            &quot;CapAdd&quot;: null,</span><br><span class="line">            &quot;CapDrop&quot;: null,</span><br><span class="line">            &quot;CgroupnsMode&quot;: &quot;host&quot;,</span><br><span class="line">            &quot;Dns&quot;: [],</span><br><span class="line">            &quot;DnsOptions&quot;: [],</span><br><span class="line">            &quot;DnsSearch&quot;: [],</span><br><span class="line">            &quot;ExtraHosts&quot;: null,</span><br><span class="line">            &quot;GroupAdd&quot;: null,</span><br><span class="line">            &quot;IpcMode&quot;: &quot;private&quot;,</span><br><span class="line">            &quot;Cgroup&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Links&quot;: null,</span><br><span class="line">            &quot;OomScoreAdj&quot;: 0,</span><br><span class="line">            &quot;PidMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Privileged&quot;: false,</span><br><span class="line">            &quot;PublishAllPorts&quot;: false,</span><br><span class="line">            &quot;ReadonlyRootfs&quot;: false,</span><br><span class="line">            &quot;SecurityOpt&quot;: null,</span><br><span class="line">            &quot;UTSMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;UsernsMode&quot;: &quot;&quot;,</span><br><span class="line">            &quot;ShmSize&quot;: 67108864,</span><br><span class="line">            &quot;Runtime&quot;: &quot;runc&quot;,</span><br><span class="line">            &quot;ConsoleSize&quot;: [</span><br><span class="line">                0,</span><br><span class="line">                0</span><br><span class="line">            ],</span><br><span class="line">            &quot;Isolation&quot;: &quot;&quot;,</span><br><span class="line">            &quot;CpuShares&quot;: 0,</span><br><span class="line">            &quot;Memory&quot;: 0,</span><br><span class="line">            &quot;NanoCpus&quot;: 0,</span><br><span class="line">            &quot;CgroupParent&quot;: &quot;&quot;,</span><br><span class="line">            &quot;BlkioWeight&quot;: 0,</span><br><span class="line">            &quot;BlkioWeightDevice&quot;: [],</span><br><span class="line">            &quot;BlkioDeviceReadBps&quot;: null,</span><br><span class="line">            &quot;BlkioDeviceWriteBps&quot;: null,</span><br><span class="line">            &quot;BlkioDeviceReadIOps&quot;: null,</span><br><span class="line">            &quot;BlkioDeviceWriteIOps&quot;: null,</span><br><span class="line">            &quot;CpuPeriod&quot;: 0,</span><br><span class="line">            &quot;CpuQuota&quot;: 0,</span><br><span class="line">            &quot;CpuRealtimePeriod&quot;: 0,</span><br><span class="line">            &quot;CpuRealtimeRuntime&quot;: 0,</span><br><span class="line">            &quot;CpusetCpus&quot;: &quot;&quot;,</span><br><span class="line">            &quot;CpusetMems&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Devices&quot;: [],</span><br><span class="line">            &quot;DeviceCgroupRules&quot;: null,</span><br><span class="line">            &quot;DeviceRequests&quot;: null,</span><br><span class="line">            &quot;KernelMemory&quot;: 0,</span><br><span class="line">            &quot;KernelMemoryTCP&quot;: 0,</span><br><span class="line">            &quot;MemoryReservation&quot;: 0,</span><br><span class="line">            &quot;MemorySwap&quot;: 0,</span><br><span class="line">            &quot;MemorySwappiness&quot;: null,</span><br><span class="line">            &quot;OomKillDisable&quot;: false,</span><br><span class="line">            &quot;PidsLimit&quot;: null,</span><br><span class="line">            &quot;Ulimits&quot;: null,</span><br><span class="line">            &quot;CpuCount&quot;: 0,</span><br><span class="line">            &quot;CpuPercent&quot;: 0,</span><br><span class="line">            &quot;IOMaximumIOps&quot;: 0,</span><br><span class="line">            &quot;IOMaximumBandwidth&quot;: 0,</span><br><span class="line">            &quot;MaskedPaths&quot;: [</span><br><span class="line">                &quot;/proc/asound&quot;,</span><br><span class="line">                &quot;/proc/acpi&quot;,</span><br><span class="line">                &quot;/proc/kcore&quot;,</span><br><span class="line">                &quot;/proc/keys&quot;,</span><br><span class="line">                &quot;/proc/latency_stats&quot;,</span><br><span class="line">                &quot;/proc/timer_list&quot;,</span><br><span class="line">                &quot;/proc/timer_stats&quot;,</span><br><span class="line">                &quot;/proc/sched_debug&quot;,</span><br><span class="line">                &quot;/proc/scsi&quot;,</span><br><span class="line">                &quot;/sys/firmware&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;ReadonlyPaths&quot;: [</span><br><span class="line">                &quot;/proc/bus&quot;,</span><br><span class="line">                &quot;/proc/fs&quot;,</span><br><span class="line">                &quot;/proc/irq&quot;,</span><br><span class="line">                &quot;/proc/sys&quot;,</span><br><span class="line">                &quot;/proc/sysrq-trigger&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;GraphDriver&quot;: &#123;</span><br><span class="line">            &quot;Data&quot;: &#123;</span><br><span class="line">                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/ee52de2dd296ae5bb006ba95edba9fd29b171fb48b030ad8d0d98f8c4d3be36c-init/diff:/var/lib/docker/overlay2/da23e695d17a9e7ed2ad81c9f2486a4cbdec8e601031b2b660fddf001f3fe9a2/diff&quot;,</span><br><span class="line">                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/ee52de2dd296ae5bb006ba95edba9fd29b171fb48b030ad8d0d98f8c4d3be36c/merged&quot;,</span><br><span class="line">                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/ee52de2dd296ae5bb006ba95edba9fd29b171fb48b030ad8d0d98f8c4d3be36c/diff&quot;,</span><br><span class="line">                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/ee52de2dd296ae5bb006ba95edba9fd29b171fb48b030ad8d0d98f8c4d3be36c/work&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;Name&quot;: &quot;overlay2&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;Mounts&quot;: [],</span><br><span class="line">        &quot;Config&quot;: &#123;</span><br><span class="line">            &quot;Hostname&quot;: &quot;0fd350596b56&quot;,</span><br><span class="line">            &quot;Domainname&quot;: &quot;&quot;,</span><br><span class="line">            &quot;User&quot;: &quot;&quot;,</span><br><span class="line">            &quot;AttachStdin&quot;: false,</span><br><span class="line">            &quot;AttachStdout&quot;: false,</span><br><span class="line">            &quot;AttachStderr&quot;: false,</span><br><span class="line">            &quot;Tty&quot;: false,</span><br><span class="line">            &quot;OpenStdin&quot;: false,</span><br><span class="line">            &quot;StdinOnce&quot;: false,</span><br><span class="line">            &quot;Env&quot;: [</span><br><span class="line">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Cmd&quot;: [</span><br><span class="line">                &quot;/bin/sh&quot;,</span><br><span class="line">                &quot;-c&quot;,</span><br><span class="line">                &quot;while true;do echo print;sleep 1;done&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Image&quot;: &quot;centos&quot;,</span><br><span class="line">            &quot;Volumes&quot;: null,</span><br><span class="line">            &quot;WorkingDir&quot;: &quot;&quot;,</span><br><span class="line">            &quot;Entrypoint&quot;: null,</span><br><span class="line">            &quot;OnBuild&quot;: null,</span><br><span class="line">            &quot;Labels&quot;: &#123;</span><br><span class="line">                &quot;org.label-schema.build-date&quot;: &quot;20201204&quot;,</span><br><span class="line">                &quot;org.label-schema.license&quot;: &quot;GPLv2&quot;,</span><br><span class="line">                &quot;org.label-schema.name&quot;: &quot;CentOS Base Image&quot;,</span><br><span class="line">                &quot;org.label-schema.schema-version&quot;: &quot;1.0&quot;,</span><br><span class="line">                &quot;org.label-schema.vendor&quot;: &quot;CentOS&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;NetworkSettings&quot;: &#123;</span><br><span class="line">            &quot;Bridge&quot;: &quot;&quot;,</span><br><span class="line">            &quot;SandboxID&quot;: &quot;ccabded2409ffbc145c5130acb301ea392e0063c9c012f4d3562f6fcb1efb71c&quot;,</span><br><span class="line">            &quot;HairpinMode&quot;: false,</span><br><span class="line">            &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">            &quot;LinkLocalIPv6PrefixLen&quot;: 0,</span><br><span class="line">            &quot;Ports&quot;: &#123;&#125;,</span><br><span class="line">            &quot;SandboxKey&quot;: &quot;/var/run/docker/netns/ccabded2409f&quot;,</span><br><span class="line">            &quot;SecondaryIPAddresses&quot;: null,</span><br><span class="line">            &quot;SecondaryIPv6Addresses&quot;: null,</span><br><span class="line">            &quot;EndpointID&quot;: &quot;fd9e4c4d71b0dba8b4dda169059ead023d887a2498f857da737236c786ef2641&quot;,</span><br><span class="line">            &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class="line">            &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">            &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class="line">            &quot;IPAddress&quot;: &quot;172.17.0.2&quot;,</span><br><span class="line">            &quot;IPPrefixLen&quot;: 16,</span><br><span class="line">            &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class="line">            &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,</span><br><span class="line">            &quot;Networks&quot;: &#123;</span><br><span class="line">                &quot;bridge&quot;: &#123;</span><br><span class="line">                    &quot;IPAMConfig&quot;: null,</span><br><span class="line">                    &quot;Links&quot;: null,</span><br><span class="line">                    &quot;Aliases&quot;: null,</span><br><span class="line">                    &quot;NetworkID&quot;: &quot;efde225ef685bc98209337a5cdd4d66bb8a8f85d8762be2fca7313ad00d353bc&quot;,</span><br><span class="line">                    &quot;EndpointID&quot;: &quot;fd9e4c4d71b0dba8b4dda169059ead023d887a2498f857da737236c786ef2641&quot;,</span><br><span class="line">                    &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class="line">                    &quot;IPAddress&quot;: &quot;172.17.0.2&quot;,</span><br><span class="line">                    &quot;IPPrefixLen&quot;: 16,</span><br><span class="line">                    &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class="line">                    &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class="line">                    &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,</span><br><span class="line">                    &quot;DriverOpts&quot;: null</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æˆ‘ä»¬é€šå¸¸å®¹å™¨éƒ½æ˜¯ç”¨åå°æ–¹å¼è¿è¡Œçš„ï¼Œéœ€è¦è¿›å…¥å®¹å™¨ï¼Œä¿®æ”¹ä¸€äº›é…ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤</span></span><br><span class="line">docker exec -it å®¹å™¨id bashshell</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯•</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker ps </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS     NAMES</span><br><span class="line">0fd350596b56   centos    &quot;/bin/sh -c &#x27;while tâ€¦&quot;   27 minutes ago   Up 27 minutes             friendly_khayyam</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker exec -it 0fd350596b56 /bin/bash</span><br><span class="line">[root@0fd350596b56 /]# ls </span><br><span class="line">bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br><span class="line">[root@0fd350596b56 /]# ps -ef</span><br><span class="line">UID        PID  PPID  C STIME TTY          TIME CMD</span><br><span class="line">root         1     0  0 00:42 ?        00:00:00 /bin/sh -c while true;do echo print;sleep 1;done</span><br><span class="line">root      1660     0  0 01:09 pts/0    00:00:00 /bin/bash</span><br><span class="line">root      1681     1  0 01:09 ?        00:00:00 /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1</span><br><span class="line">root      1682  1660  0 01:09 pts/0    00:00:00 ps -ef</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–¹å¼äºŒ</span></span><br><span class="line">docker attach å®¹å™¨id</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz ~]# docker attach 0fd350596b56</span><br><span class="line">æ­£åœ¨æ‰§è¡Œå½“å‰çš„ä»£ç ...</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">docker <span class="built_in">exec</span> <span class="comment"># è¿›å…¥å®¹å™¨åå¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå¯ä»¥åœ¨é‡Œé¢æ“ä½œï¼ˆå¸¸ç”¨ï¼‰</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">docker attach <span class="comment"># è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯ï¼Œä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹</span></span></span><br></pre></td></tr></table></figure>
<p><strong>ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker cp å®¹å™¨idï¼šå®¹å™¨å†…è·¯å¾„ ç›®çš„ä¸»æœºè·¯å¾„</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹å½“å‰ä¸»æœºç›®å½•ä¸‹</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# ls </span><br><span class="line">admin</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿›å…¥å½“å‰å®¹å™¨å†…éƒ¨ ï¼ˆä¹Ÿå¯ä»¥ç”¨attach å‘½ä»¤ï¼‰</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker run -it centos /bin/bash</span><br><span class="line">[root@6442d7af4f41 /]# cd /home  </span><br><span class="line">[root@6442d7af4f41 home]# ls </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨å®¹å™¨å†…åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶</span></span><br><span class="line">[root@6442d7af4f41 home]# touch test.java</span><br><span class="line">[root@6442d7af4f41 home]# exit </span><br><span class="line">exit</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker ps </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker ps -a </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND       CREATED          STATUS                       PORTS     NAMES</span><br><span class="line">6442d7af4f41   centos    &quot;/bin/bash&quot;   41 seconds ago   Exited (0) 17 seconds ago              ecstatic_aryabhata</span><br><span class="line">97b8ac803f12   centos    &quot;/bin/bash&quot;   3 minutes ago    Exited (127) 2 minutes ago             elastic_thompson</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†æ–‡ä»¶æ‹·è´åˆ°ä¸»æœºä¸Š</span></span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# docker cp 6442d7af4f41:/home/test.java /home</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# ls </span><br><span class="line">admin  test.java</span><br><span class="line">[root@iz2zeihuhu3ktzymn2ydktz home]# </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹·è´æ˜¯ä¸€ä¸ªæ‰‹åŠ¨è¿‡ç¨‹ï¼Œæœªæ¥æˆ‘ä»¬ä½¿ç”¨-v å·çš„æŠ€æœ¯ï¼Œå¯ä»¥å®ç°ï¼Œè‡ªåŠ¨åŒæ­¥</span> </span><br></pre></td></tr></table></figure>


<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.4e00.com%2Fblog%2Fimg%2Flinux%2Fdocker%2Fdocker-commands.png&refer=http%3A%2F%2Fwww.4e00.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1615339851&t=03dc8021bab2635051350bab0bfc51eb" alt="img"></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">attach     Attach to a running container             #å½“å‰she1lä¸‹attachè¿æ¥æŒ‡å®šè¿è¡Œé•œåƒ</span><br><span class="line">build      Build an image from a Dockerfile          #é€šè¿‡Dockerfile å®šåˆ¶é•œåƒ</span><br><span class="line">commit     Create a new image from a container changes #æäº¤å½“å‰å®¹å™¨ä¸ºæ–°çš„é•œåƒ</span><br><span class="line">cp         Copy files/folders from the containers filesystem to the host path #ä»å®¹å™¨ä¸­æ‹·è´æŒ‡å®šæ–‡ä»¶æˆ–è€…ç›® #å½•åˆ°å®¿ä¸»æœºä¸­</span><br><span class="line">create     Create a new container #åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨ï¼ŒåŒrunï¼Œ ä½†ä¸å¯åŠ¨å®¹å™¨</span><br><span class="line">diff       Inspect changes on a containers filesys tem #æŸ¥çœ‹docker å®¹å™¨å˜åŒ–</span><br><span class="line">events     Get real time events from the server #ä»docker æœåŠ¡è·å–å®¹å™¨å®æ—¶äº‹ä»¶</span><br><span class="line">exec       Run a command in an existing container #åœ¨å·²å­˜åœ¨çš„å®¹å™¨ä¸Šè¿è¡Œå‘½ä»¤</span><br><span class="line">export     Stream the contents of a container as a tar archive#å¯¼å‡ºå®¹å™¨çš„å†…å®¹æµä½œä¸ºä¸€ä¸ªtarå½’æ¡£æ–‡ä»¶[å¯¹åº”import]</span><br><span class="line">history    Show the history of an image #å±•ç¤ºä¸€ä¸ªé•œåƒå½¢æˆå†å²</span><br><span class="line">images     List images #åˆ—å‡ºç³»ç»Ÿå½“å‰é•œåƒ</span><br><span class="line">import     Create a new filesystem image from the contents of a tarball #ä»taråŒ… ä¸­çš„å†…å®¹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ç³»ç»Ÿæ˜ åƒ[å¯¹åº”export]</span><br><span class="line">info 			 Display sys tem-wide informati on #æ˜¾ç¤ºç³»ç»Ÿç›¸å…³ä¿¡æ¯</span><br><span class="line">inspect		 Return 1ow-1eve1 information on a container #æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯</span><br><span class="line">ki1l 			 Ki1l a running container # ki11 æŒ‡å®šdocker å®¹å™¨</span><br><span class="line">load 			 Load an image from a tar archive #ä»ä¸€ä¸ªtaråŒ…ä¸­åŠ è½½ä¸€ä¸ªé•œåƒ[å¯¹åº”save]</span><br><span class="line">login			 Register or Login to the docker registry server #æ³¨å†Œæˆ–è€…ç™»é™†ä¸€ä¸ªdocker æºæœåŠ¡å™¨</span><br><span class="line">1ogout		 Log out from a Docker registry server #ä»å½“å‰Docker registry é€€å‡º</span><br><span class="line">1ogs			 Fetch the logs of a container #è¾“å‡ºå½“å‰å®¹å™¨æ—¥å¿—ä¿¡æ¯</span><br><span class="line">port			 Lookup the pub1ic-facing port which is NAT-ed to PRIVATE_ PORT #æŸ¥çœ‹æ˜ å°„ç«¯å£å¯¹åº”çš„å®¹å™¨å†…éƒ¨æºç«¯å£</span><br><span class="line">pause 		 Pause a11 processes within a container #æš‚åœå®¹å™¨</span><br><span class="line">ps 				 List containers #åˆ—å‡ºå®¹å™¨åˆ—è¡¨</span><br><span class="line">pu11 			 Pu11 an image or a repository from the docker registry server #ä»dockeré•œåƒæºæœåŠ¡å™¨æ‹‰å–æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒ</span><br><span class="line">push 			 Push an image or a repository to the docker registry server #æ¨é€æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒè‡³dockeræºæœåŠ¡å™¨</span><br><span class="line">restart 	 Restart a running container #é‡å¯è¿è¡Œçš„å®¹å™¨</span><br><span class="line">rm 				 Remove one or more containers #ç§»é™¤ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨</span><br><span class="line">rmi 			 Remove one or more i mages #ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒ[æ— å®¹å™¨ä½¿ç”¨è¯¥é•œåƒæ‰å¯åˆ é™¤ï¼Œå¦åˆ™éœ€åˆ é™¤ç›¸å…³å®¹å™¨æ‰å¯ç»§ç»­æˆ–-få¼ºåˆ¶åˆ é™¤]</span><br><span class="line">run 			 Run a command in a new container #åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤</span><br><span class="line">save 			 Save an image to a tar archive #ä¿å­˜ä¸€ä¸ªé•œåƒä¸ºä¸€ä¸ªtar åŒ…[å¯¹åº”load]</span><br><span class="line">search 	   search for an image on the Dockerhub #åœ¨dockerhubä¸­æœç´¢é•œåƒ</span><br><span class="line">start      Start a stopped containers #å¯åŠ¨å®¹å™¨</span><br><span class="line">stop       Stop a running containers #åœæ­¢å®¹å™¨</span><br><span class="line">tag 			 tag an image into a repository #ç»™æºä¸­é•œåƒæ‰“æ ‡ç­¾</span><br><span class="line">top		 		 Lookup the runring processes of a container #æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯</span><br><span class="line">unpause 	 Unpause a paused container #å–æ¶ˆæš‚åœå®¹å™¨</span><br><span class="line">version 	 Show the docker version information #æŸ¥çœ‹dockerç‰ˆæœ¬å·</span><br><span class="line">wait 			 Block until a container stopsï¼Œthen print its exit code #æˆªå–å®¹å™¨åœæ­¢æ—¶çš„é€€å‡ºçŠ¶æ€å€¼</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaSE å›é¡¾</title>
    <url>/2021/02/10/2021-02-10-Java-%E5%9B%9E%E9%A1%BE/</url>
    <content><![CDATA[<h1 id="JAVA-åŸºç¡€çŸ¥è¯†å¤ä¹ "><a href="#JAVA-åŸºç¡€çŸ¥è¯†å¤ä¹ " class="headerlink" title="JAVA åŸºç¡€çŸ¥è¯†å¤ä¹ "></a>JAVA åŸºç¡€çŸ¥è¯†å¤ä¹ </h1><p>è§†é¢‘åœ°å€ï¼š</p>
<p><a class="link"   href="https://www.bilibili.com/video/BV12J41137hu?t=2607&amp;p=80" >https://www.bilibili.com/video/BV12J41137hu?t=2607&amp;p=80<i class="fas fa-external-link-alt"></i></a></p>
<p>ç›¸å…³ç¬”è®°ï¼š</p>
<h3 id="æ•°æ®ç±»å‹ä»¥åŠé¢è¯•æ‹“å±•"><a href="#æ•°æ®ç±»å‹ä»¥åŠé¢è¯•æ‹“å±•" class="headerlink" title="æ•°æ®ç±»å‹ä»¥åŠé¢è¯•æ‹“å±•"></a>æ•°æ®ç±»å‹ä»¥åŠé¢è¯•æ‹“å±•</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> i2 = <span class="number">010</span>; <span class="comment">// å…«è¿›åˆ¶ 0</span></span><br><span class="line">        <span class="keyword">int</span> i3 = <span class="number">0x10</span>; <span class="comment">//åå…­è¿›åˆ¶0x</span></span><br><span class="line"></span><br><span class="line">        System.out.println(i);</span><br><span class="line">        System.out.println(i2);</span><br><span class="line">        System.out.println(i3);</span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//      ================================</span></span><br><span class="line"><span class="comment">//        æµ®ç‚¹æ•°</span></span><br><span class="line"><span class="comment">//        é“¶è¡Œç±»ç”¨BigDecimal</span></span><br><span class="line"><span class="comment">//        float æœ‰é™ ç¦»æ•£ èˆå…¥è¯¯å·®</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        æœ€å¥½å®Œå…¨é¿å…ä½¿ç”¨æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">//        æœ€å¥½å®Œå…¨é¿å…ä½¿ç”¨æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">//        æœ€å¥½å®Œå…¨é¿å…ä½¿ç”¨æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line">        <span class="keyword">float</span> f = <span class="number">0.1f</span>;</span><br><span class="line">        <span class="keyword">double</span> d = <span class="number">1.0</span> / <span class="number">10</span>;</span><br><span class="line">        System.out.println(f==d);</span><br><span class="line">        System.out.println(f);</span><br><span class="line">        System.out.println(d);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        =================================</span></span><br><span class="line"><span class="comment">//        å¼ºåˆ¶è½¬æ¢</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span> c1 = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        System.out.println(c1);</span><br><span class="line">        System.out.println((<span class="keyword">int</span>)c1); <span class="comment">// å¼ºåˆ¶è½¬æ¢</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        æ‰€æœ‰çš„å­—ç¬¦ä¸²æœ¬è´¨è¿˜æ˜¯æ•°å­—</span></span><br><span class="line"><span class="comment">//        ç¼–ç  Unicode 2 å­—èŠ‚ ï¼ˆ97 = a ï¼‰</span></span><br><span class="line">        <span class="keyword">char</span> c3 = <span class="string">&#x27;\u0061&#x27;</span>;</span><br><span class="line">        System.out.println(c3);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line"><span class="comment">//        \t åˆ¶è¡¨ç¬¦</span></span><br><span class="line"><span class="comment">//        \n æ¢è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        =============================</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line">        String sa = <span class="keyword">new</span> String(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">        String sb = <span class="keyword">new</span> String(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">        System.out.println(sa==sb);</span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        String sc = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">        String sd = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">        System.out.println(sc==sd);</span><br><span class="line">        <span class="comment">// å¯¹è±¡ å†…å­˜çš„å…³ç³»</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">128</span>;</span><br><span class="line">        <span class="keyword">byte</span> b = (<span class="keyword">byte</span>) i; <span class="comment">//å†…å­˜æº¢å‡º</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°æ•°ä¼˜å…ˆçº§æ°¸è¿œé«˜äºæ•´æ•°</span></span><br><span class="line">        <span class="comment">// å¼ºåˆ¶è½¬æ¢ï¼Œï¼ˆç±»å‹ï¼‰å˜é‡ é«˜-ä½</span></span><br><span class="line">        <span class="comment">// è‡ªåŠ¨è½¬æ¢ ä½-é«˜</span></span><br><span class="line"></span><br><span class="line">        System.out.println(i);</span><br><span class="line">        System.out.println(b);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        æ³¨æ„ç‚¹ï¼š</span></span><br><span class="line"><span class="comment">        1ã€‚ ä¸èƒ½å¯¹å¸ƒå°”å€¼è¿›è¡Œè½¬æ¢</span></span><br><span class="line"><span class="comment">        2ã€‚ ä¸èƒ½æŠŠå¯¹è±¡ç±»å‹è½¬æ¢ä¸ºä¸ç›¸å…³çš„ç±»å‹</span></span><br><span class="line"><span class="comment">        3ã€‚ åœ¨æŠŠé«˜å®¹é‡è½¬æ¢åˆ°ä½å®¹é‡çš„æ—¶å€™ï¼Œå¼ºåˆ¶è½¬æ¢</span></span><br><span class="line"><span class="comment">        4ã€‚ è½¬æ¢çš„æ—¶å€™å¯èƒ½å­˜åœ¨å†…å­˜æº¢å‡ºï¼Œæˆ–è€…ç²¾åº¦çš„é—®é¢˜</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println(<span class="string">&quot;===========&quot;</span>);</span><br><span class="line">        System.out.println((<span class="keyword">int</span>)<span class="number">23.7</span>);</span><br><span class="line">        System.out.println((<span class="keyword">int</span>)-<span class="number">45.89f</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;===========&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span> c = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">int</span> d = c + <span class="number">1</span>;</span><br><span class="line">        System.out.println(d);</span><br><span class="line">        System.out.println((<span class="keyword">char</span>) d);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æº¢å‡ºçš„é—®é¢˜"><a href="#æº¢å‡ºçš„é—®é¢˜" class="headerlink" title="æº¢å‡ºçš„é—®é¢˜"></a>æº¢å‡ºçš„é—®é¢˜</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo5</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ“ä½œæ¯”è¾ƒå¤§çš„æ•°çš„æ—¶å€™ï¼Œæ³¨æ„æº¢å‡ºçš„é—®é¢˜</span></span><br><span class="line">        <span class="comment">// JDK7 çš„æ–°ç‰¹æ€§ï¼Œæ•°å­—ä¹‹é—´å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿æ¥è¿›è¡Œåˆ†å‰²</span></span><br><span class="line">        <span class="keyword">int</span> money = <span class="number">10_0000_0000</span>;</span><br><span class="line">        <span class="keyword">int</span> years = <span class="number">20</span>;</span><br><span class="line">        <span class="keyword">int</span> total = money * years;</span><br><span class="line">        <span class="keyword">long</span> total2 = money * years;</span><br><span class="line">        <span class="keyword">long</span> total3 = money * (<span class="keyword">long</span>) years;</span><br><span class="line"></span><br><span class="line">        System.out.println(total);</span><br><span class="line">        System.out.println(total2);</span><br><span class="line">        System.out.println(total3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo08</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç±»å˜é‡ static</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">double</span> salary = <span class="number">2500</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å±æ€§ï¼šå˜é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®ä¾‹å˜é‡ï¼šä»å±äºå¯¹è±¡ï¼›å¦‚æœä¸è‡ªçœåˆå§‹åŒ–ï¼Œè¿™ä¸ªç±»å‹çš„é»˜è®¤å€¼0ï¼Œ0.0</span></span><br><span class="line">    <span class="comment">// å¸ƒå°”å€¼ï¼šé»˜è®¤æ˜¯false</span></span><br><span class="line">    <span class="comment">// é™¤äº†åŸºæœ¬ç±»å‹ï¼Œå…¶ä½™çš„é»˜è®¤èµ°éƒ½æ˜¯null</span></span><br><span class="line"></span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// main æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å±€éƒ¨å˜é‡ï¼Œå¿…é¡»å£°æ˜å’Œåˆå§‹åŒ–å€¼å¾—é‡</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">        System.out.println(i);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å˜é‡ç±»å‹ å˜é‡åå­— = new demo08</span></span><br><span class="line">        demo08 Demo08 = <span class="keyword">new</span> demo08();</span><br><span class="line">        System.out.println(Demo08.age);</span><br><span class="line">        System.out.println(Demo08.name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç±»å˜é‡ static</span></span><br><span class="line">        System.out.println(salary);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…¶ä»–æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="ä½è¿ç®—-æ•ˆç‡è€ƒè™‘"><a href="#ä½è¿ç®—-æ•ˆç‡è€ƒè™‘" class="headerlink" title="ä½è¿ç®—(æ•ˆç‡è€ƒè™‘)"></a>ä½è¿ç®—(æ•ˆç‡è€ƒè™‘)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> operator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo06</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        A = 0011 1100</span></span><br><span class="line"><span class="comment">        B = 0000 1101</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        A&amp;B = 0000 1100</span></span><br><span class="line"><span class="comment">        A|B = 0011 1101</span></span><br><span class="line"><span class="comment">        A^B = 0011 0001</span></span><br><span class="line"><span class="comment">        ~B = 1111 0010</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        2*8  = 16 æ€ä¹ˆæœ€å¿«2*2*2*2 (è®¡ç®—æœºæ˜¯ä¸ä¼šä¹˜é™¤æ³•çš„)</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        ä½è¿ç®—ï¼Œæ•ˆç‡æé«˜</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        &lt;&lt;  ç›¸å½“äº *2</span></span><br><span class="line"><span class="comment">        &gt;&gt;  ç›¸å½“äº /2</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">        0000 0000 0</span></span><br><span class="line"><span class="comment">        0000 0001 1</span></span><br><span class="line"><span class="comment">        0000 0010 2</span></span><br><span class="line"><span class="comment">        0000 0011 3</span></span><br><span class="line"><span class="comment">        0000 0100 4</span></span><br><span class="line"><span class="comment">        0000 1000 8</span></span><br><span class="line"><span class="comment">        0001 0000 16</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println(<span class="number">2</span>&lt;&lt;<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å­—ç¬¦ä¸²æ“ä½œ"><a href="#å­—ç¬¦ä¸²æ“ä½œ" class="headerlink" title="å­—ç¬¦ä¸²æ“ä½œ"></a>å­—ç¬¦ä¸²æ“ä½œ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> operator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo07</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line">        a += b; <span class="comment">//a = a+b</span></span><br><span class="line">        a -= b;<span class="comment">// a = a-b</span></span><br><span class="line">        System.out.println(a);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å­—ç¬¦ä¸²è¿æ¥ç¬¦ + ï¼Œ String</span></span><br><span class="line">        <span class="comment">// æ³¨æ„ç¬¬ä¸€ä¸ªæ˜¯ä»€ä¹ˆå°±ä¼šè¿è¡Œä»€ä¹ˆæ ·å­çš„æ“ä½œ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;&quot;</span> + a + b);</span><br><span class="line">        System.out.println(a + b + <span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆifçš„æ›´ç®€å•çš„å†™æ³•å½¢å¼ï¼‰"><a href="#ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆifçš„æ›´ç®€å•çš„å†™æ³•å½¢å¼ï¼‰" class="headerlink" title="ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆifçš„æ›´ç®€å•çš„å†™æ³•å½¢å¼ï¼‰"></a>ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆifçš„æ›´ç®€å•çš„å†™æ³•å½¢å¼ï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> operator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo08</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//x?y:z</span></span><br><span class="line">        <span class="comment">//å¦‚æœx==trueï¼Œåˆ™ç»“æœä¸ºyï¼Œå¦åˆ™ç»“æœä¸ºz</span></span><br><span class="line">        <span class="keyword">int</span> score = <span class="number">80</span>;</span><br><span class="line">        String type = score &lt; <span class="number">60</span> ? <span class="string">&quot;ä¸åŠæ ¼&quot;</span>:<span class="string">&quot;åŠæ ¼&quot;</span>; <span class="comment">//å¿…é¡»æŒæ¡ï¼Œè®©ä»£ç æ›´åŠ ç²¾ç®€ï¼Œä¸”å®¹æ˜“æŒæ¡</span></span><br><span class="line">        System.out.println(type);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="javadoc"><a href="#javadoc" class="headerlink" title="javadoc"></a>javadoc</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.base;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Doc</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@authore</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">(String name)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é€šè¿‡å‘½ä»¤è¡Œç”ŸæˆJavaDocæ–‡æ¡£ï¼ </span></span><br><span class="line"><span class="comment">// å‘½ä»¤è¡Œè¿›å…¥åˆ°åŒ…æ‰€åœ¨çš„åœ°å€ï¼Œç„¶åè¾“å…¥ï¼šjavadoc -encoding UTF-8 -charset UTF-8 Doc.java </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="Scanner-å¯¹è±¡"><a href="#Scanner-å¯¹è±¡" class="headerlink" title="Scanner å¯¹è±¡"></a>Scanner å¯¹è±¡</h3><p>Next():</p>
<pre><code>1. ä¸€å®šè¦è¯»å–åˆ°æœ‰æ•ˆå­—ç¬¦åèœå¯ä»¥ç»“æŸè¾“å…¥
2. å¯¹è¾“å…¥æœ‰æ•ˆå­—ç¬¦ä¹‹å‰é‡åˆ°çš„ç©ºç™½ï¼Œnextï¼ˆï¼‰ä¼šå°†å…¶è‡ªåŠ¨å»æ‰
3. åªæœ‰è¾“å…¥æœ‰æ•ˆå­—ç¬¦åæ‰è®²å…¶åé¢è¾“å…¥çš„ç©ºç™½ä½œä¸ºåˆ†éš”ç¬¦æˆ–è€…ç»“æŸç¬¦å·
4. nextï¼ˆï¼‰ä¸èƒ½å¾—åˆ°å¸¦æœ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²</code></pre>
<p>nextLineï¼ˆï¼‰ï¼š</p>
<ol>
<li>ä»¥enterä½œä¸ºç»“æŸç¬¦å·ï¼Œä¹Ÿå°±æ˜¯è¯´nexlineï¼ˆï¼‰æ–¹æ³•è¿”å›çš„æ˜¯å›è½¦ä¹‹å‰çš„å­—æ¯</li>
<li>å¯ä»¥è·å¾—ç©ºç™½</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªæ‰«æå™¨å¯¹è±¡ï¼Œç”¨äºæ¥å—é”®ç›˜æ•°æ®</span></span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;ä½¿ç”¨nextæ–¹å¼æ¥æ¥å—ï¼š &quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(scanner.hasNext())&#123;</span><br><span class="line">            String str = scanner.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;è¾“å‡ºå†…å®¹æ˜¯ï¼š &quot;</span>+str);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å‡¡æ˜¯å±äºIOæµçš„ç±»å¦‚æœä¸å…³é—­ä¼šä¸€ç›´å ç”¨èµ„æºï¼Œè¦å…»æˆå¥½ä¹ æƒ¯ç”¨å®Œå°±å…³é—­</span></span><br><span class="line">        scanner.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>




<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä½¿ç”¨nextLineæ–¹å¼æ¥æ¥å—ï¼š &quot;</span>);</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">if</span> (scanner.hasNextLine())&#123;</span><br><span class="line">            String s = scanner.nextLine();</span><br><span class="line">            System.out.println(<span class="string">&quot;è¾“å‡ºçš„å†…å®¹ä¸ºï¼š&quot;</span> + s);</span><br><span class="line">        &#125;</span><br><span class="line">        scanner.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h3 id="Switch-case-è¯­å¥"><a href="#Switch-case-è¯­å¥" class="headerlink" title="Switch case è¯­å¥"></a>Switch case è¯­å¥</h3><p>æ³¨æ„caseçš„ç©¿é€ç‰¹æ€§ï¼Œå»ºè®®åŠ ä¸Šbreak</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.struct;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwitchDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//case ç©¿é€ //switch åŒ¹é…ä¸€ä¸ªå…·ä½“çš„å€¼</span></span><br><span class="line">        <span class="keyword">char</span> grade = <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line">        <span class="keyword">switch</span> (grade)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;a&#x27;</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;ä¼˜ç§€&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// å¯é€‰ ï¼Œä½†æ˜¯å»ºè®®åŠ ä¸Šï¼Œå¦åˆ™å®¹æ˜“ç©¿é€</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;b&#x27;</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;è‰¯å¥½&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// å¯é€‰ ï¼Œä½†æ˜¯å»ºè®®åŠ ä¸Šï¼Œå¦åˆ™å®¹æ˜“ç©¿é€</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;c&#x27;</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;åŠæ ¼&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// å¯é€‰ ï¼Œä½†æ˜¯å»ºè®®åŠ ä¸Šï¼Œå¦åˆ™å®¹æ˜“ç©¿é€</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;d&#x27;</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;å†æ¥å†å‰&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// å¯é€‰ ï¼Œä½†æ˜¯å»ºè®®åŠ ä¸Šï¼Œå¦åˆ™å®¹æ˜“ç©¿é€</span></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;æœªçŸ¥ç­‰çº§&quot;</span>);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æ–¹æ³•ï¼ˆmethodsï¼‰"><a href="#æ–¹æ³•ï¼ˆmethodsï¼‰" class="headerlink" title="æ–¹æ³•ï¼ˆmethodsï¼‰"></a>æ–¹æ³•ï¼ˆmethodsï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        System.out.println(max(1, 2));</span></span><br><span class="line">        <span class="keyword">int</span> max = max(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">        System.out.println(max );</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> num1, <span class="keyword">int</span> num2)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (num1 == num2) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;num1==num2&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//ç»ˆæ­¢æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (num1 &gt; num2) &#123;</span><br><span class="line">            result = num1;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            result = num2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>Java éƒ½æ˜¯å€¼ä¼ é€’</strong></p>
<h3 id="æ–¹æ³•çš„é‡è½½ï¼ˆoverrideï¼‰"><a href="#æ–¹æ³•çš„é‡è½½ï¼ˆoverrideï¼‰" class="headerlink" title="æ–¹æ³•çš„é‡è½½ï¼ˆoverrideï¼‰"></a>æ–¹æ³•çš„é‡è½½ï¼ˆoverrideï¼‰</h3><ul>
<li>é‡è½½å°±æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œæœ‰ç›¸åŒçš„å‡½æ•°åç§°ï¼Œä½†æ˜¯å½¢å¼å‚æ•°ä¸åŒçš„å‡½æ•°</li>
<li>æ–¹æ³•çš„é‡è½½è§„åˆ™ï¼š<ul>
<li>æ–¹æ³•åç§°å¿…é¡»ç›¸åŒ</li>
<li>å‚æ•°åˆ—è¡¨å¿…é¡»ä¸åŒï¼ˆä¸ªæ•°ä¸åŒï¼Œæˆ–è€…ç±»å‹ä¸åŒï¼Œå‚æ•°æ’åˆ—é¡ºåºä¸åŒç­‰ï¼‰</li>
<li>æ–¹æ³•çš„è¿”å›ç±»å‹å¯ä»¥ç›¸åŒä¹Ÿå¯ä»¥ä¸ç›¸åŒ</li>
<li>ä»…ä»…è¿”å›ç±»å‹ä¸åŒä¸è¶³ä»¥æˆä¸ºæ–¹æ³•çš„é‡è½½</li>
</ul>
</li>
</ul>
<h3 id="å‘½ä»¤è¡Œä¼ å‚æ•°"><a href="#å‘½ä»¤è¡Œä¼ å‚æ•°" class="headerlink" title="å‘½ä»¤è¡Œä¼ å‚æ•°"></a>å‘½ä»¤è¡Œä¼ å‚æ•°</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//args.length æ•°ç»„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;args[&quot;</span> + i + <span class="string">&quot;]: &quot;</span> + args[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…ˆç”¨javac æ‰“åŒ…æˆä¸€ä¸ªclassæ–‡ä»¶</p>
<p>ç„¶åæ³¨æ„è¦é€€å›åˆ°srcæ–‡ä»¶æ‰å¯ä»¥è°ƒç”¨ï¼Œå› ä¸ºé‡Œé¢æœ‰ä¸€ä¸ªåŒ…çš„æˆåˆ†</p>
<h3 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a>å¯å˜å‚æ•°</h3><p>åœ¨æ–¹æ³•å£°æ˜ä¸­ï¼Œåœ¨æŒ‡å®šå‚æ•°ç±»å‹ååŠ ä¸€ä¸ªçœç•¥å¥½ï¼ˆâ€¦ï¼‰</p>
<p>ä¸€ä¸ªæ–¹æ³•ä¸­åªèƒ½æŒ‡å®šä¸€ä¸ªå¯å˜å‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯æ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°ï¼Œä»»ä½•æ™®é€šçš„å‚æ•°éƒ½å¿…é¡»åœ¨å®ƒä¹‹å‰å£°æ˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        printMax(<span class="number">34</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">56.5</span>);</span><br><span class="line">        printMax(<span class="keyword">new</span> <span class="keyword">double</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printMax</span><span class="params">(<span class="keyword">double</span>... numbers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (numbers.length == <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;no argument passed&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> result = numbers[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numbers.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (numbers[i] &gt; result) &#123;</span><br><span class="line">                result = numbers[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;The max value is &quot;</span> + result);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h3 id="é€’å½’ï¼š"><a href="#é€’å½’ï¼š" class="headerlink" title="é€’å½’ï¼š"></a>é€’å½’ï¼š</h3><ul>
<li>é€’å½’å¤´ï¼šä»€ä¹ˆæ—¶å€™<strong>ä¸è°ƒç”¨è‡ªèº«æ–¹æ³•</strong>ã€‚å¦‚æœæ²¡æœ‰å¤´ï¼Œå°±ä¼šé™·å…¥æ­»å¾ªç¯</li>
<li>é€’å½’ä½“ï¼šä»€ä¹ˆæ—¶å€™éœ€è¦è°ƒç”¨è‡ªèº«çš„æ–¹æ³•</li>
</ul>
<p>åŸºæ•°æ¯”è¾ƒå°çš„æ•°å­—å»ºè®®ç”¨é€’å½’ï¼Œå¦‚æœæ•°å­—å¤ªå¤šï¼Œä¼šå‡ºç°å‹æ ˆï¼Œç„¶åå†…å­˜æº¢å‡º</p>
<h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><ul>
<li>æ•°ç»„æ˜¯ç›¸åŒç±»å‹æ•°æ®çš„æœ‰åºé›†åˆ</li>
<li>æ•°ç»„æè¿°çš„æ˜¯ç›¸åŒç±»å‹çš„è‹¥å¹²æ•°æ®ï¼ŒæŒ‰ç…§ä¸€å®šçš„å…ˆåæ¬¡åºæ’åˆ—ç»„åˆè€Œæˆ</li>
<li>å…¶ä¸­ä¸€ä¸ªæ•°æ®ç§°ä½œä¸€ä¸ªæ•°ç»„å…ƒç´ ï¼Œæ¯ä¸ªæ•°ç»„å…ƒç´ å¯ä»¥é€šè¿‡ä¸€ä¸ªä¸‹æ ‡æ¥è¿›è¡Œè®¿é—®ï¼ˆä»0å¼€å§‹ï¼‰</li>
</ul>
<p>æ•°ç»„çš„å£°æ˜ä»¥åŠåˆ›å»º</p>
<ul>
<li>é¦–å…ˆå¿…é¡»å£°æ˜æ•°ç»„å˜é‡ï¼Œæ‰èƒ½åœ¨ç¨‹åºä¸­ä½¿ç”¨æ•°ç»„</li>
<li>javaä½¿ç”¨newæ¥åˆ›å»ºæ•°ç»„</li>
<li>æ•°ç»„çš„å…ƒç´ æ˜¯é€šè¿‡ç´¢å¼•æ¥è¿›è¡Œè®¿é—®çš„ï¼Œæ•°ç»„ç´¢å¼•ä»</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo01</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å˜é‡çš„ç±»å‹ å˜é‡çš„åå­— = å˜é‡çš„å€¼ï¼›</span></span><br><span class="line">    <span class="comment">// æ•°ç»„çš„ç±»å‹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums; <span class="comment">//1. å®šä¹‰</span></span><br><span class="line"><span class="comment">//        int nums2[]; //2.æ•ˆæœç›¸åŒï¼Œä½†ä¸æ˜¯é¦–é€‰çš„æ–¹æ³•</span></span><br><span class="line">        nums = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>]; <span class="comment">// è¿™é‡Œé¢å¯ä»¥å­˜åœ¨10ä¸ªå˜é‡</span></span><br><span class="line">        <span class="comment">//3. ç»™æ•°ç»„å…ƒç´ æ¥è¿›è¡Œèµ‹å€¼</span></span><br><span class="line">        nums[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        nums[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">        nums[<span class="number">2</span>] = <span class="number">3</span>;</span><br><span class="line">        nums[<span class="number">3</span>] = <span class="number">4</span>;</span><br><span class="line">        nums[<span class="number">4</span>] = <span class="number">5</span>;</span><br><span class="line">        nums[<span class="number">5</span>] = <span class="number">6</span>;</span><br><span class="line">        nums[<span class="number">6</span>] = <span class="number">7</span>;</span><br><span class="line">        nums[<span class="number">7</span>] = <span class="number">8</span>;</span><br><span class="line">        nums[<span class="number">8</span>] = <span class="number">9</span>;</span><br><span class="line">        nums[<span class="number">9</span>] = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//        System.out.println(nums[1]);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            sum = sum + nums[i];</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å†…å­˜åˆ†æ"><a href="#å†…å­˜åˆ†æ" class="headerlink" title="å†…å­˜åˆ†æ"></a>å†…å­˜åˆ†æ</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/image-20210213225954841.11k4g6aaa2cg.png" alt="image-20210213225954841"></p>
<p>Java å†…å­˜</p>
<ul>
<li>å †ï¼š<ul>
<li>å­˜æ”¾newçš„å¯¹è±¡å’Œæ•°ç»„</li>
<li>å¯ä»¥è¢«æ‰€æœ‰çš„çº¿ç¨‹å…±äº«ï¼Œä¸ä¼šå­˜åœ¨åˆ«çš„å¯¹è±¡å¼•ç”¨</li>
</ul>
</li>
<li>æ ˆï¼š<ul>
<li>å­˜æ”¾åŸºæœ¬å˜é‡ç±»å‹ï¼ˆåŒ…å«è¿™ä¸ªåŸºæœ¬ç±»å‹çš„å…·ä½“æ•°å€¼ï¼‰</li>
<li>å¼•ç”¨å¯¹è±¡çš„å˜é‡ï¼ˆä¼šå­˜æ”¾è¿™ä¸ªå¼•ç”¨åœ¨å †é‡Œé¢çš„å…·ä½“åœ°å€ï¼‰</li>
</ul>
</li>
<li>æ–¹æ³•åŒºï¼š<ul>
<li>å¯ä»¥è¢«æ‰€æœ‰çš„çº¿ç¨‹å…±äº«</li>
<li>åŒ…å«äº†æ‰€æœ‰çš„classå’Œstaticçš„å˜é‡</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/image-20210213231032055.57d6zgn6z2g0.png" alt="image-20210213231032055"></p>
<p><strong>æ•°ç»„çš„é»˜è®¤åˆå§‹åŒ–</strong></p>
<p>â€‹    -     æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼Œå®ƒçš„å…ƒç´ ç›¸å½“äºç±»çš„å®ä¾‹å˜é‡ï¼Œå› æ­¤æ•°ç»„ä¸€ç»åˆ†é…ç©ºé—´ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ ä¹Ÿä¼šè¢«æŒ‰ç…§å®ä¾‹å˜é‡åŒæ ·çš„æ–¹å¼è¢«éšå¼åˆå§‹åŒ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// é™æ€åˆå§‹åŒ–ï¼š åˆ›å»º+èµ‹å€¼</span></span><br><span class="line">        <span class="keyword">int</span> a[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;;</span><br><span class="line"><span class="comment">//        System.out.println(a[0]);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// åŠ¨æ€åˆå§‹åŒ– åŒ…å«é»˜è®¤åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">        b[<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line">        System.out.println(b[<span class="number">0</span>]);</span><br><span class="line">        System.out.println(b[<span class="number">1</span>]);</span><br><span class="line">        System.out.println(b[<span class="number">2</span>]);</span><br><span class="line">        System.out.println(b[<span class="number">3</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹"><a href="#æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹" class="headerlink" title="æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹"></a>æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹</h3><ul>
<li>å…¶é•¿åº¦æ˜¯ç¡®å®šçš„ã€‚æ•°ç»„ä¸€æ—¦è¢«åˆ›å»ºï¼Œå®ƒçš„å¤§å°å°±æ˜¯ä¸å¯ä»¥è¢«æ”¹å˜çš„</li>
<li>å…¶å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹çš„ï¼Œä¸å…è®¸å‡ºç°æ··åˆç±»å‹</li>
<li>æ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</li>
<li>æ•°ç»„å˜é‡å±äºå¼•ç”¨ç±»å‹ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯å¯¹è±¡ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ç›¸å½“äºè¯¥å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚æ•°ç»„æœ¬èº«å°±æ˜¯å¯¹è±¡ï¼Œjava çš„å¯¹è±¡éƒ½æ˜¯åœ¨å †ä¸­çš„ï¼Œå› æ­¤æ•°ç»„æ— è®ºä¿å­˜<strong>åŸå§‹ç±»å‹</strong>è¿˜æ˜¯å…¶ä»–<strong>å¯¹è±¡ç±»å‹</strong>ï¼Œ==æ•°ç»„å¯¹è±¡æœ¬èº«æ˜¯åœ¨å †ä¸­çš„==</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] arrays = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">        <span class="comment">// è¿™ç§æ–¹å¼é€‚åˆéå†æ•°ç»„ JDK1.5ï¼Œæ²¡æœ‰ä¸‹æ ‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        for (int array : arrays) &#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(array);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        printArray(arrays);</span></span><br><span class="line">        <span class="keyword">int</span>[] reverse = reverse(arrays);</span><br><span class="line">        printArray(reverse);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å°æ•°ç»„å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printArray</span><span class="params">(<span class="keyword">int</span> []arrays)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arrays.length; i++) &#123;</span><br><span class="line">            System.out.print(arrays[i] + <span class="string">&quot; &quot;</span> );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åè½¬æ•°ç»„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] reverse(<span class="keyword">int</span> arrays[]) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[arrays.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = result.length-<span class="number">1</span>; i &lt; arrays.length; i++,j--) &#123;</span><br><span class="line">            result[j] = arrays[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å¤šç»´æ•°ç»„"><a href="#å¤šç»´æ•°ç»„" class="headerlink" title="å¤šç»´æ•°ç»„"></a>å¤šç»´æ•°ç»„</h3><p>å¤šç»´æ•°ç»„å¯ä»¥çœ‹æˆæ˜¯æ•°ç»„çš„æ•°ç»„ï¼Œæ¯”å¦‚äºŒç»´æ•°ç»„å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸€ç»´æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a[][] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>][<span class="number">5</span>]</span><br><span class="line"> <span class="comment">// ä¸€ä¸ªäºŒè¡Œäº”åˆ—çš„æ•°ç»„</span></span><br></pre></td></tr></table></figure>


<h3 id="Arrays-ç±»"><a href="#Arrays-ç±»" class="headerlink" title="Arrays ç±»"></a>Arrays ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.sun.scenario.effect.impl.sw.sse.SSEBlend_SRC_OUTPeer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo06</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] a = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">9090</span>, <span class="number">32132</span>, <span class="number">543</span>, <span class="number">21</span>, <span class="number">3</span>, <span class="number">23</span>&#125;;</span><br><span class="line"><span class="comment">//        System.out.println(a);</span></span><br><span class="line">        <span class="comment">// ä¸å»ºè®®é‡å¤é€ è½®å­</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å°æ•°ç»„å…ƒç´ Arrays.toString(a)</span></span><br><span class="line">        System.out.println(Arrays.toString(a));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ•°ç»„è¿›è¡Œæ’åº</span></span><br><span class="line"></span><br><span class="line">        Arrays.sort(a);</span><br><span class="line">        System.out.println(Arrays.toString(a));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// fill å¡«å……</span></span><br><span class="line">        Arrays.fill(a,<span class="number">0</span>);</span><br><span class="line">        System.out.println(Arrays.toString(a));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo07</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] a = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">22</span>, <span class="number">34</span>, <span class="number">56</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span>[] sort = sort(a);</span><br><span class="line">        System.out.println(Arrays.toString(sort));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†’æ³¡æ’åº</span></span><br><span class="line">    <span class="comment">// 1. æ¯”è¾ƒæ•°ç»„ä¸­ä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ•°æ¯”ç¬¬äºŒä¸ªæ•°å¤§ï¼Œæˆ‘ä»¬å°±äº¤æ¢ä»–ä»¬çš„ä½ç½®</span></span><br><span class="line">    <span class="comment">// 2. æ¯ä¸€æ¬¡æ¯”è¾ƒï¼Œéƒ½ä¼šäº§ç”Ÿå‡ºä¸€ä¸ªæœ€å¤§æˆ–è€…æœ€å°çš„æ•°å­—</span></span><br><span class="line">    <span class="comment">// 3. ä¸‹ä¸€æ¬¡å¯ä»¥å°‘ä¸€æ¬¡æ’åº</span></span><br><span class="line">    <span class="comment">// 4. ä»¥æ­¤å¾ªç¯ï¼Œç›´åˆ°ç»“æŸ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] sort(<span class="keyword">int</span>[] array ) &#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> flag = <span class="keyword">false</span>; <span class="comment">//é€šè¿‡flagæ ‡è¯†ç¬¦æ¥å‡å°‘æ²¡æœ‰æ„ä¹‰æ¯”è¾ƒ</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; array.length-<span class="number">1</span>-i; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (array[j + <span class="number">1</span>] &lt; array[j]) &#123;</span><br><span class="line">                    tmp = array[j];</span><br><span class="line">                    array[j] = array[j + <span class="number">1</span>];</span><br><span class="line">                    array[j + <span class="number">1</span>] = tmp;</span><br><span class="line">                    flag = <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (flag == <span class="keyword">false</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çœ‹åˆ°åµŒå¥—å¾ªç¯ï¼Œåº”è¯¥ç«‹é©¬å°±å¯ä»¥å¾—å‡ºè¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n2)</p>
<h3 id="ç¨€ç–æ•°ç»„"><a href="#ç¨€ç–æ•°ç»„" class="headerlink" title="ç¨€ç–æ•°ç»„"></a>ç¨€ç–æ•°ç»„</h3><ul>
<li>å½“ä¸€ä¸ªæ•°ç»„å¤§éƒ¨åˆ†çš„å…ƒç´ ä¸º0ï¼Œæˆ–è€…ä¸ºåŒä¸€å€¼çš„æ•°ç»„æ—¶å€™ï¼Œå¯ä»¥ç”¨ç¨€ç–æ•°ç»„æ¥ä¿å­˜è¯¥æ•°ç»„</li>
<li>ç¨€ç–æ•°ç»„çš„å¤„ç†æ–¹å¼ä¸€èˆ¬æ˜¯ï¼š<ul>
<li>è®°å½•æ•°ç»„ä¸€å…±æœ‰å‡ èˆªå‡ åˆ—ï¼Œæœ‰å¤šå°‘ä¸ªä¸åŒçš„å€¼</li>
<li>æŠŠå…·æœ‰ä¸åŒå€¼çš„å…ƒç´ å’Œè¡Œåˆ—åŠå€¼è®°å½•åœ¨ä¸€ä¸ªå°è§„æ¨¡çš„æ•°ç»„ä¸­ï¼Œä»è€Œç¼©å°ç¨‹åºçš„è§„æ¨¡</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuxuan.array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDemo08</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„11*11ï¼Œ 0 æ²¡æœ‰æ£‹å­ï¼Œ 1ï¼šé»‘æ£‹ï¼Œ2ï¼šç™½æ£‹</span></span><br><span class="line">        <span class="keyword">int</span>[][] array1 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">11</span>][<span class="number">11</span>];</span><br><span class="line">        array1[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">        array1[<span class="number">2</span>][<span class="number">3</span>] = <span class="number">2</span>;</span><br><span class="line"><span class="comment">//        è¾“å‡ºåŸå§‹æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] ints : array1) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> anInt : ints) &#123;</span><br><span class="line">                System.out.print(anInt + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è½¬æ¢ä¸ºç¨€ç–æ•°ç»„</span></span><br><span class="line">        <span class="comment">// è·å–æœ‰æ•ˆå€¼çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">11</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (array1[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                    sum++;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;æœ‰æ•ˆå€¼çš„ä¸ªæ•°æ˜¯ï¼š&quot;</span> + sum);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. åˆ›å»ºä¸€ä¸ªç¨€ç–æ•°ç»„</span></span><br><span class="line">        <span class="keyword">int</span>[][] array2 = <span class="keyword">new</span> <span class="keyword">int</span>[sum + <span class="number">1</span>][<span class="number">3</span>];</span><br><span class="line">        array2[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">11</span>;</span><br><span class="line">        array2[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">11</span>;</span><br><span class="line">        array2[<span class="number">0</span>][<span class="number">2</span>] = sum;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éå†äºŒç»´æ•°ç»„ï¼Œå°†éé›¶çš„å€¼ï¼Œå­˜æ”¾åœ¨ç¨€ç–æ•°ç»„ä¸­</span></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array1.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; array1[i].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (array1[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                    count++;</span><br><span class="line">                    array2[count][<span class="number">0</span>] = i;</span><br><span class="line">                    array2[count][<span class="number">1</span>] = j;</span><br><span class="line">                    array2[count][<span class="number">2</span>] = array1[i][j];</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;==========&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¾“å‡ºç¨€ç–æ•°ç»„&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array2.length; i++) &#123;</span><br><span class="line">            System.out.println(array2[i][<span class="number">0</span>] + <span class="string">&quot;\t&quot;</span> +</span><br><span class="line">                    array2[i][<span class="number">1</span>] + <span class="string">&quot;\t&quot;</span> +</span><br><span class="line">                    array2[i][<span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;==========&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿˜åŸ&quot;</span>);</span><br><span class="line">        <span class="comment">// 1. è¯»å–ç¨€ç–æ•°ç»„</span></span><br><span class="line">        <span class="keyword">int</span> [][] array3 = <span class="keyword">new</span> <span class="keyword">int</span>[array2[<span class="number">0</span>][<span class="number">0</span>]][array2[<span class="number">0</span>][<span class="number">1</span>]];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. ç»™å…¶ä¸­çš„å…ƒç´ è¿˜åŸå®ƒçš„å€¼</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; array2.length; i++) &#123;</span><br><span class="line">            array3[array2[i][<span class="number">0</span>]][array2[i][<span class="number">1</span>]] = array2[i][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3. æ‰“å°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] ints : array3) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> anInt : ints) &#123;</span><br><span class="line">                System.out.print(anInt + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><ul>
<li>é¢å‘è¿‡ç¨‹æ€æƒ³ ï¼ˆçº¿æ€§æ€ç»´ï¼‰<ul>
<li>æ­¥éª¤æ¸…æ™°ç®€å•ï¼Œç¬¬ä¸€æ­¥åšä»€ä¹ˆç¬¬äºŒéƒ¨åšä»€ä¹ˆ</li>
<li>é¢å¯¹è¿‡ç¨‹é€‚åˆå¤„ç†ä¸€äº›è¾ƒä¸ºç®€å•çš„é—®é¢˜</li>
</ul>
</li>
<li>é¢å‘å¯¹è±¡æ€æƒ³<ul>
<li>ç‰©ä»¥ç±»èšï¼Œåˆ†ç±»çš„æ€ç»´æ¨¡å¼ï¼Œæ€è€ƒé—®é¢˜é¦–å…ˆä¼šè§£å†³é—®é¢˜éœ€è¦å“ªäº›åˆ†ç±»ï¼Œç„¶åå¯¹è¿™äº›ç±»è¿›è¡Œå•ç‹¬æ€è€ƒï¼Œæœ€åæ‰å¯¹æŸä¸ªåˆ†ç±»ä¸‹çš„ç»†èŠ‚è¿›è¡Œé¢å‘è¿‡ç¨‹çš„æ€ç´¢</li>
<li>é¢å‘å¯¹è±¡é€‚åˆå¤„ç†å¤æ‚çš„é—®é¢˜ï¼Œé€‚åˆå¤„ç†éœ€è¦å¤šäººåä½œçš„é—®é¢˜</li>
<li>å±æ€§+æ–¹æ³•å°±æ˜¯ä¸€ä¸ªç±»</li>
</ul>
</li>
<li>å¯¹äºæè¿°å¤æ‚çš„äº‹ç‰©ï¼Œä¸ºäº†ä»å®è§‚ä¸Šè¿›è¡ŒæŠŠæ¡ï¼Œä»æ•´ä½“ä¸Šè¿›è¡Œåˆç†åˆ†æï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ€è·¯æ¥åˆ†ææ•´ä¸ªç³»ç»Ÿã€‚ä½†æ˜¯ï¼Œå…·ä½“åˆ°å›´è§‚æ“ä½œï¼Œèè‹’éœ€è¦ä½¿ç”¨é¢å‘è¿‡ç¨‹çš„æ€è·¯æ¥è¿›è¡Œå¤„ç†</li>
</ul>
<p>OOPæœ¬è´¨ï¼š==ä»¥ç±»çš„æ–¹å¼ç»„ç»‡ä»£ç ï¼Œä»¥å¯¹è±¡çš„ç»„ç»‡ï¼ˆå°è£…ï¼‰æ•°æ®==</p>
<p>ä¸‰å¤§ç‰¹æ€§ï¼š</p>
<ul>
<li>å°è£…</li>
<li>ç»§æ‰¿</li>
<li>å¤šæ€</li>
</ul>
<p>ä»è®¤è¯†è§’åº¦è€ƒè™‘æ˜¯å…ˆæœ‰å¯¹è±¡ï¼Œåæœ‰ç±»</p>
<p>å¯¹è±¡ï¼Œæ˜¯å…·ä½“çš„äº‹ç‰©</p>
<p>ç±»ï¼Œæ˜¯æŠ½è±¡çš„ï¼Œæ˜¯å¯¹å¯¹è±¡çš„æŠ½è±¡</p>
<p><strong>ç±»æ˜¯ä¸€ç§æŠ½è±¡çš„æ•°æ®ç±»å‹ï¼Œå®ƒæ˜¯å¯¹æŸä¸€ç±»é£Ÿç‰©çš„æ•´ä½“æè¿°/å®šä¹‰ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ä»£è¡¨æŸä¸€ä¸ªå…·ä½“çš„äº‹ç‰©</strong></p>
<ul>
<li>åŠ¨ç‰©ï¼Œæ¤ç‰©ï¼Œæ‰‹æœºï¼Œç”µè„‘</li>
<li>Person ç±»ï¼ŒPetç±»ï¼ŒCarç±»ï¼Œè¿™äº›ç±»æ˜¯ç”¨æ¥æè¿°/å®šä¹‰æŸä¸€ç±»å…·ä½“çš„äº‹ç‰©åº”è¯¥å…·å¤‡çš„ç‰¹ç‚¹å’Œè¡Œä¸º</li>
</ul>
<p><strong>å¯¹è±¡æ˜¯æŠ½è±¡æ¦‚å¿µçš„å…·ä½“å®ä¾‹</strong></p>
<ul>
<li>å¼ ä¸‰æ˜¯äººçš„ä¸€ä¸ªå…·ä½“å®ä¾‹ï¼Œå¼ ä¸‰å®¶é‡Œçš„æ—ºè´¢å°±æ˜¯ç‹—çš„ä¸€ä¸ªå…·ä½“å®ä¾‹</li>
<li>èƒ½ç‹—ä½“ç°å‡ºç‰¹ç‚¹ï¼Œå±•ç°å‡ºåŠŸèƒ½çš„æ˜¯å…·ä½“çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µ</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é™æ€æ–¹æ³• static</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Student.say();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éé™æ€æ–¹æ³•</span></span><br><span class="line">    <span class="comment">// å®ä¾‹åŒ–è¿™ä¸ªç±» new</span></span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        student.say02();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// static æ˜¯å’Œç±»ä¸€èµ·åŠ è½½çš„</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">a</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//        b(); //ä¼šæŠ¥é”™ ï¼ˆä½†å¦‚æœä¸¤ä¸ªmethodéƒ½æ˜¯staticä¸ä¼šï¼Œéƒ½ä¸æ˜¯ï¼Œä¹Ÿä¸ä¼šï¼›åªæœ‰ä¸€ä¸ªæ˜¯å¦ä¸€ä¸ªä¸æ˜¯æ‰å‡ºé”™ï¼‰</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç±»å®ä¾‹åŒ–ä¹‹åæ‰å­˜åœ¨çš„</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">b</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo01;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­¦ç”Ÿç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­¦ç”Ÿè¯´è¯äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">say02</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­¦ç”Ÿè¯´è¯äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å®é™…å‚æ•°å’Œå½¢å¼å‚æ•°çš„å€¼éœ€è¦ä¿æŒä¸€è‡´</span></span><br><span class="line">        <span class="keyword">int</span> add = Demo03.add(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">        System.out.println(add);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>  <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å€¼ä¼ é€’"><a href="#å€¼ä¼ é€’" class="headerlink" title="å€¼ä¼ é€’"></a>å€¼ä¼ é€’</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo01;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å€¼ä¼ é€’</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line">        System.out.println(a);</span><br><span class="line">        Demo04.change(a);</span><br><span class="line">        System.out.println(a);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿”å›å€¼æ˜¯ç©º</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">        a = <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å¼•ç”¨ä¼ é€’"><a href="#å¼•ç”¨ä¼ é€’" class="headerlink" title="å¼•ç”¨ä¼ é€’"></a>å¼•ç”¨ä¼ é€’</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo01;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•ç”¨ä¼ é€’ï¼šå¯¹è±¡ï¼Œ æœ¬è´¨è¿˜æ˜¯å€¼ä¼ é€’</span></span><br><span class="line"><span class="comment">// å¼•ç”¨ä¼ é€’æ˜¯ä¼ é€’çš„ç±»çš„åœ°å€</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¹è±¡ï¼Œå†…å­˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo05</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        System.out.println(person.name);</span><br><span class="line"></span><br><span class="line">        Demo05.change(person);</span><br><span class="line">        System.out.println(person.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(Person person)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// person æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼šæŒ‡å‘çš„æ˜¯---&gt; Person person = new Person() è¿™æ˜¯ä¸€ä¸ªå…·ä½“çš„äººï¼Œå±æ€§å¯ä»¥æ”¹å˜</span></span><br><span class="line">        person.name = <span class="string">&quot;yuxuan&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰äº†ä¸€ä¸ªPerson ç±»ï¼Œæœ‰ä¸€ä¸ªå±æ€§ï¼šname</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name; <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="åˆ›å»ºä¸åˆå§‹åŒ–å¯¹è±¡"><a href="#åˆ›å»ºä¸åˆå§‹åŒ–å¯¹è±¡" class="headerlink" title="åˆ›å»ºä¸åˆå§‹åŒ–å¯¹è±¡"></a>åˆ›å»ºä¸åˆå§‹åŒ–å¯¹è±¡</h3><ul>
<li><strong>ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå¯¹è±¡</strong></li>
<li>ä½¿ç”¨newå…³é”®å­—åˆ›å»ºçš„æ—¶å€™ï¼Œé™¤äº†åˆ†é…å†…å­˜ç©ºé—´ä¹‹å¤–ï¼Œè¿˜ä¼šç»™åˆ›å»ºå¥½çš„å¯¹è±¡è¿›è¡Œé»˜è®¤çš„åˆå§‹åŒ–ä»¥åŠç±»ä¸­æ„é€ å™¨çš„è°ƒç”¨</li>
<li>ç±»ä¸­æ„é€ å™¨ä¹Ÿè¢«ç§°ä¸ºæ„é€ æ–¹æ³•ï¼Œå®åœ¨è¿›è¡Œç©¿ä»¶å¯¹è±¡çš„æ—¶å€™å¿…é¡»è¦è°ƒç”¨çš„ã€‚å¹¶ä¸”æ„é€ å™¨æœ‰ä¸€ä¸‹å‡ ä¸ªç‰¹ç‚¹<ul>
<li>å¿…é¡»å’Œç±»çš„åå­—ç›¸åŒ</li>
<li>å¿…é¡»æ²¡æœ‰è¿”å›ç±»å‹ï¼Œä¹Ÿä¸èƒ½å†™void</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo02;</span><br><span class="line"><span class="comment">// ä¸€ä¸ªé¡¹ç›®æœ€å¥½åªæœ‰ä¸€ä¸ªmainæ–¹æ³•ï¼Œæµ‹è¯•ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ç±»æŠ½è±¡çš„ï¼Œéœ€è¦å®ä¾‹åŒ–</span></span><br><span class="line">        <span class="comment">// ç±»å®ä¾‹åŒ–åä¼šè¿”å›ä¸€ä¸ªè‡ªå·±çš„å¯¹è±¡ï¼</span></span><br><span class="line">        <span class="comment">// student å¯¹è±¡å°±æ˜¯ä¸€ä¸ªStudentç±»çš„å…·ä½“å®ä¾‹ï¼</span></span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        Student xiaoming = <span class="keyword">new</span> Student();</span><br><span class="line"></span><br><span class="line">        System.out.println(xiaoming.age);</span><br><span class="line">        System.out.println(xiaoming.name);</span><br><span class="line"></span><br><span class="line">        xiaoming.name = <span class="string">&quot;å°æ˜&quot;</span>;</span><br><span class="line">        xiaoming.age = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        System.out.println(xiaoming.age);</span><br><span class="line">        System.out.println(xiaoming.name);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æ„é€ å™¨"><a href="#æ„é€ å™¨" class="headerlink" title="æ„é€ å™¨"></a>æ„é€ å™¨</h3><p><strong>æ„é€ å™¨</strong><br>    1. å’Œç±»åç›¸åŒ<br>    2. æ²¡æœ‰è¿”å›å€¼<br><strong>ä½œç”¨</strong><br>    1. new æœ¬è´¨åœ¨è°ƒç”¨æ„é€ æ–¹æ³•<br>    2. åˆå§‹åŒ–å¯¹è±¡çš„å€¼<br><strong>æ³¨æ„ç‚¹ï¼š</strong><br>    1. å®šä¹‰æœ‰å‚æ„é€ åï¼Œå¦‚æœæƒ³ä½¿ç”¨æ— å‚æ„é€ ï¼Œæ˜¾ç¤ºçš„å®šä¹‰ä¸€ä¸ªæ— å‚çš„æ„é€ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä¸€ä¸ªç±»å³ä½¿ä»€ä¹ˆéƒ½ä¸å†™ï¼Œä¹Ÿä¼šå­˜åœ¨ä¸€ä¸ªæ–¹æ³•</span></span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºçš„å®šä¹‰ä¸€ä¸ªæ„é€ å™¨</span></span><br><span class="line"></span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®ä¾‹åŒ–åˆå§‹å€¼</span></span><br><span class="line">    <span class="comment">// 1. ä½¿ç”¨newå…³é”®å­—ï¼Œå¿…é¡»æ˜¯åœ¨è°ƒç”¨æ„é€ å™¨</span></span><br><span class="line">    <span class="comment">// 2. ç”¨æ¥åˆå§‹åŒ–å€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//        this.name = &quot;yuxuan&quot;;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ‰å‚æ„é€ :ä¸€æ—¦å®šä¹‰äº†æœ‰å‚æ„é€ ï¼Œæ— å‚å°±å¿…é¡»æ˜¾ç¤ºå®šä¹‰</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//control + N è‡ªåŠ¨ç”Ÿæˆæ„é€ å™¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//        Person person = new Person();</span></span><br><span class="line"><span class="comment">        Person person = new Person(&quot;yuxuan&quot;);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        System.out.println(person.name);</span></span><br><span class="line"><span class="comment"> æ„é€ å™¨ï¼š</span></span><br><span class="line"><span class="comment"> 1ã€‚ å’Œç±»åç›¸åŒ</span></span><br><span class="line"><span class="comment"> 2ã€‚ æ²¡æœ‰è¿”å›å€¼</span></span><br><span class="line"><span class="comment"> ä½œç”¨</span></span><br><span class="line"><span class="comment"> 1ã€‚ new æœ¬è´¨åœ¨è°ƒç”¨æ„é€ æ–¹æ³•</span></span><br><span class="line"><span class="comment"> 2ã€‚ åˆå§‹åŒ–å¯¹è±¡çš„å€¼</span></span><br><span class="line"><span class="comment"> æ³¨æ„ç‚¹ï¼š</span></span><br><span class="line"><span class="comment"> 1ã€‚ å®šä¹‰æœ‰å‚æ„é€ åï¼Œå¦‚æœæƒ³ä½¿ç”¨æ— å‚æ„é€ ï¼Œæ˜¾ç¤ºçš„å®šä¹‰ä¸€ä¸ªæ— å‚çš„æ„é€ </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> alt+ N</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> this. = å‚æ•°ä¼ è¿›æ¥çš„å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>


<h3 id="åˆ›å»ºå¯¹è±¡å†…å­˜ä¸åˆ†æ"><a href="#åˆ›å»ºå¯¹è±¡å†…å­˜ä¸åˆ†æ" class="headerlink" title="åˆ›å»ºå¯¹è±¡å†…å­˜ä¸åˆ†æ"></a>åˆ›å»ºå¯¹è±¡å†…å­˜ä¸åˆ†æ</h3><p>å †ï¼šå­˜å‚¨å¯¹è±¡å’Œæ•°ç»„å…ƒç´ ï¼Œæ ˆï¼šå­˜å‚¨ç³»ç»Ÿè°ƒç”¨å˜é‡ï¼ˆä¾‹å¦‚å¼•ç”¨ï¼‰</p>
<p>å †ï¼šå­˜æ”¾newçš„æ•°ç»„å’Œå¯¹è±¡ï¼Œæ ˆï¼šå­˜æ”¾åŸºæœ¬å˜é‡ç±»å‹å’Œå¼•ç”¨å˜é‡</p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/image-20210214170938226.us87tdkrnv4.png" alt="image-20210214170938226"></p>
<h3 id="ç±»ä¸å¯¹è±¡çš„å°ç»“"><a href="#ç±»ä¸å¯¹è±¡çš„å°ç»“" class="headerlink" title="ç±»ä¸å¯¹è±¡çš„å°ç»“"></a>ç±»ä¸å¯¹è±¡çš„å°ç»“</h3><ol>
<li>ç±»ä¸å¯¹è±¡<ol>
<li>ç±»æ˜¯ä¸€ä¸ªæ¨¡ç‰ˆï¼Œå¯¹è±¡æ˜¯ä¸€ä¸ªå…·ä½“çš„å®ä¾‹</li>
</ol>
</li>
<li>æ–¹æ³•<ol>
<li>å®šä¹‰ï¼Œè°ƒç”¨</li>
</ol>
</li>
<li>å¯¹è±¡çš„å¼•ç”¨<ol>
<li>å¼•ç”¨ç±»å‹ï¼šå…«å¤§åŸºæœ¬ç±»å‹ï¼ˆ8ï¼‰</li>
<li>å¯¹è±¡æ˜¯é€šè¿‡å¼•ç”¨æ¥æ“ä½œçš„ï¼šæ ˆâ€“ã€‹å †</li>
</ol>
</li>
<li>å±æ€§ï¼šå­—æ®µfield æˆå‘˜å˜é‡<ol>
<li>é»˜è®¤åˆå§‹åŒ–<ol>
<li>æ•°å­—ï¼š 0ï¼Œ 0.0</li>
<li>charï¼š u0000</li>
<li>booleanï¼šfalse</li>
<li>å¼•ç”¨ï¼š null</li>
<li>ä¿®é¥°ç¬¦ å±æ€§ç±»å‹ å±æ€§å = å±æ€§å€¼</li>
</ol>
</li>
</ol>
</li>
<li>å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨<ol>
<li><ul>
<li>å¿…é¡»ä½¿ç”¨new å…³é”®å­—åˆ›å»ºå¯¹è±¡ æ„é€ å™¨ Person Yuxuan = new Person</li>
<li>å¯¹è±¡çš„å±æ€§ï¼šyuxuan.name</li>
<li>å¯¹è±¡çš„æ–¹æ³•ï¼šyuxuan.sleep()</li>
</ul>
</li>
</ol>
</li>
<li>ç±»<ol>
<li>é™æ€çš„å±æ€§ å±æ€§</li>
<li>åŠ¨æ€çš„è¡Œä¸º æ–¹æ³•</li>
</ol>
</li>
<li>å°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€</li>
</ol>
<h3 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h3><p><code>é«˜å†…èšï¼Œä½è€¦åˆ</code>:</p>
<p>é«˜å†…èšï¼šç±»çš„å†…éƒ¨æ•°æ®æ“ä½œç»†èŠ‚è‡ªå·±å®Œæˆï¼Œä¸å…è®¸å¤–éƒ¨å¹²æ¶‰</p>
<p>ä½è€¦åˆï¼šå°½é‡æš´éœ²å°‘é‡çš„æ–¹æ³•ç»™å¤–éƒ¨ä½¿ç”¨</p>
<p><code>å°è£…</code>ï¼ˆæ•°æ®çš„éšè—ï¼‰</p>
<ul>
<li>é€šå¸¸ï¼Œåº”è¯¥ç¦æ­¢è®¿é—®ä¸€ä¸ªå¯¹è±¡ä¸­æ•°æ®çš„å®é™…è¡¨ç¤ºï¼Œè€Œåº”è¯¥é€šè¿‡æ“ä½œæ¥å£æ¥è¿›è¡Œè®¿é—®ï¼Œè¿™ç§°ä¸ºä¿¡æ¯çš„éšè—</li>
</ul>
<p>==å±æ€§ç§æœ‰ï¼Œget/set==</p>
<p><strong>å¥½å¤„</strong>ï¼š</p>
<ol>
<li>æé«˜ç¨‹åºçš„å®‰å…¨æ€§ï¼Œä¿æŠ¤æ•°æ®</li>
<li>éšè—ä»£ç çš„å®ç°ç»†èŠ‚</li>
<li>ç»Ÿä¸€æ¥å£</li>
<li>æé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§</li>
</ol>
<h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>extends</p>
<ul>
<li>ç»§æ‰¿æ˜¯ç±»å’Œç±»ä¹‹é—´çš„å…³ç³»</li>
<li>ç»§æ‰¿å…³ç³»çš„ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªæ˜¯çˆ¶ç±»ï¼Œä¸€ä¸ªæ˜¯å­ç±»</li>
<li>åœ¨Javaä¸­ï¼Œæ‰€æœ‰çš„ç±»ï¼Œéƒ½é»˜è®¤ç›´æ¥æˆ–è€…é—´æ¥ç»§æ‰¿Objectç±»</li>
</ul>
<p>control+h å¯ä»¥çœ‹ç»“æ„</p>
<p><strong>javaç±»ä¸­åªæœ‰å•ç»§æ‰¿ï¼Œæ²¡æœ‰å¤šç»§æ‰¿</strong></p>
<p>ç§æœ‰çš„å¯ä»¥è¢«ç»§æ‰¿ï¼Œä½†æ‹’ç»è¢«è®¿é—®ï¼ˆæ— æ³•ç»§æ‰¿ï¼‰</p>
<p>è°ƒç”¨å¼—é›·å¾·æ„é€ å™¨ï¼Œå¿…é¡»è¦åœ¨å­ç±»çš„ç¬¬ä¸€è¡Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo05;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­ç±»ç»§æ‰¿äº†çˆ¶ç±»ï¼Œå°±ä¼šæ‹¥æœ‰çˆ¶ç±»çš„å…¨éƒ¨æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name = <span class="string">&quot;dacy&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        System.out.println(name);</span><br><span class="line">        System.out.println(<span class="keyword">this</span>.name);</span><br><span class="line">        System.out.println(<span class="keyword">super</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>super</strong> <strong>æ³¨æ„ç‚¹</strong></p>
<ol>
<li>superè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œå¿…é¡»åœ¨ç‹—ä»”æ–¹æ³•çš„ç¬¬ä¸€ä¸ª</li>
<li>super å¿…é¡»åªèƒ½å‡ºç°åœ¨å­ç±»çš„æ–¹æ³•æˆ–è€…æ„é€ æ–¹æ³•ä¸­ï¼</li>
<li>super å’Œthisä¸èƒ½åŒæ—¶è°ƒç”¨æ„é€ æ–¹å¼</li>
</ol>
<p><strong>VS this:</strong></p>
<ul>
<li><p>ä»£è¡¨çš„å¯¹è±¡ä¸åŒï¼š</p>
<p>this: æœ¬èº«è°ƒç”¨è€…çš„è¿™ä¸ªå¯¹è±¡</p>
<p>superï¼šä»£è¡¨çˆ¶ç±»å¯¹è±¡çš„åº”ç”¨</p>
</li>
<li><p>å‰æ</p>
<p>thisï¼šæ²¡æœ‰ç»§æ‰¿ä¹Ÿå¯ä»¥ä½¿ç”¨</p>
<p>superï¼šåªèƒ½åœ¨ç»§æ‰¿æ¡ä»¶ä¸‹æ‰å¯ä»¥ä½¿ç”¨</p>
</li>
<li><p>æ„é€ æ–¹æ³•</p>
<p>this() æœ¬ç±»çš„æ„é€ </p>
<p>super() :çˆ¶ç±»çš„æ„é€ </p>
</li>
</ul>
<h3 id="é‡å†™"><a href="#é‡å†™" class="headerlink" title="é‡å†™"></a>é‡å†™</h3><p>éœ€è¦æœ‰ç»§æ‰¿å…³ç³»ï¼Œå­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼</p>
<ol>
<li>æ–¹æ³•åç§°å¿…é¡»ç›¸åŒ</li>
<li>å‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒ</li>
<li>ä¿®é¥°ç¬¦ï¼šèŒƒå›´å¯ä»¥æ‰©å¤§ï¼špublic&gt;Protected&gt;default&gt;private</li>
<li>æŠ›å‡ºçš„å¼‚å¸¸:èŒƒå›´ï¼Œå¯ä»¥è¢«ç¼©å°ï¼Œä½†ä¸èƒ½æ‰©å¤§ï¼šClassNotFoundException â€“&gt; Exception</li>
</ol>
<p>é‡å†™ï¼Œå­ç±»çš„æ–¹æ³•å’Œçˆ¶ç±»çš„å¿…é¡»è¦ä¸€è‡´ï¼šæ–¹æ³•ä½“ä¸åŒ</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦é‡å†™ï¼š</p>
<ol>
<li>çˆ¶ç±»çš„åŠŸèƒ½ï¼Œå­ç±»ä¸ä¸€å®šéœ€è¦ï¼Œæˆ–è€…ä¸ä¸€å®šæ»¡è¶³ï¼</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo05;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ–¹æ³•çš„è°ƒç”¨åªå’Œå·¦è¾¹ï¼Œå®šä¹‰çš„æ•°æ®ç±»å‹æœ‰å…³</span></span><br><span class="line">        <span class="comment">// é™æ€æ–¹æ³•ï¼š æ–¹æ³•çš„è°ƒç”¨åªå’Œå·¦è¾¹ï¼Œå®šä¹‰çš„æ•°æ®ç±»å‹æœ‰å…³</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// éé™æ€ï¼šé‡å†™</span></span><br><span class="line">        A a = <span class="keyword">new</span> A();</span><br><span class="line">        a.test();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// çˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘äº†å­ç±»</span></span><br><span class="line">        B b = <span class="keyword">new</span> A(); <span class="comment">// å­ç±»é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line">        b.test();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h3><ul>
<li>åŠ¨æ€ç¼–è¯‘ï¼šç±»å‹ï¼šå¯æ‰©å±•æ€§æ›´å¼º</li>
<li>ç»Ÿä¸€æ–¹æ³•å¯ä»¥æ ¹æ®å‘é€å¯¹è±¡çš„ä¸åŒè€Œé‡‡å–ä¸åŒçš„è¡Œä¸ºæ–¹å¼</li>
<li>ä¸€ä¸ªå¯¹è±¡çš„å®é™…ç±»å‹æ˜¯ç¡®å®šçš„ï¼Œä½†å¯ä»¥æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ç±»å‹æœ‰å¾ˆå¤šï¼ˆçˆ¶ç±»ï¼Œæœ‰å…³ç³»çš„ç±»ï¼‰</li>
</ul>
<p><strong>å¤šæ€å­˜åœ¨çš„æ¡ä»¶</strong></p>
<ol>
<li>æœ‰ç»§æ‰¿çš„å…³ç³»</li>
<li>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•</li>
<li>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡</li>
</ol>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ol>
<li>å¤šæ€æ˜¯æ–¹æ³•çš„å¤šæ€ï¼Œå±æ€§æ²¡æœ‰å¤šæ€</li>
<li>çˆ¶ç±»å’Œå­ç±»ï¼Œæœ‰è”ç³» ç±»å‹è½¬æ¢å¼‚å¸¸ï¼ClassCastException</li>
<li>å­˜åœ¨çš„æ¡ä»¶ï¼šç»§æ‰¿å…³ç³»ï¼Œæ–¹æ³•éœ€è¦é‡å†™ï¼Œçˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡<ol>
<li>static æ–¹æ³•ï¼Œå±äºç´¯ï¼Œå®ƒä¸å±äºå®ä¾‹</li>
<li>final å¸¸é‡</li>
<li>private æ–¹æ³•</li>
</ol>
</li>
</ol>
<p>instanceof ï¼ˆç±»å‹è½¬æ¢ï¼‰ å¼•ç”¨ç±»å‹ï¼Œåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹</p>
<ol>
<li>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡</li>
<li>æŠŠå­ç±»è½¬æ¢ä¸ºçˆ¶ç±»ï¼Œå‘ä¸Šè½¬å‹ï¼›å¯ä»¥ç›´æ¥è½¬è¿‡å»</li>
<li>æŠŠçˆ¶ç±»è½¬æ¢ä¸ºå­ç±»ï¼Œå‘ä¸‹è½¬å‹ï¼Œå¼ºåˆ¶è½¬æ¢</li>
<li>æ–¹ä¾¿æ–¹æ³•çš„è°ƒç”¨ï¼Œå‡å°‘é‡å¤çš„ä»£ç ï¼ç®€æ´</li>
<li>ï¼šæŠ½è±¡ï¼šå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo06;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä¸€ä¸ªå¯¹è±¡çš„å®é™…ç±»å‹æ˜¯ç¡®å®šçš„</span></span><br><span class="line">        <span class="comment">//new Student();</span></span><br><span class="line">        <span class="comment">// new Person();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯ä»¥æŒ‡å‘çš„å¼•ç”¨ç±»å‹å°±ä¸ç¡®å®šäº†ï¼šçˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘äº†å­ç±»</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Student èƒ½è°ƒç”¨çš„æ–¹æ³•éƒ½æ˜¯è‡ªå·±çš„æˆ–è€…ç»§æ‰¿çˆ¶ç±»çš„</span></span><br><span class="line">        Student s1 = <span class="keyword">new</span> Student();</span><br><span class="line">        <span class="comment">//Person çˆ¶ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½è°ƒç”¨å­ç±»ç‹¬æœ‰çš„æ–¹æ³•</span></span><br><span class="line">        Person s2 = <span class="keyword">new</span> Student();</span><br><span class="line">        Object s3 = <span class="keyword">new</span> Student();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯¹è±¡èƒ½æ‰§è¡Œå“ªäº›æ–¹æ³•ï¼Œä¸»è¦çœ‹å¯¹è±¡å·¦è¾¹çš„ç±»å‹ï¼Œå’Œå³è¾¹å…³ç³»ä¸å¤§</span></span><br><span class="line"></span><br><span class="line">        s2.run(); <span class="comment">// å­ç±»é‡å†™äº†çˆ¶äº²çš„æ–¹æ³•ã€‚æ‰§è¡Œå­ç±»çš„æ–¹æ³•</span></span><br><span class="line">        ((Student)s2).eat(); <span class="comment">//å­ç±»é‡å†™ç±»çˆ¶ç±»çš„æ–¹æ³•ï¼Œæ‰§è¡Œäº†å­ç±»çš„æ–¹æ³•</span></span><br><span class="line">        s1.run();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo06;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Object&gt;String</span></span><br><span class="line">        <span class="comment">//Obj&gt;Person&gt;Student</span></span><br><span class="line">        <span class="comment">//Obj&gt;Person&gt;Teacher</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//System.out.println(X instanceof Y); // èƒ½ä¸èƒ½ç¼–è¯‘é€šè¿‡ï¼åˆ¤æ–­Xå’ŒYæ˜¯å¦æœ‰çˆ¶å­å…³ç³»</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=================================&quot;</span>);</span><br><span class="line">        Object object = <span class="keyword">new</span> Student();</span><br><span class="line">        System.out.println(object <span class="keyword">instanceof</span> Student);</span><br><span class="line">        System.out.println(object <span class="keyword">instanceof</span> Person);</span><br><span class="line">        System.out.println(object <span class="keyword">instanceof</span> Object);</span><br><span class="line">        System.out.println(object <span class="keyword">instanceof</span> Teacher);</span><br><span class="line">        System.out.println(object <span class="keyword">instanceof</span> String);</span><br><span class="line">        System.out.println(<span class="string">&quot;=================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Person person = <span class="keyword">new</span> Student();</span><br><span class="line">        System.out.println(person <span class="keyword">instanceof</span> Student);</span><br><span class="line">        System.out.println(person <span class="keyword">instanceof</span> Object);</span><br><span class="line">        System.out.println(person <span class="keyword">instanceof</span> Teacher);</span><br><span class="line"><span class="comment">//        System.out.println(person instanceof String); ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        System.out.println(student <span class="keyword">instanceof</span> Student);</span><br><span class="line">        System.out.println(student <span class="keyword">instanceof</span> Object);</span><br><span class="line"><span class="comment">//        System.out.println(student instanceof Teacher);ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line"><span class="comment">//        System.out.println(student instanceof String); ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo06;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person obj = <span class="keyword">new</span> Student();</span><br><span class="line">        <span class="comment">//obj å°†è¿™ä¸ªå¯¹è±¡è½¬æ¢ä¸ºStudentç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Studentç±»å‹çš„æ–¹æ³•äº†</span></span><br><span class="line">        <span class="comment">// é«˜ &gt; ä½ è½¬éœ€è¦å¼ºåˆ¶è½¬æ¢</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//å­ç±»è½¬æ¢æˆçˆ¶ç±»ï¼Œå¯èƒ½ä¸¢å¤±è‡ªå·±æœ¬æ¥çš„ä¸€äº›æ–¹æ³•</span></span><br><span class="line">        Student student = (Student) obj;</span><br><span class="line">        student.go();</span><br><span class="line"></span><br><span class="line">        ((Student)obj).go(); <span class="comment">// æƒ³è¦ç”¨å­ç±»çš„æ–¹æ³•å°±ç›´æ¥å¼ºåˆ¶è½¬æ¢å°±è¡Œå•¦</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h3><p>ç±»åŠ è½½è¿‡ç¨‹ä¸­å°†é™æ€å˜é‡ï¼Œé™æ€æ–¹æ³•ï¼Œå¸¸é‡å­˜å…¥åˆ°æ–¹æ³•åŒº</p>
<p>é™æ€æ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡</p>
<p>Final åé¢æ–­å­ç»å­™</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo07;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="comment">//2 èµ‹åˆå§‹å€¼</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ä»£ç å—ï¼ˆåŒ¿åï¼‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ä»£ç å¿«&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1 </span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// é™æ€ä»£ç å—</span></span><br><span class="line">        System.out.println(<span class="string">&quot;é™æ€ä»£ç å—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ„é€ æ–¹æ³• &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        Person person2 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h3 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1. ä¸èƒ½newè¿™ä¸ªæŠ½è±¡ç±»ï¼Œåªèƒ½é å­ç±»å»å®ç°å®ƒï¼šçº¦æŸ</span></span><br><span class="line"><span class="comment">//2. æŠ½è±¡ç±»ä¸­å¯ä»¥å†™æ™®é€šçš„æ–¹æ³•ï½</span></span><br><span class="line"><span class="comment">//3. æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨æŠ½è±¡ç±»ä¸­ï½</span></span><br><span class="line"><span class="comment">// æŠ½è±¡çš„æŠ½è±¡ï¼šçº¦æŸ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å­˜åœ¨çš„æ„ä¹‰ï¼Œæé«˜å¼€å‘æ•ˆç‡</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.oop.demo08;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; abstract æŠ½è±¡ç±»ï¼šç±» extendsï¼š å•ç»§æ‰¿ ï½ æ¥å£å¯ä»¥å¤šç»§æ‰¿ æ’åº§</span><br><span class="line">public abstract class Action &#123;</span><br><span class="line">    &#x2F;&#x2F; çº¦æŸï½æœ‰äººå¸®æˆ‘å—å®ç°ï½</span><br><span class="line">    &#x2F;&#x2F; abstractï¼ŒæŠ½è±¡æ–¹æ³•ï¼Œåªæœ‰æ–¹æ³•åå­—ï¼Œæ²¡æœ‰æ–¹æ³•çš„å®ç°ï¼</span><br><span class="line">public abstract void doSomething();</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;1. ä¸èƒ½newè¿™ä¸ªæŠ½è±¡ç±»ï¼Œåªèƒ½é å­ç±»å»å®ç°å®ƒï¼šçº¦æŸ</span><br><span class="line">&#x2F;&#x2F;2. æŠ½è±¡ç±»ä¸­å¯ä»¥å†™æ™®é€šçš„æ–¹æ³•ï½</span><br><span class="line">&#x2F;&#x2F;3. æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨æŠ½è±¡ç±»ä¸­ï½</span><br><span class="line">&#x2F;&#x2F; æŠ½è±¡çš„æŠ½è±¡ï¼šçº¦æŸ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><p>æœ¬è´¨ï¼šå¥‘çº¦</p>
<p>æ¥å£ï¼šinterface</p>
<p>ä½œç”¨ï¼š</p>
<ol>
<li>çº¦æŸ</li>
<li>å®šä¹‰ä¸€äº›æ–¹æ³•ï¼Œè®©ä¸åŒçš„äººå®ç°</li>
<li>public abstract final</li>
<li>æ¥å£ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œæ¥å£ä¸­æ²¡æœ‰æ„é€ æ–¹æ³•ï½</li>
<li>implementså¯ä»¥å®ç°å¤šä¸ªæ¥å£</li>
<li>å¿…é¡»è¦é‡å†™æ¥å£ä¸­çš„æ–¹æ³•</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo09;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡ç±»ï¼š extends</span></span><br><span class="line"><span class="comment">// ç±»å¯ä»¥å®ç°æ¥å£ implement æ¥å£</span></span><br><span class="line"><span class="comment">// å®ç°äº†æ¥å£çš„ç±»ï¼Œå°±éœ€è¦é‡å†™æ¥å£ä¸­çš„æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤šç»§æ‰¿ï½åˆ©ç”¨æ¥å£å®ç°å¤šç»§æ‰¿ï½</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span>,<span class="title">TimeService</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">query</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">timer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo09;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡çš„æ€ç»´ Java</span></span><br><span class="line"><span class="comment">// interface æ˜¯å®šä¹‰çš„å…³é”®å­—ï¼Œæ¥å£éƒ½éœ€è¦æœ‰å®ç°çš„ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ¥å£ä¸­çš„æ‰€æœ‰å®šä¹‰å…¶å®éƒ½æ˜¯æŠ½è±¡çš„public</span></span><br><span class="line">    <span class="comment">//å¸¸é‡</span></span><br><span class="line"><span class="comment">//    public static int final AGE = 99;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">(String name)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">delete</span><span class="params">(String name)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(String name)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(String name)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å†…éƒ¨ç±»"><a href="#å†…éƒ¨ç±»" class="headerlink" title="å†…éƒ¨ç±»"></a>å†…éƒ¨ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id=<span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">out</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿™æ˜¯å¤–éƒ¨ç±»çš„æ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Inner</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">in</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¿™æ˜¯å†…éƒ¨ç±»çš„æ–¹æ³•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è·å¾—å¤–éƒ¨ç±»çš„ç§æœ‰å±æ€§ï½</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getID</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(id);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.oop.demo10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Outer outer = <span class="keyword">new</span> Outer();</span><br><span class="line">        <span class="comment">// é€šè¿‡è¿™ä¸ªå¤–éƒ¨ç±»æ¥å®ä¾‹åŒ–å†…éƒ¨ç±»</span></span><br><span class="line">        Outer.Inner inner = outer.<span class="function">new <span class="title">Inner</span><span class="params">()</span></span>;</span><br><span class="line">        inner.in();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªjavaç±»ä¸­å¯ä»¥æœ‰å¤šä¸ªclassç±»ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªpublic class</p>
<h3 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h3><p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/image-20210215111612243.5dlgkhhid0g.png" alt="image-20210215111612243"></p>
<p><img src="https://cdn.jsdelivr.net/gh/yuxuanwu17/image-hosting@master/image-20210215111941652.79xf5xr1emg0.png" alt="image-20210215111941652"></p>
<h3 id="å¼‚å¸¸çš„å¤„ç†æœºåˆ¶"><a href="#å¼‚å¸¸çš„å¤„ç†æœºåˆ¶" class="headerlink" title="å¼‚å¸¸çš„å¤„ç†æœºåˆ¶"></a>å¼‚å¸¸çš„å¤„ç†æœºåˆ¶</h3><p>æŠ›å‡º/æ•è·å¼‚å¸¸</p>
<p>Idea å¿«æ·é”® option+command+T</p>
<p>ä¸»åŠ¨è·‘å‡ºå¼‚å¸¸</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.oop.demo07.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> Test2().test(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> a ,<span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArithmeticException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>java protectedå…³é”®å­—ï¼š åŒåŒ…ä¸åŒçº§</p>
<ul>
<li>åŸºç±»çš„ protected æˆå‘˜æ˜¯åŒ…å†…å¯è§çš„ï¼Œå¹¶ä¸”å¯¹å­ç±»å¯è§ï¼›</li>
<li>è‹¥å­ç±»ä¸åŸºç±»ä¸åœ¨åŒä¸€åŒ…ä¸­ï¼Œé‚£ä¹ˆåœ¨å­ç±»ä¸­ï¼Œå­ç±»å®ä¾‹å¯ä»¥è®¿é—®å…¶ä»åŸºç±»ç»§æ‰¿è€Œæ¥çš„protectedæ–¹æ³•ï¼Œè€Œä¸èƒ½è®¿é—®åŸºç±»å®ä¾‹çš„protectedæ–¹æ³•</li>
</ul>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>tutorial</tag>
      </tags>
  </entry>
</search>
